"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[49901],{59225:(e,t,n)=>{n.d(t,{Z:()=>b});var o=n(80102),a=n(83117),s=n(94780),i=n(63961),r=n(67294),c=n(90948),l=n(28628),u=n(98216),d=n(1588),m=n(34867);function g(e){return(0,m.ZP)("MuiImageListItemBar",e)}(0,d.Z)("MuiImageListItemBar",["root","positionBottom","positionTop","positionBelow","titleWrap","titleWrapBottom","titleWrapTop","titleWrapBelow","titleWrapActionPosLeft","titleWrapActionPosRight","title","subtitle","actionIcon","actionIconActionPosLeft","actionIconActionPosRight"]);var h=n(85893);const p=["actionIcon","actionPosition","className","subtitle","title","position"],v=(0,c.ZP)("div",{name:"MuiImageListItemBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,u.Z)(n.position)}`]]}})((({theme:e,ownerState:t})=>(0,a.Z)({position:"absolute",left:0,right:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},"bottom"===t.position&&{bottom:0},"top"===t.position&&{top:0},"below"===t.position&&{position:"relative",background:"transparent",alignItems:"normal"}))),j=(0,c.ZP)("div",{name:"MuiImageListItemBar",slot:"TitleWrap",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.titleWrap,t[`titleWrap${(0,u.Z)(n.position)}`],n.actionIcon&&t[`titleWrapActionPos${(0,u.Z)(n.actionPosition)}`]]}})((({theme:e,ownerState:t})=>(0,a.Z)({flexGrow:1,padding:"12px 16px",color:(e.vars||e).palette.common.white,overflow:"hidden"},"below"===t.position&&{padding:"6px 0 12px",color:"inherit"},t.actionIcon&&"left"===t.actionPosition&&{paddingLeft:0},t.actionIcon&&"right"===t.actionPosition&&{paddingRight:0}))),Z=(0,c.ZP)("div",{name:"MuiImageListItemBar",slot:"Title",overridesResolver:(e,t)=>t.title})((({theme:e})=>({fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}))),f=(0,c.ZP)("div",{name:"MuiImageListItemBar",slot:"Subtitle",overridesResolver:(e,t)=>t.subtitle})((({theme:e})=>({fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}))),x=(0,c.ZP)("div",{name:"MuiImageListItemBar",slot:"ActionIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.actionIcon,t[`actionIconActionPos${(0,u.Z)(n.actionPosition)}`]]}})((({ownerState:e})=>(0,a.Z)({},"left"===e.actionPosition&&{order:-1}))),b=r.forwardRef((function(e,t){const n=(0,l.i)({props:e,name:"MuiImageListItemBar"}),{actionIcon:r,actionPosition:c="right",className:d,subtitle:m,title:b,position:w="bottom"}=n,C=(0,o.Z)(n,p),I=(0,a.Z)({},n,{position:w,actionPosition:c}),P=(e=>{const{classes:t,position:n,actionIcon:o,actionPosition:a}=e,i={root:["root",`position${(0,u.Z)(n)}`],titleWrap:["titleWrap",`titleWrap${(0,u.Z)(n)}`,o&&`titleWrapActionPos${(0,u.Z)(a)}`],title:["title"],subtitle:["subtitle"],actionIcon:["actionIcon",`actionIconActionPos${(0,u.Z)(a)}`]};return(0,s.Z)(i,g,t)})(I);return(0,h.jsxs)(v,(0,a.Z)({ownerState:I,className:(0,i.Z)(P.root,d),ref:t},C,{children:[(0,h.jsxs)(j,{ownerState:I,className:P.titleWrap,children:[(0,h.jsx)(Z,{className:P.title,children:b}),m?(0,h.jsx)(f,{className:P.subtitle,children:m}):null]}),r?(0,h.jsx)(x,{ownerState:I,className:P.actionIcon,children:r}):null]}))}))},15619:(e,t,n)=>{n.d(t,{Z:()=>T});var o=n(97582),a=n(85893),s=n(67294),i=n(90948),r=n(94253),c=n(2734),l=n(37292),u=n(18972),d=n(98456),m=n(48885),g=n(67564),h=n(25662),p=n(44652),v=n(25464),j=n(14564),Z=n(15861),f=n(67720),x=n(46901),b=n(24243),w=n(24085),C=n(22607),I=n(54490),P=n(86896),y=n(44012),O=n(27560),S=n(20819),$=n.n(S),N=n(29360),B=n(75459),M=n(99960);const L="SCChangeCoverButton",k={root:`${L}-root`,helpPopover:`${L}-help-popover`,addMenuItem:`${L}-add-menuItem`,delMenuItem:`${L}-del-menuItem`},R=(0,i.ZP)(r.Z,{name:L,slot:"Root"})((()=>({}))),E=(0,I.vU)({imageMaxSize:{id:"ui.changeCover.button.change.alertMaxSize",defaultMessage:"ui.changeCover.button.change.alertMaxSize"},errorLoadImage:{id:"ui.changeCover.button.change.alertErrorImage",defaultMessage:"ui.changeCover.button.change.alertErrorImage"}});const T=function(e){const t=(0,N.Z)({props:e,name:L}),{onChange:n,autoHide:i,className:I}=t,S=(0,o._T)(t,["onChange","autoHide","className"]),T=(0,s.useContext)(C.K8),A=(0,c.Z)(),z=(0,l.Z)(A.breakpoints.down("md"));let _=(0,s.useRef)(null);const[F,U]=s.useState(null),W=Boolean(F),[H,Y]=s.useState(null),[D,X]=(0,s.useState)(!1),[J,G]=(0,s.useState)(!1),[q,K]=(0,s.useState)(!1),[V,Q]=(0,s.useState)(null),ee=(0,P.Z)(),te=e=>{U(e.currentTarget)},ne=()=>{U(null)},oe=T.user&&null!==T.user.cover,ae=Boolean(H);if(!T.user)return null;const se=e=>{var t;(null===(t=e.target.files[0])||void 0===t?void 0:t.size)<=5242880?(_=e.target.files[0],ie()):(Q(ee.formatMessage(E.imageMaxSize)),U(null))};function ie(e=!1){K(!0);const t=new FormData;e?t.append("cover",""):t.append("cover",_),b.Z.request({url:w.Z.UserPatch.url({id:T.user.id}),method:w.Z.UserPatch.method,headers:{"Content-Type":"multipart/form-data"},data:t}).then((t=>{T.updateUser({cover:t.data.cover}),n&&n(t.data.cover),U(null),K(!1),e&&(G(!1),X(!1))})).catch((e=>{M.Y.error(B.J,e),K(!1),Q(ee.formatMessage(E.errorLoadImage))}))}function re(){return(0,a.jsx)(r.Z,{children:q?(0,a.jsx)(u.Z,Object.assign({sx:{justifyContent:"center"}},{children:(0,a.jsx)(d.Z,{size:15})})):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"file",onChange:se,ref:_,hidden:!0,accept:".gif,.png,.jpg,.jpeg"}),(0,a.jsxs)(u.Z,Object.assign({disabled:q,onClick:()=>_.current.click(),className:k.addMenuItem},{children:[(0,a.jsx)(m.Z,{children:(0,a.jsx)(g.Z,{children:"add_circle_outline"})}),(0,a.jsx)(y.Z,{id:"ui.changeCover.button.upload",defaultMessage:"ui.changeCover.button.upload"})]})),oe&&(0,a.jsxs)(u.Z,Object.assign({className:k.delMenuItem,onClick:()=>X(!0)},{children:[(0,a.jsx)(m.Z,{children:(0,a.jsx)(g.Z,{children:"delete"})}),(0,a.jsx)(y.Z,{id:"ui.changeCover.button.delete",defaultMessage:"ui.changeCover.button.delete"})]}))]})})}const ce=(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)(h.Z,Object.assign({size:"small",variant:"contained",disabled:q,onClick:te},S,{children:(0,a.jsx)(g.Z,{children:"photo_camera"})})),W&&(0,a.jsx)(a.Fragment,{children:z?(0,a.jsx)(p.Z,Object.assign({open:!0,onClose:ne,onOpen:te,anchor:"bottom",disableSwipeToOpen:!0},{children:re()})):(0,a.jsx)(v.Z,Object.assign({anchorEl:F,open:!0,onClose:ne},{children:re()}))}),!z&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Z,Object.assign({className:k.helpPopover,variant:"contained",onClick:e=>{Y(e.currentTarget)}},{children:(0,a.jsx)(g.Z,{children:"help_outline"})})),ae&&(0,a.jsx)(j.ZP,Object.assign({open:ae,anchorEl:H,onClose:()=>{Y(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"}},{children:(0,a.jsxs)(r.Z,Object.assign({sx:{p:"10px"}},{children:[(0,a.jsx)(Z.Z,Object.assign({component:"h3"},{children:(0,a.jsx)(y.Z,{id:"ui.changeCover.button.uploadA",defaultMessage:"ui.changeCover.button.uploadA"})})),(0,a.jsx)(f.Z,{}),(0,a.jsx)(Z.Z,Object.assign({component:"span"},{children:(0,a.jsx)(y.Z,{id:"ui.changeCover.info",defaultMessage:"ui.changeCover.info",values:{li:e=>(0,a.jsx)("li",{children:e}),ul:e=>(0,a.jsx)("ul",{children:e})}})}))]}))}))]}),D&&(0,a.jsx)(O.Z,{open:D,title:(0,a.jsx)(y.Z,{id:"ui.changeCover.dialog.msg",defaultMessage:"ui.changeCover.dialog.msg"}),onConfirm:function(){G(!0),ie(!0)},isUpdating:J,onClose:()=>{X(!1),U(null)}})]});return V?(0,a.jsx)(x.Z,Object.assign({color:"error",onClose:()=>Q(null)},{children:V})):i?null:(0,a.jsx)(R,Object.assign({},S,{className:$()(k.root,I)},{children:ce}))}},27464:(e,t,n)=>{n.d(t,{Z:()=>ue});var o=n(97582),a=n(85893),s=n(67294),i=n(90948),r=n(25662),c=n(67564),l=n(94253),u=n(46901),d=n(98456),m=n(15861),g=n(80102),h=n(83117),p=n(94780),v=n(63961),j=n(28628),Z=n(1588),f=n(34867);function x(e){return(0,f.ZP)("MuiImageList",e)}(0,Z.Z)("MuiImageList",["root","masonry","quilted","standard","woven"]);const b=s.createContext({}),w=["children","className","cols","component","rowHeight","gap","style","variant"],C=(0,i.ZP)("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})((({ownerState:e})=>(0,h.Z)({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},"masonry"===e.variant&&{display:"block"}))),I=s.forwardRef((function(e,t){const n=(0,j.i)({props:e,name:"MuiImageList"}),{children:o,className:i,cols:r=2,component:c="ul",rowHeight:l="auto",gap:u=4,style:d,variant:m="standard"}=n,Z=(0,g.Z)(n,w),f=s.useMemo((()=>({rowHeight:l,gap:u,variant:m})),[l,u,m]);s.useEffect((()=>{0}),[]);const I="masonry"===m?(0,h.Z)({columnCount:r,columnGap:u},d):(0,h.Z)({gridTemplateColumns:`repeat(${r}, 1fr)`,gap:u},d),P=(0,h.Z)({},n,{component:c,gap:u,rowHeight:l,variant:m}),y=(e=>{const{classes:t,variant:n}=e,o={root:["root",n]};return(0,p.Z)(o,x,t)})(P);return(0,a.jsx)(C,(0,h.Z)({as:c,className:(0,v.Z)(y.root,y[m],i),ref:t,style:I,ownerState:P},Z,{children:(0,a.jsx)(b.Provider,{value:f,children:o})}))})),P=I;n(76607);var y=n(50700);function O(e){return(0,f.ZP)("MuiImageListItem",e)}const S=(0,Z.Z)("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),$=["children","className","cols","component","rows","style"],N=(0,i.ZP)("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${S.img}`]:t.img},t.root,t[n.variant]]}})((({ownerState:e})=>(0,h.Z)({display:"block",position:"relative"},"standard"===e.variant&&{display:"flex",flexDirection:"column"},"woven"===e.variant&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${S.img}`]:(0,h.Z)({objectFit:"cover",width:"100%",height:"100%",display:"block"},"standard"===e.variant&&{height:"auto",flexGrow:1})}))),B=s.forwardRef((function(e,t){const n=(0,j.i)({props:e,name:"MuiImageListItem"}),{children:o,className:i,cols:r=1,component:c="li",rows:l=1,style:u}=n,d=(0,g.Z)(n,$),{rowHeight:m="auto",gap:Z,variant:f}=s.useContext(b);let x="auto";"woven"===f?x=void 0:"auto"!==m&&(x=m*l+Z*(l-1));const w=(0,h.Z)({},n,{cols:r,component:c,gap:Z,rowHeight:m,rows:l,variant:f}),C=(e=>{const{classes:t,variant:n}=e,o={root:["root",n],img:["img"]};return(0,p.Z)(o,O,t)})(w);return(0,a.jsx)(N,(0,h.Z)({as:c,className:(0,v.Z)(C.root,C[f],i),ref:t,style:(0,h.Z)({height:x,gridColumnEnd:"masonry"!==f?`span ${r}`:void 0,gridRowEnd:"masonry"!==f?`span ${l}`:void 0,marginBottom:"masonry"===f?Z:void 0,breakInside:"masonry"===f?"avoid":void 0},u),ownerState:w},d,{children:s.Children.map(o,(e=>s.isValidElement(e)?"img"===e.type||(0,y.Z)(e,["Image"])?s.cloneElement(e,{className:(0,v.Z)(C.img,e.props.className)}):e:null))}))})),M=B;var L=n(59225),k=n(93946),R=n(49877),E=n(24085),T=n(22607),A=n(62254),z=n(44012),_=n(39154),F=n(27560),U=n(20819),W=n.n(U);function H(e,t){this.scrollLeft=e,this.scrollTop=t}const Y=(e,t,n="cannot convert to dictionary.")=>`Failed to execute '${e}' on '${t}': ${n}`,D=(e,t,n)=>{var o;const a=`__SEAMLESS.BACKUP$${t}`;return e[a]||!e[t]||(null===(o=e[t])||void 0===o?void 0:o.__isPolyfill)||(e[a]=e[t]),e[a]||n},X=e=>e.ownerDocument.scrollingElement||e.ownerDocument.documentElement;const J=e=>.5*(1-Math.cos(Math.PI*e));function G(){var e;let t;return t=(null===(e=window.performance)||void 0===e?void 0:e.now)?()=>window.performance.now():()=>window.Date.now(),G=t,t()}const q=e=>{const t=(G()-e.timeStamp)/(e.duration||500);if(t>1)return e.method(e.targetX,e.targetY),void e.callback();const n=(e.timingFunc||J)(t),o=e.startX+(e.targetX-e.startX)*n,a=e.startY+(e.targetY-e.startY)*n;e.method(o,a),e.rafId=window.requestAnimationFrame((()=>{q(e)}))},K=e=>isFinite(e)?Number(e):0,V=(e,t,n)=>{var o,a;if(!(e=>{var t;return null!==(t=e.isConnected)&&void 0!==t?t:!(e.ownerDocument&&1&e.ownerDocument.compareDocumentPosition(e))})(e))return;const s=e.scrollLeft,i=e.scrollTop,r=K(null!==(o=t.left)&&void 0!==o?o:s),c=K(null!==(a=t.top)&&void 0!==a?a:i);if(r===s&&c===i)return;const l=D(HTMLElement.prototype,"scroll",H),u=D(Object.getPrototypeOf(e),"scroll",l).bind(e);if("smooth"!==t.behavior)return void u(r,c);const d=()=>{window.removeEventListener("wheel",g),window.removeEventListener("touchmove",g)},m=Object.assign(Object.assign({},n),{timeStamp:G(),startX:s,startY:i,targetX:r,targetY:c,rafId:0,method:u,callback:()=>{d();const t=9===e.nodeType;e.dispatchEvent(function(e){if("function"==typeof Event)return new Event("scrollend",{bubbles:e,cancelable:!1});const t=document.createEvent("Event");return t.initEvent("scrollend",e,!1),t}(t))}}),g=()=>{window.cancelAnimationFrame(m.rafId),d()};window.addEventListener("wheel",g,{passive:!0,once:!0}),window.addEventListener("touchmove",g,{passive:!0,once:!0}),q(m)},Q=e=>(t,n,o)=>{const[a,s]=(i=t).window===i?[X(t.document.documentElement),"Window"]:[t,"Element"];var i;const r=null!=n?n:{};if(!(e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)})(r))throw new TypeError(Y(e,s));if(void 0!==(d=r.behavior)&&"auto"!==d&&"instant"!==d&&"smooth"!==d)throw new TypeError((c=e,l=s,u=r.behavior,Y(c,l,`The provided value '${u}' is not a valid enum value of type ScrollBehavior.`)));var c,l,u,d;"scrollBy"===e&&(r.left=K(r.left)+a.scrollLeft,r.top=K(r.top)+a.scrollTop),V(a,r,o)},ee=Q("scroll");var te=n(75459),ne=n(99960);const oe="SCChangePictureButton",ae={dialogRoot:`${oe}-dialog-root`,upload:`${oe}-upload`,imagesList:`${oe}-images-list`,imageItem:`${oe}-image-item`,primary:`${oe}-primary`},se=(0,i.ZP)(_.Z,{name:oe,slot:"DialogRoot"})((()=>({})));function ie(e){const{open:t,onChange:n,onClose:i,className:g}=e,h=(0,o._T)(e,["open","onChange","onClose","className"]),p=(0,s.useContext)(T.K8),v=(0,s.useContext)(A.zL),[j,Z]=(0,s.useState)(p.user.avatar),[f,x]=(0,s.useState)(!1),[b,w]=(0,s.useState)(!1),[C,I]=(0,s.useState)(null),[y,O]=(0,s.useState)([]),[S,$]=(0,s.useState)(null);let N=(0,s.useRef)(null);const[B,_]=(0,s.useState)(!1),[U,H]=(0,s.useState)(!1),[Y,D]=(0,s.useState)(!1);const X=(e=E.Z.GetAvatars.url({}))=>(0,o.mG)(this,void 0,void 0,(function*(){const t=yield R.Z.getUserAvatars({url:e});return t.next?t.results.concat(yield X(t.next)):t.results}));function J(e){e.id!==C&&R.Z.setUserPrimaryAvatar(e.id,{headers:{Authorization:`Bearer ${v.settings.session.authToken.accessToken}`}}).then((()=>{p.updateUser({avatar:e.avatar}),I(e.id),n&&n(e)})).catch((e=>{ne.Y.error(te.J,e)}))}return(0,s.useEffect)((()=>{X().then((e=>{const t=function(e){return e.find((e=>!0===e.primary))}(e);e&&e.length&&(O(e),I(t.id),Z(t.avatar))})).catch((e=>{ne.Y.error(te.J,e)}))}),[]),(0,a.jsxs)(se,Object.assign({className:W()(ae.dialogRoot,g),title:(0,a.jsx)(z.Z,{defaultMessage:"ui.changePicture.title",id:"ui.changePicture.title"}),onClose:i,open:t},h,{children:[(0,a.jsxs)(l.Z,Object.assign({className:ae.upload},{children:[b?(0,a.jsx)(u.Z,Object.assign({color:"error",onClose:()=>w(!1)},{children:(0,a.jsx)(z.Z,{id:"ui.changePicture.button.upload.alert",defaultMessage:"ui.changePicture.button.upload.alert"})})):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"file",onChange:function(e){var t;e&&(null===(t=e.target.files[0])||void 0===t?void 0:t.size)<=3145728?(N=e.target.files[0],Z(URL.createObjectURL(N)),function(){D(!0);const e=new FormData;e.append("avatar",N),R.Z.addUserAvatar(e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{O((t=>[...t,e])),J(e),D(!1),setTimeout((()=>{const e=document.getElementById("avatarsList");e&&ee(e,{top:e.scrollHeight,behavior:"smooth"})}),200),x(!1)})).catch((e=>{x(!0),D(!1),ne.Y.error(te.J,e)}))}()):w(!0)},ref:N,hidden:!0,accept:".gif,.png,.jpg,.jpeg"}),(0,a.jsx)(r.Z,Object.assign({disabled:Y||U,variant:"outlined",onClick:()=>N.current.click(),color:f?"error":"primary",startIcon:Y?null:(0,a.jsx)(c.Z,{children:"folder_open"})},{children:Y?(0,a.jsx)(d.Z,{size:15}):(0,a.jsx)(a.Fragment,{children:f?(0,a.jsx)(z.Z,{id:"ui.changePicture.button.upload.error",defaultMessage:"ui.changePicture.button.upload.error"}):(0,a.jsx)(z.Z,{id:"ui.changePicture.button.upload",defaultMessage:"ui.changePicture.button.upload"})})}))]}),(0,a.jsx)(m.Z,Object.assign({component:"span",fontSize:"small",color:"text.secondary",gutterBottom:!0},{children:(0,a.jsx)(z.Z,{id:"ui.changePicture.info",defaultMessage:"ui.changePicture.info",values:{li:e=>(0,a.jsx)("li",{children:e}),ul:e=>(0,a.jsx)("ul",{children:e})}})}))]})),(0,a.jsx)(P,Object.assign({cols:3,rowHeight:"auto",id:"avatarsList",classes:{root:ae.imagesList}},{children:y.map((e=>(0,a.jsx)(l.Z,Object.assign({className:ae.imageItem},{children:(0,a.jsxs)(M,Object.assign({className:C===e.id?ae.primary:"",onClick:()=>J(e)},{children:[(0,a.jsx)("img",{src:e.avatar,loading:"lazy",alt:"img"}),(0,a.jsx)(L.Z,{position:"top",actionIcon:(0,a.jsx)(k.Z,Object.assign({onClick:()=>{return t=e.id,_(!0),void $(t);var t},size:"small"},{children:(0,a.jsx)(c.Z,{children:"delete"})}))})]}),e.id)}),e.id)))})),B&&(0,a.jsx)(F.Z,{open:B,title:(0,a.jsx)(z.Z,{id:"ui.changePicture.dialog.msg",defaultMessage:"ui.changePicture.dialog.msg"}),btnConfirm:(0,a.jsx)(z.Z,{id:"ui.changePicture.dialog.confirm",defaultMessage:"ui.changePicture.dialog.confirm"}),onConfirm:function(){H(!0),R.Z.removeUserAvatar(S,{headers:{Authorization:`Bearer ${v.settings.session.authToken.accessToken}`}}).then((()=>{const e=y.filter((e=>e.id!==S));O(e),H(!1),_(!1),C===S&&(e.length>0?J(e[e.length-1]):n&&n(null))})).catch((e=>{_(!1),ne.Y.error(te.J,e)}))},isUpdating:U,onClose:()=>_(!1)})]}))}var re=n(29360);const ce={root:`${oe}-root`,dialog:`${oe}-dialog`},le=(0,i.ZP)(r.Z,{name:oe,slot:"Root"})((()=>({})));const ue=function(e){const t=(0,re.Z)({props:e,name:oe}),{iconButton:n,onChange:i,autoHide:r,className:l}=t,u=(0,o._T)(t,["iconButton","onChange","autoHide","className"]),[d,m]=(0,s.useState)(!1);return(0,s.useContext)(T.K8).user?r?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(le,Object.assign({className:W()(ce.root,l),size:"small",variant:"contained",onClick:()=>m(!0)},u,{children:n?(0,a.jsx)(c.Z,{children:"photo_camera"}):(0,a.jsx)(z.Z,{id:"ui.changePicture.button.change",defaultMessage:"ui.changePicture.button.change"})})),d&&(0,a.jsx)(ie,{className:ce.dialog,open:d,onChange:e=>i&&i(e),onClose:()=>m(!1)})]}):null}},41298:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(85893),a=n(90948),s=n(94253),i=n(2734),r=n(88078),c=n(15861),l=n(16216),u=n(25662),d=n(93946),m=n(67564),g=n(88832);const h={root:`${g.B}-skeleton-root`,cover:`${g.B}-cover`,avatar:`${g.B}-avatar`,actions:`${g.B}-actions`,section:`${g.B}-section`,username:`${g.B}-username`},p=(0,a.ZP)(s.Z,{name:g.B,slot:"SkeletonRoot"})((()=>({})));const v=function(){const e=(0,i.Z)();return(0,o.jsxs)(p,Object.assign({className:h.root},{children:[(0,o.jsx)(r.Z,{className:h.cover,animation:"wave",variant:"rectangular"}),(0,o.jsx)(s.Z,Object.assign({className:h.avatar},{children:(0,o.jsx)(r.Z,{animation:"wave",variant:"circular",width:e.selfcommunity.user.avatar.sizeXLarge,height:e.selfcommunity.user.avatar.sizeXLarge})})),(0,o.jsxs)(s.Z,Object.assign({className:h.section},{children:[(0,o.jsx)(c.Z,Object.assign({variant:"h5",className:h.username},{children:(0,o.jsx)(r.Z,{animation:"wave",sx:{height:30,width:100,margin:"0 auto"}})})),(0,o.jsxs)(l.Z,Object.assign({direction:"row",className:h.actions},{children:[(0,o.jsx)(u.Z,Object.assign({variant:"contained",disabled:!0},{children:(0,o.jsx)(r.Z,{animation:"wave",sx:{height:20,width:60}})})),(0,o.jsx)(d.Z,Object.assign({disabled:!0},{children:(0,o.jsx)(m.Z,{children:"more_vert"})}))]}))]}))]}))}},88832:(e,t,n)=>{n.d(t,{B:()=>o});const o="SCUserProfileHeader"},49901:(e,t,n)=>{n.d(t,{Z:()=>y});var o=n(97582),a=n(85893),s=n(67294),i=n(90948),r=n(94253),c=n(90629),l=n(15861),u=n(15619),d=n(27464),m=n(8860),g=n(62254),h=n(22607),p=n(45412),v=n(12918),j=n(97265),Z=n(41298),f=n(20819),x=n.n(f),b=n(29360),w=n(88832),C=n(68456);const I={root:`${w.B}-root`,cover:`${w.B}-cover`,avatar:`${w.B}-avatar`,info:`${w.B}-info`,infOpsSection:`${w.B}-infops-section`,username:`${w.B}-username`,realname:`${w.B}-realname`,bio:`${w.B}-bio`,website:`${w.B}-website`,changePicture:`${w.B}-change-picture`,changeCover:`${w.B}-change-cover`},P=(0,i.ZP)(r.Z,{name:w.B,slot:"Root"})((()=>({})));const y=function(e){const t=(0,b.Z)({props:e,name:w.B}),{id:n=null,className:i=null,userId:f=null,user:y=null,ChangePictureProps:O={},ChangeCoverProps:S={},actions:$}=t,N=(0,o._T)(t,["id","className","userId","user","ChangePictureProps","ChangeCoverProps","actions"]),B=(0,m.ko)(),M=(0,g.RM)(),L=(0,h.LD)(),{scUser:k,setSCUser:R}=(0,p.Z)({id:f,user:y}),E=(0,s.useMemo)((()=>L.user&&(null==k?void 0:k.id)===L.user.id),[L.user,k]);if(!k)return(0,a.jsx)(Z.Z,{});const T=Object.assign({},k.cover?{background:`url('${k.cover}') center / cover`}:{background:`url('${B.preferences[v.IJ].value}') center / cover`}),A=E&&L.user.real_name||k.real_name,z=k&&k.community_badge;return(0,a.jsxs)(P,Object.assign({id:n,className:x()(I.root,i)},N,{children:[(0,a.jsxs)(c.Z,Object.assign({style:T,classes:{root:I.cover}},{children:[(0,a.jsx)(r.Z,Object.assign({className:I.avatar},{children:(0,a.jsx)(C.Z,Object.assign({hide:!z},{children:(0,a.jsx)("img",{src:k.avatar?k.avatar:""})}))})),E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Z,Object.assign({iconButton:!0,onChange:function(e){k.id===L.user.id&&e?R(Object.assign({},k,{avatar:e.avatar})):R(Object.assign({},k,{avatar:`${M.settings.portal}/api/v2/avatar/${k.id}`}))},className:I.changePicture},O)),(0,a.jsx)("div",Object.assign({className:I.changeCover},{children:(0,a.jsx)(u.Z,Object.assign({onChange:function(e){k.id===L.user.id&&R(Object.assign({},k,{cover:e}))}},S))}))]})]})),(0,a.jsxs)(r.Z,Object.assign({className:I.infOpsSection},{children:[(0,a.jsxs)(r.Z,Object.assign({className:I.info},{children:[(0,a.jsxs)(l.Z,Object.assign({variant:"h5",className:I.username},{children:["@",E?L.user.username:k.username]})),A&&(0,a.jsx)(l.Z,Object.assign({variant:"subtitle1",className:I.realname},{children:A})),k.bio&&(0,a.jsx)(l.Z,Object.assign({variant:"subtitle2",className:I.bio},{children:k.bio})),k.website&&(0,a.jsx)(j.Z,Object.assign({className:I.website,target:"_blank",to:k.website},{children:(0,a.jsx)(l.Z,Object.assign({variant:"body2"},{children:k.website}))}))]})),$&&$]}))]}))}}}]);