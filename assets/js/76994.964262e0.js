"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[76994],{98365:(e,s,t)=>{t.d(s,{Z:()=>m});var o=t(67294),a=t(74482),i=t(24243),n=t(24085),l=t(59219),r=t(96570),c=t(99960),u=t(69721),d=t(87620),g=t(51206);function m({id:e=null,category:s=null,cacheStrategy:t=l.n2.CACHE_FIRST}){const m=s?s.id:e,j=(0,g.LD)(),h=j.user?j.user.id:null,p=(0,u.u5)(m),Z=h?s:(0,r.Kd)(s,["followed"]),[x,y]=(0,o.useState)(t!==l.n2.NETWORK_ONLY?l.ZP.get(p,Z):null),[f,b]=(0,o.useState)(null),O=(0,o.useMemo)((()=>()=>i.Z.request({url:n.Z.Category.url({id:m}),method:n.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[m]);return(0,o.useEffect)((()=>{m&&(!x||x&&m!==x.id)&&O().then((e=>{const s=h?e:(0,r.Kd)(e,["followed"]);y(s),l.ZP.set(p,s)})).catch((s=>{l.ZP.delete(p),b(`Category with id ${e} not found`),c.Y.error(a.h,`Category with id ${e} not found`),c.Y.error(a.h,s.message)}))}),[m]),(0,d.F_)((()=>{if(s){const e=h?s:(0,r.Kd)(s,["followed"]);y(e),l.ZP.set(p,e)}}),[s]),{scCategory:x,setSCCategory:y,error:f}}},34388:(e,s,t)=>{t.d(s,{Z:()=>j});var o=t(85893),a=t(67294),i=t(90948),n=t(40506),l=t(24176),r=t(24540),c=t(12805),u=t(37024),d=t(45503);const g={root:`${d.B}-skeleton-root`},m=(0,i.ZP)(n.Z,{name:d.B,slot:"SkeletonRoot"})((()=>({})));function j(){return(0,o.jsxs)(m,Object.assign({className:g.root,sidebar:(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(l.Z,{sx:{mb:2}}),(0,o.jsx)(l.Z,{sx:{mb:2}})]})},{children:[(0,o.jsx)(r.Z,{}),Array.from({length:5}).map(((e,s)=>(0,o.jsx)(c.Z,{template:u.r.DETAIL},s)))]}))}},45503:(e,s,t)=>{t.d(s,{B:()=>o});const o="SCUserFeedTemplate"},76994:(e,s,t)=>{t.d(s,{Z:()=>_});var o=t(85893),a=t(67294),i=t(90948),n=t(24085),l=t(51206),r=t(45412),c=t(46878),u=t(43076),d=t(61504),g=t(5757),m=t(52693),j=t(12805),h=t(37024),p=t(93132),Z=t(34388),x=t(29360),y=t(94184),f=t.n(y),b=t(44012),O=t(20377),N=t(45503);const w={root:`${N.B}-root`},v=(0,i.ZP)(c.Z,{name:N.B,slot:"Root"})((()=>({}))),S=[{type:"widget",component:u.Z,componentProps:{},column:"right",position:0},{type:"widget",component:d.Z,componentProps:{},column:"right",position:1},{type:"widget",component:g.Z,componentProps:{},column:"right",position:2}];const _=function(e){const s=(0,x.Z)({props:e,name:N.B}),{id:t="user_feed",className:i,userId:c,user:u,widgets:d=S,FeedObjectProps:g={},FeedSidebarProps:y=null,FeedProps:_={}}=s,E=(0,l.LD)(),{enqueueSnackbar:C}=(0,O.Ds)(),{scUser:L}=(0,r.Z)({id:c,user:u}),F=(0,a.useRef)(),R=(0,a.useMemo)((()=>d.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:L?L.id:c})})))),[L,d]);return null===L?(0,o.jsx)(Z.Z,{}):(0,o.jsx)(v,Object.assign({id:t,className:f()(w.root,i),ref:F,endpoint:Object.assign(Object.assign({},n.Z.UserFeed),{url:()=>n.Z.UserFeed.url({id:L.id})}),widgets:R,ItemComponent:m.Z,itemPropsGenerator:(e,s)=>({feedObject:s[s.type],feedObjectType:s.type,feedObjectActivities:s.activities?s.activities:null}),itemIdGenerator:e=>e[e.type].id,ItemProps:g,ItemSkeleton:j.Z,ItemSkeletonProps:{template:h.r.PREVIEW}},E.user?{HeaderComponent:(0,o.jsx)(p.Z,{onSuccess:e=>{C((0,o.jsx)(b.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const s={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};F&&F.current&&F.current.addFeedData(s,!0)}})}:{},{FeedSidebarProps:y},_))}},95475:(e,s,t)=>{t.d(s,{Z:()=>m});var o=t(85893),a=t(78462),i=t(90948),n=t(74808),l=t(63902),r=t(44267),c=t(97212),u=t(3928);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},g=(0,i.ZP)(l.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return(0,o.jsx)(g,Object.assign({className:d.root},e,{children:(0,o.jsx)(r.Z,{children:(0,o.jsx)(a.Z,Object.assign({className:d.list},{children:[...Array(4)].map(((e,s)=>(0,o.jsx)(c.ZP,{children:(0,o.jsx)(n.Z,{elevation:0})},s)))}))})}))}},3928:(e,s,t)=>{t.d(s,{B:()=>o});const o="SCCategoriesSuggestionWidget"},74808:(e,s,t)=>{t.d(s,{Z:()=>g});var o=t(85893),a=t(90948),i=t(88078),n=t(2734),l=t(25662),r=t(115),c=t(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},d=(0,a.ZP)(r.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function g(e){const s=(0,n.Z)();return(0,o.jsx)(d,Object.assign({className:u.root},e,{image:(0,o.jsx)(i.Z,{animation:"wave",variant:"rectangular",width:s.selfcommunity.category.icon.sizeMedium,height:s.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:(0,o.jsx)(i.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:(0,o.jsx)(i.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:(0,o.jsx)(l.Z,Object.assign({size:"small",variant:"outlined",disabled:!0,className:u.button},{children:(0,o.jsx)(i.Z,{animation:"wave",height:10,width:50,className:u.action})}))}))}},40092:(e,s,t)=>{t.d(s,{B:()=>o});const o="SCCategory"},42623:(e,s,t)=>{t.d(s,{Z:()=>_});var o=t(97582),a=t(85893),i=t(67294),n=t(90948),l=t(87952),r=t(34386),c=t(15861),u=t(41538),d=t(98365),g=t(97265),m=t(12132),j=t(29409),h=t(74808),p=t(28145),Z=t(54490),x=t(86896),y=t(94184),f=t.n(y),b=t(29360),O=t(75427),N=t(40092);const w=(0,Z.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),v={root:`${N.B}-root`,categoryImage:`${N.B}-category-image`,primary:`${N.B}-primary`,secondary:`${N.B}-secondary`,title:`${N.B}-title`,followed:`${N.B}-followed`,autoFollowed:`${N.B}-auto-followed`,actions:`${N.B}-actions`},S=(0,n.ZP)(O.Z,{name:N.B,slot:"Root"})((()=>({})));const _=function(e){const s=(0,b.Z)({props:e,name:N.B}),{categoryId:t=null,category:n=null,className:Z=null,elevation:y,autoHide:O=!1,categoryFollowButtonProps:_={},showFollowers:E=!0,showTooltip:C=!1,ButtonBaseProps:L=null}=s,F=(0,o._T)(s,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","showTooltip","ButtonBaseProps"]),R=(0,u.sy)(),{scCategory:P,setSCCategory:T}=(0,d.Z)({id:t,category:n}),I=(0,i.useMemo)((()=>L||{component:g.Z,to:R.url(m.CATEGORY_ROUTE_NAME,P)}),[L,R,P]),M=(0,x.Z)();return P?O?null:(0,a.jsx)(S,Object.assign({disableTypography:C,elevation:y,className:f()(v.root,Z,{[v.followed]:P.followed},{[v.autoFollowed]:P.auto_follow===j.i.FORCED}),ButtonBaseProps:I,image:(0,a.jsx)(l.Z,{alt:P.name,src:P.image_medium,variant:"square",className:v.categoryImage}),primary:(0,a.jsx)(a.Fragment,{children:C?(0,a.jsx)(r.Z,Object.assign({title:P.name},{children:(0,a.jsx)(c.Z,Object.assign({className:v.primary,component:"span",variant:"body1"},{children:P.name}))})):P.name}),secondary:(0,a.jsx)(a.Fragment,{children:C?(0,a.jsx)(c.Z,Object.assign({className:v.secondary,component:"p",variant:"body2"},{children:E?`${M.formatMessage(w.categoryFollowers,{total:P.followers_counter})}`:P.slogan})):(0,a.jsx)(a.Fragment,{children:E?`${M.formatMessage(w.categoryFollowers,{total:P.followers_counter})}`:P.slogan})}),actions:(0,a.jsx)(p.Z,Object.assign({category:P},_))},F)):(0,a.jsx)(h.Z,{elevation:y})}},28145:(e,s,t)=>{t.d(s,{Z:()=>O});var o=t(97582),a=t(85893),i=t(67294),n=t(90948),l=t(59219),r=t(99960),c=t(62254),u=t(51206),d=t(98365),g=t(75459),m=t(96828),j=t(44012),h=t(94184),p=t.n(h),Z=t(29360),x=t(29409);const y="SCCategoryFollowButton",f={root:`${y}-root`},b=(0,n.ZP)(m.Z,{name:y,slot:"Root",overridesResolver:(e,s)=>s.root})((({theme:e})=>({})));const O=function(e){const s=(0,Z.Z)({props:e,name:y}),{className:t,categoryId:n,category:m,onFollow:h}=s,O=(0,o._T)(s,["className","categoryId","category","onFollow"]),N=(0,c.RM)(),w=(0,u.LD)(),v=w.managers.categories,S=w.user?w.user.id:null,{scCategory:_,setSCCategory:E}=(0,d.Z)({id:n,category:m,cacheStrategy:S?l.n2.CACHE_FIRST:l.n2.STALE_WHILE_REVALIDATE}),[C,L]=(0,i.useState)(null);return(0,i.useEffect)((()=>{S&&L(v.isFollowed(_))}),[S,v.isFollowed]),!_||_&&C&&_.auto_follow===x.i.FORCED?null:(0,a.jsx)(b,Object.assign({size:"small",variant:"outlined",onClick:()=>{w.user?v.follow(_).then((()=>{h&&h(_,!C)})).catch((e=>{r.Y.error(g.J,e)})):N.settings.handleAnonymousAction()},loading:w.user?null===C||v.isLoading(_):null,className:p()(f.root,t)},O,{children:C&&w.user?(0,a.jsx)(j.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):(0,a.jsx)(j.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"})}))}},14459:(e,s,t)=>{t.d(s,{Z:()=>m});var o=t(85893),a=t(63902),i=t(78462),n=t(90948),l=t(50353),r=t(44267),c=t(97212),u=t(33584);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},g=(0,n.ZP)(a.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return(0,o.jsx)(g,Object.assign({className:d.root},e,{children:(0,o.jsx)(r.Z,{children:(0,o.jsx)(i.Z,Object.assign({className:d.list},{children:[...Array(4)].map(((e,s)=>(0,o.jsx)(c.ZP,{children:(0,o.jsx)(l.Z,{elevation:0})},s)))}))})}))}},33584:(e,s,t)=>{t.d(s,{B:()=>o});const o="SCCategoryTrendingUsersWidget"},24540:(e,s,t)=>{t.d(s,{Z:()=>g});var o=t(85893),a=t(90948),i=t(88078),n=t(44267),l=t(94253),r=t(63902),c=t(31717);const u={root:`${c.B}-skeleton-root`,content:`${c.B}-content`,input:`${c.B}-input`,avatar:`${c.B}-avatar`},d=(0,a.ZP)(r.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function g(){return(0,o.jsx)(d,Object.assign({className:u.root},{children:(0,o.jsxs)(n.Z,Object.assign({className:u.content},{children:[(0,o.jsx)(l.Z,Object.assign({className:u.input},{children:(0,o.jsx)(i.Z,{animation:"wave",variant:"text"})})),(0,o.jsx)(l.Z,Object.assign({className:u.avatar},{children:(0,o.jsx)(i.Z,{className:u.avatar,animation:"wave",variant:"circular"})}))]}))}))}},31717:(e,s,t)=>{t.d(s,{B:()=>o});const o="SCInlineComposerWidget"},93132:(e,s,t)=>{t.d(s,{Z:()=>F});var o=t(97582),a=t(85893),i=t(67294),n=t(9774),l=t(62254),r=t(51206),c=t(41538),u=t(8860),d=t(85472),g=t(65580),m=t(97265),j=t(12132),h=t(44267),p=t(94253),Z=t(25662),x=t(87952),y=t(90948),f=t(44012),b=t(20377),O=t(63902),N=t(29360),w=t(6605),v=t(22461),S=t(70815),_=t(31717),E=t(54545);const C={root:`${_.B}-root`,content:`${_.B}-content`,input:`${_.B}-input`,avatar:`${_.B}-avatar`},L=(0,y.ZP)(O.Z,{name:_.B,slot:"Root"})((()=>({})));const F=function(e){const s=(0,N.Z)({props:e,name:_.B}),{mediaObjectTypes:t=[v.Z,S.Z],defaultValue:y,onSuccess:O=null,label:F,feedType:R=n.a.HOME}=s,P=(0,o._T)(s,["mediaObjectTypes","defaultValue","onSuccess","label","feedType"]),T=(0,l.RM)(),I=(0,r.LD)(),M=(0,c.sy)(),{enqueueSnackbar:A}=(0,b.Ds)(),U=(0,u.ko)(),B=(0,i.useMemo)((()=>U.preferences[d.Kq].value),[U.preferences]),[$,D]=(0,i.useState)(!1),W=(0,i.useCallback)((()=>{I.user?g.IT(I.user)?A((0,a.jsx)(f.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):D(!0):T.settings.handleAnonymousAction()}),[I.user,T.settings]),k=(0,i.useCallback)((()=>{D(!1)}),[]);return!g.B2(I.user)&&B?(0,a.jsx)(E.Z,{}):(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(L,Object.assign({className:C.root},P,{children:(0,a.jsxs)(h.Z,Object.assign({className:C.content},{children:[(0,a.jsx)(p.Z,Object.assign({className:C.input},{children:(0,a.jsx)(Z.Z,Object.assign({variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:W,fullWidth:!0,color:"inherit"},{children:null!=F?F:(0,a.jsx)(f.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"})}))})),(0,a.jsx)(p.Z,Object.assign({className:C.avatar},{children:I.user?(0,a.jsx)(m.Z,Object.assign({to:M.url(j.USER_PROFILE_ROUTE_NAME,I.user)},{children:(0,a.jsx)(x.Z,{alt:I.user.username,variant:"circular",src:I.user.avatar})})):(0,a.jsx)(x.Z,{variant:"circular"})}))]}))})),(0,a.jsx)(w.Z,{open:$,mediaObjectTypes:t,defaultValue:y,fullWidth:!0,onClose:k,onSuccess:e=>{O?O(e):A((0,a.jsx)(f.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),D(!1)},feedType:R})]})}},43076:(e,s,t)=>{t.d(s,{Z:()=>$});var o=t(97582),a=t(85893),i=t(67294),n=t(90948),l=t(78462),r=t(44267),c=t(15861),u=t(97212),d=t(25662),g=t(49877),m=t(59219),j=t(99960),h=t(5840),p=t(51206),Z=t(8860),x=t(85472),y=t(69721),f=t(15927),b=t(42623),O=t(74808),N=t(75459),w=t(44012),v=t(95475);const S="SCUserFollowedCategoriesWidgetSkeleton",_={root:`${S}-skeleton-root`},E=(0,n.ZP)(v.Z,{name:S,slot:"SkeletonRoot"})((()=>({})));function C(e){return(0,a.jsx)(E,Object.assign({className:_.root},e))}var L=t(94184),F=t.n(L),R=t(39154),P=t(63902),T=t(29360),I=t(54545);const M="SCUserCategoriesFollowedWidget",A={root:`${M}-root`,title:`${M}-title`,noResults:`${M}-no-results`,showMore:`${M}-show-more`,dialogRoot:`${M}-dialog-root`,endMessage:`${M}-end-message`},U=(0,n.ZP)(P.Z,{name:M,slot:"Root"})((()=>({}))),B=(0,n.ZP)(R.Z,{name:M,slot:"DialogRoot"})((()=>({})));const $=function(e){const s=(0,T.Z)({props:e,name:M}),{userId:t,autoHide:n,limit:v=3,className:S,CategoryProps:_={},cacheStrategy:E=m.n2.NETWORK_ONLY,onHeightChange:L,onStateChange:R,DialogProps:P={}}=s,$=(0,o._T)(s,["userId","autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),D=(0,p.LD)(),W=(0,i.useMemo)((()=>D.user&&t===D.user.id),[D.user,t]),k=(0,i.useContext)(Z.Tt),K=(0,i.useMemo)((()=>x.Ao in k.preferences&&k.preferences[x.Ao].value),[k]),[z,X]=(0,i.useReducer)(f.Xi,{isLoadingNext:!1,next:null,cacheKey:y.hu(y.X5,t),cacheStrategy:E},f.Mv),[H,Y]=(0,i.useState)(!1),G=(0,i.useMemo)((()=>()=>{z.initialized||z.isLoadingNext||g.Z.getUserFollowedCategories(t,null).then((e=>{X({type:f.dK.LOAD_NEXT_SUCCESS,payload:{count:e.length,results:e,initialized:!0}})})).catch((e=>{X({type:f.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),j.Y.error(N.J,e)}))}),[z.isLoadingNext,z.initialized,t,X]);(0,i.useEffect)((()=>{var e;let s;if((K||!K&&(null===(e=D.user)||void 0===e?void 0:e.id))&&(0,h.U)(t)&&void 0!==D.user)return s=setTimeout(G),()=>{s&&clearTimeout(s)}}),[D.user,K,t]),(0,i.useEffect)((()=>{L&&L()}),[z.results.length]),(0,i.useEffect)((()=>{(K||D.user)&&(0,h.U)(t)&&E===m.n2.NETWORK_ONLY&&R&&R({cacheStrategy:m.n2.CACHE_FIRST})}),[K,E,D.user,t]);const V=e=>{if(W){const s=[...z.results],t=s.findIndex((s=>s.id===e.id));-1!==t&&(e.followed?(s[t].followers_counter=e.followers_counter-1,s[t].followed=!e.followed):(s[t].followers_counter=e.followers_counter+1,s[t].followed=!e.followed),X({type:f.dK.SET_RESULTS,payload:{results:s}}))}},q=()=>{Y((e=>!e))};if(n&&!z.count&&z.initialized||!t)return(0,a.jsx)(I.Z,{});if(!z.initialized)return(0,a.jsx)(C,{});const J=(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(c.Z,Object.assign({className:A.title,variant:"h5"},{children:(0,a.jsx)(w.Z,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:W?z.results.filter((e=>e.followed)).length:z.count}})})),z.count?(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(l.Z,{children:z.results.slice(0,v).map((e=>(0,a.jsx)(u.ZP,{children:(0,a.jsx)(b.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:V}},_))},e.id)))}),v<z.count&&(0,a.jsx)(d.Z,Object.assign({className:A.showMore,onClick:q},{children:(0,a.jsx)(w.Z,{id:"ui.userFollowedCategoriesWidget.button.showAll",defaultMessage:"ui.userFollowedCategoriesWidget.button.showAll"})})),H&&(0,a.jsxs)(B,Object.assign({className:A.dialogRoot,title:(0,a.jsx)(w.Z,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:z.count}}),onClose:q,open:H,scroll:"paper"},P,{children:[(0,a.jsxs)(l.Z,{children:[z.results.map((e=>(0,a.jsx)(u.ZP,{children:(0,a.jsx)(b.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:V}},_))},e.id))),z.isLoadingNext&&(0,a.jsx)(u.ZP,{children:(0,a.jsx)(O.Z,Object.assign({elevation:0},_))})]}),(0,a.jsx)(c.Z,Object.assign({className:A.endMessage},{children:(0,a.jsx)(w.Z,{id:"ui.userFollowedCategoriesWidget.noMoreResults",defaultMessage:"ui.userFollowedCategoriesWidget.noMoreResults"})}))]}))]}):(0,a.jsx)(c.Z,Object.assign({className:A.noResults,variant:"body2"},{children:(0,a.jsx)(w.Z,{id:"ui.userFollowedCategoriesWidget.subtitle.noResults",defaultMessage:"ui.userFollowedCategoriesWidget.subtitle.noResults"})}))]});return(0,a.jsx)(U,Object.assign({className:F()(A.root,S)},$,{children:J}))}},61504:(e,s,t)=>{t.d(s,{Z:()=>z});var o=t(97582),a=t(85893),i=t(67294),n=t(90948),l=t(78462),r=t(2734),c=t(37292),u=t(44267),d=t(15861),g=t(97212),m=t(25662),j=t(63902),h=t(49877),p=t(24243),Z=t(24085),x=t(59219),y=t(5840),f=t(99960),b=t(69721),O=t(51206),N=t(8860),w=t(45412),v=t(85472),S=t(14459);const _="SCUserFollowedUsersWidget",E={root:`${_}-skeleton-root`},C=(0,n.ZP)(S.Z,{name:_,slot:"SkeletonRoot"})((()=>({})));function L(e){return(0,a.jsx)(C,Object.assign({className:E.root},e))}var F=t(37089),R=t(50353),P=t(44012),T=t(94184),I=t.n(T),M=t(75459),A=t(39154),U=t(79558),B=t(29360),$=t(54545),D=t(15927);const W={root:`${_}-root`,title:`${_}-title`,noResults:`${_}-no-results`,showMore:`${_}-show-more`,dialogRoot:`${_}-dialog-root`,endMessage:`${_}-end-message`},k=(0,n.ZP)(j.Z,{name:_,slot:"Root"})((()=>({}))),K=(0,n.ZP)(A.Z,{name:_,slot:"DialogRoot"})((()=>({})));const z=function(e){const s=(0,B.Z)({props:e,name:_}),{userId:t,user:n,autoHide:j=!1,limit:S=3,className:E,UserProps:C={},cacheStrategy:T=x.n2.NETWORK_ONLY,onHeightChange:A,onStateChange:z,DialogProps:X={}}=s,H=(0,o._T)(s,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[Y,G]=(0,i.useReducer)(D.Xi,{isLoadingNext:!1,next:null,cacheKey:b.hu(b.Nj,(0,y.U)(t)?t:n.id),cacheStrategy:T,visibleItems:S},D.Mv),[V,q]=(0,i.useState)(!1),J=(0,O.LD)(),Q=(0,N.ko)(),{scUser:ee,refresh:se}=(0,w.Z)({id:t,user:n}),te=(0,i.useMemo)((()=>J.user&&(null==ee?void 0:ee.id)===J.user.id),[J.user,ee]),oe=(0,i.useMemo)((()=>v.Ao in Q.preferences&&Q.preferences[v.Ao].value),[Q.preferences]),ae=(0,i.useMemo)((()=>v.$0 in Q.preferences&&Q.preferences[v.$0].value),[Q.preferences]),ie=(0,r.Z)(),ne=(0,c.Z)(ie.breakpoints.down("md")),le=(0,i.useMemo)((()=>()=>{Y.initialized||Y.isLoadingNext||(G({type:D.dK.LOADING_NEXT}),h.Z.getUserFollowings(ee.id,{limit:S}).then((e=>{G({type:D.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{G({type:D.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),f.Y.error(M.J,e)})))}),[Y.isLoadingNext,Y.initialized,ee,S,G]);(0,i.useEffect)((()=>{var e;let s;if((oe||!oe&&(null===(e=J.user)||void 0===e?void 0:e.id))&&ae&&ee&&void 0!==J.user)return s=setTimeout(le),()=>{s&&clearTimeout(s)}}),[J.user,oe,ee]),(0,i.useEffect)((()=>{V&&Y.next&&Y.results.length===S&&Y.initialized&&(G({type:D.dK.LOADING_NEXT}),h.Z.getUserFollowings(ee.id,{offset:S,limit:10}).then((e=>{G({type:D.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{G({type:D.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),f.Y.error(M.J,e)})))}),[V,Y.next,Y.results.length,Y.initialized,S]),(0,i.useEffect)((()=>{A&&A()}),[Y.results]),(0,i.useEffect)((()=>{ee&&ae&&(oe||J.user)&&T===x.n2.NETWORK_ONLY&&z&&z({cacheStrategy:x.n2.CACHE_FIRST})}),[J.user,ee,oe]),(0,i.useEffect)((()=>{ee&&ae&&J.user&&Y.initialized&&te&&se().catch((()=>{}))}),[te,J.managers.followed.followed.length]);const re=(0,i.useMemo)((()=>()=>{G({type:D.dK.LOADING_NEXT}),p.Z.request({url:Y.next,method:Z.Z.UserFollowings.method}).then((e=>{G({type:D.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[G,Y.next,Y.isLoadingNext,Y.initialized]),ce=()=>{q((e=>!e))};if(!ae||j&&!Y.count&&Y.initialized||!oe&&!J.user||!ee)return(0,a.jsx)($.Z,{});if(!Y.initialized)return(0,a.jsx)(L,{});const ue=(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(d.Z,Object.assign({className:W.title,variant:"h5"},{children:(0,a.jsx)(P.Z,{id:"ui.userFollowedUsersWidget.title",defaultMessage:"ui.userFollowedUsersWidget.title",values:{total:ee.followings_counter}})})),Y.count?(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(l.Z,{children:Y.results.slice(0,Y.visibleItems).map((e=>(0,a.jsx)(g.ZP,{children:(0,a.jsx)(F.Z,Object.assign({elevation:0,user:e},C))},e.id)))}),Y.count>Y.visibleItems&&(0,a.jsx)(m.Z,Object.assign({className:W.showMore,onClick:ce},{children:(0,a.jsx)(P.Z,{id:"ui.userFollowedUsersWidget.button.showAll",defaultMessage:"ui.userFollowedUsersWidget.button.showAll"})}))]}):(0,a.jsx)(d.Z,Object.assign({className:W.noResults,variant:"body2"},{children:(0,a.jsx)(P.Z,{id:"ui.userFollowedUsersWidget.subtitle.noResults",defaultMessage:""})})),V&&(0,a.jsx)(K,Object.assign({className:W.dialogRoot,title:(0,a.jsx)(P.Z,{defaultMessage:"ui.userFollowedUsersWidget.title",id:"ui.userFollowedUsersWidget.title",values:{total:ee.followings_counter}}),onClose:ce,open:V},X,{children:(0,a.jsx)(U.Z,Object.assign({dataLength:Y.results.length,next:re,hasMoreNext:Boolean(Y.next),loaderNext:(0,a.jsx)(R.Z,Object.assign({elevation:0},C)),height:ne?"100%":400,endMessage:(0,a.jsx)(d.Z,Object.assign({className:W.endMessage},{children:(0,a.jsx)(P.Z,{id:"ui.userFollowedUsersWidget.noMoreResults",defaultMessage:"ui.userFollowedUsersWidget.noMoreResults"})}))},{children:(0,a.jsx)(l.Z,{children:Y.results.map((e=>(0,a.jsx)(g.ZP,{children:(0,a.jsx)(F.Z,Object.assign({elevation:0,user:e},C))},e.id)))})}))}))]});return(0,a.jsx)(k,Object.assign({className:I()(W.root,E)},H,{children:ue}))}},5757:(e,s,t)=>{t.d(s,{Z:()=>z});var o=t(97582),a=t(85893),i=t(67294),n=t(90948),l=t(78462),r=t(2734),c=t(37292),u=t(44267),d=t(15861),g=t(97212),m=t(25662),j=t(63902),h=t(49877),p=t(24243),Z=t(24085),x=t(59219),y=t(5840),f=t(99960),b=t(69721),O=t(51206),N=t(8860),w=t(45412),v=t(85472),S=t(15927),_=t(14459);const E="SCUserFollowersWidget",C={root:`${E}-skeleton-root`},L=(0,n.ZP)(_.Z,{name:E,slot:"SkeletonRoot"})((()=>({})));function F(e){return(0,a.jsx)(L,Object.assign({className:C.root},e))}var R=t(37089),P=t(50353),T=t(44012),I=t(94184),M=t.n(I),A=t(75459),U=t(39154),B=t(79558),$=t(29360),D=t(54545);const W={root:`${E}-root`,title:`${E}-title`,noResults:`${E}-no-results`,showMore:`${E}-show-more`,dialogRoot:`${E}-dialog-root`,endMessage:`${E}-end-message`},k=(0,n.ZP)(j.Z,{name:E,slot:"Root"})((()=>({}))),K=(0,n.ZP)(U.Z,{name:E,slot:"DialogRoot"})((()=>({})));const z=function(e){const s=(0,$.Z)({props:e,name:E}),{userId:t,user:n,autoHide:j=!1,limit:_=3,className:C,UserProps:L={},cacheStrategy:I=x.n2.NETWORK_ONLY,onHeightChange:U,onStateChange:z,DialogProps:X={}}=s,H=(0,o._T)(s,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[Y,G]=(0,i.useReducer)(S.Xi,{isLoadingNext:!1,next:null,cacheKey:b.hu(b.I$,(0,y.U)(t)?t:n.id),cacheStrategy:I,visibleItems:_},S.Mv),[V,q]=(0,i.useState)(!1),J=(0,O.LD)(),Q=(0,N.ko)(),{scUser:ee,refresh:se}=(0,w.Z)({id:t,user:n}),te=(0,i.useMemo)((()=>J.user&&(null==ee?void 0:ee.id)===J.user.id),[J.user,ee]),oe=(0,i.useMemo)((()=>v.Ao in Q.preferences&&Q.preferences[v.Ao].value),[Q.preferences]),ae=(0,i.useMemo)((()=>v.$0 in Q.preferences&&Q.preferences[v.$0].value),[Q.preferences]),ie=(0,r.Z)(),ne=(0,c.Z)(ie.breakpoints.down("md")),le=(0,i.useMemo)((()=>()=>{Y.initialized||Y.isLoadingNext||(G({type:S.dK.LOADING_NEXT}),h.Z.getUserFollowers(ee.id,{limit:_}).then((e=>{G({type:S.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{G({type:S.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),f.Y.error(A.J,e)})))}),[Y.isLoadingNext,Y.initialized,ee,_,G]);(0,i.useEffect)((()=>{var e;let s;if((oe||!oe&&(null===(e=J.user)||void 0===e?void 0:e.id))&&ae&&ee&&void 0!==J.user)return s=setTimeout(le),()=>{s&&clearTimeout(s)}}),[J.user,oe,ee]),(0,i.useEffect)((()=>{V&&Y.next&&Y.results.length===_&&Y.initialized&&(G({type:S.dK.LOADING_NEXT}),h.Z.getUserFollowers(ee.id,{offset:_,limit:10}).then((e=>{G({type:S.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{G({type:S.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),f.Y.error(A.J,e)})))}),[V,Y.next,Y.results.length,Y.initialized,_]),(0,i.useEffect)((()=>{U&&U()}),[Y.results]),(0,i.useEffect)((()=>{ee&&ae&&(oe||J.user)&&I===x.n2.NETWORK_ONLY&&z&&z({cacheStrategy:x.n2.CACHE_FIRST})}),[J.user,ee,oe]),(0,i.useEffect)((()=>{ee&&ae&&J.user&&Y.initialized&&!te&&se().catch((()=>{}))}),[te,J.managers.followed.followed.length]);const re=(0,i.useMemo)((()=>()=>{G({type:S.dK.LOADING_NEXT}),p.Z.request({url:Y.next,method:Z.Z.UserFollowers.method}).then((e=>{G({type:S.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[G,Y.next,Y.isLoadingNext,Y.initialized]),ce=()=>{q((e=>!e))};if(!ae||j&&!Y.count&&Y.initialized||!oe&&!J.user||!ee)return(0,a.jsx)(D.Z,{});if(!Y.initialized)return(0,a.jsx)(F,{});const ue=(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(d.Z,Object.assign({className:W.title,variant:"h5"},{children:(0,a.jsx)(T.Z,{id:"ui.userFollowersWidget.title",defaultMessage:"ui.userFollowersWidget.title",values:{total:ee.followers_counter}})})),Y.count?(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(l.Z,{children:Y.results.slice(0,Y.visibleItems).map((e=>(0,a.jsx)(g.ZP,{children:(0,a.jsx)(R.Z,Object.assign({elevation:0,user:e},L))},e.id)))}),Y.count>Y.visibleItems&&(0,a.jsx)(m.Z,Object.assign({className:W.showMore,onClick:ce},{children:(0,a.jsx)(T.Z,{id:"ui.userFollowersWidget.button.showAll",defaultMessage:"ui.userFollowersWidget.button.showAll"})}))]}):(0,a.jsx)(d.Z,Object.assign({className:W.noResults,variant:"body2"},{children:(0,a.jsx)(T.Z,{id:"ui.userFollowersWidget.subtitle.noResults",defaultMessage:""})})),V&&(0,a.jsx)(K,Object.assign({className:W.dialogRoot,title:(0,a.jsx)(T.Z,{defaultMessage:"ui.userFollowersWidget.title",id:"ui.userFollowersWidget.title",values:{total:ee.followers_counter}}),onClose:ce,open:V},X,{children:(0,a.jsx)(B.Z,Object.assign({dataLength:Y.results.length,next:re,hasMoreNext:Boolean(Y.next),loaderNext:(0,a.jsx)(P.Z,Object.assign({elevation:0},L)),height:ne?"100%":400,endMessage:(0,a.jsx)(d.Z,Object.assign({className:W.endMessage},{children:(0,a.jsx)(T.Z,{id:"ui.userFollowersWidget.noMoreResults",defaultMessage:"ui.userFollowersWidget.noMoreResults"})}))},{children:(0,a.jsx)(l.Z,{children:Y.results.map((e=>(0,a.jsx)(g.ZP,{children:(0,a.jsx)(R.Z,Object.assign({elevation:0,user:e},L))},e.id)))})}))}))]});return(0,a.jsx)(k,Object.assign({className:M()(W.root,C)},H,{children:ue}))}},15927:(e,s,t)=>{t.d(s,{Mv:()=>n,Xi:()=>i,dK:()=>a});var o=t(59219);const a={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function i(e,s){var t;let i=Object.assign({},e);switch(s.type){case a.LOADING_NEXT:i=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case a.LOADING_PREVIOUS:i=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case a.LOAD_NEXT_SUCCESS:i=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:s.payload.count,next:s.payload.next?s.payload.next:null,results:[...e.results,...s.payload.results],errorLoadNext:null,initialized:(null===(t=s.payload)||void 0===t?void 0:t.initialized)||!0});break;case a.LOAD_PREVIOUS_SUCCESS:i=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:s.payload.count,previous:s.payload.previous?s.payload.previous:null,results:[...s.payload.results,...e.results],errorPreviousNext:null});break;case a.SET_RESULTS:i=Object.assign(Object.assign(Object.assign({},e),{results:[...s.payload.results]}),s.payload.count?{count:s.payload.count}:{});break;case a.SET_VISIBLE_ITEMS:i=Object.assign(Object.assign({},e),{visibleItems:s.payload.visibleItems});break;case a.LOAD_NEXT_FAILURE:i=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:s.payload.error});break;case a.LOAD_PREVIOUS_FAILURE:i=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:s.payload.error});break;case a.RESET:i={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return o.ZP.set(i.cacheKey,i),i}function n(e){let s={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(s.cacheKey&&o.ZP.hasKey(s.cacheKey)&&e.cacheStrategy!==o.n2.NETWORK_ONLY){const e=o.ZP.get(s.cacheKey);return Object.assign(Object.assign({},s),e)}return s}},29409:(e,s,t)=>{var o;t.d(s,{i:()=>o}),function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(o||(o={}))},5840:(e,s,t)=>{function o(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}t.d(s,{U:()=>o})}}]);