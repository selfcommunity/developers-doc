"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[34240],{92991:(e,t,n)=>{n.d(t,{Z:()=>E});var o=n(67294),a=n(27331),i=n(5730);function s(e,t){void 0===e&&(e=""),void 0===t&&(t={});const n=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:n})}function r(){if((0,i.Z)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:a.r.user.client_id,grant_type:"refresh_token"};return s(`${a.r.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function c(){const e=(0,i.Z)(),[t,n]=(0,o.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,o.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?s(`${a.r.portal}/oauth/token/`,a.r.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{n(e)})):e&&n(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,o.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var l=n(53704),m=n(21367),u=n(19666),p=n(85893);function E(e){let{children:t}=e;const n=c(),o={portal:a.r.portal,locale:{default:"en"},session:{type:"OAuth",clientId:a.r.user.client_id,authToken:n,handleRefreshToken:r},theme:m.Z,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,p.jsx)(u.Z,{children:()=>(0,p.jsx)(l.ZP,{conf:o,children:t})})}},27331:(e,t,n)=>{n.d(t,{r:()=>o});const o={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://api.fashionista.community"}},61353:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>K,contentTitle:()=>Y,default:()=>X,frontMatter:()=>W,metadata:()=>H,toc:()=>q});var o=n(85893),a=n(11151),i=n(92991),s=n(97582),r=n(90948),c=n(10155),l=n(5616),m=n(93946),u=n(69417),p=n(34386),E=n(87952),N=n(90263),d=n(67294),f=n(67564),g=n(29628),_=n(94184),h=n.n(_),O=n(88078);const T="SCNavigationToolbar",b={root:`${T}-skeleton-root`,logo:`${T}-logo`,navigation:`${T}-navigation`,avatar:`${T}-avatar`},Z=(0,r.ZP)(c.Z,{name:T,slot:"SkeletonRoot"})((()=>({})));function P(){return d.createElement(Z,{className:b.root},d.createElement(O.Z,{className:b.logo,animation:"wave",variant:"rectangular"}),d.createElement(O.Z,{className:b.navigation,animation:"wave",variant:"rectangular"}),d.createElement(O.Z,{className:b.avatar,animation:"wave",variant:"rounded"}))}var S=n(44012),I=n(25464),v=n(41538),k=n(97265),C=n(12132),y=n(87430);const R={root:`${T}-notifications-menu-root`,paper:`${T}-paper`,notifications:`${T}-notifications`,link:`${T}-link`},M=(0,r.ZP)(I.Z,{name:T,slot:"NotificationsMenuRoot"})((()=>({})));function A(e){const t=(0,g.Z)({props:e,name:T}),{PaperProps:n={className:R.paper},MenuListProps:o={component:l.Z},SnippetNotificationsProps:a={}}=t,i=(0,s._T)(t,["PaperProps","MenuListProps","SnippetNotificationsProps"]),r=(0,v.sy)();return d.createElement(M,Object.assign({className:R.root,PaperProps:n,MenuListProps:o},i),d.createElement(y.Z,Object.assign({className:R.notifications},a)),d.createElement(u.Z,{className:R.link,component:k.Z,to:r.url(C.USER_NOTIFICATIONS_ROUTE_NAME,{}),variant:"text"},d.createElement(S.Z,{id:"ui.header.notifications.button.seeMore",defaultMessage:"ui.header.notifications.button.seeMore"})))}var j=n(74891),L=n(29664),U=n(68501),w=n(72951),x=n(85472),D=n(68689),J=n(66380),$=n(47634);const F={root:`${T}-root`,logo:`${T}-logo`,register:`${T}-register`,navigation:`${T}-navigation`,home:`${T}-home`,explore:`${T}-explore`,search:`${T}-search`,composer:`${T}-composer`,profile:`${T}-profile`,notification:`${T}-notification`,notificationsMenu:`${T}-notifications-menu`,messages:`${T}-messages`,settings:`${T}-settings`,active:`${T}-active`},B=(0,r.ZP)(c.Z,{name:T,slot:"Root"})((()=>({}))),G=[x.Y9,x.Ao,x.dL,x.Qm];const V=function(e){const t=(0,g.Z)({props:e,name:T}),{value:n="",className:o="",disableSearch:a=!1,disableComposer:i=!1,SearchAutocompleteProps:r={},startActions:c=null,endActions:_=null,NavigationSettingsIconButtonComponent:O=L.Z,children:b=null,NotificationMenuProps:Z={},ComposerIconButtonProps:I={},onOpenNotificationMenu:y,onCloseNotificationMenu:R}=t,M=(0,s._T)(t,["value","className","disableSearch","disableComposer","SearchAutocompleteProps","startActions","endActions","NavigationSettingsIconButtonComponent","children","NotificationMenuProps","ComposerIconButtonProps","onOpenNotificationMenu","onCloseNotificationMenu"]),V=(0,D.LD)(),W=(0,v.sy)(),Y=(0,J.ko)(),H=(0,d.useMemo)((()=>{const e={};return G.map((t=>e[t]=t in Y.preferences?Y.preferences[t].value:null)),e}),[Y.preferences]),K=(0,d.useMemo)((()=>Y.features.includes(w.$.PRIVATE_MESSAGING)),[Y.features]),[q,Q]=d.useState(null),X=()=>{Q(null),R&&R()};if(V.loading)return d.createElement(P,null);const z=b||d.createElement(l.Z,{className:F.navigation},V.user&&d.createElement(m.Z,{className:h()(F.home,{[F.active]:n.startsWith(W.url(C.HOME_ROUTE_NAME,{}))}),"aria-label":"Home",to:W.url(C.HOME_ROUTE_NAME,{}),component:k.Z},d.createElement(f.Z,null,"home")),H[x.Y9]&&(H[x.Ao]||V.user)&&d.createElement(m.Z,{className:h()(F.explore,{[F.active]:n.startsWith(W.url(C.EXPLORE_ROUTE_NAME,{}))}),"aria-label":"Explore",to:W.url(C.EXPLORE_ROUTE_NAME,{}),component:k.Z},d.createElement(f.Z,null,"explore")));return d.createElement(B,Object.assign({className:h()(o,F.root)},M),d.createElement($.Z,null),d.createElement(k.Z,{to:W.url(C.HOME_ROUTE_NAME,{}),className:F.logo},d.createElement("img",{src:H[x.dL],alt:"logo"})),!V.user&&!H[x.Qm]&&d.createElement(u.Z,{color:"inherit",component:k.Z,to:W.url(C.SIGNUP_ROUTE_NAME,{}),className:F.register},d.createElement(S.Z,{id:"ui.appBar.navigation.register",defaultMessage:"ui.appBar.navigation.register"})),z,!H[x.Ao]&&!V.user||a?d.createElement(l.Z,{className:F.search}):d.createElement(j.Z,Object.assign({className:F.search,blurOnSelect:!0},r)),c,V.user?d.createElement(d.Fragment,null,!i&&d.createElement(U.Z,Object.assign({className:F.composer},I)),d.createElement(p.Z,{title:V.user.username},d.createElement(m.Z,{component:k.Z,to:W.url(C.USER_PROFILE_ROUTE_NAME,V.user),"aria-label":"Profile",className:F.profile},d.createElement(E.Z,{alt:V.user.username,src:V.user.avatar}))),d.createElement(d.Fragment,null,d.createElement(m.Z,{className:h()(F.notification,{[F.active]:n.startsWith(W.url(C.USER_NOTIFICATIONS_ROUTE_NAME,{}))}),"aria-label":"Notification",onClick:e=>{Q(e.currentTarget),y&&y()}},d.createElement(N.Z,{badgeContent:V.user.unseen_notification_banners_counter+V.user.unseen_interactions_counter,color:"secondary"},d.createElement(f.Z,null,"notifications_active"))),d.createElement(A,Object.assign({className:F.notificationsMenu,id:"notification-menu",anchorEl:q,open:Boolean(q),onClose:X,onClick:X,transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"}},Z))),K&&d.createElement(m.Z,{className:h()(F.messages,{[F.active]:n.startsWith(W.url(C.USER_PRIVATE_MESSAGES_ROUTE_NAME,{}))}),"aria-label":"Messages",to:W.url(C.USER_PRIVATE_MESSAGES_ROUTE_NAME,{}),component:k.Z},d.createElement(N.Z,{badgeContent:0,color:"secondary"},d.createElement(f.Z,null,"email"))),_,d.createElement(O,{className:F.settings})):d.createElement(d.Fragment,null,_,d.createElement(u.Z,{color:"inherit",component:k.Z,to:W.url(C.SIGNIN_ROUTE_NAME,{})},d.createElement(S.Z,{id:"ui.appBar.navigation.login",defaultMessage:"ui.appBar.navigation.login"}))))},W={sidebar_label:"Navigation Toolbar",sidebar_position:1,title:"Navigation Toolbar"},Y=void 0,H={id:"sdk/community-js/react-ui/Components/NavigationToolbar",title:"Navigation Toolbar",description:"The Navigation Toolbar component renders the application header.",source:"@site/docs/sdk/community-js/react-ui/Components/NavigationToolbar.mdx",sourceDirName:"sdk/community-js/react-ui/Components",slug:"/sdk/community-js/react-ui/Components/NavigationToolbar",permalink:"/docs/sdk/community-js/react-ui/Components/NavigationToolbar",draft:!1,unlisted:!1,editUrl:"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/NavigationToolbar.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Navigation Toolbar",sidebar_position:1,title:"Navigation Toolbar"},sidebar:"sdkSidebar",previous:{title:"Loyalty Program",permalink:"/docs/sdk/community-js/react-ui/Components/LoyaltyProgram"},next:{title:"Navigation Toolbar Mobile",permalink:"/docs/sdk/community-js/react-ui/Components/NavigationToolbarMobile"}},K={},q=[{value:"Usage",id:"usage",level:4}];function Q(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsxs)(t.p,{children:["The Navigation Toolbar component renders the application header.",(0,o.jsx)("br",{}),"\nNavigation Toolbar allows users to perform search action, to create contributes and to navigate through the entire application through shortcuts that refer to the main sections (such as home, feed, profile, notifications, etc)."]}),"\n"]}),"\n","\n","\n",(0,o.jsx)(i.Z,{children:(0,o.jsx)(V,{})}),"\n",(0,o.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {NavigationToolbar} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><NavigationToolbar /></SCContextProvider>\n   );\n }\n"})})]})}function X(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(Q,{...e})}):Q(e)}},68501:(e,t,n)=>{n.d(t,{Z:()=>P});var o=n(97582),a=n(67294),i=n(90948),s=n(93946),r=n(67564),c=n(68689),l=n(53704),m=n(41538),u=n(65580),p=n(97265),E=n(12132),N=n(94184),d=n.n(N),f=n(29628),g=n(44012),_=n(9181),h=n(20377),O=n(70050);const T="SCComposerIconButton",b={root:`${T}-root`},Z=(0,i.ZP)(s.Z,{name:T,slot:"Root"})((()=>({}))),P=a.forwardRef((function(e,t){const n=(0,f.Z)({props:e,name:T}),{className:i=null,ComposerProps:s={},onClick:N}=n,P=(0,o._T)(n,["className","ComposerProps","onClick"]),[S,I]=(0,a.useState)(!1),v=(0,c.LD)(),k=(0,l.RM)(),C=(0,m.sy)(),{enqueueSnackbar:y}=(0,h.Ds)(),R=(0,a.useCallback)((e=>{v.user?u.IT(v.user)?y(a.createElement(g.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):I(!0):k.settings.handleAnonymousAction(),N&&N(e)}),[N,y,k.settings,v.user]),M=(0,a.useCallback)((()=>{I(!1)}),[]),A=(0,a.useMemo)((()=>e=>{I(!1),y(a.createElement(g.Z,{id:"ui.composerIconButton.composer.success",defaultMessage:"ui.composerIconButton.composer.success"}),{action:t=>a.createElement(p.Z,{to:C.url(E[`${e.type.toUpperCase()}_ROUTE_NAME`],(0,O.p3)(e))},a.createElement(g.Z,{id:"ui.composerIconButton.composer.viewContribute",defaultMessage:"ui.composerIconButton.composer.viewContribute"})),variant:"success",autoHideDuration:7e3})}),[]);return a.createElement(a.Fragment,null,a.createElement(Z,Object.assign({className:d()(b.root,i)},P,{onClick:R,ref:t}),a.createElement(r.Z,null,"add_circle_outline")),a.createElement(_.Z,Object.assign({open:S,fullWidth:!0,onClose:M,onSuccess:A},s)))}))},87430:(e,t,n)=>{n.d(t,{Z:()=>ie});var o=n(97582),a=n(67294),i=n(90948),s=n(16362),r=n(63084),c=n(29736),l=n(10930),m=n(87576),u=n(52227),p=n(32527),E=n(80101),N=n(39711),d=n(65499),f=n(88942),g=n(60241),_=n(75459),h=n(1798),O=n.n(h),T=n(56114),b=n(5616),Z=n(84118),P=n(18972),S=n(87952),I=n(15861),v=n(94944),k=n(94184),C=n.n(k),y=n(78462),R=n(2734),M=n(97212),A=n(88078),j=n(79467),L=n(68693);const U="SCSnippetNotifications",w={root:`${U}-skeleton-root`,list:`${U}-list`,item:`${U}-item`},x=(0,i.ZP)(y.Z,{name:U,slot:"SkeletonRoot"})((()=>({})));function D(e){const t=(0,R.Z)(),n=a.createElement(j.Z,{className:w.item,template:L.u.SNIPPET,image:a.createElement(A.Z,{animation:"wave",variant:"circular",width:t.selfcommunity.user.avatar.sizeSmall,height:t.selfcommunity.user.avatar.sizeSmall}),primary:a.createElement(A.Z,{animation:"wave",height:10,width:120,style:{marginBottom:10}}),secondary:a.createElement(A.Z,{animation:"wave",height:10,width:70,style:{marginBottom:10}})});return a.createElement(x,Object.assign({className:w.root},e),[...Array(7)].map(((e,t)=>a.createElement(M.ZP,{className:w.item,key:t},n))))}var J=n(88529),$=n(86896),F=n(44012),B=n(20342),G=n(65001),V=n(24085),W=n(99960),Y=n(85472),H=n(68689),K=n(41538),q=n(66380),Q=n(29234),X=n(97265),z=n(12132),ee=n(29628),te=n(36513);const ne={root:`${U}-root`,notificationsWrap:`${U}-notifications-wrap`,emptyBoxNotifications:`${U}-empty-box-notifications`,list:`${U}-list`,broadcastMessagesBanner:`${U}-broadcast-messages-banner`,item:`${U}-item`},oe=(0,i.ZP)(b.Z,{name:U,slot:"Root"})((()=>({}))),ae=[Y.iH,Y.QX];const ie=function(e){const t=(0,ee.Z)({props:e,name:U}),{id:n="snippetNotifications",className:i,showMax:h=20,handleCustomNotification:k,handleNotification:y,ScrollContainerProps:R={},onNotificationClick:M,onFetchNotifications:A}=t,w=(0,o._T)(t,["id","className","showMax","handleCustomNotification","handleNotification","ScrollContainerProps","onNotificationClick","onFetchNotifications"]),x=(0,H.LD)(),ie=(0,K.sy)(),[se,re]=(0,a.useState)([]),[ce,le]=(0,a.useState)(!1),[me,ue]=(0,a.useState)(!1),pe=(0,a.useRef)(null),Ee=(0,q.ko)(),Ne=(0,a.useMemo)((()=>{const e={};return ae.map((t=>e[t]=t in Ee.preferences?Ee.preferences[t].value:null)),e}),[Ee.preferences]),de=(0,$.Z)(),fe=(0,a.useMemo)((()=>()=>G.Z.request({url:V.Z.UserNotificationList.url(),method:V.Z.UserNotificationList.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[]),ge=(0,a.useMemo)((()=>()=>{le(!0),me||(ue(!0),fe().then((e=>{re(e.results),ue(!1),x.refreshCounters(),A&&A(e.results)})).catch((e=>{W.Y.error(_.J,e)})))}),[me,se.length,A,le]);(0,a.useEffect)((()=>{let e;if(x.user&&!ce)return e=setTimeout(ge),()=>{e&&clearTimeout(e)}}),[x.user,ce]);const _e=(e,t)=>{t&&t.type===B.E.INTERACTION&&Q.hP[t.data.activity_type]&&!Q.$A.includes(t.data.activity_type)&&t.data.notification_obj&&re([{is_new:!0,sid:"",aggregated:[t.data.notification_obj]},...se])};return(0,a.useEffect)((()=>(me||(pe.current=O().subscribe(B.E.INTERACTION,_e)),()=>{pe.current&&O().unsubscribe(pe.current)})),[me]),a.createElement(oe,Object.assign({id:n,className:C()(ne.root,i)},w),a.createElement(b.Z,{className:ne.notificationsWrap},!ce||me?a.createElement(D,{elevation:0}):a.createElement(J.Z,Object.assign({},R),a.createElement(Z.Z,{className:ne.list,disabledItemsFocusable:!0,disableListWrap:!0},x.user.unseen_notification_banners_counter?a.createElement(P.Z,{className:C()(ne.item,ne.broadcastMessagesBanner),key:"banner",component:X.Z,to:ie.url(z.USER_NOTIFICATIONS_ROUTE_NAME,{})},a.createElement(j.Z,{template:L.u.SNIPPET,isNew:!0,disableTypography:!0,image:a.createElement(S.Z,{alt:Ne[Y.QX],src:Ne[Y.iH]}),primary:a.createElement(I.Z,{component:"div"},de.formatMessage({id:"ui.snippetNotifications.broadcastMessages",defaultMessage:"ui.snippetNotifications.broadcastMessages"},{count:x.user.unseen_notification_banners_counter,b:(...e)=>a.createElement("strong",null,e),link:(...e)=>a.createElement(X.Z,{to:ie.url(z.USER_NOTIFICATIONS_ROUTE_NAME,{})},e)}))})):null,0===se.length?a.createElement(P.Z,{className:ne.emptyBoxNotifications},a.createElement(F.Z,{id:"ui.snippetNotifications.noNotifications",defaultMessage:"ui.snippetNotifications.noNotifications"})):se.slice(0,h).map(((e,t)=>e.aggregated.map(((e,n)=>a.createElement(P.Z,{className:ne.item,key:n,onClick:t=>((e,t)=>{M&&M(e,t)})(t,e),disableRipple:!0,disableTouchRipple:!0},((e,t)=>{const n=e.type;let o;return n===B.J.COMMENT||n===B.J.NESTED_COMMENT?o=a.createElement(s.Z,{notificationObject:e,key:t,index:t,template:L.u.SNIPPET}):n===B.J.FOLLOW?o=a.createElement(T.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.USER_FOLLOW?o=a.createElement(r.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.CONNECTION_REQUEST||n===B.J.CONNECTION_ACCEPT?o=a.createElement(m.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.VOTE_UP?o=a.createElement(g.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.KINDLY_NOTICE_ADVERTISING||n===B.J.KINDLY_NOTICE_AGGRESSIVE||n===B.J.KINDLY_NOTICE_POOR||n===B.J.KINDLY_NOTICE_VULGAR||n===B.J.KINDLY_NOTICE_OFFTOPIC?o=a.createElement(d.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.KINDLY_NOTICE_FLAG?o=a.createElement(f.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.DELETED_FOR_ADVERTISING||n===B.J.DELETED_FOR_AGGRESSIVE||n===B.J.DELETED_FOR_POOR||n===B.J.DELETED_FOR_VULGAR||n===B.J.DELETED_FOR_OFFTOPIC?o=a.createElement(l.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.UNDELETED_FOR?o=a.createElement(c.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.COLLAPSED_FOR_ADVERTISING||n===B.J.COLLAPSED_FOR_AGGRESSIVE||n===B.J.COLLAPSED_FOR_POOR||n===B.J.COLLAPSED_FOR_VULGAR||n===B.J.COLLAPSED_FOR_OFFTOPIC?o=a.createElement(N.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.PRIVATE_MESSAGE?o=a.createElement(u.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.BLOCKED_USER||n===B.J.UNBLOCKED_USER?o=a.createElement(p.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.MENTION?o=a.createElement(E.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.INCUBATOR_APPROVED?o=a.createElement(v.Z,{notificationObject:e,key:t,template:L.u.SNIPPET}):n===B.J.CUSTOM_NOTIFICATION&&k?o=k(e):n===B.J.CONTRIBUTION&&(o=a.createElement(te.Z,{notificationObject:e,key:t,template:L.u.SNIPPET})),n&&y&&(o=y(n,e,o)),o})(e,t))))))))))}}}]);