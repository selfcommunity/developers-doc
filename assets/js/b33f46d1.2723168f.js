"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[8456],{92991:(e,t,s)=>{s.d(t,{Z:()=>h});var n=s(67294),o=s(27331),i=s(5730);function r(e,t){void 0===e&&(e=""),void 0===t&&(t={});const s=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:s})}function a(){if((0,i.Z)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:o.r.user.client_id,grant_type:"refresh_token"};return r(`${o.r.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function u(){const e=(0,i.Z)(),[t,s]=(0,n.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,n.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?r(`${o.r.portal}/oauth/token/`,o.r.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{s(e)})):e&&s(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,n.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var c=s(62254),g=s(38733),l=s(19666),d=s(85893);function h(e){let{children:t}=e;const s=u(),n={portal:o.r.portal,locale:{default:"en"},session:{type:"OAuth",clientId:o.r.user.client_id,authToken:s,handleRefreshToken:a},theme:g.ZP,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,d.jsx)(l.Z,{children:()=>(0,d.jsx)(c.ZP,{conf:n,children:t})})}},27331:(e,t,s)=>{s.d(t,{r:()=>n});const n={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://api.fashionista.community"}},39301:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>J,contentTitle:()=>X,default:()=>H,frontMatter:()=>B,metadata:()=>z,toc:()=>F});var n=s(85893),o=s(11151),i=s(92991),r=s(97582),a=s(67294),u=s(90948),c=s(2734),g=s(37292),l=s(44267),d=s(15861),h=s(78462),b=s(97212),m=s(25662),p=s(31924),S=s(24243),j=s(24085),f=s(59219),x=s(99960),Z=s(22607),y=s(69721),k=s(61137),I=s(63902);const v="SCIncubatorSuggestionWidget",O={root:`${v}-skeleton-root`,list:`${v}-list`},C=(0,u.ZP)(I.Z,{name:v,slot:"SkeletonRoot"})((()=>({})));function N(e){return(0,n.jsx)(C,Object.assign({className:O.root},e,{children:(0,n.jsx)(l.Z,{children:(0,n.jsx)(h.Z,Object.assign({className:O.list},{children:[...Array(4)].map(((e,t)=>(0,n.jsx)(k.Z,{elevation:0},t)))}))})}))}var _=s(75459),w=s(44012),T=s(20819),E=s.n(T),P=s(39154),L=s(79558),M=s(94586),R=s(29360),A=s(82213),U=s(54545),W=s(15927);const D={root:`${v}-root`,title:`${v}-title`,noResults:`${v}-no-results`,showMore:`${v}-show-more`,dialogRoot:`${v}-dialog-root`,endMessage:`${v}-end-message`},G=(0,u.ZP)(I.Z,{name:v,slot:"Root"})((()=>({}))),K=(0,u.ZP)(P.Z,{name:v,slot:"DialogRoot"})((()=>({})));const $=function(e){const t=(0,R.Z)({props:e,name:v}),{autoHide:s=!0,limit:o=3,className:i,IncubatorProps:u={},cacheStrategy:I=f.n2.NETWORK_ONLY,onHeightChange:O,onStateChange:C,DialogProps:T={}}=t,P=(0,r._T)(t,["autoHide","limit","className","IncubatorProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),$=(0,Z.LD)(),[B,X]=(0,a.useReducer)(W.Xi,{isLoadingNext:!1,next:null,cacheKey:y.hu(y.xh),cacheStrategy:I,visibleItems:o},W.Mv),[z,J]=(0,a.useState)(!1),[F,q]=(0,a.useState)(!1),[H,Y]=(0,a.useState)(null),Q=(0,c.Z)(),V=(0,g.Z)(Q.breakpoints.down("md")),ee=(0,a.useMemo)((()=>()=>{B.initialized||B.isLoadingNext||(X({type:W.dK.LOADING_NEXT}),p.Z.getIncubatorSuggestion({limit:o}).then((e=>{X({type:W.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{X({type:W.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(_.J,e)})))}),[B.isLoadingNext,B.initialized,o,X]);(0,a.useEffect)((()=>{let e;if($.user)return e=setTimeout(ee),()=>{e&&clearTimeout(e)}}),[$.user]),(0,a.useEffect)((()=>{z&&B.next&&B.results.length===o&&B.initialized&&(X({type:W.dK.LOADING_NEXT}),p.Z.getIncubatorSuggestion({offset:o,limit:10}).then((e=>{X({type:W.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{X({type:W.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(_.J,e)})))}),[z,B.next,B.results.length,B.initialized,o]),(0,a.useEffect)((()=>{O&&O()}),[B.results]),(0,a.useEffect)((()=>{$.user&&I===f.n2.NETWORK_ONLY&&C&&C({cacheStrategy:f.n2.CACHE_FIRST})}),[$.user,I]);const te=(0,a.useMemo)((()=>e=>{q(!0),J(!1),Y(e)}),[q,J,Y]),se=(0,a.useMemo)((()=>()=>{J((e=>!e))}),[]),ne=e=>{const t=[...B.results],s=t.findIndex((t=>t.id===e.id));-1!==s&&(e.subscribed?(t[s].subscribers_count=e.subscribers_count-1,t[s].subscribed=!e.subscribed):(t[s].subscribers_count=e.subscribers_count+1,t[s].subscribed=!e.subscribed),X({type:W.dK.SET_RESULTS,payload:{results:t}}))},oe=(0,a.useMemo)((()=>()=>{X({type:W.dK.LOADING_NEXT}),S.Z.request({url:B.next,method:j.Z.GetIncubatorSuggestion.method}).then((e=>{X({type:W.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[X,B.next,B.isLoadingNext,B.initialized]);if(s&&!B.count&&B.initialized||!$.user)return(0,n.jsx)(U.Z,{});if(!B.initialized)return(0,n.jsx)(N,{});const ie=(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(d.Z,Object.assign({className:D.title,variant:"h5"},{children:(0,n.jsx)(w.Z,{id:"ui.incubatorSuggestionWidget.title",defaultMessage:"ui.incubatorSuggestionWidget.title"})})),B.count?(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(h.Z,{children:B.results.slice(0,B.visibleItems).map((e=>(0,n.jsx)(b.ZP,{children:(0,n.jsx)(M.Z,Object.assign({elevation:0,incubator:e,subscribeButtonProps:{onSubscribe:ne},ButtonProps:{onClick:()=>te(e)}},u))},e.id)))}),B.count>B.visibleItems&&(0,n.jsx)(m.Z,Object.assign({className:D.showMore,onClick:se},{children:(0,n.jsx)(w.Z,{id:"ui.incubatorSuggestionWidget.ShowAll",defaultMessage:"ui.incubatorSuggestionWidget.ShowAll"})}))]}):(0,n.jsx)(d.Z,Object.assign({className:D.noResults,variant:"body2"},{children:(0,n.jsx)(w.Z,{id:"ui.incubatorSuggestionWidget.noResults",defaultMessage:"ui.incubatorSuggestionWidget.noResults"})})),z&&(0,n.jsx)(K,Object.assign({className:D.dialogRoot,title:(0,n.jsx)(w.Z,{id:"ui.incubatorSuggestionWidget.title",defaultMessage:"ui.incubatorSuggestionWidget.title"}),onClose:se,open:z},T,{children:(0,n.jsx)(L.Z,Object.assign({dataLength:B.results.length,next:oe,hasMoreNext:Boolean(B.next),loaderNext:(0,n.jsx)(k.Z,Object.assign({elevation:0},u)),height:V?"100vh":400,endMessage:(0,n.jsx)(d.Z,Object.assign({className:D.endMessage},{children:(0,n.jsx)(w.Z,{id:"ui.incubatorSuggestionWidget.noMoreIncubators",defaultMessage:"ui.incubatorSuggestionWidget.noMoreIncubators"})}))},{children:(0,n.jsx)(h.Z,{children:B.results.map((e=>(0,n.jsx)(b.ZP,{children:(0,n.jsx)(M.Z,Object.assign({elevation:0,incubator:e,subscribeButtonProps:{onSubscribe:ne},ButtonProps:{onClick:()=>te(e)}},u))},e.id)))})}))})),F&&(0,n.jsx)(A.Z,{open:F,onClose:()=>{q(!1)},incubator:H,onSubscriptionsUpdate:ne})]});return(0,n.jsx)(G,Object.assign({className:E()(D.root,i)},P,{children:ie}))},B={sidebar_label:"Incubator Suggestion",sidebar_position:1,title:"Incubator Suggestion"},X=void 0,z={id:"sdk/community-js/react-ui/Components/IncubatorSuggestion",title:"Incubator Suggestion",description:"The Incubator Suggestion component renders a list of suggested incubators.",source:"@site/docs/sdk/community-js/react-ui/Components/IncubatorSuggestion.mdx",sourceDirName:"sdk/community-js/react-ui/Components",slug:"/sdk/community-js/react-ui/Components/IncubatorSuggestion",permalink:"/docs/sdk/community-js/react-ui/Components/IncubatorSuggestion",draft:!1,unlisted:!1,editUrl:"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/IncubatorSuggestion.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Incubator Suggestion",sidebar_position:1,title:"Incubator Suggestion"},sidebar:"sdkSidebar",previous:{title:"Incubator",permalink:"/docs/sdk/community-js/react-ui/Components/Incubator"},next:{title:"Incubators List",permalink:"/docs/sdk/community-js/react-ui/Components/IncubatorsList"}},J={},F=[{value:"Usage",id:"usage",level:4}];function q(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["The Incubator Suggestion component renders a list of suggested incubators.",(0,n.jsx)("br",{}),"\nThis list is composed of items containing incubator's title, info, a subscription status bar and a subscribe button that allows users to subscribe/unsubscribe to an incubator.",(0,n.jsx)("br",{}),"\nBy clicking the incubator title it is possible to open a modal card showing the incubators details and a section where it is possible to share the item on social networks.",(0,n.jsx)("br",{}),'\nThe incubators are shown in an orderly manner: few items are shown in the main card while the others can be displayed in a modal card by clicking on the "show all" button.']}),"\n"]}),"\n","\n","\n",(0,n.jsx)(i.Z,{children:(0,n.jsx)($,{})}),"\n",(0,n.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {IncubatorSuggestionWidget} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><IncubatorSuggestionWidget /></SCContextProvider>\n   );\n }\n"})})]})}function H(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(q,{...e})}):q(e)}},31924:(e,t,s)=>{s.d(t,{Z:()=>u});var n=s(97582),o=s(91705),i=s(24085),r=s(66821);class a{static getCategorySuggestion(e,t){return(0,o.N)(Object.assign(Object.assign({},t),{url:i.Z.CategoriesSuggestion.url({}),method:i.Z.CategoriesSuggestion.method,params:e}))}static getCourseSuggestion(e,t){return(0,o.N)(Object.assign(Object.assign({},t),{url:i.Z.CourseSuggestion.url({}),method:i.Z.CourseSuggestion.method,params:e}))}static getIncubatorSuggestion(e,t){return(0,o.N)(Object.assign(Object.assign({},t),{url:i.Z.GetIncubatorSuggestion.url({}),method:i.Z.GetIncubatorSuggestion.method,params:e}))}static getPollSuggestion(e,t){return(0,o.N)(Object.assign(Object.assign({},t),{url:i.Z.PollSuggestion.url({}),method:i.Z.PollSuggestion.method,params:e}))}static getUserSuggestion(e,t){return(0,o.N)(Object.assign(Object.assign({},t),{url:i.Z.UserSuggestion.url({}),method:i.Z.UserSuggestion.method,params:e}))}static getEventSuggestion(e,t){return(0,o.N)(Object.assign(Object.assign({},t),{url:i.Z.EventSuggestion.url({}),method:i.Z.EventSuggestion.method,params:e}))}static getSearchSuggestion(e,t,s){const n=(0,r.B)({search:e});return(0,o.N)(Object.assign(Object.assign({},s),{url:`${i.Z.SearchSuggestion.url({})}?${n.toString()}`,method:i.Z.UserSuggestion.method,params:t}))}}class u{static getCategorySuggestion(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return a.getCategorySuggestion(e,t)}))}static getCourseSuggestion(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return a.getCourseSuggestion(e,t)}))}static getIncubatorSuggestion(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return a.getIncubatorSuggestion(e,t)}))}static getPollSuggestion(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return a.getPollSuggestion(e,t)}))}static getUserSuggestion(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return a.getUserSuggestion(e,t)}))}static getEventSuggestion(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){return a.getEventSuggestion(e,t)}))}static getSearchSuggestion(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return a.getSearchSuggestion(e,t,s)}))}}}}]);