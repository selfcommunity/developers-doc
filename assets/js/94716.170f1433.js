"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[94716,30642],{31924:(e,t,a)=>{a.d(t,{Z:()=>r});var o=a(97582),s=a(91705),n=a(24085),i=a(66821);class l{static getCategorySuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.CategoriesSuggestion.url({}),method:n.Z.CategoriesSuggestion.method,params:e}))}static getIncubatorSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.GetIncubatorSuggestion.url({}),method:n.Z.GetIncubatorSuggestion.method,params:e}))}static getPollSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.PollSuggestion.url({}),method:n.Z.PollSuggestion.method,params:e}))}static getUserSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.UserSuggestion.url({}),method:n.Z.UserSuggestion.method,params:e}))}static getSearchSuggestion(e,t,a){const o=(0,i.B)({search:e});return(0,s.N)(Object.assign(Object.assign({},a),{url:`${n.Z.SearchSuggestion.url({})}?${o.toString()}`,method:n.Z.UserSuggestion.method,params:t}))}}class r{static getCategorySuggestion(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getCategorySuggestion(e,t)}))}static getIncubatorSuggestion(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getIncubatorSuggestion(e,t)}))}static getPollSuggestion(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getPollSuggestion(e,t)}))}static getUserSuggestion(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getUserSuggestion(e,t)}))}static getSearchSuggestion(e,t,a){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getSearchSuggestion(e,t,a)}))}}},98365:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(67294),s=a(74482),n=a(24243),i=a(24085),l=a(59219),r=a(96570),c=a(99960),u=a(69721),g=a(87620),d=a(68787);function m({id:e=null,category:t=null,cacheStrategy:a=l.n2.CACHE_FIRST}){const m=t?t.id:e,E=(0,d.LD)(),p=E.user?E.user.id:null,Z=(0,u.u5)(m),y=p?t:(0,r.Kd)(t,["followed"]),[S,h]=(0,o.useState)(a!==l.n2.NETWORK_ONLY?l.ZP.get(Z,y):null),[f,N]=(0,o.useState)(null),v=(0,o.useMemo)((()=>()=>n.Z.request({url:i.Z.Category.url({id:m}),method:i.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[m]);return(0,o.useEffect)((()=>{m&&(!S||S&&m!==S.id)&&v().then((e=>{const t=p?e:(0,r.Kd)(e,["followed"]);h(t),l.ZP.set(Z,t)})).catch((t=>{l.ZP.delete(Z),N(`Category with id ${e} not found`),c.Y.error(s.h,`Category with id ${e} not found`),c.Y.error(s.h,t.message)}))}),[m]),(0,g.F_)((()=>{if(t){const e=p?t:(0,r.Kd)(t,["followed"]);h(e),l.ZP.set(Z,e)}}),[t]),{scCategory:S,setSCCategory:h,error:f}}},94716:(e,t,a)=>{a.d(t,{Z:()=>C});var o=a(67294),s=a(90948),n=a(58069),i=a(5208),l=a(19326),r=a(30642),c=a(27807),u=a(38509),g=a(12805),d=a(37024),m=a(93132),E=a(24085),p=a(68787),Z=a(29628),y=a(94184),S=a.n(y),h=a(83781),f=a(20377),N=a(44012);const v="SCMainFeedTemplate",_={root:`${v}-root`},O=(0,s.ZP)(n.Z,{name:v,slot:"Root"})((()=>({}))),b=[{type:"widget",component:i.Z,componentProps:{},column:"right",position:0},{type:"widget",component:l.Z,componentProps:{},column:"right",position:1},{type:"widget",component:r.Z,componentProps:{},column:"right",position:2},{type:"widget",component:c.Z,componentProps:{},column:"right",position:3}];const C=function(e){const t=(0,Z.Z)({props:e,name:v}),{id:a="main_feed",className:s,widgets:n=b,FeedObjectProps:i={},FeedSidebarProps:l=null,FeedProps:r={}}=t,c=(0,o.useContext)(p.K8),{enqueueSnackbar:y}=(0,f.Ds)(),C=(0,o.useRef)();return c.user?o.createElement(O,Object.assign({id:a,className:S()(_.root,s),ref:C,endpoint:E.Z.MainFeed,widgets:n,ItemComponent:u.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:i,ItemSkeleton:g.Z,ItemSkeletonProps:{template:d.r.PREVIEW},FeedSidebarProps:l,HeaderComponent:o.createElement(m.Z,{onSuccess:e=>{y(o.createElement(N.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};C&&C.current&&C.current.addFeedData(t,!0)}}),requireAuthentication:!0,disablePaginationLinks:!0,enabledCustomAdvPositions:[h.n.POSITION_FEED_SIDEBAR,h.n.POSITION_FEED,h.n.POSITION_BELOW_TOPBAR]},r)):null}},95475:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(67294),s=a(78462),n=a(90948),i=a(74808),l=a(63902),r=a(44267),c=a(97212),u=a(3928);const g={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},d=(0,n.ZP)(l.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return o.createElement(d,Object.assign({className:g.root},e),o.createElement(r.Z,null,o.createElement(s.Z,{className:g.list},[...Array(4)].map(((e,t)=>o.createElement(c.ZP,{key:t},o.createElement(i.Z,{elevation:0})))))))}},3928:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCCategoriesSuggestionWidget"},30642:(e,t,a)=>{a.d(t,{Z:()=>B});var o=a(97582),s=a(67294),n=a(90948),i=a(2734),l=a(61730),r=a(44267),c=a(15861),u=a(78462),g=a(97212),d=a(25662),m=a(31924),E=a(24243),p=a(24085),Z=a(68787),y=a(69721),S=a(95475),h=a(42623),f=a(74808),N=a(44012),v=a(94184),_=a.n(v),O=a(63902),b=a(29628),C=a(54545),L=a(59219),P=a(99960),w=a(15927),R=a(39154),I=a(75459),T=a(79558),M=a(3928);const x={root:`${M.B}-root`,title:`${M.B}-title`,noResults:`${M.B}-no-results`,showMore:`${M.B}-show-more`,dialogRoot:`${M.B}-dialog-root`,endMessage:`${M.B}-end-message`},A=(0,n.ZP)(O.Z,{name:M.B,slot:"Root"})((()=>({}))),j=(0,n.ZP)(R.Z,{name:M.B,slot:"DialogRoot"})((()=>({})));const B=function(e){const t=(0,b.Z)({props:e,name:M.B}),{autoHide:a=!0,limit:n=3,className:v,CategoryProps:O={},cacheStrategy:R=L.n2.NETWORK_ONLY,onHeightChange:B,onStateChange:W,DialogProps:D={},categoryId:$}=t,F=(0,o._T)(t,["autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","categoryId"]),k=(0,Z.LD)(),[U,K]=(0,s.useReducer)(w.Xi,{isLoadingNext:!1,next:null,cacheKey:y.hu(y.DC),cacheStrategy:R,visibleItems:n},w.Mv),[z,X]=(0,s.useState)(!1),G=(0,i.Z)(),H=(0,l.Z)(G.breakpoints.down("md")),Y=(0,s.useMemo)((()=>()=>{U.initialized||U.isLoadingNext||(K({type:w.dK.LOADING_NEXT}),m.Z.getCategorySuggestion({limit:n}).then((e=>{K({type:w.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{K({type:w.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),P.Y.error(I.J,e)})))}),[U.isLoadingNext,U.initialized,n,K]);(0,s.useEffect)((()=>{let e;if(k.user)return e=setTimeout(Y),()=>{e&&clearTimeout(e)}}),[k.user]),(0,s.useEffect)((()=>{z&&U.next&&U.results.length<=n&&U.initialized&&(K({type:w.dK.LOADING_NEXT}),m.Z.getCategorySuggestion({offset:n,limit:10}).then((e=>{K({type:w.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{K({type:w.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),P.Y.error(I.J,e)})))}),[z,U.next,U.results.length,U.initialized,n]),(0,s.useEffect)((()=>{B&&B()}),[U.results]),(0,s.useEffect)((()=>{k.user&&R===L.n2.NETWORK_ONLY&&W&&W({cacheStrategy:L.n2.CACHE_FIRST})}),[k.user]);const V=(0,s.useMemo)((()=>e=>{const t=[...U.results],a=t.findIndex((t=>t.id===e.id));-1!==a&&(e.followed?(t[a].followers_counter=e.followers_counter-1,t[a].followed=!e.followed):(t[a].followers_counter=e.followers_counter+1,t[a].followed=!e.followed),K({type:w.dK.SET_RESULTS,payload:{results:t}}))}),[K,U.count,U.results]),q=(0,s.useMemo)((()=>()=>{K({type:w.dK.LOADING_NEXT}),E.Z.request({url:U.next,method:p.Z.CategoriesSuggestion.method}).then((e=>{K({type:w.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[K,U.next,U.isLoadingNext,U.initialized]),J=()=>{X((e=>!e))};if(a&&!U.count&&U.initialized||!k.user)return s.createElement(C.Z,null);if(!U.initialized)return s.createElement(S.Z,null);const Q=s.createElement(r.Z,null,s.createElement(c.Z,{className:x.title,variant:"h5"},s.createElement(N.Z,{id:"ui.categoriesSuggestionWidget.title",defaultMessage:"ui.categoriesSuggestionWidget.title"})),U.count?s.createElement(s.Fragment,null,s.createElement(u.Z,null,U.results.slice(0,U.visibleItems).map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(h.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:V}},O)))))),U.count>U.visibleItems&&s.createElement(d.Z,{className:x.showMore,onClick:J},s.createElement(N.Z,{id:"ui.categoriesSuggestionWidget.button.showAll",defaultMessage:"ui.categoriesSuggestionWidget.button.showAll"}))):s.createElement(c.Z,{className:x.noResults,variant:"body2"},s.createElement(N.Z,{id:"ui.categoriesSuggestionWidget.noResults",defaultMessage:"ui.categoriesSuggestionWidget.noResults"})),z&&s.createElement(j,Object.assign({className:x.dialogRoot,title:s.createElement(N.Z,{defaultMessage:"ui.categoriesSuggestionWidget.title",id:"ui.categoriesSuggestionWidget.title"}),onClose:J,open:z},D),s.createElement(T.Z,{dataLength:U.results.length,next:q,hasMoreNext:Boolean(U.next),loaderNext:s.createElement(f.Z,Object.assign({elevation:0},O)),height:H?"100%":400,endMessage:s.createElement(c.Z,{className:x.endMessage},s.createElement(N.Z,{id:"ui.categoriesSuggestionWidget.noMoreResults",defaultMessage:"ui.categoriesSuggestionWidget.noMoreResults"}))},s.createElement(u.Z,null,U.results.map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(h.Z,Object.assign({elevation:0,category:e},O,{categoryFollowButtonProps:{onFollow:V}})))))))));return s.createElement(A,Object.assign({className:_()(x.root,v)},F),Q)}},74808:(e,t,a)=>{a.d(t,{Z:()=>d});var o=a(67294),s=a(90948),n=a(88078),i=a(2734),l=a(25662),r=a(115),c=a(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},g=(0,s.ZP)(r.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function d(e){const t=(0,i.Z)();return o.createElement(g,Object.assign({className:u.root},e,{image:o.createElement(n.Z,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:o.createElement(n.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:o.createElement(n.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:o.createElement(l.Z,{size:"small",variant:"outlined",disabled:!0,className:u.button},o.createElement(n.Z,{animation:"wave",height:10,width:50,className:u.action}))}))}},40092:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCCategory"},42623:(e,t,a)=>{a.d(t,{Z:()=>_});var o=a(97582),s=a(67294),n=a(90948),i=a(87952),l=a(41538),r=a(98365),c=a(97265),u=a(12132),g=a(74808),d=a(75802),m=a(54490),E=a(86896),p=a(94184),Z=a.n(p),y=a(29628),S=a(75427),h=a(40092);const f=(0,m.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),N={root:`${h.B}-root`,categoryImage:`${h.B}-category-image`,title:`${h.B}-title`,actions:`${h.B}-actions`},v=(0,n.ZP)(S.Z,{name:h.B,slot:"Root"})((()=>({})));const _=function(e){const t=(0,y.Z)({props:e,name:h.B}),{categoryId:a=null,category:n=null,className:m=null,elevation:p,autoHide:S=!1,categoryFollowButtonProps:_={},showFollowers:O=!0,ButtonBaseProps:b=null}=t,C=(0,o._T)(t,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","ButtonBaseProps"]),L=(0,l.sy)(),{scCategory:P,setSCCategory:w}=(0,r.Z)({id:a,category:n}),R=(0,s.useMemo)((()=>b||{component:c.Z,to:L.url(u.CATEGORY_ROUTE_NAME,P)}),[b,L,P]),I=(0,E.Z)();return P?S?null:s.createElement(v,Object.assign({elevation:p,className:Z()(N.root,m),ButtonBaseProps:R,image:s.createElement(i.Z,{alt:P.name,src:P.image_medium,variant:"square",className:N.categoryImage}),primary:P.name,secondary:O?`${I.formatMessage(f.categoryFollowers,{total:P.followers_counter})}`:P.slogan,actions:s.createElement(d.Z,Object.assign({category:P},_))},C)):s.createElement(g.Z,{elevation:p})}},75802:(e,t,a)=>{a.d(t,{Z:()=>N});var o,s=a(97582),n=a(67294),i=a(90948),l=a(59219),r=a(99960),c=a(53704),u=a(68787),g=a(98365),d=a(75459),m=a(31812),E=a(44012),p=a(94184),Z=a.n(p),y=a(29628);!function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(o||(o={}));const S="SCCategoryFollowButton",h={root:`${S}-root`},f=(0,i.ZP)(m.Z,{name:S,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const N=function(e){const t=(0,y.Z)({props:e,name:S}),{className:a,categoryId:i,category:m,onFollow:p}=t,N=(0,s._T)(t,["className","categoryId","category","onFollow"]),v=(0,c.RM)(),_=(0,u.LD)(),O=_.managers.categories,b=_.user?_.user.id:null,{scCategory:C,setSCCategory:L}=(0,g.Z)({id:i,category:m,cacheStrategy:b?l.n2.CACHE_FIRST:l.n2.STALE_WHILE_REVALIDATE}),[P,w]=(0,n.useState)(null);return(0,n.useEffect)((()=>{b&&w(O.isFollowed(C))}),[b,O.isFollowed]),!C||C&&P&&C.auto_follow===o.FORCED?null:n.createElement(f,Object.assign({size:"small",variant:"outlined",onClick:()=>{_.user?O.follow(C).then((()=>{p&&p(C,!P)})).catch((e=>{r.Y.error(d.J,e)})):v.settings.handleAnonymousAction()},loading:_.user?null===P||O.isLoading(C):null,className:Z()(h.root,a)},N),P&&_.user?n.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):n.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},31717:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCInlineComposerWidget"},93132:(e,t,a)=>{a.d(t,{Z:()=>w});var o=a(97582),s=a(67294),n=a(53704),i=a(68787),l=a(41538),r=a(66380),c=a(85472),u=a(65580),g=a(97265),d=a(12132),m=a(44267),E=a(5616),p=a(25662),Z=a(87952),y=a(90948),S=a(44012),h=a(20377),f=a(63902),N=a(29628),v=a(91290),_=a(22461),O=a(70815),b=a(31717),C=a(54545);const L={root:`${b.B}-root`,content:`${b.B}-content`,input:`${b.B}-input`,avatar:`${b.B}-avatar`},P=(0,y.ZP)(f.Z,{name:b.B,slot:"Root"})((()=>({})));const w=function(e){const t=(0,N.Z)({props:e,name:b.B}),{mediaObjectTypes:a=[_.Z,O.Z],defaultValue:y,onSuccess:f=null,label:w}=t,R=(0,o._T)(t,["mediaObjectTypes","defaultValue","onSuccess","label"]),I=(0,n.RM)(),T=(0,i.LD)(),M=(0,l.sy)(),{enqueueSnackbar:x}=(0,h.Ds)(),A=(0,r.ko)(),j=(0,s.useMemo)((()=>A.preferences[c.Kq].value),[A.preferences]),[B,W]=(0,s.useState)(!1),D=(0,s.useCallback)((()=>{T.user?u.IT(T.user)?x(s.createElement(S.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):W(!0):I.settings.handleAnonymousAction()}),[T.user,I.settings]),$=(0,s.useCallback)((()=>{W(!1)}),[]);return!u.B2(T.user)&&j?s.createElement(C.Z,null):s.createElement(s.Fragment,null,s.createElement(P,Object.assign({className:L.root},R),s.createElement(m.Z,{className:L.content},s.createElement(E.Z,{className:L.input},s.createElement(p.Z,{variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:D,fullWidth:!0,color:"inherit"},null!=w?w:s.createElement(S.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"}))),s.createElement(E.Z,{className:L.avatar},T.user?s.createElement(g.Z,{to:M.url(d.USER_PROFILE_ROUTE_NAME,T.user)},s.createElement(Z.Z,{alt:T.user.username,variant:"circular",src:T.user.avatar})):s.createElement(Z.Z,{variant:"circular"})))),s.createElement(v.Z,{open:B,mediaObjectTypes:a,defaultValue:y,fullWidth:!0,onClose:$,onSuccess:e=>{f?f(e):x(s.createElement(S.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),W(!1)}}))}},19326:(e,t,a)=>{a.d(t,{Z:()=>x});var o=a(97582),s=a(67294),n=a(90948),i=a(44267),l=a(15861),r=a(62023),c=a(87918),u=a(25662),g=a(24243),d=a(24085),m=a(68787),E=a(66380),p=a(85472),Z=a(44012),y=a(41538),S=a(97265),h=a(12132),f=a(94184),N=a.n(f),v=a(63902),_=a(29628),O=a(54545),b=a(88078);const C="SCLoyaltyProgramWidget",L={root:`${C}-skeleton-root`,title:`${C}-title`,content:`${C}-content`,chip:`${C}-chip`,points:`${C}-points`,actions:`${C}-actions`},P=(0,n.ZP)(v.Z,{name:C,slot:"SkeletonRoot"})((()=>({})));function w(){return s.createElement(P,{className:L.root},s.createElement(i.Z,{className:L.content},s.createElement(l.Z,{className:L.title},s.createElement(b.Z,{animation:"wave",height:25,width:"40%",variant:"rectangular"}))),s.createElement(r.Z,{className:L.actions},s.createElement(l.Z,{className:L.points},s.createElement(b.Z,{animation:"wave",variant:"circular",width:60,height:30,className:L.chip}),s.createElement(b.Z,{animation:"wave",height:20,width:90,variant:"rectangular"})),s.createElement(u.Z,{disabled:!0,variant:"outlined",size:"small"},s.createElement(b.Z,{animation:"wave",height:20,width:70,variant:"text"}))))}var R=a(75459),I=a(99960);const T={root:`${C}-root`,title:`${C}-title`,actions:`${C}-actions`,points:`${C}-points`,discoverMore:`${C}-discover-more`},M=(0,n.ZP)(v.Z,{name:C,slot:"Root"})((()=>({})));const x=function(e){const t=(0,_.Z)({props:e,name:C}),{className:a,userId:n=null}=t,f=(0,o._T)(t,["className","userId"]),v=(0,s.useContext)(m.K8),b=(0,E.ko)(),L=(0,y.sy)(),[P,x]=(0,s.useState)(null),[A,j]=(0,s.useState)(!0),B=v.user?v.user.id:null,W=(0,s.useMemo)((()=>p.v0 in b.preferences&&b.preferences[p.v0].value),[b.preferences]);return(0,s.useEffect)((()=>{W&&B&&g.Z.request({url:d.Z.GetUserLoyaltyPoints.url({id:v.user.id}),method:d.Z.GetUserLoyaltyPoints.method}).then((e=>{x(e.data.points),j(!1)})).catch((e=>{j(!1),I.Y.error(R.J,e),console.log(e)}))}),[B,W]),!W||!v.user||n&&n!==v.user.id?s.createElement(O.Z,null):A?s.createElement(w,null):s.createElement(M,Object.assign({className:N()(T.root,a)},f),s.createElement(i.Z,null,s.createElement(l.Z,{className:T.title},s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.title",defaultMessage:"ui.loyaltyProgramWidget.title"}))),s.createElement(r.Z,{className:T.actions},s.createElement(l.Z,{className:T.points},s.createElement(c.Z,{size:"medium",component:"span",label:P}),s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.points",defaultMessage:"ui.loyaltyProgramWidget.points"})),s.createElement(u.Z,{size:"small",variant:"outlined",className:T.discoverMore,component:S.Z,to:L.url(h.LOYALTY_ROUTE_NAME,{})},s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.discover",defaultMessage:"ui.loyaltyProgramWidget.discover"}))))}},5208:(e,t,a)=>{a.d(t,{Z:()=>O});var o=a(97582),s=a(67294),n=a(90948),i=a(86886),l=a(15861),r=a(25662),c=a(24243),u=a(24085),g=a(68787),d=a(6237),m=a(65580),E=a(67564),p=a(44012),Z=a(94184),y=a.n(Z),S=a(63902),h=a(29628),f=a(54545);const N="SCPlatformWidget",v={root:`${N}-root`,title:`${N}-title`},_=(0,n.ZP)(S.Z,{name:N,slot:"Root"})((()=>({})));const O=function(e){var t;const a=(0,h.Z)({props:e,name:N}),{autoHide:n,className:Z,onHeightChange:S,onStateChange:O}=a,b=(0,o._T)(a,["autoHide","className","onHeightChange","onStateChange"]),C=(0,s.useContext)(g.K8),L=(0,d.yL)().locale,P=(0,s.useMemo)((()=>m.GJ(C.user)),[C.user]),w=(0,s.useMemo)((()=>m.vJ(C.user)),[C.user]);function R(e){c.Z.request({url:u.Z.Platform.url(),method:u.Z.Platform.method,params:{next:e}}).then((e=>{const t=e.data.platform_url;window.open(t,"_blank").focus()})).catch((e=>{console.log(e)}))}const I=s.createElement(i.ZP,{container:!0,spacing:P?1:3,justifyContent:"center"},s.createElement(i.ZP,{item:!0,xs:12},s.createElement(l.Z,{className:v.title,component:"h3",align:"center"},s.createElement(p.Z,{id:"ui.platformWidget.title",defaultMessage:"ui.platformWidget.title"}),s.createElement(E.Z,{fontSize:"small"},"lock"))),P&&s.createElement(i.ZP,{item:!0,xs:"auto"},s.createElement(r.Z,{variant:"outlined",size:"small",onClick:()=>R("")},s.createElement(p.Z,{id:"ui.platformWidget.adm",defaultMessage:"ui.platformWidget.adm"}))),s.createElement(i.ZP,{item:!0,xs:"auto"},s.createElement(r.Z,{variant:"outlined",size:"small",onClick:()=>R("/moderation/flags/")},P||w?s.createElement(p.Z,{id:"ui.platformWidget.mod",defaultMessage:"ui.platformWidget.mod"}):s.createElement(p.Z,{id:"ui.platformWidget.edt",defaultMessage:"ui.platformWidget.edt"}))),s.createElement(i.ZP,{item:!0,xs:"auto"},s.createElement(r.Z,{variant:"outlined",size:"small",href:`https://support.selfcommunity.com/hc/${L}`,target:"_blank"},s.createElement(p.Z,{id:"ui.platformWidget.hc",defaultMessage:"ui.platformWidget.hc"}))));return!n&&(null===(t=null==C?void 0:C.user)||void 0===t?void 0:t.role)?s.createElement(_,Object.assign({className:y()(v.root,Z)},b),I):s.createElement(f.Z,null)}},27807:(e,t,a)=>{a.d(t,{Z:()=>F});var o=a(97582),s=a(67294),n=a(90948),i=a(2734),l=a(61730),r=a(44267),c=a(15861),u=a(78462),g=a(97212),d=a(25662),m=a(31924),E=a(24243),p=a(24085),Z=a(69721),y=a(68787),S=a(66380),h=a(85472),f=a(50353),N=a(63902);const v="SCUserSuggestionWidget",_={root:`${v}-skeleton-root`,list:`${v}-list`},O=(0,n.ZP)(N.Z,{name:v,slot:"SkeletonRoot"})((()=>({})));const b=function(e){return s.createElement(O,Object.assign({className:_.root},e),s.createElement(r.Z,null,s.createElement(u.Z,{className:_.list},[...Array(4)].map(((e,t)=>s.createElement(g.ZP,{key:t},s.createElement(f.Z,{elevation:0})))))))};var C=a(37089),L=a(44012),P=a(94184),w=a.n(P),R=a(29628),I=a(54545),T=a(59219),M=a(99960),x=a(15927),A=a(39154),j=a(75459),B=a(79558);const W={root:`${v}-root`,title:`${v}-title`,noResults:`${v}-no-results`,showMore:`${v}-show-more`,dialogRoot:`${v}-dialog-root`,endMessage:`${v}-end-message`},D=(0,n.ZP)(N.Z,{name:v,slot:"Root"})((()=>({}))),$=(0,n.ZP)(A.Z,{name:v,slot:"DialogRoot"})((()=>({})));const F=function(e){const t=(0,R.Z)({props:e,name:v}),{autoHide:a=!0,limit:n=3,className:N,UserProps:_={},cacheStrategy:O=T.n2.NETWORK_ONLY,onHeightChange:P,onStateChange:A,DialogProps:F={}}=t,k=(0,o._T)(t,["autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[U,K]=(0,s.useReducer)(x.Xi,{isLoadingNext:!1,next:null,cacheKey:Z.hu(Z.oE),cacheStrategy:O,visibleItems:n},x.Mv),[z,X]=(0,s.useState)(!1),G=(0,y.LD)(),H=(0,S.ko)(),Y=((0,s.useMemo)((()=>h.$0 in H.preferences&&H.preferences[h.$0].value),[H.preferences]),(0,i.Z)()),V=(0,l.Z)(Y.breakpoints.down("md")),q=(0,s.useMemo)((()=>()=>{U.initialized||U.isLoadingNext||(K({type:x.dK.LOADING_NEXT}),m.Z.getUserSuggestion({limit:n}).then((e=>{K({type:x.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{K({type:x.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),M.Y.error(j.J,e)})))}),[U.isLoadingNext,U.initialized,n,K]);(0,s.useEffect)((()=>{let e;if(G.user)return e=setTimeout(q),()=>{e&&clearTimeout(e)}}),[G.user]),(0,s.useEffect)((()=>{z&&U.next&&U.results.length<=n&&U.initialized&&(K({type:x.dK.LOADING_NEXT}),m.Z.getUserSuggestion({offset:n,limit:10}).then((e=>{K({type:x.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{K({type:x.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),M.Y.error(j.J,e)})))}),[z,U.next,U.results.length,U.initialized,n]),(0,s.useEffect)((()=>{P&&P()}),[U.results]),(0,s.useEffect)((()=>{G.user&&O===T.n2.NETWORK_ONLY&&A&&A({cacheStrategy:T.n2.CACHE_FIRST})}),[G.user]);const J=(0,s.useMemo)((()=>()=>{K({type:x.dK.LOADING_NEXT}),E.Z.request({url:U.next,method:p.Z.UserSuggestion.method}).then((e=>{K({type:x.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[K,U.next,U.isLoadingNext,U.initialized]),Q=()=>{X((e=>!e))};if(a&&!U.count&&U.initialized||!G.user)return s.createElement(I.Z,null);if(!U.initialized)return s.createElement(b,null);const ee=s.createElement(r.Z,null,s.createElement(c.Z,{className:W.title,variant:"h5"},s.createElement(L.Z,{id:"ui.userSuggestionWidget.title",defaultMessage:"ui.userSuggestionWidget.title"})),U.count?s.createElement(s.Fragment,null,s.createElement(u.Z,null,U.results.slice(0,U.visibleItems).map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(C.Z,Object.assign({elevation:0,user:e},_)))))),U.count>U.visibleItems&&s.createElement(d.Z,{className:W.showMore,onClick:Q},s.createElement(L.Z,{id:"ui.userSuggestionWidget.button.showAll",defaultMessage:"ui.userSuggestionWidget.button.showAll"}))):s.createElement(c.Z,{className:W.noResults,variant:"body2"},s.createElement(L.Z,{id:"ui.userSuggestionWidget.noResults",defaultMessage:"ui.userSuggestionWidget.noResults"})),z&&s.createElement($,Object.assign({className:W.dialogRoot,title:s.createElement(L.Z,{defaultMessage:"ui.userSuggestionWidget.title",id:"ui.userSuggestionWidget.title"}),onClose:Q,open:z},F),s.createElement(B.Z,{dataLength:U.results.length,next:J,hasMoreNext:Boolean(U.next),loaderNext:s.createElement(f.Z,Object.assign({elevation:0},_)),height:V?"100%":400,endMessage:s.createElement(c.Z,{className:W.endMessage},s.createElement(L.Z,{id:"ui.userSuggestionWidget.noMoreResults",defaultMessage:"ui.userSuggestionWidget.noMoreResults"}))},s.createElement(u.Z,null,U.results.map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(C.Z,Object.assign({elevation:0,user:e},_)))))))));return s.createElement(D,Object.assign({className:w()(W.root,N)},k),ee)}},15927:(e,t,a)=>{a.d(t,{Mv:()=>i,Xi:()=>n,dK:()=>s});var o=a(59219);const s={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function n(e,t){var a;let n=Object.assign({},e);switch(t.type){case s.LOADING_NEXT:n=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case s.LOADING_PREVIOUS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case s.LOAD_NEXT_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(a=t.payload)||void 0===a?void 0:a.initialized)||!0});break;case s.LOAD_PREVIOUS_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case s.SET_RESULTS:n=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case s.SET_VISIBLE_ITEMS:n=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case s.LOAD_NEXT_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case s.LOAD_PREVIOUS_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case s.RESET:n={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return o.ZP.set(n.cacheKey,n),n}function i(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&o.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==o.n2.NETWORK_ONLY){const e=o.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}}}]);