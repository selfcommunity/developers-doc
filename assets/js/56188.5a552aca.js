(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[56188],{740:(e,t,n)=>{"use strict";var r;n.d(t,{r:()=>r}),function(e){e.BASE="base",e.NOT_LOGGED="not_logged",e.USER="user"}(r||(r={}))},13491:function(e){(function(){var t,n,r,i,o,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*process.uptime(),o=i-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},14561:(e,t,n)=>{"use strict";n.d(t,{Og:()=>i,hY:()=>r});const r=(e,t)=>e.position>t.position?1:-1,i=e=>(e=>{let t=[];return e&&Array.isArray(e)&&e.map((e=>{e.is_new&&e.aggregated.map((e=>{e.is_new&&t.push(e)}))})),t})(e).length},16212:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(96540);const i=e=>{const t=(0,r.useRef)();return(0,r.useEffect)((()=>{t.current=e})),t.current}},16608:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});const r="SCFeed"},17299:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,H:()=>r});const r="SCFooter",i="/explore/"},50444:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(74848),i=n(86857),o=n(11848),s=n(25292),a=n(73785);const l="SCGenericSkeleton",u={root:`${l}-root`,list:`${l}-list`},c=(0,o.Ay)(i.A)((({theme:e})=>({})));const h=function(e){return(0,r.jsx)(c,Object.assign({className:u.root},e,{children:(0,r.jsxs)(s.A,{children:[(0,r.jsx)(a.A,{animation:"wave",height:10,style:{marginBottom:10}}),(0,r.jsx)(a.A,{animation:"wave",height:10,width:"80%",style:{marginBottom:5}}),(0,r.jsx)(a.A,{animation:"wave",height:10,width:"60%",style:{marginBottom:5}})]})}))}},56188:(e,t,n)=>{"use strict";n.d(t,{A:()=>En});var r=n(74848),i=n(96540),o=n(3338),s=n(75753),a=n(2877),l=n(39840),u=n(16212),c=n(42269),h=n(13550),f=n(28692),m=n(94520),d=n(86354),g=n(44467);const p={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",DATA_NEXT_LOADED:"_data_next_loaded",DATA_PREVIOUS_LOADED:"_data_previous_loaded",DATA_REVALIDATE:"_data_revalidate",DATA_RELOAD:"_data_reload",DATA_RELOADED:"_data_reloaded",UPDATE_DATA:"_data_update",RESET:"_reset"};function I(e,t){let n=Object.assign({},e);switch(t.type){case p.LOADING_NEXT:n=Object.assign(Object.assign({},e),{isLoadingNext:!0,isLoadingPrevious:!1});break;case p.LOADING_PREVIOUS:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,isLoadingPrevious:!0});break;case p.DATA_NEXT_LOADED:n=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),{currentPage:t.payload.currentPage,currentOffset:t.payload.currentOffset,results:[...e.results,...t.payload.results],isLoadingNext:!1,componentLoaded:!0,next:t.payload.next,nextPage:t.payload.nextPage}),t.payload.previous?{previous:t.payload.previous}:{}),t.payload.count?{count:t.payload.count}:{}),t.payload.previousPage?{previousPage:t.payload.previousPage}:{});break;case p.DATA_PREVIOUS_LOADED:n=Object.assign(Object.assign({},e),{currentPage:t.payload.currentPage,currentOffset:t.payload.currentOffset,initialOffset:t.payload.initialOffset,results:[...t.payload.results,...e.results],isLoadingPrevious:!1,componentLoaded:!0,previous:t.payload.previous,previousPage:t.payload.previousPage});break;case p.DATA_REVALIDATE:n=Object.assign(Object.assign({},e),{results:t.payload.results});break;case p.DATA_RELOAD:n=Object.assign(Object.assign({},e),{next:t.payload.next,currentPage:1,previousPage:null,nextPage:null,currentOffset:0,initialOffset:0,results:[],count:0,previous:null,reload:!0});break;case p.DATA_RELOADED:n=Object.assign(Object.assign({},e),{componentLoaded:!1,reload:!1});break;case p.UPDATE_DATA:n=Object.assign(Object.assign({},e),t.payload);break;case p.RESET:n=Object.assign({},t.payload)}return f.Ay.set((0,d.n7)(e.id),n),n}function y(e){let t=Object.assign({id:e.id,results:[],count:0,next:e.next,previous:null,isLoadingNext:!1,isLoadingPrevious:!1,limit:e.queryParams.limit,currentPage:Math.ceil(e.queryParams.offset/e.queryParams.limit+1),currentOffset:e.queryParams.offset,initialOffset:e.queryParams.offset,reload:!1,componentLoaded:Boolean(e.prefetchedData)},e.prefetchedData&&e.prefetchedData);t.nextPage=t.next?t.currentPage+1:null,t.previousPage=t.previous?t.currentPage-1:null;const n=(0,d.n7)(e.id);if(n&&f.Ay.hasKey(n)&&e.cacheStrategy!==f.So.NETWORK_ONLY){const e=f.Ay.get(n);return Object.assign(Object.assign({},t),e)}return e.prefetchedData&&f.Ay.set(n,t),t}var S=n(3341),v=n(11848),b=n(1489),w=n(47859),C=n(44675),O=n(15327),x=n(67733),R=n(25292),A=n(42942),P=n(4782),E=n(27885),H=n(6442),j=n(58065),T=n(50444),_=n(60361),L=n(92922),M=n(5448),N=n(19546),D=n.n(N),B=n(23224),k=n.n(B),z=n(66848),V=n(86857),F=n(43749),W=n(40936);const U=({children:e,onHeightChange:t})=>{const n=(0,l.A)(),{ref:i}=(0,W.A)({onResize:({width:e,height:r})=>{n.current&&t&&t()}});return(0,r.jsx)("div",Object.assign({ref:i},{children:e}))};var $=n(31635),G=n(5556);function q(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K(){if(Z()){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,q(["[virtual-scroller]"].concat(n)))}}function Q(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ee("VirtualScrollerWarningsAreErrors"))return J.apply(this,n);(e=console).warn.apply(e,q(["[virtual-scroller]"].concat(n)))}function X(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,q(["[virtual-scroller]"].concat(n)))}function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(){return new Error(["[virtual-scroller]"].concat(t).join(" "))};if("undefined"!=typeof window)X.apply(this,["ERROR"].concat(t)),setTimeout((function(){throw r()}),0);else{var i=ee("VirtualScrollerCatchError");if(i)return i(r());if(ee("VirtualScrollerThrowErrors"))throw r();X.apply(this,["ERROR"].concat(t))}}function Z(){var e=ee("VirtualScrollerDebug");if(void 0!==e)return!0===e||"debug"===e}function ee(e){return"undefined"!=typeof window?window[e]:"undefined"!=typeof global?global[e]:void 0}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){var t=ne({},e);return e.itemHeights&&(t.itemHeights=e.itemHeights.slice()),e.itemStates&&(t.itemStates=e.itemStates.slice()),e.beforeResize&&(t.beforeResize=ne({},e.beforeResize),t.beforeResize.itemHeights=e.beforeResize.itemHeights.slice()),t}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t,n){if(!Array.isArray(n))throw new Error("Dependencies argument must be an array");var r=function(){var e=(0,i.useRef)(!1),t=(0,i.useCallback)((function(){var t=e.current;return e.current=!0,{isInitialRun:!t}}),[]);return{onEffect:t}}(),o=r.onEffect,s=function(e){var t=(0,i.useRef)(e),n=(0,i.useCallback)((function(e){var n=t.current;return t.current=e,n}),[]);return{onChange:n}}(n),a=s.onChange;e((function(){var e=o().isInitialRun,r=a(n);if((e||!function(e,t){if(e.length!==t.length)return!1;var n=0;for(;n<e.length;){if(e[n]!==t[n])return!1;n++}return!0}(r,n))&&"function"==typeof t())throw new Error("An effect can't return a clean-up function when used with `useEffectDontMountTwiceInStrictMode()` because the clean-up function won't behave correctly in that case")}),n)}function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e){var t,n,r=e.initialState,o=e.onRender,s=(e.itemsProperty,function(e){var t=(0,i.useRef)(e),n=oe((0,i.useState)(e),2),r=(n[0],n[1]);return[t.current,(0,i.useCallback)((function(e){if("function"==typeof e)throw new Error("Function argument of `setState()` function is not supported by this hook");t.current=e,r(e)}),[])]}(r)),a=le(s,2),l=a[0],u=a[1],c=(0,i.useRef)(r),h=(0,i.useCallback)((function(){return c.current}),[]),f=(0,i.useCallback)((function(e){c.current=e}),[]);return t=function(){Z()&&(K("React: ~ The requested state is about to be applied in DOM. Setting it as the `VirtualScroller` state. ~"),K(ie(l))),f(l)},n=[l],ae(i.useInsertionEffect,t,n),function(e,t){ae(i.useLayoutEffect,e,t)}((function(){o()}),[l]),{stateToRender:l,getState:h,setState:u}}function he(e){return(e%1==0?e:e.toFixed(2))+"px"}var fe="VirtualScroller",me="VirtualScrollerStyle";function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e){var t=Se();return function(){var n,r=be(e);if(t){var i=be(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ie(e){var t="function"==typeof Map?new Map:void 0;return Ie=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ye(e,arguments,be(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ve(r,e)},Ie(e)}function ye(e,t,n){return ye=Se()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ve(i,n.prototype),i},ye.apply(null,arguments)}function Se(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ve(e,t){return ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ve(e,t)}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}var we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(o,e);var t,n,r,i=pe(o);function o(e){var t=e.renderedElementIndex,n=e.renderedElementsCount,r=e.message;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,r||function(e){var t=e.renderedElementIndex,n=e.renderedElementsCount;return"Element with index ".concat(t," was not found in the list of Rendered Item Elements in the Items Container of Virtual Scroller. There're only ").concat(n," Elements there.")}({renderedElementIndex:t,renderedElementsCount:n}))}return t=o,n&&ge(t.prototype,n),r&&ge(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(Ie(Error));function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getElement=t}var t,n,r;return t=e,(n=[{key:"_getNthRenderedItemElement",value:function(e){var t=this.getElement().childNodes;if(e>t.length-1)throw new we({renderedElementIndex:e,renderedElementsCount:t.length});return t[e]}},{key:"getNthRenderedItemTopOffset",value:function(e){return this._getNthRenderedItemElement(e).getBoundingClientRect().top-this.getElement().getBoundingClientRect().top}},{key:"getNthRenderedItemHeight",value:function(e){return this._getNthRenderedItemElement(e).getBoundingClientRect().height}},{key:"getHeight",value:function(){return this.getElement().getBoundingClientRect().height}},{key:"clear",value:function(){for(;this.getElement().firstChild;)this.getElement().removeChild(this.getElement().firstChild)}}])&&Ce(t.prototype,n),r&&Ce(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function xe(e){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xe(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e){var t=He();return function(){var n,r=Te(e);if(t){var i=Te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Pe(e){var t="function"==typeof Map?new Map:void 0;return Pe=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ee(e,arguments,Te(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),je(r,e)},Pe(e)}function Ee(e,t,n){return Ee=He()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&je(i,n.prototype),i},Ee.apply(null,arguments)}function He(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function je(e,t){return je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},je(e,t)}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}var _e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}(o,e);var t,n,r,i=Ae(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,"[virtual-scroller] Scrollable container not found")}return t=o,n&&Re(t.prototype,n),r&&Re(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(Pe(Error));function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Me(e,t){return Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Me(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var i=De(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Le(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ve=function(){function e(t,n){Be(this,e),this.getElement=t,this.getItemsContainerElement=n}return ze(e,[{key:"getScrollY",value:function(){return this.getElement().scrollTop}},{key:"scrollToY",value:function(e){this.getElement().scrollTo?this.getElement().scrollTo(0,e):this.getElement().scrollTop=e}},{key:"getWidth",value:function(){if(!this.getElement())throw new _e;return this.getElement().offsetWidth}},{key:"getHeight",value:function(){if(!this.getElement())throw new _e;return this.getElement().offsetHeight}},{key:"getItemsContainerTopOffset",value:function(){var e=this.getElement().getBoundingClientRect().top,t=this.getElement().clientTop;return this.getItemsContainerElement().getBoundingClientRect().top-e+this.getScrollY()-t}},{key:"onScroll",value:function(e){var t=this.getElement();return t.addEventListener("scroll",e),function(){return t.removeEventListener("scroll",e)}}},{key:"onResize",value:function(e){var t;if("undefined"!=typeof ResizeObserver){var n=new ResizeObserver((function(t){t[0];e()})),r=this.getElement();n.observe(r),t=function(){return n.unobserve(r)}}var i=We(e,{itemsContainerElement:this.getItemsContainerElement()});return function(){t&&t(),i()}}}]),e}(),Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}(n,e);var t=Ne(n);function n(e){return Be(this,n),t.call(this,(function(){return window}),e)}return ze(n,[{key:"getScrollY",value:function(){return window.pageYOffset}},{key:"getWidth",value:function(){return window.innerWidth}},{key:"getHeight",value:function(){return window.innerHeight}},{key:"getItemsContainerTopOffset",value:function(){var e=document.clientTop||document.body.clientTop||0;return this.getItemsContainerElement().getBoundingClientRect().top+this.getScrollY()-e}},{key:"onResize",value:function(e){return We(e,{itemsContainerElement:this.getItemsContainerElement()})}}]),n}(Ve);function We(e,t){var n=t.itemsContainerElement,r=function(){document.fullscreenElement&&!document.fullscreenElement.contains(n)||e()};return window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}var Ue=n(93146),$e=n.n(Ue),Ge=$e().cancel;function qe(e,t){var n=Date.now(),r=$e()((function i(){Date.now()-n>=t?e():r=$e()(i)}));return{clear:function(){return Ge(r)}}}function Ye(e){e&&e.clear()}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qe=function(){function e(t){var n=t.getListTopOffset,r=t.onListTopOffsetChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getListTopOffset=n,this.onListTopOffsetChange=r}var t,n,r;return t=e,(n=[{key:"onListTopOffset",value:function(e){void 0===this.listTopOffsetInsideScrollableContainer&&this.start(),this.listTopOffsetInsideScrollableContainer=e}},{key:"start",value:function(){this._isActive=!0,this.watchListTopOffset()}},{key:"isStarted",value:function(){return this._isActive}},{key:"stop",value:function(){this._isActive=!1,this.watchListTopOffsetTimer&&(Ye(this.watchListTopOffsetTimer),this.watchListTopOffsetTimer=void 0)}},{key:"watchListTopOffset",value:function(){var e=this,t=Date.now();!function n(){e._isActive&&(void 0!==e.listTopOffsetInsideScrollableContainer&&e.getListTopOffset()!==e.listTopOffsetInsideScrollableContainer&&e.onListTopOffsetChange(),Date.now()-t<3e3&&(e.watchListTopOffsetTimer=qe(n,500)))}()}}])&&Ke(t.prototype,n),r&&Ke(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const Xe={createItemsContainer:function(e){return new Oe(e)},createScrollableContainer:function(e,t){return e?new Ve(e,t):"undefined"!=typeof window?new Fe(t):void 0},watchListTopOffset:function(e){var t=e.getListTopOffset,n=e.onListTopOffsetChange;return new Qe({getListTopOffset:t,onListTopOffsetChange:n})}};function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var nt=function(){function e(t){var n=t.bypass,r=t.getInitialEstimatedItemHeight,i=t.getInitialEstimatedVisibleItemRowsCount,o=t.measureItemsBatchSize,s=t.getPrerenderMargin,a=t.getVerticalSpacing,l=t.getVerticalSpacingBeforeResize,u=t.getColumnsCount,c=t.getColumnsCountBeforeResize,h=t.getItemHeight,f=t.getItemHeightBeforeResize,m=t.getBeforeResizeItemsCount,d=t.getAverageItemHeight,g=t.getMaxVisibleAreaHeight,p=t.getPreviouslyCalculatedLayout;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bypass=n,this.getInitialEstimatedItemHeight=r,this.getInitialEstimatedVisibleItemRowsCount=i,this.measureItemsBatchSize=o,this.getPrerenderMargin=s,this.getVerticalSpacing=a,this.getVerticalSpacingBeforeResize=l,this.getColumnsCount=u,this.getColumnsCountBeforeResize=c,this.getItemHeight=h,this.getItemHeightBeforeResize=f,this.getBeforeResizeItemsCount=m,this.getAverageItemHeight=d,this.getMaxVisibleAreaHeight=g,this.getPreviouslyCalculatedLayout=p}var t,n,r;return t=e,n=[{key:"getInitialLayoutValueWithFallback",value:function(e,t,n){try{return t()}catch(X){if(X instanceof _e)return K('Scrollable container size is not known at this point, so "'.concat(e,"\" can't be calculated yet. Default to"),n),n;throw X}}},{key:"getInitialLayoutValues",value:function(e){var t,n,r=this,i=e.itemsCount,o=e.columnsCount,s=e.beforeStart;if(i>0){var a=function(){return r.getInitialLastShownItemIndex({itemsCount:i,columnsCount:o,firstShownItemIndex:t})};t=0,n=s?this.getInitialLayoutValueWithFallback("lastShownItemIndex",a,0):a()}return{beforeItemsHeight:0,afterItemsHeight:0,firstShownItemIndex:t,lastShownItemIndex:n}}},{key:"getInitialLastShownItemIndex",value:function(e){var t=e.itemsCount,n=e.columnsCount,r=e.firstShownItemIndex;if(this.bypass)return t-1;var i=1;if(this.getMaxVisibleAreaHeight())i=this.getEstimatedRowsCountForHeight(this.getMaxVisibleAreaHeight()+this.getPrerenderMargin());else if(this.getInitialEstimatedVisibleItemRowsCount&&(i=this.getInitialEstimatedVisibleItemRowsCount(),isNaN(i)))throw new Error("[virtual-scroller] `getEstimatedVisibleItemRowsCount()` must return a number");return Math.min(r+(i*n-1),t-1)}},{key:"getEstimatedRowsCountForHeight",value:function(e){var t=this.getEstimatedItemHeight(),n=this.getVerticalSpacing();return t?Math.ceil((e+n)/(t+n)):1}},{key:"getEstimatedItemHeight",value:function(){var e=this.getAverageItemHeight();if(e)return e;if(this.getInitialEstimatedItemHeight){var t=this.getInitialEstimatedItemHeight();if(isNaN(t))throw new Error("[virtual-scroller] `getInitialEstimatedItemHeight()` must return a number");return t}return 0}},{key:"getLayoutUpdateForItemsDiff",value:function(e,t,n){var r=e.firstShownItemIndex,i=e.lastShownItemIndex,o=e.beforeItemsHeight,s=e.afterItemsHeight,a=t.prependedItemsCount,l=t.appendedItemsCount,u=n.itemsCount,c=n.columnsCount,h=n.shouldRestoreScrollPosition,f=n.onResetGridLayout,m=this.getAverageItemHeight(),d=this.getVerticalSpacing();if(l>0&&(s+=Math.ceil(l/c)*(d+m)),a>0&&(r+=a,i+=a,o+=Math.ceil(a/c)*(m+d),h&&(r=0,o=0),a%c>0)){f(),Q("~ Prepended items count",a,"is not divisible by Columns Count",c,"~"),Q("Layout reset required");var g=i-r+1;if(r=0,o=0,!h&&a>g){var p=u-((i=this.getInitialLastShownItemIndex({itemsCount:u,columnsCount:c,firstShownItemIndex:r}))+1);s=Math.ceil(p/c)*(d+m)}}return{beforeItemsHeight:o,afterItemsHeight:s,firstShownItemIndex:r,lastShownItemIndex:i}}},{key:"getItemNotMeasuredIndexes",value:function(e,t){var n=t.itemsCount,r=t.firstShownItemIndex,i=t.nonMeasuredAreaHeight,o=t.indexOfTheFirstItemInTheRow;K("Item index",e,"height is required for calculations but hasn't been measured yet. Mark the item as \"shown\", rerender the list, measure the item's height and redo the layout.");var s=this.getColumnsCount(),a=Math.min(this.getEstimatedRowsCountForHeight(i)*s,this.measureItemsBatchSize||1/0);return void 0===r&&(r=o),{firstNonMeasuredItemIndex:e,firstShownItemIndex:r,lastShownItemIndex:Math.min(o+a-1,n-1)}}},{key:"getShownItemIndexes",value:function(e){var t=e.itemsCount,n=e.visibleAreaTop,r=e.visibleAreaBottom,i=this._getShownItemIndex({itemsCount:t,fromIndex:0,visibleAreaTop:n,visibleAreaBottom:r,findFirstShownItemIndex:!0});if(null===i)return this.getNonVisibleListShownItemIndexes();if(void 0!==i.firstNonMeasuredItemIndex)return i;var o=i,s=o.firstShownItemIndex,a=o.beforeItemsHeight;return null===(i=this._getShownItemIndex({itemsCount:t,fromIndex:s,beforeItemsHeight:a,visibleAreaTop:n,visibleAreaBottom:r,findLastShownItemIndex:!0}))?this.getNonVisibleListShownItemIndexes():void 0!==i.firstNonMeasuredItemIndex?i:{firstShownItemIndex:s,lastShownItemIndex:i.lastShownItemIndex}}},{key:"_getShownItemIndex",value:function(e){var t=e.beforeResize,n=e.itemsCount,r=e.visibleAreaTop,i=e.visibleAreaBottom,o=e.findFirstShownItemIndex,s=e.findLastShownItemIndex,a=e.fromIndex,l=e.beforeItemsHeight;if(0===a&&(l=0),void 0===l)throw new Error("[virtual-scroller] `beforeItemsHeight` not passed to `Layout.getShownItemIndexes()` when starting from index "+a);if(!t){var u=this.getBeforeResizeItemsCount();if(u>a){var c=this._getShownItemIndex(Ze(Ze({},e),{},{beforeResize:!0,itemsCount:u})),h=c.notFound,f=c.beforeItemsHeight,m=c.firstShownItemIndex,d=c.lastShownItemIndex;if(!h){var g=this.getColumnsCount();return{firstShownItemIndex:void 0===m?void 0:Math.floor(m/g)*g,lastShownItemIndex:void 0===d?void 0:Math.floor(d/g)*g,beforeItemsHeight:f}}l=f,a+=u}}for(var p=t?this.getColumnsCountBeforeResize():this.getColumnsCount(),I=t?this.getVerticalSpacingBeforeResize():this.getVerticalSpacing(),y=a;y<n;){for(var S=y,v=n>S+p?I:0,b=0,w=0;w<p&&y<n;){var C=t?this.getItemHeightBeforeResize(y):this.getItemHeight(y);if(void 0===C)return this.getItemNotMeasuredIndexes(y,{itemsCount:n,firstShownItemIndex:s?a:void 0,indexOfTheFirstItemInTheRow:S,nonMeasuredAreaHeight:i+this.getPrerenderMargin()-l});b=Math.max(b,C),w++,y++}var O=l+b,x=O>r-this.getPrerenderMargin(),R=O+v>=i+this.getPrerenderMargin();if(o){if(x)return{firstShownItemIndex:S,beforeItemsHeight:l}}else if(s&&R)return{lastShownItemIndex:Math.min(S+p-1,n-1)};l+=b+v}return t?{notFound:!0,beforeItemsHeight:l}:o?(Q("The list is supposed to be visible but no visible item has been found"),null):s?{lastShownItemIndex:n-1}:void 0}},{key:"getNonVisibleListShownItemIndexes",value:function(){var e={firstShownItemIndex:0,lastShownItemIndex:0};return void 0===this.getItemHeight(0)&&(e.firstNonMeasuredItemIndex=0),e}},{key:"getBeforeItemsHeight",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).beforeResize,n=0,r=0;if(!t){var i=this.getBeforeResizeItemsCount();i>0&&(n=this.getBeforeItemsHeight(Math.min(e,i),{beforeResize:!0}),r=i)}for(var o=t?this.getColumnsCountBeforeResize():this.getColumnsCount(),s=t?this.getVerticalSpacingBeforeResize():this.getVerticalSpacing();r<e;){for(var a=0,l=0;l<o;){var u=t?this.getItemHeightBeforeResize(r):this.getItemHeight(r);void 0===u&&(u=this.getAverageItemHeight()),a=Math.max(a,u),r++,l++}n+=a,n+=s}return n}},{key:"getAfterItemsHeight",value:function(e,t){for(var n=this.getColumnsCount(),r=(Math.floor(e/n),0),i=e+1;i<t;){for(var o=0,s=0;s<n&&i<t;){var a=this.getItemHeight(i);void 0===a&&(a=this.getAverageItemHeight()),o=Math.max(o,a),i++,s++}r+=this.getVerticalSpacing(),r+=o}return r}},{key:"getItemTopOffset",value:function(e){for(var t=0,n=this.getBeforeResizeItemsCount(),r=0===n?0:Math.ceil(n/this.getColumnsCountBeforeResize()),i=e<n?Math.floor(e/this.getColumnsCountBeforeResize()):r,o=0;o<i;)t+=this.getItemHeightBeforeResize(o*this.getColumnsCountBeforeResize()),t+=this.getVerticalSpacingBeforeResize(),o++;for(var s=Math.floor((e-n)/this.getColumnsCount()),a=0;a<s;){for(var l=0,u=0;u<this.getColumnsCount();){var c=this.getItemHeight(n+a*this.getColumnsCount()+u);if(void 0===c)return;l=Math.max(l,c),u++}t+=l,t+=this.getVerticalSpacing(),a++}return t}}],n&&tt(t.prototype,n),r&&tt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),rt={SCROLL:"scroll",STOPPED_SCROLLING:"stopped scrolling",MANUAL:"manual",STARTED:"started",NON_MEASURED_ITEMS_HAVE_BEEN_MEASURED:"non-measured item heights have been measured",VIEWPORT_WIDTH_CHANGED:"viewport width changed",VIEWPORT_HEIGHT_CHANGED:"viewport height changed",VIEWPORT_SIZE_UNCHANGED:"viewport size unchanged",ITEM_HEIGHT_CHANGED:"item height changed",ITEMS_CHANGED:"items changed",TOP_OFFSET_CHANGED:"list top offset changed"};function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ot=function(){function e(t){var n,r,i,o=this,s=t.bypass,a=t.getWidth,l=t.getHeight,u=t.listenForResize,c=t.onResizeStart,h=t.onResizeStop,f=t.onHeightChange,m=t.onWidthChange,d=t.onNoChange;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=function(){if(o.isActive){var e=o.width,t=o.height;o.width=o.getWidth(),o.height=o.getHeight(),o.width===e?o.height===t?o.onNoChange():o.onHeightChange(t,o.height):o.onWidthChange(e,o.width)}},(r="_onResize")in(n=this)?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,this.bypass=s,this.onHeightChange=f,this.onWidthChange=m,this.onNoChange=d,this.getWidth=a,this.getHeight=l,this.listenForResize=u,this.onResize=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.onStart,o=r.onStop;return function(){for(var r=this,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return new Promise((function(s){n?Ye(n):i&&i(),n=qe((function(){n=void 0,o&&o(),e.apply(r,a),s()}),t)}))}}(this._onResize,st,{onStart:c,onStop:h})}var t,n,r;return t=e,(n=[{key:"start",value:function(){this.isActive=!0,this.bypass||(this.width=this.getWidth(),this.height=this.getHeight(),this.unlistenResize=this.listenForResize(this.onResize))}},{key:"stop",value:function(){this.isActive=!1,this.width=void 0,this.height=void 0,this.unlistenResize&&(this.unlistenResize(),this.unlistenResize=void 0)}}])&&it(t.prototype,n),r&&it(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),st=250;function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ht=function(){function e(t){var n=t.getState,r=t.getVerticalSpacing,i=t.getColumnsCount;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getState=n,this.getVerticalSpacing=r,this.getColumnsCount=i}var t,n,r;return t=e,(n=[{key:"initializeFromState",value:function(e){this._includesBeforeResizeInState=Boolean(e.beforeResize)}},{key:"cleanUpBeforeResizeItemHeights",value:function(){var e=this.getState(),t=e.firstShownItemIndex,n=e.lastShownItemIndex,r=e.itemHeights,i=e.beforeResize;if(i&&t<i.itemHeights.length){K('~ Clean up "before resize" item heights and correct scroll position ~');for(var o=0,s=Math.floor(i.itemHeights.length/this.getColumnsCount()),a=Math.min(s*this.getColumnsCount()-1,n),l=t;l<=a;){for(var u=0,c=0;c<this.getColumnsCount()&&l<=a;){var h=r[l];void 0===h&&(h=this.getAverageItemHeight()),u=Math.max(u,h),l++,c++}o+=u,o+=this.getVerticalSpacing()}for(var f=0,m=Math.min(i.itemHeights.length,n+1),d=Math.ceil(m/i.columnsCount),g=0===t?0:Math.floor((t-1)/i.columnsCount)+1;g<d;)f+=i.itemHeights[g*i.columnsCount],f+=i.verticalSpacing,g++;if(0===t)K('Drop all "before resize" item heights');else{var p=t,I=i.itemHeights.length-1;p===I?K("For item index",p,'\u2014 drop "before resize" height',i.itemHeights[p]):K("For item indexes from",p,"to",I,'\u2014 drop "before resize" heights',i.itemHeights.slice(p))}return i.itemHeights.splice(t,i.itemHeights.length-t),{scrollBy:o-f,beforeResize:0===t?void 0:lt({},i)}}}},{key:"snapshotBeforeResizeItemHeights",value:function(e){var t=e.firstShownItemIndex,n=e.newFirstShownItemIndex,r=(e.newColumnsCount,this.getColumnsCount()),i=this.getVerticalSpacing();this._includesBeforeResizeInState=!0;var o=this.getState(),s=o.beforeResize,a=o.itemHeights,l=s?s.itemHeights.length:0;if(l>0){if(s.columnsCount!==r||s.verticalSpacing!==i){for(var u=0,c=Math.ceil(l/s.columnsCount),h=0;h<c;)u+=s.itemHeights[h*s.columnsCount],u+=s.verticalSpacing,h++;for(var f=0,m=t;m<n;){for(var d=0,g=0;g<r&&m<n;)d=Math.max(d,a[m]),g++,m++;f+=d,f+=i}var p=u+f,I=Math.ceil(n/r);return new Array(n).fill(Math.max(0,p/I-i))}return s.itemHeights.concat(ft(a,n,r).slice(s.itemHeights.length))}return ft(a,n,r)}},{key:"shouldIncludeBeforeResizeValuesInState",value:function(){return this._includesBeforeResizeInState}}])&&ct(t.prototype,n),r&&ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ft(e,t,n){e=e.slice(0,Math.ceil(t/n)*n);for(var r=0;r*n<t;){for(var i=0,o=0;o<n;)i=Math.max(i,e[r*n+o]),o++;for(o=0;o<n;)e[r*n+o]=i,o++;r++}return e.slice(0,t)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt=function(){function e(t){var n=this,r=t.bypass,i=t.scrollableContainer,o=t.itemsContainer,s=t.onScroll,a=t.initialScrollPosition,l=t.onScrollPositionChange,u=t.isImmediateLayoutScheduled,c=t.hasNonRenderedItemsAtTheTop,h=t.hasNonRenderedItemsAtTheBottom,f=t.getLatestLayoutVisibleArea,m=t.getListTopOffset,d=t.getPrerenderMargin,g=t.onScrolledToTop,p=t.waitForScrollingToStop;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),dt(this,"scrollByY",(function(e){n.scrollToY(n.getScrollY()+e)})),dt(this,"onScrollListener",(function(){if(n.onScrollPositionChange&&n.onScrollPositionChange(n.getScrollY()),n.onScrolledToTop&&n.getScrollY()<n.getListTopOffset()&&n.onScrolledToTop(),!n.bypass&&!n.ignoreScrollEvents){n.cancelOnStopScrollingTimer();var e=n.getLatestLayoutVisibleArea()&&(n.getScrollY()<n.getLatestLayoutVisibleArea().top-n.getPrerenderMargin()&&n.hasNonRenderedItemsAtTheTop()||n.getScrollY()+n.scrollableContainer.getHeight()>n.getLatestLayoutVisibleArea().bottom+n.getPrerenderMargin()&&n.hasNonRenderedItemsAtTheBottom());if(K(e?"The user has scrolled far enough: perform a re-layout":"The user is scrolling: perform a re-layout when they stop scrolling"),e||!1===n.waitForScrollingToStop)return n.onScroll();n.isImmediateLayoutScheduled()||(n.shouldCallOnScrollListenerWhenStopsScrolling=!0,n.watchOnStopScrolling())}})),this.bypass=r,this.scrollableContainer=i,this.itemsContainer=o,this.onScroll=s,this.initialScrollPosition=a,this.onScrollPositionChange=l,this.isImmediateLayoutScheduled=u,this.hasNonRenderedItemsAtTheTop=c,this.hasNonRenderedItemsAtTheBottom=h,this.getLatestLayoutVisibleArea=f,this.getListTopOffset=m,this.getPrerenderMargin=d,this.onScrolledToTop=g,this.waitForScrollingToStop=p}var t,n,r;return t=e,(n=[{key:"start",value:function(){void 0!==this.initialScrollPosition&&(this.scrollToY(this.initialScrollPosition),this.initialScrollPosition=void 0),this.onScrollPositionChange&&this.onScrollPositionChange(this.getScrollY()),this.stopListeningToScroll=this.scrollableContainer.onScroll(this.onScrollListener)}},{key:"stop",value:function(){this.stopListeningToScroll(),this.stopListeningToScroll=void 0,this.shouldCallOnScrollListenerWhenStopsScrolling=void 0,this.cancelOnStopScrollingTimer()}},{key:"scrollToY",value:function(e){this.ignoreScrollEvents=!0,this.scrollableContainer.scrollToY(e),this.ignoreScrollEvents=void 0}},{key:"getScrollY",value:function(){return this.scrollableContainer.getScrollY()}},{key:"cancelOnStopScrollingTimer",value:function(){this.onStopScrollingTimer&&(Ye(this.onStopScrollingTimer),this.onStopScrollingTimer=void 0)}},{key:"cancelScheduledLayout",value:function(){this.cancelOnStopScrollingTimer()}},{key:"watchOnStopScrolling",value:function(){var e=this;this.onStopScrollingTimer=qe((function(){e.onStopScrollingTimer=void 0,e.shouldCallOnScrollListenerWhenStopsScrolling&&(e.shouldCallOnScrollListenerWhenStopsScrolling=void 0,e.onScroll({delayed:!0}))}),pt)}},{key:"getVisibleAreaBounds",value:function(){var e=this.getScrollY();return{top:e,bottom:e+this.scrollableContainer.getHeight()}}}])&&mt(t.prototype,n),r&&mt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),pt=100;function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var yt=function(){function e(t){var n=t.itemsContainer,r=t.getListTopOffset;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.itemsContainer=n,this.getListTopOffset=r}var t,n,r;return t=e,(n=[{key:"snapshotListHeightBeforeAddingNewItems",value:function(e){var t=e.previousItems,n=e.newItems,r=e.prependedItemsCount;0!==t.length&&0!==r&&(this._snapshot={previousItems:t,newItems:n,itemIndex:r,itemTopOffset:this.itemsContainer.getNthRenderedItemTopOffset(0),listTopOffset:this.getListTopOffset()})}},{key:"getAnchorItemIndex",value:function(){return this._snapshot.itemIndex}},{key:"hasSnapshot",value:function(){return void 0!==this._snapshot}},{key:"getListBottomOffsetChange",value:function(){var e=this._snapshot,t=e.itemIndex,n=e.itemTopOffset,r=e.listTopOffset;return this.itemsContainer.getNthRenderedItemTopOffset(t)-n+(this.getListTopOffset()-r)}},{key:"reset",value:function(){this._snapshot=void 0}}])&&It(t.prototype,n),r&&It(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vt=function(){function e(t){var n=t.container,r=(t.itemHeights,t.getItemHeight),i=t.setItemHeight;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=n,this._get=r,this._set=i,this.reset()}var t,n,r;return t=e,(n=[{key:"reset",value:function(){this.measuredItemsHeight=0,this.firstMeasuredItemIndex=void 0,this.lastMeasuredItemIndex=void 0}},{key:"readItemHeightsFromState",value:function(e){for(var t=e.itemHeights,n=0;n<t.length;){if(void 0===t[n]){if(void 0!==this.firstMeasuredItemIndex){this.lastMeasuredItemIndex=n-1;break}}else void 0===this.firstMeasuredItemIndex&&(this.firstMeasuredItemIndex=n),this.measuredItemsHeight+=t[n];n++}}},{key:"_measureItemHeight",value:function(e,t){return this.container.getNthRenderedItemHeight(e-t)}},{key:"measureItemHeights",value:function(e,t){if(K("~ Measure item heights ~"),void 0!==e){void 0!==this.firstMeasuredItemIndex&&(e>this.lastMeasuredItemIndex+1||t<this.firstMeasuredItemIndex-1)&&(K("Non-measured items gap detected. Reset first and last measured item indexes."),this.reset());for(var n=[],r=this.firstMeasuredItemIndex,i=this.lastMeasuredItemIndex,o=!1,s=e;s<=t;){if(void 0===this._get(s)){n.push(s);var a=this._measureItemHeight(s,e);K("Item index",s,"height",a),this._set(s,a),(void 0===r||s<r)&&(this.measuredItemsHeight+=a,o||(this.firstMeasuredItemIndex=s,o=!0)),(void 0===i||s>i)&&(void 0!==i&&(this.measuredItemsHeight+=a),this.lastMeasuredItemIndex=s)}else{var l=this._get(s),u=this._measureItemHeight(s,e);l!==u&&(Q("Item index",s,"height changed unexpectedly: it was",l,"before, but now it is",u,'. Whenever an item\'s height changes for whatever reason, a developer must call `onItemHeightDidChange(i)` right after that change. If you are calling `onItemHeightDidChange(i)` correctly, then there\'re several other possible causes. For example, perhaps you forgot to persist the item\'s "state" by calling `setItemState(i, newState)` when that "state" did change, and so the item\'s "state" got lost when the item element was unmounted, which resulted in a different item height when the item was shown again with no previous "state". Or perhaps you\'re running your application in "devleopment" mode and `VirtualScroller` has initially rendered the list before your CSS styles or custom fonts have loaded, resulting in different item height measurements "before" and "after" the page has fully loaded.'),this._set(s,u))}s++}return n}}},{key:"remeasureItemHeight",value:function(e,t){var n=this._get(e),r=this._measureItemHeight(e,t);return this._set(e,r),this.measuredItemsHeight+=r-n,r}},{key:"getAverage",value:function(){return void 0===this.lastMeasuredItemIndex?0:this.measuredItemsHeight/(this.lastMeasuredItemIndex-this.firstMeasuredItemIndex+1)}},{key:"onPrepend",value:function(e){void 0!==this.firstMeasuredItemIndex&&(this.firstMeasuredItemIndex+=e,this.lastMeasuredItemIndex+=e)}}])&&St(t.prototype,n),r&&St(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function bt(e,t){for(var n=0;n<e.length;)e[n]=t(n),n++;return e}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xt(e){var t=this,n=e.state,r=e.getInitialItemState,i=e.onStateChange,o=e.render,s=e.items;function a(){return this.state}function l(e){this.state=e}function u(e,t){this.state=e,o(this.state,this.previousState),this.onRender()}function c(e){var t=e.getInitialItemState,n=s,r=Ct(Ct({},f.call(this,n,{beforeStart:!0})),{},{items:n,itemStates:bt(new Array(n.length),(function(e){return t(n[e])}))});return Z()&&K("Initial state (autogenerated)",ie(r)),K("First shown item index",r.firstShownItemIndex),K("Last shown item index",r.lastShownItemIndex),r}function h(e){return Z()&&K("Restore state",ie(e)),function(e,t){var n=t.columnsCount,r=e.columnsCount||1;if(r!==n)return Q("~ Columns Count changed from",r,"to",n,"~"),!0;var i=Math.floor(e.firstShownItemIndex/n)*n;if(i!==e.firstShownItemIndex)return Q("~ First Shown Item Index",e.firstShownItemIndex,"is not divisible by Columns Count",n,"~"),!0}(e=Ct(Ct({},e=function(e){return e.beforeResize&&0===e.beforeResize.itemHeights.length&&(e.beforeResize=void 0),e}(e)),{},{verticalSpacing:void 0}),{columnsCount:this.getActualColumnsCount()})&&(Q("Reset Layout"),e=Ct(Ct({},e),f.call(this,e.items,{beforeStart:!1}))),e}function f(e,t){var n=this,r=t.beforeStart,i=e.length,o=function(){return n.getActualColumnsCount()},s=(r?this.layout.getInitialLayoutValueWithFallback("columnsCount",o,1):o(),this.layout.getInitialLayoutValues({itemsCount:i,columnsCount:this.getActualColumnsCount(),beforeStart:r})),a=s.firstShownItemIndex,l=s.lastShownItemIndex,u=s.beforeItemsHeight,c=s.afterItemsHeight,h=new Array(i);return this.onBeforeShowItems(e,h,a,l),{itemHeights:h,columnsCount:this.getActualColumnsCountForState(),verticalSpacing:this.verticalSpacing,firstShownItemIndex:a,lastShownItemIndex:l,beforeItemsHeight:u,afterItemsHeight:c}}this.onStateChange=i,this._render=o,this.getInitialItemState=r,this._setItemState=function(e,n){Z()&&(K("~ Item state changed ~"),K("Item index",e),K("Previous state\n"+JSON.stringify(t.getState().itemStates[e],null,2)),K("New state\n"+JSON.stringify(n,null,2))),t.getState().itemStates[e]=n,t.newItemsWillBeRendered&&(t.itemStatesThatChangedWhileNewItemsWereBeingRendered||(t.itemStatesThatChangedWhileNewItemsWereBeingRendered={}),t.itemStatesThatChangedWhileNewItemsWereBeingRendered[String(e)]=n)},this.getState=function(){return t._getState()},this.updateState=function(e){Z()&&(K("~ Set state ~"),K(ie(e))),e.items&&(t._isSettingNewItems||J("A `stateUpdate` can only contain `items` property as a result of calling `.setItems()`")),t._isSettingNewItems=void 0,t.waitingForRender=!0,t.previousState=t.getState(),t.mostRecentSetStateValue||(t.mostRecentSetStateValue=t.getState()),t.mostRecentSetStateValue=Ct(Ct({},t.mostRecentSetStateValue),e),t._setState(t.mostRecentSetStateValue,e)},this.getInitialState=function(){return n?h.call(t,n):c.call(t,{getInitialItemState:r})},this.useState=function(e){var n=e.getState,r=e.setState,i=e.updateState;if(t._isActive)throw new Error("[virtual-scroller] `VirtualScroller` has already been started");if(t._getState)throw new Error("[virtual-scroller] Custom state storage has already been configured");if(o)throw new Error("[virtual-scroller] Creating a `VirtualScroller` class instance with a `render()` parameter implies using the default (internal) state storage");if(r&&i)throw new Error("[virtual-scroller] When using a custom state storage, one must supply either `setState()` or `updateState()` function but not both");if(!n||!r&&!i)throw new Error("[virtual-scroller] When using a custom state storage, one must supply both `getState()` and `setState()`/`updateState()` functions");t._usesCustomStateStorage=!0,t._getState=n,t._setState=function(e,t){r?r(e):i(t)}},this.useDefaultStateStorage=function(){if(!o)throw new Error("[virtual-scroller] When using the default (internal) state management, one must supply a `render(state, prevState)` function parameter");t._getState=a.bind(t),t._setState=u.bind(t),l.bind(t)(t.getInitialState())}}function Rt(){var e=this;function t(){var e=this.getState(),t=e.firstShownItemIndex,n=e.lastShownItemIndex;K("~ Measure item vertical spacing ~");var r=function(e){var t=e.itemsContainer,n=e.renderedItemsCount;if(n>1)for(var r=t.getNthRenderedItemTopOffset(0),i=t.getNthRenderedItemHeight(0),o=1;o<n;){var s=t.getNthRenderedItemTopOffset(o),a=t.getNthRenderedItemHeight(o);if(s>=r+i)return s-(r+i);i=Math.max(i,a),o++}}({itemsContainer:this.itemsContainer,renderedItemsCount:n-t+1});if(void 0!==r)return K("Item vertical spacing",r),r;K("Not enough items rendered to measure vertical spacing")}this.getVerticalSpacing=function(){return e.verticalSpacing||0},this.getVerticalSpacingBeforeResize=function(){var t=e.getState().beforeResize;return t&&t.verticalSpacing||0},this.measureVerticalSpacingIfNotMeasured=function(){if(void 0===e.verticalSpacing)return e.verticalSpacing=t.call(e),e.verticalSpacing}}function At(e){var t=this,n=e.getColumnsCount;if(n){var r={getWidth:function(){return t.scrollableContainer.getWidth()}};this.getActualColumnsCountForState=function(){var e=n(r);if(1!==e)return e}}else this.getActualColumnsCountForState=function(){};this.getActualColumnsCount=function(){return t.getActualColumnsCountForState()||1},this.getColumnsCount=function(){return t.getState()&&t.getState().columnsCount||1}}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Ht(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(){var e=this;function t(e){var n=e.stateUpdate,o=Date.now(),s=r.call(this),a=s.firstShownItemIndex,l=s.lastShownItemIndex,u=s.shownItemsHeight,c=s.firstNonMeasuredItemIndex;if(this.listHeightMeasurement.hasSnapshot()&&(l<this.listHeightMeasurement.getAnchorItemIndex()&&(l=this.listHeightMeasurement.getAnchorItemIndex()),c=void 0),!i.call(this,a,l))return K("~ Because some of the will-be-hidden item heights (listed above) have changed since they've last been measured, redo layout. ~"),t.call(this,{stateUpdate:n});var h=this.layout.getBeforeItemsHeight(a),f=this.layout.getAfterItemsHeight(l,this.getItemsCount()),m=Date.now()-o;K("~ Calculated Layout"+(this.bypass?" (bypass)":"")+" ~"),m<Tt||Q("Layout calculated in",m,"ms"),this.getColumnsCount()&&K("Columns count",this.getColumnsCount()),K("First shown item index",a),K("Last shown item index",l),K("Before items height",h),K("After items height (actual or estimated)",f),K("Average item height (used for estimated after items height calculation)",this.itemHeights.getAverage()),Z()&&(K("Item heights",this.getState().itemHeights.slice()),K("Item states",this.getState().itemStates.slice())),this.onBeforeShowItems(this.getState().items,this.getState().itemHeights,a,l),this.firstNonMeasuredItemIndex=c,this.previouslyCalculatedLayout=void 0===u?void 0:{firstShownItemIndex:a,lastShownItemIndex:l,beforeItemsHeight:h,shownItemsHeight:u},this.updateState(Et({firstShownItemIndex:a,lastShownItemIndex:l,beforeItemsHeight:h,afterItemsHeight:f},n))}function n(){var e=this.scroll.getVisibleAreaBounds();this.latestLayoutVisibleArea=e;var t=this.getListTopOffsetInsideScrollableContainer();return{top:e.top-t,bottom:e.bottom-t}}function r(){var e=this.getItemsCount(),t=n.call(this),r=t.top,i=t.bottom;return this.bypass?{firstShownItemIndex:0,lastShownItemIndex:e-1}:r<this.itemsContainer.getHeight()&&i>0?this.layout.getShownItemIndexes({itemsCount:this.getItemsCount(),visibleAreaTop:r,visibleAreaBottom:i}):(K("The entire list is off-screen. No items are visible."),this.layout.getNonVisibleListShownItemIndexes())}function i(e,t){for(var n=!0,r=this.getState().firstShownItemIndex;r<=this.getState().lastShownItemIndex;){if(r>=e&&r<=t);else{var i=this.getState().itemHeights[r],a=o.call(this,r);a!==i&&(n&&(K("~ Validate will-be-hidden item heights. ~"),s.call(this,r,i,a)),n=!1,Q("Item index",r,"is no longer visible and will be unmounted. Its height has changed from",i,"to",a,"since it was last measured. This is not necessarily a bug, and could happen, for example, on screen width change, or when there're several `onItemHeightDidChange(i)` calls issued at the same time, and the first one triggers a re-layout before the rest of them have had a chance to be executed."))}r++}return n}function o(e){var t=this.getState().firstShownItemIndex;return this.itemHeights.remeasureItemHeight(e,t)}function s(e,t,n){var r=this.previouslyCalculatedLayout;if(r){var i=n-t;e<r.firstShownItemIndex?r.beforeItemsHeight+=i:e>r.lastShownItemIndex?void 0!==r.afterItemsHeight&&(r.afterItemsHeight+=i):r.shownItemsHeight+=n-t}}this.onUpdateShownItemIndexes=function(n){var r=n.reason,i=n.stateUpdate,o=function(){i&&e.updateState(i)};return e.newItemsWillBeRendered||e.widthHasChanged||e._isResizing||0===e.getItemsCount()?o():(e.scroll.cancelScheduledLayout(),i=e.cancelLayoutTimer({stateUpdate:i}),K("~ Update Layout (on ".concat(r,") ~")),void t.call(e,{stateUpdate:i}))},this.getListTopOffsetInsideScrollableContainer=function(){var t=e.scrollableContainer.getItemsContainerTopOffset();return e.listTopOffsetWatcher&&e.listTopOffsetWatcher.onListTopOffset(t),t},this._onItemHeightDidChange=function(t){K("~ On Item Height Did Change was called ~"),K("Item index",t);var n=e.getState(),r=n.itemHeights,i=n.firstShownItemIndex,a=n.lastShownItemIndex;if(!(t>=i&&t<=a))return Q("The item is no longer rendered. This is not necessarily a bug, and could happen, for example, when when a developer calls `onItemHeightDidChange(i)` while looping through a batch of items.");var l,u=r[t];if(void 0===u)return J('"onItemHeightDidChange()" has been called for item index '.concat(t," but the item hasn't been rendered before."));K("~ Re-measure item height ~");try{l=o.call(e,t)}catch(X){if(X instanceof we)return J('"onItemHeightDidChange()" has been called for item index '.concat(t," but the item is not currently rendered and can't be measured. The exact error was: ").concat(X.message))}K("Previous height",u),K("New height",l),u!==l&&(K("~ Item height has changed. Should update layout. ~"),s.call(e,t,u,l),e._isActive&&(e.waitingForRender?(K("~ Another state update is already waiting to be rendered. Delay the layout update until then. ~"),e.updateLayoutAfterRenderBecauseItemHeightChanged=!0):e.onUpdateShownItemIndexes({reason:rt.ITEM_HEIGHT_CHANGED})),e.newItemsWillBeRendered&&(e.itemHeightsThatChangedWhileNewItemsWereBeingRendered||(e.itemHeightsThatChangedWhileNewItemsWereBeingRendered={}),e.itemHeightsThatChangedWhileNewItemsWereBeingRendered[String(t)]=l))},this.getPrerenderMargin=function(){return 1*e.scrollableContainer.getHeight()},this.onBeforeShowItems=function(t,n,r,i){if(e.onItemInitialRender)for(var o=r;o<=i;)void 0===n[o]&&e.onItemInitialRender(t[o]),o++},this.measureItemHeightsAndSpacing=function(){e.itemHeights.measureItemHeights(e.getState().firstShownItemIndex,e.getState().lastShownItemIndex);var t=e.measureVerticalSpacingIfNotMeasured();if(t&&0!==t)return{verticalSpacing:t}},this.cancelLayoutTimer=function(t){var n=t.stateUpdate;return e.layoutTimer?(Ye(e.layoutTimer),e.layoutTimer=void 0,n||e.layoutTimerStateUpdate?(n=Et(Et({},e.layoutTimerStateUpdate),n),e.layoutTimerStateUpdate=void 0,n):void 0):n},this.scheduleLayoutTimer=function(t){var n=t.reason,r=t.stateUpdate;e.layoutTimerStateUpdate=r,e.layoutTimer=qe((function(){e.layoutTimerStateUpdate=void 0,e.layoutTimer=void 0,e.onUpdateShownItemIndexes({reason:n,stateUpdate:r})}),0)}}var Tt=15;function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}var Lt=Object.prototype.hasOwnProperty;function Mt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Nt(e,t){if(Mt(e,t))return!0;if("object"!==_t(e)||null===e||"object"!==_t(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Lt.call(t,n[i])||!Mt(e[n[i]],t[n[i]]))return!1;return!0}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(){var e=this;function t(e,t){if(e){var n=e.prependedItemsCount,r=(e.appendedItemsCount,this.getState()),i=r.itemHeights,o=r.itemStates;if(this.itemHeightsThatChangedWhileNewItemsWereBeingRendered)for(var s=0,a=Object.keys(this.itemHeightsThatChangedWhileNewItemsWereBeingRendered);s<a.length;s++){var l=a[s];i[n+Number(l)]=this.itemHeightsThatChangedWhileNewItemsWereBeingRendered[l]}if(this.itemStatesThatChangedWhileNewItemsWereBeingRendered)for(var u=0,c=Object.keys(this.itemStatesThatChangedWhileNewItemsWereBeingRendered);u<c.length;u++){var h=c[u];o[n+Number(h)]=this.itemStatesThatChangedWhileNewItemsWereBeingRendered[h]}if(0===n)return this.previouslyCalculatedLayout&&(this.previouslyCalculatedLayout.firstShownItemIndex===t.firstShownItemIndex&&this.previouslyCalculatedLayout.lastShownItemIndex===t.lastShownItemIndex||(Q('Unexpected (non-matching) "firstShownItemIndex" or "lastShownItemIndex" encountered in "onRender()" after appending items'),Q("Previously calculated layout",this.previouslyCalculatedLayout),Q("New layout",t),this.previouslyCalculatedLayout=void 0)),"SEAMLESS_APPEND";if(this.listHeightMeasurement.hasSnapshot()){if(0===t.firstShownItemIndex){K("~ Restore Scroll Position ~");var f=this.listHeightMeasurement.getListBottomOffsetChange({beforeItemsHeight:t.beforeItemsHeight});return this.listHeightMeasurement.reset(),f?(K("Scroll down by",f),this.scroll.scrollByY(f)):K("Scroll position hasn't changed"),this.previouslyCalculatedLayout&&(0===this.previouslyCalculatedLayout.firstShownItemIndex&&this.previouslyCalculatedLayout.lastShownItemIndex===t.lastShownItemIndex-n?this.previouslyCalculatedLayout={beforeItemsHeight:0,shownItemsHeight:this.previouslyCalculatedLayout.shownItemsHeight+f,firstShownItemIndex:0,lastShownItemIndex:t.lastShownItemIndex}:(Q('Unexpected (non-matching) "firstShownItemIndex" or "lastShownItemIndex" encountered in "onRender()" after prepending items'),Q("Previously calculated layout",this.previouslyCalculatedLayout),Q("New layout",t),this.previouslyCalculatedLayout=void 0)),"SEAMLESS_PREPEND"}Q('Unexpected "firstShownItemIndex" '.concat(t.firstShownItemIndex,' encountered in "onRender()" after prepending items. Expected 0.'))}}this.previouslyCalculatedLayout=void 0}function n(e){var t=e.reason,n=e.stateUpdate;this._useTimeoutInRenderLoop?(n=this.cancelLayoutTimer({stateUpdate:n}),this.scheduleLayoutTimer({reason:t,stateUpdate:n})):this.onUpdateShownItemIndexes({reason:t,stateUpdate:n})}function r(){var e=Boolean(this.widthHasChanged);this.widthHasChanged=void 0;var t=void 0!==this.firstNonMeasuredItemIndex;t&&K("Non-measured item index",this.firstNonMeasuredItemIndex),this.firstNonMeasuredItemIndex=void 0,this.newItemsWillBeRendered=void 0,this.itemHeightsThatChangedWhileNewItemsWereBeingRendered=void 0,this.itemStatesThatChangedWhileNewItemsWereBeingRendered=void 0;var n=this.updateLayoutAfterRenderBecauseItemHeightChanged;return this.updateLayoutAfterRenderBecauseItemHeightChanged=void 0,{nonMeasuredItemsHaveBeenRendered:t,itemHeightHasChanged:n,widthHasChanged:e}}this._onRender=function(i,o){var s,a,l;e.waitingForRender=!1,K("~ Rendered ~"),Z()&&K("State",ie(i)),e.onStateChange&&(Nt(i,o)||e.onStateChange(i)),e.tbody&&(s=e.getItemsContainerElement(),a=i.beforeItemsHeight,l=i.afterItemsHeight,s.style.setProperty("--VirtualScroller-paddingTop",he(a)),s.style.setProperty("--VirtualScroller-paddingBottom",he(l))),e.mostRecentSetStateValue&&(Nt(i,e.mostRecentSetStateValue)||(Q("The most recent state that was set",ie(e.mostRecentSetStateValue)),J("`VirtualScroller` has been rendered with a `state` that is not equal to the most recently set one")));var u,c=r.call(e),h=c.nonMeasuredItemsHaveBeenRendered,f=c.itemHeightHasChanged,m=c.widthHasChanged;if(f&&(u=rt.ITEM_HEIGHT_CHANGED),o||u){if(h&&(u=rt.NON_MEASURED_ITEMS_HAVE_BEEN_MEASURED),m&&(u=rt.VIEWPORT_WIDTH_CHANGED,e.itemHeights.reset(),e.verticalSpacing=void 0),o){var d=o.items,g=i.items;if(g!==d){var p=e.getItemsDiff(d,g);if(p){var I=p.prependedItemsCount;e.itemHeights.onPrepend(I)}else e.itemHeights.reset();m||"SEAMLESS_PREPEND"!==t.call(e,p,i)&&(u=rt.ITEMS_CHANGED)}}var y;if(o&&(i.firstShownItemIndex!==o.firstShownItemIndex||i.lastShownItemIndex!==o.lastShownItemIndex||i.items!==o.items)||m){var S=e.measureItemHeightsAndSpacing();S&&(y=Bt(Bt({},y),S))}var v=e.beforeResize.cleanUpBeforeResizeItemHeights();if(void 0!==v){var b=v.scrollBy,w=v.beforeResize;K("Correct scroll position by",b),e.scroll.scrollByY(b),y=Bt(Bt({},y),{},{beforeResize:w})}e._isActive?u?n.call(e,{stateUpdate:y,reason:u}):y?e.updateState(y):K("~ Finished Layout ~"):e._afterRenderStateUpdateThatWasStopped=y}}}function Vt(){var e=this;this.onResize=function(){e.previouslyCalculatedLayout=void 0,e.listHeightMeasurement.reset();var t=e.newItemsWillBeRendered?e.newItemsWillBeRendered.count:e.getState().itemHeights.length,n=e.newItemsWillBeRendered?e.newItemsWillBeRendered.layout:e.getState(),r={scrollableContainerWidth:e.scrollableContainer.getWidth(),firstShownItemIndex:n.firstShownItemIndex,lastShownItemIndex:n.lastShownItemIndex,beforeItemsHeight:n.beforeItemsHeight,afterItemsHeight:n.afterItemsHeight,itemHeights:new Array(t),columnsCount:e.getActualColumnsCountForState(),verticalSpacing:void 0},i=n.firstShownItemIndex,o=n.lastShownItemIndex,s=e.getActualColumnsCount(),a=Math.floor(i/s)*s,l=Math.min(Math.ceil((o+1)/s)*s,t)-1;a!==i&&(K("Columns Count changed from",e.getState().columnsCount||1,"to",s),K("First Shown Item Index needs to change from",i,"to",a)),r.firstShownItemIndex=a,r.lastShownItemIndex=l;var u=e.getVerticalSpacing(),c=e.getColumnsCount();e.shouldDiscardBeforeResizeItemHeights()||0===a?e.beforeResize.shouldIncludeBeforeResizeValuesInState()&&(r.beforeResize=void 0):r.beforeResize={verticalSpacing:u,columnsCount:c,itemHeights:e.beforeResize.snapshotBeforeResizeItemHeights({firstShownItemIndex:i,newFirstShownItemIndex:a,newColumnsCount:s})},e.widthHasChanged={stateUpdate:r},e.updateState(r)},this.shouldDiscardBeforeResizeItemHeights=function(){if(e.newItemsWillBeRendered){var t=e.newItemsWillBeRendered,n=t.prepend,r=t.replace;return n||r}}}function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(){var e=this;this.getItemsCount=function(){return e.getState().items.length},this._setItems=function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.getState().items,s=e.getState().itemStates,a=(e.widthHasChanged?e.widthHasChanged.stateUpdate:e.getState()).itemHeights;K("~ Update items ~");var l=e.getItemsDiff(o,t);if(l){var u,c=e.widthHasChanged?e.widthHasChanged.stateUpdate:e.getState(),h=c.firstShownItemIndex,f=c.lastShownItemIndex,m=c.beforeItemsHeight,d=c.afterItemsHeight,g=0===h&&(i.preserveScrollPositionOnPrependItems||i.preserveScrollPosition),p=l.prependedItemsCount,I=l.appendedItemsCount;n=e.layout.getLayoutUpdateForItemsDiff({firstShownItemIndex:h,lastShownItemIndex:f,beforeItemsHeight:m,afterItemsHeight:d},{prependedItemsCount:p,appendedItemsCount:I},{itemsCount:t.length,columnsCount:e.getActualColumnsCount(),shouldRestoreScrollPosition:g,onResetGridLayout:function(){return u=!0}}),p>0&&(K("Prepend",p,"items"),a=new Array(p).concat(a),s=bt(new Array(p),(function(n){return e.getInitialItemState(t[n])})).concat(s),g?(K("Will restore scroll position"),e.listHeightMeasurement.snapshotListHeightBeforeAddingNewItems({previousItems:o,newItems:t,prependedItemsCount:p}),void 0!==e.firstNonMeasuredItemIndex&&(e.firstNonMeasuredItemIndex+=p)):(K("Reset layout"),u?(K("Reason: Prepended items count",p,"is not divisible by Columns Count",e.getActualColumnsCount()),a=new Array(t.length)):K("Reason: Prepended items' heights are unknown"),n=e.layout.getInitialLayoutValues({itemsCount:t.length,columnsCount:e.getActualColumnsCount()}),e.firstNonMeasuredItemIndex=void 0)),I>0&&(K("Append",I,"items"),a=a.concat(new Array(I)),s=s.concat(bt(new Array(I),(function(n){return e.getInitialItemState(t[p+o.length+n])})))),r={prepend:p>0,append:I>0}}else K("Items have changed, and",l?"a re-layout from scratch has been requested.":"it's not a simple append and/or prepend.","Rerender the entire list from scratch."),K("Previous items",o),K("New items",t),a=new Array(t.length),s=bt(new Array(t.length),(function(n){return e.getInitialItemState(t[n])})),n=e.layout.getInitialLayoutValues({itemsCount:t.length,columnsCount:e.getActualColumnsCount()}),e.firstNonMeasuredItemIndex=void 0,e.listHeightMeasurement.reset(),r={replace:!0};K("~ Update state ~"),K("First shown item index",n.firstShownItemIndex),K("Last shown item index",n.lastShownItemIndex),K("Before items height",n.beforeItemsHeight),K("After items height (actual or estimated)",n.afterItemsHeight),e.onBeforeShowItems(t,a,n.firstShownItemIndex,n.lastShownItemIndex),e.newItemsWillBeRendered=Wt(Wt({},r),{},{count:t.length,layout:n});var y=Wt(Wt({},n),{},{items:t,itemStates:s,itemHeights:a});e.beforeResize.shouldIncludeBeforeResizeValuesInState()&&(e.shouldDiscardBeforeResizeItemHeights()?y.beforeResize=void 0:y.beforeResize=e.widthHasChanged?e.widthHasChanged.stateUpdate.beforeResize:e.getState().beforeResize),e._isSettingNewItems=!0,e.updateState(y)},this.getItemsDiff=function(t,n){return function(e,t,n){var r=-1,i=-1;if(e.length>0&&(r=function(e,t,n){for(var r=0;r<e.length;){if(n(e[r],t))return r;r++}return-1}(t,e[0],n),r>=0&&function(e,t,n,r){for(var i=0;i<e.length;){if(t.length<=n+i||!r(t[n+i],e[i]))return!1;i++}return!0}(e,t,r,n)&&(i=r+e.length-1)),r>=0&&i>=0)return{prependedItemsCount:r,appendedItemsCount:t.length-(i+1)}}(t,n,e.isItemEqual)}}function Gt(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.render,o=r.state,s=r.getInitialItemState,a=void 0===s?function(){}:s,l=r.onStateChange,u=r.initialScrollPosition,c=r.onScrollPositionChange,h=r.scrollableContainer,f=r.measureItemsBatchSize,m=void 0===f?50:f,d=r.getColumnsCount,g=r.getItemId,p=r.tbody,I=r.estimatedItemHeight,y=r.getEstimatedVisibleItemRowsCount,S=r.onItemInitialRender,v=r.onItemFirstRender,b=r._useTimeoutInRenderLoop,w=r._waitForScrollingToStop,C=r.engine,O=r.bypass,x=r.getEstimatedItemHeight,R=r.getScrollableContainer;if(K("~ Initialize ~"),this.engine=C||Xe,x||"number"!=typeof I||(x=function(){return I}),!R&&h&&(R=function(){return h}),this.getItemsContainerElement=e,r.getState||r.setState)throw new Error("[virtual-scroller] `getState`/`setState` options usage has changed in the new version. See the readme for more details.");if(p){if(this.engine!==Xe)throw new Error("[virtual-scroller] `tbody` option is only supported for DOM rendering engine");K("~ <tbody/> detected ~"),this.tbody=!0,"undefined"!=typeof window&&window.document.documentMode&&(K("~ <tbody/> not supported ~"),J("It looks like you're using Internet Explorer which doesn't support CSS variables required for a <tbody/> container. VirtualScroller has been switched into \"bypass\" mode (render all items). See: https://gitlab.com/catamphetamine/virtual-scroller/-/issues/1"),O=!0)}O&&K('~ "bypass" mode ~'),this.bypass=O,this._useTimeoutInRenderLoop=b,this.isItemEqual=g?function(e,t){return g(e)===g(t)}:function(e,t){return e===t},S?this.onItemInitialRender=S:v&&(this.onItemInitialRender=function(e){Q("`onItemFirstRender(i)` is deprecated, use `onItemInitialRender(item)` instead.");var t=n.getState().items.indexOf(e);t>=0&&v(t)}),o&&(t=o.items),K("Items count",t.length),x&&K("Estimated item height",x()),xt.call(this,{state:o,getInitialItemState:a,onStateChange:l,render:i,items:t}),Rt.call(this),At.call(this,{getColumnsCount:d}),jt.call(this),zt.call(this),Vt.call(this),$t.call(this),qt.call(this,{getScrollableContainer:R,getEstimatedItemHeight:x,getEstimatedVisibleItemRowsCount:y,measureItemsBatchSize:m,initialScrollPosition:u,onScrollPositionChange:c,waitForScrollingToStop:w}),o&&(this.itemHeights.readItemHeightsFromState(o),this.beforeResize.initializeFromState(o))}function qt(e){var t=this,n=e.getScrollableContainer,r=e.getEstimatedItemHeight,i=e.getEstimatedVisibleItemRowsCount,o=e.measureItemsBatchSize,s=e.initialScrollPosition,a=e.onScrollPositionChange,l=e.waitForScrollingToStop;this.itemsContainer=this.engine.createItemsContainer(this.getItemsContainerElement),this.getItemsContainerElement()&&this.itemsContainer.clear(),this.scrollableContainer=this.engine.createScrollableContainer(n,this.getItemsContainerElement),this.itemHeights=new vt({container:this.itemsContainer,getItemHeight:function(e){return t.getState().itemHeights[e]},setItemHeight:function(e,n){return t.getState().itemHeights[e]=n}}),this.layout=new nt({bypass:this.bypass,getInitialEstimatedItemHeight:r,getInitialEstimatedVisibleItemRowsCount:i,measureItemsBatchSize:o,getPrerenderMargin:function(){return t.getPrerenderMargin()},getVerticalSpacing:function(){return t.getVerticalSpacing()},getVerticalSpacingBeforeResize:function(){return t.getVerticalSpacingBeforeResize()},getColumnsCount:function(){return t.getColumnsCount()},getColumnsCountBeforeResize:function(){return t.getState().beforeResize&&t.getState().beforeResize.columnsCount},getItemHeight:function(e){return t.getState().itemHeights[e]},getItemHeightBeforeResize:function(e){return t.getState().beforeResize&&t.getState().beforeResize.itemHeights[e]},getBeforeResizeItemsCount:function(){return t.getState().beforeResize?t.getState().beforeResize.itemHeights.length:0},getAverageItemHeight:function(){return t.itemHeights.getAverage()},getMaxVisibleAreaHeight:function(){return t.scrollableContainer&&t.scrollableContainer.getHeight()},getPreviouslyCalculatedLayout:function(){return t.previouslyCalculatedLayout}}),this.resize=new ot({bypass:this.bypass,getWidth:function(){return t.scrollableContainer.getWidth()},getHeight:function(){return t.scrollableContainer.getHeight()},listenForResize:function(e){return t.scrollableContainer.onResize(e)},onResizeStart:function(){K("~ Scrollable container resize started ~"),t._isResizing=!0},onResizeStop:function(){K("~ Scrollable container resize finished ~"),t._isResizing=void 0},onNoChange:function(){t.onUpdateShownItemIndexes({reason:rt.VIEWPORT_SIZE_UNCHANGED})},onHeightChange:function(){return t.onUpdateShownItemIndexes({reason:rt.VIEWPORT_HEIGHT_CHANGED})},onWidthChange:function(e,n){K("~ Scrollable container width changed from",e,"to",n,"~"),t.onResize()}}),this.scroll=new gt({bypass:this.bypass,scrollableContainer:this.scrollableContainer,itemsContainer:this.itemsContainer,waitForScrollingToStop:l,onScroll:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).delayed;t.onUpdateShownItemIndexes({reason:e?rt.STOPPED_SCROLLING:rt.SCROLL})},initialScrollPosition:s,onScrollPositionChange:a,isImmediateLayoutScheduled:function(){return Boolean(t.layoutTimer)},hasNonRenderedItemsAtTheTop:function(){return t.getState().firstShownItemIndex>0},hasNonRenderedItemsAtTheBottom:function(){return t.getState().lastShownItemIndex<t.getItemsCount()-1},getLatestLayoutVisibleArea:function(){return t.latestLayoutVisibleArea},getListTopOffset:this.getListTopOffsetInsideScrollableContainer,getPrerenderMargin:function(){return t.getPrerenderMargin()}}),this.listHeightMeasurement=new yt({itemsContainer:this.itemsContainer,getListTopOffset:this.getListTopOffsetInsideScrollableContainer}),this.engine.watchListTopOffset&&(this.listTopOffsetWatcher=this.engine.watchListTopOffset({getListTopOffset:this.getListTopOffsetInsideScrollableContainer,onListTopOffsetChange:function(e){e.reason;return t.onUpdateShownItemIndexes({reason:rt.TOP_OFFSET_CHANGED})}})),this.beforeResize=new ht({getState:this.getState,getVerticalSpacing:this.getVerticalSpacing,getColumnsCount:this.getColumnsCount})}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){Xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xt(this,"stop",(function(){if(!r._isActive)throw new Error("[virtual-scroller] Can't stop a `VirtualScroller` that hasn't been started");r._isActive=!1,K("~ Stop ~"),r.resize.stop(),r.scroll.stop(),r.listTopOffsetWatcher&&r.listTopOffsetWatcher.isStarted()&&r.listTopOffsetWatcher.stop(),r.cancelLayoutTimer({})})),Xt(this,"updateLayout",(function(){r.hasToBeStarted(),r.onUpdateShownItemIndexes({reason:rt.MANUAL})})),Xt(this,"onRender",(function(){r._onRender(r.getState(),r.previousState)})),Gt.call(this,t,n,i)}var t,n,r;return t=e,n=[{key:"start",value:function(){if(this._isActive)throw new Error("[virtual-scroller] `VirtualScroller` has already been started");var e=!1===this._isActive;e||(this.waitingForRender=!0,this._usesCustomStateStorage||this.useDefaultStateStorage(),this._render&&this._render(this.getState())),K(e?"~ Start (restart) ~":"~ Start ~"),this._isActive=!0,this.listHeightMeasurement.reset(),this._isResizing=void 0,this._isSettingNewItems=void 0,this.tbody&&(this.getItemsContainerElement().classList.contains(fe)&&Boolean(document.getElementById(me))||function(e){e.classList.add(fe);var t=document.createElement("style");t.id=me,t.innerText="\n\t\ttbody.".concat(fe,":before {\n\t\t\tcontent: '';\n\t\t\tdisplay: table-row;\n\t\t\theight: var(--VirtualScroller-paddingTop);\n\t\t}\n\t\ttbody.").concat(fe,":after {\n\t\t\tcontent: '';\n\t\t\tdisplay: table-row;\n\t\t\theight: var(--VirtualScroller-paddingBottom);\n\t\t}\n\t").replace(/[\n\t]/g,""),document.head.appendChild(t)}(this.getItemsContainerElement()));var t=this._afterRenderStateUpdateThatWasStopped;this._afterRenderStateUpdateThatWasStopped=void 0,this.verticalSpacing=void 0;var n=this.measureItemHeightsAndSpacing();if(n&&(t=Kt(Kt({},t),n)),this.resize.start(),this.scroll.start(),void 0===this.getState().scrollableContainerWidth){var r=this.scrollableContainer.getWidth();t=Kt(Kt({},t),{},{scrollableContainerWidth:r})}else{var i=this.scrollableContainer.getWidth(),o=this.getState().scrollableContainerWidth;if(i!==o)return K("~ Scrollable container width changed from",o,"to",i,"~"),this.onResize()}if(this._usesCustomStateStorage&&this.getActualColumnsCount()!==(this.getState().columnsCount||1))return this.onResize();this.onUpdateShownItemIndexes({reason:rt.STARTED,stateUpdate:t})}},{key:"hasToBeStarted",value:function(){if(!this._isActive)throw new Error("[virtual-scroller] `VirtualScroller` hasn't been started")}},{key:"getItemScrollPosition",value:function(e){var t=this.layout.getItemTopOffset(e);if(void 0!==t)return this.getListTopOffsetInsideScrollableContainer()+t}},{key:"onItemHeightChange",value:function(e){Q("`.onItemHeightChange(i)` method was renamed to `.onItemHeightDidChange(i)`"),this.onItemHeightDidChange(e)}},{key:"onItemHeightDidChange",value:function(e){this._onItemHeightDidChange(e)}},{key:"setItemState",value:function(e,t){this._setItemState(e,t)}},{key:"onItemStateChange",value:function(e,t){this.setItemState(e,t)}},{key:"setItems",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.hasToBeStarted(),this._setItems(e,t)}}],n&&Qt(t.prototype,n),r&&Qt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function en(e){var t=e.getItemId,n=(0,i.useRef)(),r=(0,i.useMemo)((function(){var e=0;return function(){n.current=String((e===Number.MAX_SAFE_INTEGER&&(e=0),++e))}}),[n]);(0,i.useMemo)((function(){r()}),[]);var o=!t,s=(0,i.useCallback)((function(){o&&(r(),K("React: ~ Item key prefix:",n.current))}),[o,r]);return{getItemKey:(0,i.useCallback)((function(e,r){return t?t(e):"".concat(n.current,":").concat(r)}),[t,n]),usesAutogeneratedItemKeys:o,updateItemKeysForNewItems:s}}function tn(e,t){var n=(0,i.useRef)(e),r=n.current;n.current=e,e!==r&&t(e,r)}var nn=["as","items","itemComponent","itemComponentProps","estimatedItemHeight","getEstimatedItemHeight","getEstimatedVisibleItemRowsCount","bypass","tbody","preserveScrollPosition","preserveScrollPositionOnPrependItems","measureItemsBatchSize","scrollableContainer","getScrollableContainer","getColumnsCount","getItemId","className","onMount","onItemFirstRender","onItemInitialRender","initialScrollPosition","onScrollPositionChange","onStateChange","initialState","getInitialItemState"];function rn(){return rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)}function on(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function sn(e,t){var n=e.as,r=e.items,o=e.itemComponent,s=e.itemComponentProps,a=e.estimatedItemHeight,l=e.getEstimatedItemHeight,u=e.getEstimatedVisibleItemRowsCount,c=e.bypass,h=e.tbody,f=e.preserveScrollPosition,m=e.preserveScrollPositionOnPrependItems,d=e.measureItemsBatchSize,g=e.scrollableContainer,p=e.getScrollableContainer,I=e.getColumnsCount,y=e.getItemId,S=e.className,v=e.onMount,b=e.onItemFirstRender,w=e.onItemInitialRender,C=e.initialScrollPosition,O=e.onScrollPositionChange,x=e.onStateChange,R=e.initialState,A=e.getInitialItemState,P=on(e,nn),E=(0,i.useRef)(),H=function(e,t){var n=e.items,r=e.estimatedItemHeight,o=e.getEstimatedItemHeight,s=e.getEstimatedVisibleItemRowsCount,a=e.bypass,l=e.tbody,u=e.onItemInitialRender,c=e.onItemFirstRender,h=e.initialScrollPosition,f=e.onScrollPositionChange,m=e.measureItemsBatchSize,d=e.scrollableContainer,g=e.getScrollableContainer,p=e.getColumnsCount,I=e.getItemId,y=e.AsComponent,S=e.initialState,v=e.getInitialItemState,b=e.onStateChange,w=t.container;return(0,i.useMemo)((function(){var e;return new Jt((function(){return w.current}),n,(Zt(e={_useTimeoutInRenderLoop:!0,estimatedItemHeight:r,getEstimatedItemHeight:o,getEstimatedVisibleItemRowsCount:s,bypass:a,tbody:l,onItemInitialRender:u,onItemFirstRender:c,initialScrollPosition:h,onScrollPositionChange:f,measureItemsBatchSize:m,scrollableContainer:d,getScrollableContainer:g,getColumnsCount:p,getItemId:I},"tbody","tbody"===y),Zt(e,"state",S),Zt(e,"getInitialItemState",v),Zt(e,"onStateChange",b),e))}),[])}({items:r,estimatedItemHeight:a,getEstimatedItemHeight:l,getEstimatedVisibleItemRowsCount:u,bypass:c,tbody:h,onItemInitialRender:w,onItemFirstRender:b,initialScrollPosition:C,onScrollPositionChange:O,measureItemsBatchSize:d,scrollableContainer:g,getScrollableContainer:p,getColumnsCount:I,getItemId:y,AsComponent:n,initialState:R,getInitialItemState:A,onStateChange:x},{container:E}),j=ce({initialState:(0,i.useMemo)((function(){return H.getInitialState()}),[]),onRender:H.onRender,itemsProperty:r}),T=j.getState,_=j.setState,L=j.stateToRender;(0,i.useMemo)((function(){H.useState({getState:T,setState:_})}),[]),function(e){(0,i.useLayoutEffect)((function(){return e.start(),function(){e.stop()}}),[])}(H);var M=en({getItemId:y}),N=M.getItemKey,D=M.usesAutogeneratedItemKeys,B=M.updateItemKeysForNewItems,k=function(e){var t=e.initialItemsCount,n=e.virtualScroller,r=(0,i.useMemo)((function(){return new Array(t)}),[]),o=(0,i.useRef)(r);return(0,i.useCallback)((function(e){return o.current[e]||(o.current[e]=function(t){return n.setItemState(e,t)}),o.current[e]}),[n,o])}({initialItemsCount:r.length,virtualScroller:H}),z=function(e){var t=e.initialItemsCount,n=e.virtualScroller,r=(0,i.useMemo)((function(){return new Array(t)}),[]),o=(0,i.useRef)(r);return(0,i.useCallback)((function(e){return o.current[e]||(o.current[e]=function(){return n.onItemHeightDidChange(e)}),o.current[e]}),[n,o])}({initialItemsCount:r.length,virtualScroller:H});!function(e,t){var n=t.virtualScroller,r=t.preserveScrollPosition,i=t.preserveScrollPositionOnPrependItems;tn(e,(function(e,t){K("React: ~ Different `items` property has been passed",e);var o=!0,s=n.getItemsDiff(t,e);if(s){var a=s.prependedItemsCount,l=s.appendedItemsCount;0===a&&0===l&&(K("React: ~ The `items` elements are identical to the previous ones"),o=!1)}o&&n.setItems(e,{preserveScrollPositionOnPrependItems:i||r})}))}(r,{virtualScroller:H,preserveScrollPosition:f,preserveScrollPositionOnPrependItems:m}),function(e,t){var n=t.virtualScroller,r=t.usesAutogeneratedItemKeys,i=t.updateItemKeysForNewItems;tn(e,(function(e,t){if(r){K("React: ~ Different `items` are about to be rendered",e);var o=!0,s=n.getItemsDiff(t,e);if(s){var a=s.prependedItemsCount,l=s.appendedItemsCount;0===a&&0===l?(K("React: ~ The `items` elements to be rendered are identical to the previously rendered ones"),o=!1):0===a&&l>0&&(K("React: ~ The `items` elements order hasn't changed:",l,"items have been appended"),o=!1)}o&&(K("React: ~ Update item `key`s"),i())}}))}(L.items,{virtualScroller:H,usesAutogeneratedItemKeys:D,updateItemKeysForNewItems:B}),function(e,t){var n=t.virtualScroller;(0,i.useImperativeHandle)(e,(function(){return{updateLayout:function(){return n.updateLayout()},layout:function(){return n.updateLayout()},updateItem:function(e){return J('[virtual-scroller] ".updateItem(i)" method of React <VirtualScroller/> has been removed')},renderItem:function(e){return J('[virtual-scroller] ".renderItem(i)" method of React <VirtualScroller/> has been removed')}}}),[n])}(t,{virtualScroller:H}),(0,i.useLayoutEffect)((function(){v&&(Q("`onMount` property is deprecated"),v())}),[]),S=function(e,t){return t.tbody?e?e+" "+fe:fe:e}(S,{tbody:h});var V=function(e){var t=e.tbody,n=e.state;if(!t){var r=n.beforeItemsHeight,i=n.afterItemsHeight;return{paddingTop:he(r),paddingBottom:he(i)}}}({tbody:h,state:L}),F=L.items,W=L.itemStates,U=L.firstShownItemIndex,$=L.lastShownItemIndex;return i.createElement(n,rn({},P,{ref:E,className:S,style:V}),F.map((function(e,t){return t>=U&&t<=$?i.createElement(o,rn({item:e,itemIndex:t},s,{key:N(e,t),state:W&&W[t],setState:k(t),onStateChange:k(t),onHeightChange:z(t),onHeightDidChange:z(t)}),e):null})))}const an=sn=i.forwardRef(sn);var ln=G.elementType||G.oneOfType([G.string,G.func,G.object]);sn.propTypes={as:ln,items:G.arrayOf(G.any).isRequired,itemComponent:ln.isRequired,itemComponentProps:G.object,estimatedItemHeight:G.number,getEstimatedItemHeight:G.func,getEstimatedVisibleItemRowsCount:G.func,bypass:G.bool,tbody:G.bool,preserveScrollPositionOnPrependItems:G.bool,preserveScrollPosition:G.bool,measureItemsBatchSize:G.number,scrollableContainer:G.any,getScrollableContainer:G.func,getColumnsCount:G.func,getItemId:G.func,className:G.string,onMount:G.func,onItemInitialRender:G.func,onItemFirstRender:G.func,initialScrollPosition:G.number,onScrollPositionChange:G.func,onStateChange:G.func,initialState:G.shape({items:G.arrayOf(G.object).isRequired,itemStates:G.arrayOf(G.any).isRequired,firstShownItemIndex:G.number.isRequired,lastShownItemIndex:G.number.isRequired,beforeItemsHeight:G.number.isRequired,afterItemsHeight:G.number.isRequired,itemHeights:G.arrayOf(G.number).isRequired,columnsCount:G.number,verticalSpacing:G.number}),getInitialItemState:G.func},sn.defaultProps={as:"div"};const un=function(e){const{items:t=[],ItemComponent:n,getItemId:o,initialScrollerState:s,onScrollerStateChange:a,onScrollerMount:l,onScrollerPositionChange:u,onScrollerSaveState:c,cacheStrategy:h=f.So.CACHE_FIRST,cacheScrollStateKey:m="virtual_scroller_st",cacheScrollerPositionKey:d="virtual_scroller_sp"}=e,g=(0,$.__rest)(e,["items","ItemComponent","getItemId","initialScrollerState","onScrollerStateChange","onScrollerMount","onScrollerPositionChange","onScrollerSaveState","cacheStrategy","cacheScrollStateKey","cacheScrollerPositionKey"]),p=(0,i.useRef)(!1),I=(0,i.useMemo)((()=>()=>{p.current=!0,l&&l()}),[]),y=(0,i.useMemo)((()=>()=>h===f.So.CACHE_FIRST&&d?f.Ay.get(d):0),[h,d]),S=(0,i.useMemo)((()=>e=>{d&&f.Ay.set(d,e),u&&u(e)}),[d]),v=(0,i.useMemo)((()=>e=>{C.current=e,a&&a(e)}),[]),b=(0,i.useMemo)((()=>e=>{d&&f.Ay.set(m,e),c&&c(e)}),[m]),w=(0,i.useMemo)((()=>()=>{if(h===f.So.CACHE_FIRST&&m&&f.Ay.hasKey(m)){const e=f.Ay.get(m);if(e.items&&e.items.length)return e}return null}),[m,h]),C=(0,i.useRef)(w());return(0,i.useEffect)((()=>()=>{b(C.current)})),(0,r.jsx)(an,Object.assign({items:t,itemComponent:n,onMount:I},o&&{getItemId:o},{initialState:s||w(),onStateChange:v,initialScrollPosition:y(),onScrollPositionChange:S},g))};var cn=n(99769),hn=n(74257),fn=n(14561),mn=n(83586),dn=n(57106),gn=n(62645),pn=n(42628),In=n(16608),yn=n(94189),Sn=n(3541);const vn="SCFooterWidget",bn={root:`${vn}-root`,content:`${vn}-content`},wn=(0,v.Ay)(V.A,{name:vn,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({})));const Cn=function(e){const t=(0,Sn.A)({props:e,name:vn}),{footerProps:n}=t,i=(0,$.__rest)(t,["footerProps"]);return(0,r.jsx)(wn,Object.assign({className:bn.root},i,{children:(0,r.jsx)(R.A,Object.assign({className:bn.content},{children:(0,r.jsx)(yn.A,Object.assign({},n))}))}))},On=(0,E.YK)({refresh:{id:"ui.feed.refreshRelease",defaultMessage:"ui.feed.refreshRelease"}}),xn={root:`${In.H}-root`,left:`${In.H}-left`,leftItems:`${In.H}-left-items`,start:`${In.H}-start`,headerItem:`${In.H}-header-item`,end:`${In.H}-end`,endMessage:`${In.H}-end-message`,right:`${In.H}-right`,refresh:`${In.H}-refresh`,paginationLink:`${In.H}-pagination-link`},Rn=(0,v.Ay)(b.Ay,{name:In.H,slot:"Root"})((()=>({}))),An=[o.rL,o.P3],Pn=(0,i.forwardRef)(((e,t)=>{const n=(0,z.A)({props:e,name:In.H}),v=(0,H.A)(),{id:E="feed",className:N,endpoint:B,endpointQueryParams:W={limit:hn.DE,offset:hn.N$},endMessage:$=(0,r.jsx)(j.A,{id:"ui.feed.noOtherFeedObject",defaultMessage:"ui.feed.noOtherFeedObject"}),refreshMessage:G=(0,r.jsx)(w.A,{dangerouslySetInnerHTML:{__html:`${v.formatMessage(On.refresh)}`}}),HeaderComponent:q,FooterComponent:Y=mn.A,FooterComponentProps:K={},widgets:Q=[],ItemComponent:X,itemPropsGenerator:J,itemIdGenerator:Z,ItemProps:ee={},ItemSkeleton:te,ItemSkeletonProps:ne={},onNextData:re,onPreviousData:ie,FeedSidebarProps:oe={},CustomAdvProps:se={},enabledCustomAdvPositions:ae=[L.Q.POSITION_FEED_SIDEBAR,L.Q.POSITION_FEED],requireAuthentication:le=!1,cacheStrategy:ue=f.So.NETWORK_ONLY,prefetchedData:ce,scrollableTargetId:he,VirtualizedScrollerProps:fe={},disablePaginationLinks:me=!1,hidePaginationLinks:de=!0,paginationLinksPageQueryParam:ge=hn.wx,PaginationLinkProps:pe={},hideAdvs:Ie=!1,emptyFeedPlaceholder:ye}=n,Se=(0,i.useContext)(s.ql),ve=(0,i.useContext)(a.T6),be=ve.user?ve.user.id:null,we=(0,i.useMemo)((()=>W.limit||hn.DE),[W]),Ce=(0,i.useMemo)((()=>{if(ce){const e=(0,g.jo)(ce.previous,"offset")||0;return ce.previous?parseInt(e)+we:0}return W.offset||0}),[W,ce]),Oe=(0,l.A)(),xe=(0,i.useRef)(null),Re=(0,i.useMemo)((()=>{const e={};return An.map((t=>e[t]=Se.preferences&&t in Se.preferences?Se.preferences[t].value:null)),e}),[Se.preferences]),Ae=(0,C.A)(),Pe=(0,O.A)(Ae.breakpoints.down("md"),{noSsr:(0,M.Nh)()}),Ee=(0,i.useMemo)((()=>Re&&Re[o.rL]&&(Re[o.P3]&&null===ve.user||!Re[o.P3])),[Re]),He=(0,u.A)(Q),je=function(e){const{id:t,endpoint:n,endpointQueryParams:r={limit:5,offset:0},onNextPage:o,onPreviousPage:s,cacheStrategy:a=f.So.NETWORK_ONLY,prefetchedData:u}=e,S=(0,i.useMemo)((()=>Object.assign({limit:10,offset:0},r)),[r]),v=(0,l.A)(),b=(0,i.useMemo)((()=>()=>(0,g.cz)(n.url({}),Object.keys(S).map((e=>({[e]:S[e]}))))),[S]),[w,C]=(0,i.useReducer)(I,{},(()=>y({id:t,endpoint:n,queryParams:S,next:b(),cacheStrategy:a,prefetchedData:u}))),O=e=>{const t=new URLSearchParams(e),n=Object.fromEntries(t.entries());return n.offset?parseInt(n.offset):0},x=(e,t)=>R(e,!1).then((e=>{let n;if(t)n=w.results.slice(0,w.results.length-e.results.length).concat(e.results);else{let t=w.results.slice(e.results.length,w.results.length);n=e.results.concat(t)}C({type:p.DATA_REVALIDATE,payload:{results:n}})})),R=(e,r=!0,i)=>{const o=(0,d.QO)(t,e);return r&&f.Ay.hasKey(o)&&a!==f.So.NETWORK_ONLY?Promise.resolve(f.Ay.get(o)):h.A.request(Object.assign({url:e,method:n.method},i?{cancelToken:i.token}:{})).then((e=>e.status>=300?Promise.reject(e):(f.Ay.set(o,e.data),Promise.resolve(e.data))))};function A(e=!1){n&&w.next&&!w.isLoadingNext&&(C({type:p.LOADING_NEXT}),R(w.next,null,e).then((e=>{if(v.current){let t=Math.max(O(e.next)-S.limit,w.results.length),n=Math.ceil(t/S.limit+1),r=e.next?n+1:null,i=e.count||(0===w.count&&0===e.results.length?0:w.count+e.results.length+1);C({type:p.DATA_NEXT_LOADED,payload:Object.assign({currentPage:n,nextPage:r,currentOffset:t,count:i,results:e.results,next:e.next,componentLoaded:!0},S.offset&&0===w.results.length?{previous:e.previous,previousPage:e.previous?n-1:null}:{})}),o&&o(n,t,i,e.results),a===f.So.STALE_WHILE_REVALIDATE&&x(w.next,!0)}})).catch((e=>{m.V.error(c.K,e)})))}function P(){C({type:p.RESET,payload:y({id:t,endpoint:n,queryParams:S,next:b(),cacheStrategy:a,prefetchedData:u})})}return(0,i.useEffect)((()=>{w.componentLoaded&&w.reload&&!w.isLoadingNext&&!w.isLoadingPrevious&&(C({type:p.DATA_RELOADED}),A())}),[w.reload]),(0,i.useEffect)((()=>()=>{P()}),[]),Object.assign(Object.assign({},w),{updateState:function(e){C({type:p.UPDATE_DATA,payload:e})},getNextPage:A,getPreviousPage:function(){n&&w.previous&&!w.isLoadingPrevious&&(C({type:p.LOADING_PREVIOUS}),R(w.previous).then((e=>{if(v.current){let t=Math.max(O(w.previous),0),n=Math.ceil(t/S.limit+1),r=e.previous?n-1:null,i=e.count||w.count+e.results.length+1;C({type:p.DATA_PREVIOUS_LOADED,payload:{currentPage:n,previousPage:r,currentOffset:t,count:i,initialOffset:t,results:e.results,previous:e.previous}}),s&&s(n,t,i,e.results),a===f.So.STALE_WHILE_REVALIDATE&&x(w.next,!0)}})).catch((e=>{m.V.error(c.K,e)})))},reload:function(){C({type:p.DATA_RELOAD,payload:{next:b()}})},reset:P})}({id:E,endpoint:B,endpointQueryParams:Object.assign(Object.assign({},W),{offset:Ce,limit:we}),onNextPage:(e,t,n,r)=>{De((e=>e.concat(Le(r,t,n)))),re&&re(e,t,n,r)},onPreviousPage:(e,t,n,r)=>{De((e=>Le(r,t,n).concat(e))),Ze(r.map((e=>Z(e)))),ie&&ie(e,t,n,r)},cacheStrategy:ue,prefetchedData:ce}),Te=(0,i.useMemo)((()=>[...Q,...Ee&&ae.includes(L.Q.POSITION_FEED_SIDEBAR)?[{type:"widget",component:_.A,componentProps:Object.assign({position:L.Q.POSITION_FEED_SIDEBAR},se),column:"right",position:0}]:[],...Pe?[]:[{type:"widget",component:Cn,componentProps:{},column:"right",position:100}]].map(((e,t)=>Object.assign({},e,{position:e.position*("right"===e.column?5:1),id:`${e.column}_${t}`}))).sort(fn.hY)),[Q,Ee]),_e=(e=1,t)=>{const n={type:"widget",component:_.A,componentProps:Object.assign({position:L.Q.POSITION_FEED},se),column:"left",position:e,id:`left_${e}`};if(Pe&&!Ie){const r=e===t-1?Te.filter((e=>e.position>=t)):[];return[...Te.filter((t=>t.position===e)),...Ee&&ae.includes(L.Q.POSITION_FEED)&&e>0&&e%cn.gt==0?[n]:[],...r]}const r=e===t-1?Te.filter((e=>e.position>=t&&"left"===e.column)):[];return[...Te.filter((t=>t.position===e&&"left"===t.column)),...Ee&&!Ie&&ae.includes(L.Q.POSITION_FEED)&&e>0&&e%cn.gt==0?[n]:[],...r]},Le=(e,t,n)=>{let r=[];return 0===n?r=Pe?Te:Te.filter((e=>"left"===e.column)):e.forEach(((e,i)=>{r=r.concat([..._e(i+t,n),e])})),r},Me=()=>Pe?[]:Te.filter((e=>"right"===e.column)),[Ne,De]=(0,i.useState)(ce?Le(je.results,je.initialOffset,je.count):[]),[Be,ke]=(0,i.useState)(ce?Me():[]),[ze,Ve]=(0,i.useState)([]),Fe=(0,i.useRef)(null),We=(0,i.useRef)(null),Ue=(0,i.useRef)(!1),$e=(0,i.useMemo)((()=>e=>"widget"===e.type?`${cn.wE}${e.id}`:`${e.type}_${Z(e)}`),[]),Ge=(0,i.useMemo)((()=>()=>{Ue.current=!0}),[]),qe=(0,i.useMemo)((()=>e=>{We.current=e}),[]),Ye=(0,i.useMemo)((()=>()=>{je.componentLoaded&&(Ve([]),De([]),ke(Me()),je.reload())}),[je.componentLoaded,Ve,De,ke]),Ke=(e,t)=>{t.refresh&&Ye()},Qe=(0,i.useMemo)((()=>()=>{Oe.current&&je.componentLoaded&&!je.isLoadingNext&&je.getNextPage()}),[Oe.current,je.componentLoaded,je.isLoadingNext]),Xe=(0,i.useMemo)((()=>()=>{Oe.current&&je.componentLoaded&&!je.isLoadingPrevious&&je.getPreviousPage()}),[Oe.current,je.componentLoaded,je.isLoadingPrevious]),Je=(0,i.useMemo)((()=>()=>{ue===f.So.CACHE_FIRST&&je.componentLoaded?(De(Le(je.results,je.initialOffset,je.count)),ke(Me())):je.componentLoaded||(je.getNextPage(),ke(Me()))}),[ue,je.componentLoaded,W]);(0,i.useEffect)((()=>{let e;return(le&&null!==be&&!ce||!le&&!ce)&&(e=setTimeout(Je)),()=>{e&&clearTimeout(e)}}),[le,be,ce]),(0,gn.ho)((()=>{He&&Q&&He!==Q&&Ye()}),[Q]),(0,i.useEffect)((()=>(Fe.current=k().subscribe(E,Ke),()=>{k().unsubscribe(Fe.current)})),[Ke]);const Ze=e=>{Ve(ze.filter((t=>!e.includes(Z(t)))))},et=(0,i.useMemo)((()=>(0,r.jsx)(r.Fragment,{children:!me&&je.nextPage&&(0,r.jsx)(S.A,Object.assign({to:`?${ge}=${je.nextPage}`,className:D()({[xn.paginationLink]:de})},pe,{children:(0,r.jsx)(j.A,{id:"ui.common.nextPage",defaultMessage:"ui.common.nextPage"})}))})),[je.nextPage,me,ge,de]),tt=(0,i.useMemo)((()=>(0,r.jsx)(r.Fragment,{children:!me&&je.previousPage&&(0,r.jsx)(S.A,Object.assign({to:`?${ge}=${je.previousPage}`,className:D()({[xn.paginationLink]:de})},pe,{children:(0,r.jsx)(j.A,{id:"ui.common.previousPage",defaultMessage:"ui.common.previousPage"})}))})),[je.previousPage,me,ge,de]);(0,i.useImperativeHandle)(t,(()=>({addFeedData:(e,t)=>{if(Ve([e,...ze]),t){const e=parseInt((0,g.jo)(je.next,"offset")||je.results.length-1)+1,t=parseInt((0,g.jo)(je.previous,"offset")||Ce)+1;je.updateState({previous:(0,g.K)(je.previous,"offset",t),next:(0,g.K)(je.next,"offset",e),count:je.count+1})}},refresh:()=>{Ye()},getCurrentFeedObjectIds:()=>[...ze.map((e=>e[e.type].id)),...je.results.map((e=>e[e.type].id))]})));const nt=(0,i.useMemo)((()=>({state:e,onHeightChange:t,onStateChange:n,children:i})=>{const o=()=>{e&&void 0!==e.firstShownItemIndex&&t()},s=t=>{n(Object.assign(Object.assign({},e),t))};return(0,r.jsx)(U,Object.assign({onHeightChange:o},{children:"widget"===i.type?(0,r.jsx)(i.component,Object.assign({id:`${cn.wE}${i.position}`},i.componentProps,i.publishEvents&&{publicationChannel:E},e,{onStateChange:s,onHeightChange:o})):(0,r.jsx)(X,Object.assign({id:`item_${Z(i)}`},J(ve.user,i),ee,{sx:{width:"100%"}},e,{onStateChange:s,onHeightChange:o}))}))}),[be]);return je.isLoadingNext&&!Ne.length?(0,r.jsx)(dn.A,{children:[...Array(3)].map(((e,t)=>(0,r.jsx)(te,Object.assign({},ne),t)))}):(0,r.jsxs)(Rn,Object.assign({container:!0,spacing:2,id:E,className:D()(xn.root,N)},{children:[Ee&&!Ie&&ae.includes(L.Q.POSITION_BELOW_TOPBAR)?(0,r.jsx)(b.Ay,Object.assign({item:!0,xs:12},{children:(0,r.jsx)(_.A,Object.assign({position:L.Q.POSITION_BELOW_TOPBAR},se))})):null,(0,r.jsx)(b.Ay,Object.assign({item:!0,xs:12,md:7},{children:(0,r.jsxs)(F.A,Object.assign({ref:xe,className:xn.left,dataLength:Ne.length,next:Qe,previous:Xe,hasMoreNext:Boolean(je.next),hasMorePrevious:Boolean(je.previous),header:tt,footer:et,loaderNext:(0,r.jsx)(te,Object.assign({},ne)),loaderPrevious:(0,r.jsx)(te,Object.assign({},ne)),scrollThreshold:"90%",endMessage:(0,r.jsxs)(x.A,Object.assign({className:xn.end},{children:[(0,r.jsx)(V.A,Object.assign({className:xn.endMessage},{children:(0,r.jsx)(R.A,{children:$})})),Y?(0,r.jsx)(Y,Object.assign({},K)):null]})),refreshFunction:Ye,pullDownToRefresh:!0,pullDownToRefreshThreshold:1e3,pullDownToRefreshContent:null,releaseToRefreshContent:(0,r.jsx)(A.A,Object.assign({color:"secondary",variant:"contained",className:xn.refresh},{children:G})),style:{overflow:"visible"}},he&&{scrollableTarget:he},{children:[(0,r.jsx)(x.A,Object.assign({className:xn.start},{children:!je.previous&&(0,r.jsxs)(r.Fragment,{children:[Ue.current&&q,ze.map((e=>{const t=`item_${Z(e)}`;return(0,r.jsx)(X,Object.assign({className:xn.headerItem,id:t},J(ve.user,e),ee,{sx:{width:"100%"}}),t)}))]})})),0===je.count&&ye&&ye,(0,r.jsx)(un,Object.assign({className:xn.leftItems,items:Ne,itemComponent:nt,onMount:Ge,onScrollerStateChange:qe,getItemId:$e,preserveScrollPosition:!0,preserveScrollPositionOnPrependItems:!0,cacheScrollStateKey:d.Jl(E),cacheScrollerPositionKey:d.j$(E),cacheStrategy:ue},he&&{getScrollableContainer:()=>document.getElementById(he)},fe))]}))})),Be.length>0&&!Ie&&(0,r.jsx)(P.A,Object.assign({smDown:!0},{children:(0,r.jsx)(b.Ay,Object.assign({item:!0,xs:12,md:5},{children:(0,r.jsx)(pn.A,Object.assign({className:xn.right},oe,{children:(0,r.jsx)(i.Suspense,Object.assign({fallback:(0,r.jsx)(T.A,{})},{children:Be.map(((e,t)=>(0,r.jsx)(e.component,Object.assign({},e.componentProps),t)))}))}))}))}))]}))})),En=Pn},57106:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(74848),i=n(96540),o=n(11848),s=n(1489),a=n(4782),l=n(50444),u=n(19546),c=n.n(u),h=n(16608);const f={root:`${h.H}-skeleton-root`,left:`${h.H}-left`,right:`${h.H}-right`},m=(0,o.Ay)(s.Ay,{name:h.H,slot:"SkeletonRoot"})((()=>({})));function d(e){const{children:t=(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(l.A,{sx:{mb:2}}),(0,r.jsx)(l.A,{sx:{mb:2}}),(0,r.jsx)(l.A,{sx:{mb:2}})]}),sidebar:n=(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(l.A,{sx:{mb:2}}),(0,r.jsx)(l.A,{sx:{mb:2}})]}),className:o}=e;return(0,r.jsxs)(m,Object.assign({container:!0,spacing:2,className:c()(f.root,o)},{children:[(0,r.jsx)(s.Ay,Object.assign({item:!0,xs:12,md:7},{children:(0,r.jsx)("div",Object.assign({className:f.left},{children:t}))})),(0,r.jsx)(a.A,Object.assign({smDown:!0},{children:(0,r.jsx)(s.Ay,Object.assign({item:!0,xs:12,md:5},{children:(0,r.jsx)("div",Object.assign({className:f.right},{children:n}))}))}))]}))}},67514:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(31635),i=n(29368),o=n(40462),s=n(12275);class a{static getASpecificCustomMenu(e,t){return(0,o.A)(Object.assign(Object.assign({},t),{url:i.A.CustomMenu.url({id:e}),method:i.A.CustomMenu.method}))}static getAllCustomMenus(e,t){const n=(0,s._)(e);return(0,o.A)(Object.assign(Object.assign({},t),{url:`${i.A.GetCustomMenus.url({})}?${n.toString()}`,method:i.A.GetCustomMenus.method}))}static searchCustomMenus(e,t){const n=(0,s._)(e);return(0,o.A)(Object.assign(Object.assign({},t),{url:`${i.A.CustomMenuSearch.url({})}?${n.toString()}`,method:i.A.CustomMenuSearch.method}))}}class l{static getASpecificCustomMenu(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function*(){return a.getASpecificCustomMenu(e,t)}))}static getAllCustomMenus(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function*(){return a.getAllCustomMenus(e,t)}))}static searchCustomMenus(e,t){return(0,r.__awaiter)(this,void 0,void 0,(function*(){return a.searchCustomMenus(e,t)}))}}var u=n(94520),c=n(96540),h=n(42269);function f(e,t=null){const[n,r]=(0,c.useState)(t),[i,o]=(0,c.useState)(!t),s=(0,c.useCallback)((()=>{o(!0),l.getASpecificCustomMenu(e).then((e=>{r(e)})).catch((e=>{u.V.error(h.K,e)})).then((()=>o(!1)))}),[]);return(0,c.useEffect)((()=>{t||s()}),[e]),{_menu:n,loading:i}}},81327:(e,t,n)=>{"use strict";n.d(t,{$z:()=>r,LE:()=>i});const r=(e,t)=>e.reduce((function(e,n){let r="function"==typeof t?t(n):n[t];return e.hasOwnProperty(r)||(e[r]=[]),e[r].push(n),e}),{}),i=(e,t,n=!0)=>{if(!Array.isArray(e))return e;const r=n?(e,n)=>e[t]-n[t]:(e,n)=>n[t]-e[t];return e.sort(r)}},83586:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(94189).A},93146:(e,t,n)=>{for(var r=n(13491),i="undefined"==typeof window?n.g:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],l=i["cancel"+s]||i["cancelRequest"+s],u=0;!a&&u<o.length;u++)a=i[o[u]+"Request"+s],l=i[o[u]+"Cancel"+s]||i[o[u]+"CancelRequest"+s];if(!a||!l){var c=0,h=0,f=[];a=function(e){if(0===f.length){var t=r(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return f.push({handle:++h,callback:e,cancelled:!1}),h},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return a.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=a,e.cancelAnimationFrame=l}},94189:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(31635),i=n(74848),o=n(96540),s=n(66848),a=n(11848),l=n(67733),u=n(42942),c=n(47859),h=n(19546),f=n.n(h),m=n(740),d=n(81327),g=n(2877),p=n(67514),I=n(75753),y=n(3338),S=n(3341),v=n(73785),b=n(17299);const w={root:`${b.H}-skeleton-root`},C=(0,a.Ay)(l.A,{name:b.H,slot:"SkeletonRoot"})((()=>({})));function O(e){return(0,i.jsxs)(C,Object.assign({className:w.root},e,{children:[(0,i.jsx)(v.A,{animation:"wave",height:10,style:{marginBottom:10}}),(0,i.jsx)(v.A,{animation:"wave",height:10,width:"60%"})]}))}const x={root:`${b.H}-root`,itemList:`${b.H}-item-list`,item:`${b.H}-item`,copyright:`${b.H}-copyright`},R=(0,a.Ay)(l.A,{name:b.H,slot:"Root"})((()=>({})));function A(e){const t=(0,s.A)({props:e,name:b.H}),{className:n,menu:a=null,startActions:h=null,endActions:v=null}=t,w=(0,r.__rest)(t,["className","menu","startActions","endActions"]),C=(0,g.X1)(),{_menu:A,loading:P}=(0,p.A)(C.user?m.r.BASE:m.r.NOT_LOGGED,a),{preferences:E}=(0,I.Sw)(),H=(0,o.useMemo)((()=>E&&y.FE in E?E[y.FE].value.replace("$year",(new Date).getFullYear()):null),[E]),j=E[y.Jg].value;return P?(0,i.jsx)(O,{}):(0,i.jsxs)(R,Object.assign({},w,{className:f()(x.root,n)},{children:[h,(0,i.jsx)(l.A,Object.assign({className:x.itemList},{children:(0,d.LE)(A.items,"order").filter((e=>j||e.url!==b.A)).map((e=>(0,i.jsx)(u.A,Object.assign({component:S.A,className:x.item,to:e.url,variant:"text"},{children:e.label}),e.id)))})),v,(0,i.jsx)(c.A,{textAlign:"center",className:x.copyright,variant:"body2",dangerouslySetInnerHTML:{__html:H}})]}))}}}]);