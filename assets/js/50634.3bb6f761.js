/*! For license information please see 50634.3bb6f761.js.LICENSE.txt */
(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[50634],{1e3:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});const o="SCCommentObject"},10246:(e,t,n)=>{"use strict";function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}n.r(t),n.d(t,{MultiDrag:()=>xt,Sortable:()=>We,Swap:()=>ut,default:()=>_t});function u(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var h=u(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),p=u(/Edge/i),m=u(/firefox/i),g=u(/safari/i)&&!u(/chrome/i)&&!u(/android/i),f=u(/iP(ad|od|hone)/i),b=u(/chrome/i)&&u(/android/i),v={capture:!1,passive:!1};function A(e,t,n){e.addEventListener(t,n,!h&&v)}function j(e,t,n){e.removeEventListener(t,n,!h&&v)}function y(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function x(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function O(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&y(e,t):y(e,t))||o&&e===n)return e;if(e===n)break}while(e=x(e))}return null}var C,_=/\s+/g;function E(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(_," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(_," ")}}function S(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function w(e,t){var n="";if("string"==typeof e)n=e;else do{var o=S(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function M(e,t,n){if(e){var o=e.getElementsByTagName(t),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function D(){var e=document.scrollingElement;return e||document.documentElement}function N(e,t,n,o,i){if(e.getBoundingClientRect||e===window){var r,s,a,l,c,d,u;if(e!==window&&e.parentNode&&e!==D()?(s=(r=e.getBoundingClientRect()).top,a=r.left,l=r.bottom,c=r.right,d=r.height,u=r.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!h))do{if(i&&i.getBoundingClientRect&&("none"!==S(i,"transform")||n&&"static"!==S(i,"position"))){var p=i.getBoundingClientRect();s-=p.top+parseInt(S(i,"border-top-width")),a-=p.left+parseInt(S(i,"border-left-width")),l=s+r.height,c=a+r.width;break}}while(i=i.parentNode);if(o&&e!==window){var m=w(i||e),g=m&&m.a,f=m&&m.d;m&&(l=(s/=f)+(d/=f),c=(a/=g)+(u/=g))}return{top:s,left:a,bottom:l,right:c,width:u,height:d}}}function T(e,t,n){for(var o=$(e,!0),i=N(e)[t];o;){var r=N(o)[n];if(!("top"===n||"left"===n?i>=r:i<=r))return o;if(o===D())break;o=$(o,!1)}return!1}function P(e,t,n,o){for(var i=0,r=0,s=e.children;r<s.length;){if("none"!==s[r].style.display&&s[r]!==We.ghost&&(o||s[r]!==We.dragged)&&O(s[r],n.draggable,e,!1)){if(i===t)return s[r];i++}r++}return null}function I(e,t){for(var n=e.lastElementChild;n&&(n===We.ghost||"none"===S(n,"display")||t&&!y(n,t));)n=n.previousElementSibling;return n||null}function k(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===We.clone||t&&!y(e,t)||n++;return n}function R(e){var t=0,n=0,o=D();if(e)do{var i=w(e),r=i.a,s=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*s}while(e!==o&&(e=e.parentNode));return[t,n]}function $(e,t){if(!e||!e.getBoundingClientRect)return D();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=S(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return D();if(o||t)return n;o=!0}}}while(n=n.parentNode);return D()}function L(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function H(e,t){return function(){if(!C){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),C=setTimeout((function(){C=void 0}),t)}}}function B(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function F(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function V(e,t){S(e,"position","absolute"),S(e,"top",t.top),S(e,"left",t.left),S(e,"width",t.width),S(e,"height",t.height)}function W(e){S(e,"position",""),S(e,"top",""),S(e,"left",""),S(e,"width",""),S(e,"height","")}var z="Sortable"+(new Date).getTime();function X(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==S(e,"display")&&e!==We.ghost){t.push({target:e,rect:N(e)});var n=i({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=w(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,r=0;t.forEach((function(e){var t=0,n=e.target,s=n.fromRect,a=N(n),l=n.prevFromRect,c=n.prevToRect,d=e.rect,u=w(n,!0);u&&(a.top-=u.f,a.left-=u.e),n.toRect=a,n.thisAnimationDuration&&L(l,a)&&!L(s,a)&&(d.top-a.top)/(d.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(d,l,c,o.options)),L(a,s)||(n.prevFromRect=s,n.prevToRect=a,t||(t=o.options.animation),o.animate(n,d,a,t)),t&&(i=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof n&&n()}),r):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){S(e,"transition",""),S(e,"transform","");var i=w(this.el),r=i&&i.a,s=i&&i.d,a=(t.left-n.left)/(r||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,S(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),S(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),S(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){S(e,"transition",""),S(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}var Y=[],U={initializeByDefault:!0},K={mount:function(e){for(var t in U)U.hasOwnProperty(t)&&!(t in e)&&(e[t]=U[t]);Y.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Y.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var r=e+"Global";Y.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](i({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](i({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var i in Y.forEach((function(o){var i=o.pluginName;if(e.options[i]||o.initializeByDefault){var r=new o(e,t,e.options);r.sortable=e,r.options=e.options,e[i]=r,a(n,r.defaults)}})),e.options)if(e.options.hasOwnProperty(i)){var r=this.modifyOption(e,i,e.options[i]);void 0!==r&&(e.options[i]=r)}},getEventProperties:function(e,t){var n={};return Y.forEach((function(o){"function"==typeof o.eventProperties&&a(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return Y.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(o=i.optionListeners[t].call(e[i.pluginName],n))})),o}};function q(e){var t=e.sortable,n=e.rootEl,o=e.name,r=e.targetEl,s=e.cloneEl,a=e.toEl,l=e.fromEl,c=e.oldIndex,d=e.newIndex,u=e.oldDraggableIndex,m=e.newDraggableIndex,g=e.originalEvent,f=e.putSortable,b=e.extraEventProperties;if(t=t||n&&n[z]){var v,A=t.options,j="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||h||p?(v=document.createEvent("Event")).initEvent(o,!0,!0):v=new CustomEvent(o,{bubbles:!0,cancelable:!0}),v.to=a||n,v.from=l||n,v.item=r||n,v.clone=s,v.oldIndex=c,v.newIndex=d,v.oldDraggableIndex=u,v.newDraggableIndex=m,v.originalEvent=g,v.pullMode=f?f.lastPutMode:void 0;var y=i(i({},b),K.getEventProperties(o,t));for(var x in y)v[x]=y[x];n&&n.dispatchEvent(v),A[j]&&A[j].call(t,v)}}var G=["evt"],Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,r=l(n,G);K.pluginEvent.bind(We)(e,t,i({dragEl:Q,parentEl:ee,ghostEl:te,rootEl:ne,nextEl:oe,lastDownEl:ie,cloneEl:re,cloneHidden:se,dragStarted:Ae,putSortable:he,activeSortable:We.active,originalEvent:o,oldIndex:ae,oldDraggableIndex:ce,newIndex:le,newDraggableIndex:de,hideGhostForTarget:He,unhideGhostForTarget:Be,cloneNowHidden:function(){se=!0},cloneNowShown:function(){se=!1},dispatchSortableEvent:function(e){J({sortable:t,name:e,originalEvent:o})}},r))};function J(e){q(i({putSortable:he,cloneEl:re,targetEl:Q,rootEl:ne,oldIndex:ae,oldDraggableIndex:ce,newIndex:le,newDraggableIndex:de},e))}var Q,ee,te,ne,oe,ie,re,se,ae,le,ce,de,ue,he,pe,me,ge,fe,be,ve,Ae,je,ye,xe,Oe,Ce=!1,_e=!1,Ee=[],Se=!1,we=!1,Me=[],De=!1,Ne=[],Te="undefined"!=typeof document,Pe=f,Ie=p||h?"cssFloat":"float",ke=Te&&!b&&!f&&"draggable"in document.createElement("div"),Re=function(){if(Te){if(h)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),$e=function(e,t){var n=S(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=P(e,0,t),r=P(e,1,t),s=i&&S(i),a=r&&S(r),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+N(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+N(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&"none"!==s.float){var d="left"===s.float?"left":"right";return!r||"both"!==a.clear&&a.clear!==d?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=o&&"none"===n[Ie]||r&&"none"===n[Ie]&&l+c>o)?"vertical":"horizontal"},Le=function(e){function t(e,n){return function(o,i,r,s){var a=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,i,r,s),n)(o,i,r,s);var l=(n?o:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},o=e.group;o&&"object"==r(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},He=function(){!Re&&te&&S(te,"display","none")},Be=function(){!Re&&te&&S(te,"display","")};Te&&!b&&document.addEventListener("click",(function(e){if(_e)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),_e=!1,!1}),!0);var Fe=function(e){if(Q){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,r=e.clientY,Ee.some((function(e){var t=e[z].options.emptyInsertThreshold;if(t&&!I(e)){var n=N(e),o=i>=n.left-t&&i<=n.right+t,a=r>=n.top-t&&r<=n.bottom+t;return o&&a?s=e:void 0}})),s);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[z]._onDragOver(n)}}var i,r,s},Ve=function(e){Q&&Q.parentNode[z]._isOutsideThisEl(e.target)};function We(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=a({},t),e[z]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return $e(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==We.supportPointer&&"PointerEvent"in window&&!g,emptyInsertThreshold:5};for(var o in K.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var i in Le(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&ke,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?A(e,"pointerdown",this._onTapStart):(A(e,"mousedown",this._onTapStart),A(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(A(e,"dragover",this),A(e,"dragenter",this)),Ee.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),a(this,X())}function ze(e,t,n,o,i,r,s,a){var l,c,d=e[z],u=d.options.onMove;return!window.CustomEvent||h||p?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=o,l.related=i||t,l.relatedRect=r||N(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),u&&(c=u.call(d,l,s)),c}function Xe(e){e.draggable=!1}function Ye(){De=!1}function Ue(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Ke(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}We.prototype={constructor:We,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(je=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Q):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,i=o.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=o.filter;if(function(e){Ne.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&Ne.push(o)}}(n),!Q&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||o.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!g||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=O(a,o.draggable,n,!1))&&a.animated||ie===a)){if(ae=k(a),ce=k(a,o.draggable),"function"==typeof c){if(c.call(this,e,a,this))return J({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),Z("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=O(l,o.trim(),n,!1))return J({sortable:t,rootEl:o,name:"filter",targetEl:a,fromEl:n,toEl:n}),Z("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());o.handle&&!O(l,o.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var o,i=this,r=i.el,s=i.options,a=r.ownerDocument;if(n&&!Q&&n.parentNode===r){var l=N(n);if(ne=r,ee=(Q=n).parentNode,oe=Q.nextSibling,ie=n,ue=s.group,We.dragged=Q,pe={target:Q,clientX:(t||e).clientX,clientY:(t||e).clientY},be=pe.clientX-l.left,ve=pe.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Q.style["will-change"]="all",o=function(){Z("delayEnded",i,{evt:e}),We.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!m&&i.nativeDraggable&&(Q.draggable=!0),i._triggerDragStart(e,t),J({sortable:i,name:"choose",originalEvent:e}),E(Q,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){M(Q,e.trim(),Xe)})),A(a,"dragover",Fe),A(a,"mousemove",Fe),A(a,"touchmove",Fe),A(a,"mouseup",i._onDrop),A(a,"touchend",i._onDrop),A(a,"touchcancel",i._onDrop),m&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Q.draggable=!0),Z("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(p||h))o();else{if(We.eventCanceled)return void this._onDrop();A(a,"mouseup",i._disableDelayedDrag),A(a,"touchend",i._disableDelayedDrag),A(a,"touchcancel",i._disableDelayedDrag),A(a,"mousemove",i._delayedDragTouchMoveHandler),A(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&A(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Q&&Xe(Q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._disableDelayedDrag),j(e,"touchend",this._disableDelayedDrag),j(e,"touchcancel",this._disableDelayedDrag),j(e,"mousemove",this._delayedDragTouchMoveHandler),j(e,"touchmove",this._delayedDragTouchMoveHandler),j(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?A(document,"pointermove",this._onTouchMove):A(document,t?"touchmove":"mousemove",this._onTouchMove):(A(Q,"dragend",this),A(ne,"dragstart",this._onDragStart));try{document.selection?Ke((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(Ce=!1,ne&&Q){Z("dragStarted",this,{evt:t}),this.nativeDraggable&&A(document,"dragover",Ve);var n=this.options;!e&&E(Q,n.dragClass,!1),E(Q,n.ghostClass,!0),We.active=this,e&&this._appendGhost(),J({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(me){this._lastX=me.clientX,this._lastY=me.clientY,He();for(var e=document.elementFromPoint(me.clientX,me.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(me.clientX,me.clientY))!==t;)t=e;if(Q.parentNode[z]._isOutsideThisEl(e),t)do{if(t[z]){if(t[z]._onDragOver({clientX:me.clientX,clientY:me.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Be()}},_onTouchMove:function(e){if(pe){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,i=e.touches?e.touches[0]:e,r=te&&w(te,!0),s=te&&r&&r.a,a=te&&r&&r.d,l=Pe&&Oe&&R(Oe),c=(i.clientX-pe.clientX+o.x)/(s||1)+(l?l[0]-Me[0]:0)/(s||1),d=(i.clientY-pe.clientY+o.y)/(a||1)+(l?l[1]-Me[1]:0)/(a||1);if(!We.active&&!Ce){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(te){r?(r.e+=c-(ge||0),r.f+=d-(fe||0)):r={a:1,b:0,c:0,d:1,e:c,f:d};var u="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");S(te,"webkitTransform",u),S(te,"mozTransform",u),S(te,"msTransform",u),S(te,"transform",u),ge=c,fe=d,me=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!te){var e=this.options.fallbackOnBody?document.body:ne,t=N(Q,!0,Pe,!0,e),n=this.options;if(Pe){for(Oe=e;"static"===S(Oe,"position")&&"none"===S(Oe,"transform")&&Oe!==document;)Oe=Oe.parentNode;Oe!==document.body&&Oe!==document.documentElement?(Oe===document&&(Oe=D()),t.top+=Oe.scrollTop,t.left+=Oe.scrollLeft):Oe=D(),Me=R(Oe)}E(te=Q.cloneNode(!0),n.ghostClass,!1),E(te,n.fallbackClass,!0),E(te,n.dragClass,!0),S(te,"transition",""),S(te,"transform",""),S(te,"box-sizing","border-box"),S(te,"margin",0),S(te,"top",t.top),S(te,"left",t.left),S(te,"width",t.width),S(te,"height",t.height),S(te,"opacity","0.8"),S(te,"position",Pe?"absolute":"fixed"),S(te,"zIndex","100000"),S(te,"pointerEvents","none"),We.ghost=te,e.appendChild(te),S(te,"transform-origin",be/parseInt(te.style.width)*100+"% "+ve/parseInt(te.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,i=n.options;Z("dragStart",this,{evt:e}),We.eventCanceled?this._onDrop():(Z("setupClone",this),We.eventCanceled||((re=F(Q)).removeAttribute("id"),re.draggable=!1,re.style["will-change"]="",this._hideClone(),E(re,this.options.chosenClass,!1),We.clone=re),n.cloneId=Ke((function(){Z("clone",n),We.eventCanceled||(n.options.removeCloneOnHide||ne.insertBefore(re,Q),n._hideClone(),J({sortable:n,name:"clone"}))})),!t&&E(Q,i.dragClass,!0),t?(_e=!0,n._loopId=setInterval(n._emulateDragOver,50)):(j(document,"mouseup",n._onDrop),j(document,"touchend",n._onDrop),j(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,Q)),A(document,"drop",n),S(Q,"transform","translateZ(0)")),Ce=!0,n._dragStartId=Ke(n._dragStarted.bind(n,t,e)),A(document,"selectstart",n),Ae=!0,g&&S(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,r,s=this.el,a=e.target,l=this.options,c=l.group,d=We.active,u=ue===c,h=l.sort,p=he||d,m=this,g=!1;if(!De){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=O(a,l.draggable,s,!0),L("dragOver"),We.eventCanceled)return g;if(Q.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||m._ignoreWhileAnimating===a)return F(!1);if(_e=!1,d&&!l.disabled&&(u?h||(o=ee!==ne):he===this||(this.lastPutMode=ue.checkPull(this,d,Q,e))&&c.checkPut(this,d,Q,e))){if(r="vertical"===this._getDirection(e,a),t=N(Q),L("dragOverValid"),We.eventCanceled)return g;if(o)return ee=ne,H(),this._hideClone(),L("revert"),We.eventCanceled||(oe?ne.insertBefore(Q,oe):ne.appendChild(Q)),F(!0);var f=I(s,l.draggable);if(!f||function(e,t,n){var o=N(I(n.el,n.options.draggable)),i=10;return t?e.clientX>o.right+i||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+i}(e,r,this)&&!f.animated){if(f===Q)return F(!1);if(f&&s===e.target&&(a=f),a&&(n=N(a)),!1!==ze(ne,s,Q,t,a,n,e,!!a))return H(),f&&f.nextSibling?s.insertBefore(Q,f.nextSibling):s.appendChild(Q),ee=s,V(),F(!0)}else if(f&&function(e,t,n){var o=N(P(n.el,0,n.options,!0)),i=10;return t?e.clientX<o.left-i||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-i||e.clientY<o.bottom&&e.clientX<o.left}(e,r,this)){var b=P(s,0,l,!0);if(b===Q)return F(!1);if(n=N(a=b),!1!==ze(ne,s,Q,t,a,n,e,!1))return H(),s.insertBefore(Q,b),ee=s,V(),F(!0)}else if(a.parentNode===s){n=N(a);var v,A,j,y=Q.parentNode!==s,x=!function(e,t,n){var o=n?e.left:e.top,i=n?e.right:e.bottom,r=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return o===s||i===a||o+r/2===s+l/2}(Q.animated&&Q.toRect||t,a.animated&&a.toRect||n,r),C=r?"top":"left",_=T(a,"top","top")||T(Q,"top","top"),w=_?_.scrollTop:void 0;if(je!==a&&(A=n[C],Se=!1,we=!x&&l.invertSwap||y),v=function(e,t,n,o,i,r,s,a){var l=o?e.clientY:e.clientX,c=o?n.height:n.width,d=o?n.top:n.left,u=o?n.bottom:n.right,h=!1;if(!s)if(a&&xe<c*i){if(!Se&&(1===ye?l>d+c*r/2:l<u-c*r/2)&&(Se=!0),Se)h=!0;else if(1===ye?l<d+xe:l>u-xe)return-ye}else if(l>d+c*(1-i)/2&&l<u-c*(1-i)/2)return function(e){return k(Q)<k(e)?1:-1}(t);if((h=h||s)&&(l<d+c*r/2||l>u-c*r/2))return l>d+c/2?1:-1;return 0}(e,a,n,r,x?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,we,je===a),0!==v){var M=k(Q);do{M-=v,j=ee.children[M]}while(j&&("none"===S(j,"display")||j===te))}if(0===v||j===a)return F(!1);je=a,ye=v;var D=a.nextElementSibling,R=!1,$=ze(ne,s,Q,t,a,n,e,R=1===v);if(!1!==$)return 1!==$&&-1!==$||(R=1===$),De=!0,setTimeout(Ye,30),H(),R&&!D?s.appendChild(Q):a.parentNode.insertBefore(Q,R?D:a),_&&B(_,0,w-_.scrollTop),ee=Q.parentNode,void 0===A||we||(xe=Math.abs(A-N(a)[C])),V(),F(!0)}if(s.contains(Q))return F(!1)}return!1}function L(l,c){Z(l,m,i({evt:e,isOwner:u,axis:r?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:h,fromSortable:p,target:a,completed:F,onMove:function(n,o){return ze(ne,s,Q,t,n,N(n),e,o)},changed:V},c))}function H(){L("dragOverAnimationCapture"),m.captureAnimationState(),m!==p&&p.captureAnimationState()}function F(t){return L("dragOverCompleted",{insertion:t}),t&&(u?d._hideClone():d._showClone(m),m!==p&&(E(Q,he?he.options.ghostClass:d.options.ghostClass,!1),E(Q,l.ghostClass,!0)),he!==m&&m!==We.active?he=m:m===We.active&&he&&(he=null),p===m&&(m._ignoreWhileAnimating=a),m.animateAll((function(){L("dragOverAnimationComplete"),m._ignoreWhileAnimating=null})),m!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===Q&&!Q.animated||a===s&&!a.animated)&&(je=null),l.dragoverBubble||e.rootEl||a===document||(Q.parentNode[z]._isOutsideThisEl(e.target),!t&&Fe(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function V(){le=k(Q),de=k(Q,l.draggable),J({sortable:m,name:"change",toEl:s,newIndex:le,newDraggableIndex:de,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){j(document,"mousemove",this._onTouchMove),j(document,"touchmove",this._onTouchMove),j(document,"pointermove",this._onTouchMove),j(document,"dragover",Fe),j(document,"mousemove",Fe),j(document,"touchmove",Fe)},_offUpEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._onDrop),j(e,"touchend",this._onDrop),j(e,"pointerup",this._onDrop),j(e,"touchcancel",this._onDrop),j(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;le=k(Q),de=k(Q,n.draggable),Z("drop",this,{evt:e}),ee=Q&&Q.parentNode,le=k(Q),de=k(Q,n.draggable),We.eventCanceled||(Ce=!1,we=!1,Se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(j(document,"drop",this),j(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),g&&S(document.body,"user-select",""),S(Q,"transform",""),e&&(Ae&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),te&&te.parentNode&&te.parentNode.removeChild(te),(ne===ee||he&&"clone"!==he.lastPutMode)&&re&&re.parentNode&&re.parentNode.removeChild(re),Q&&(this.nativeDraggable&&j(Q,"dragend",this),Xe(Q),Q.style["will-change"]="",Ae&&!Ce&&E(Q,he?he.options.ghostClass:this.options.ghostClass,!1),E(Q,this.options.chosenClass,!1),J({sortable:this,name:"unchoose",toEl:ee,newIndex:null,newDraggableIndex:null,originalEvent:e}),ne!==ee?(le>=0&&(J({rootEl:ee,name:"add",toEl:ee,fromEl:ne,originalEvent:e}),J({sortable:this,name:"remove",toEl:ee,originalEvent:e}),J({rootEl:ee,name:"sort",toEl:ee,fromEl:ne,originalEvent:e}),J({sortable:this,name:"sort",toEl:ee,originalEvent:e})),he&&he.save()):le!==ae&&le>=0&&(J({sortable:this,name:"update",toEl:ee,originalEvent:e}),J({sortable:this,name:"sort",toEl:ee,originalEvent:e})),We.active&&(null!=le&&-1!==le||(le=ae,de=ce),J({sortable:this,name:"end",toEl:ee,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Z("nulling",this),ne=Q=ee=te=oe=re=ie=se=pe=me=Ae=le=de=ae=ce=je=ye=he=ue=We.dragged=We.ghost=We.clone=We.active=null,Ne.forEach((function(e){e.checked=!0})),Ne.length=ge=fe=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Q&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)O(e=n[o],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Ue(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var i=o.children[t];O(i,this.options.draggable,o,!1)&&(n[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=K.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&Le(n)},destroy:function(){Z("destroy",this);var e=this.el;e[z]=null,j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart),j(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Ee.splice(Ee.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!se){if(Z("hideClone",this),We.eventCanceled)return;S(re,"display","none"),this.options.removeCloneOnHide&&re.parentNode&&re.parentNode.removeChild(re),se=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(se){if(Z("showClone",this),We.eventCanceled)return;Q.parentNode!=ne||this.options.group.revertClone?oe?ne.insertBefore(re,oe):ne.appendChild(re):ne.insertBefore(re,Q),this.options.group.revertClone&&this.animate(Q,re),S(re,"display",""),se=!1}}else this._hideClone()}},Te&&A(document,"touchmove",(function(e){(We.active||Ce)&&e.cancelable&&e.preventDefault()})),We.utils={on:A,off:j,css:S,find:M,is:function(e,t){return!!O(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:H,closest:O,toggleClass:E,clone:F,index:k,nextTick:Ke,cancelNextTick:qe,detectDirection:$e,getChild:P},We.get=function(e){return e[z]},We.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(We.utils=i(i({},We.utils),e.utils)),K.mount(e)}))},We.create=function(e,t){return new We(e,t)},We.version="1.15.0";var Ge,Ze,Je,Qe,et,tt,nt=[],ot=!1;function it(){nt.forEach((function(e){clearInterval(e.pid)})),nt=[]}function rt(){clearInterval(tt)}var st,at=H((function(e,t,n,o){if(t.scroll){var i,r=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=D(),d=!1;Ze!==n&&(Ze=n,it(),Ge=t.scroll,i=t.scrollFn,!0===Ge&&(Ge=$(n,!0)));var u=0,h=Ge;do{var p=h,m=N(p),g=m.top,f=m.bottom,b=m.left,v=m.right,A=m.width,j=m.height,y=void 0,x=void 0,O=p.scrollWidth,C=p.scrollHeight,_=S(p),E=p.scrollLeft,w=p.scrollTop;p===c?(y=A<O&&("auto"===_.overflowX||"scroll"===_.overflowX||"visible"===_.overflowX),x=j<C&&("auto"===_.overflowY||"scroll"===_.overflowY||"visible"===_.overflowY)):(y=A<O&&("auto"===_.overflowX||"scroll"===_.overflowX),x=j<C&&("auto"===_.overflowY||"scroll"===_.overflowY));var M=y&&(Math.abs(v-r)<=a&&E+A<O)-(Math.abs(b-r)<=a&&!!E),T=x&&(Math.abs(f-s)<=a&&w+j<C)-(Math.abs(g-s)<=a&&!!w);if(!nt[u])for(var P=0;P<=u;P++)nt[P]||(nt[P]={});nt[u].vx==M&&nt[u].vy==T&&nt[u].el===p||(nt[u].el=p,nt[u].vx=M,nt[u].vy=T,clearInterval(nt[u].pid),0==M&&0==T||(d=!0,nt[u].pid=setInterval(function(){o&&0===this.layer&&We.active._onTouchMove(et);var t=nt[this.layer].vy?nt[this.layer].vy*l:0,n=nt[this.layer].vx?nt[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(We.dragged.parentNode[z],n,t,e,et,nt[this.layer].el)||B(nt[this.layer].el,n,t)}.bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==c&&(h=$(h,!1)));ot=d}}),30),lt=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,i=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||i;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(d)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function ct(){}function dt(){}function ut(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;st=t},dragOverValid:function(e){var t=e.completed,n=e.target,o=e.onMove,i=e.activeSortable,r=e.changed,s=e.cancel;if(i.options.swap){var a=this.sortable.el,l=this.options;if(n&&n!==a){var c=st;!1!==o(n)?(E(n,l.swapClass,!0),st=n):st=null,c&&c!==st&&E(c,l.swapClass,!1)}r(),t(!0),s()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,o=e.dragEl,i=n||this.sortable,r=this.options;st&&E(st,r.swapClass,!1),st&&(r.swap||n&&n.options.swap)&&o!==st&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),function(e,t){var n,o,i=e.parentNode,r=t.parentNode;if(!i||!r||i.isEqualNode(t)||r.isEqualNode(e))return;n=k(e),o=k(t),i.isEqualNode(r)&&n<o&&o++;i.insertBefore(t,i.children[n]),r.insertBefore(e,r.children[o])}(o,st),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){st=null}},a(e,{pluginName:"swap",eventProperties:function(){return{swapItem:st}}})}ct.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=P(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:lt},a(ct,{pluginName:"revertOnSpill"}),dt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:lt},a(dt,{pluginName:"removeOnSpill"});var ht,pt,mt,gt,ft,bt=[],vt=[],At=!1,jt=!1,yt=!1;function xt(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.avoidImplicitDeselect||(e.options.supportPointer?A(document,"pointerup",this._deselectMultiDrag):(A(document,"mouseup",this._deselectMultiDrag),A(document,"touchend",this._deselectMultiDrag))),A(document,"keydown",this._checkKeyDown),A(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(t,n){var o="";bt.length&&pt===e?bt.forEach((function(e,t){o+=(t?", ":"")+e.textContent})):o=n.textContent,t.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;mt=t},delayEnded:function(){this.isMultiDrag=~bt.indexOf(mt)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var o=0;o<bt.length;o++)vt.push(F(bt[o])),vt[o].sortableIndex=bt[o].sortableIndex,vt[o].draggable=!1,vt[o].style["will-change"]="",E(vt[o],this.options.selectedClass,!1),bt[o]===mt&&E(vt[o],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,o=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||bt.length&&pt===t&&(Ot(!0,n),o("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,o=e.cancel;this.isMultiDrag&&(Ot(!1,n),vt.forEach((function(e){S(e,"display","")})),t(),ft=!1,o())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),o=e.cancel;this.isMultiDrag&&(vt.forEach((function(e){S(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),ft=!0,o())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&pt&&pt.multiDrag._deselectMultiDrag(),bt.forEach((function(e){e.sortableIndex=k(e)})),bt=bt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),yt=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){bt.forEach((function(e){e!==mt&&S(e,"position","absolute")}));var o=N(mt,!1,!0,!0);bt.forEach((function(e){e!==mt&&V(e,o)})),jt=!0,At=!0}n.animateAll((function(){jt=!1,At=!1,t.options.animation&&bt.forEach((function(e){W(e)})),t.options.sort&&Ct()}))}},dragOver:function(e){var t=e.target,n=e.completed,o=e.cancel;jt&&~bt.indexOf(t)&&(n(!1),o())},revert:function(e){var t=e.fromSortable,n=e.rootEl,o=e.sortable,i=e.dragRect;bt.length>1&&(bt.forEach((function(e){o.addAnimationState({target:e,rect:jt?N(e):i}),W(e),e.fromRect=i,t.removeAnimationState(e)})),jt=!1,function(e,t){bt.forEach((function(n,o){var i=t.children[n.sortableIndex+(e?Number(o):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,o=e.insertion,i=e.activeSortable,r=e.parentEl,s=e.putSortable,a=this.options;if(o){if(n&&i._hideClone(),At=!1,a.animation&&bt.length>1&&(jt||!n&&!i.options.sort&&!s)){var l=N(mt,!1,!0,!0);bt.forEach((function(e){e!==mt&&(V(e,l),r.appendChild(e))})),jt=!0}if(!n)if(jt||Ct(),bt.length>1){var c=ft;i._showClone(t),i.options.animation&&!ft&&c&&vt.forEach((function(e){i.addAnimationState({target:e,rect:gt}),e.fromRect=gt,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,o=e.activeSortable;if(bt.forEach((function(e){e.thisAnimationDuration=null})),o.options.animation&&!n&&o.multiDrag.isMultiDrag){gt=a({},t);var i=w(mt,!0);gt.top-=i.f,gt.left-=i.e}},dragOverAnimationComplete:function(){jt&&(jt=!1,Ct())},drop:function(e){var t=e.originalEvent,n=e.rootEl,o=e.parentEl,i=e.sortable,r=e.dispatchSortableEvent,s=e.oldIndex,a=e.putSortable,l=a||this.sortable;if(t){var c=this.options,d=o.children;if(!yt)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),E(mt,c.selectedClass,!~bt.indexOf(mt)),~bt.indexOf(mt))bt.splice(bt.indexOf(mt),1),ht=null,q({sortable:i,rootEl:n,name:"deselect",targetEl:mt,originalEvent:t});else{if(bt.push(mt),q({sortable:i,rootEl:n,name:"select",targetEl:mt,originalEvent:t}),t.shiftKey&&ht&&i.el.contains(ht)){var u,h,p=k(ht),m=k(mt);if(~p&&~m&&p!==m)for(m>p?(h=p,u=m):(h=m,u=p+1);h<u;h++)~bt.indexOf(d[h])||(E(d[h],c.selectedClass,!0),bt.push(d[h]),q({sortable:i,rootEl:n,name:"select",targetEl:d[h],originalEvent:t}))}else ht=mt;pt=l}if(yt&&this.isMultiDrag){if(jt=!1,(o[z].options.sort||o!==n)&&bt.length>1){var g=N(mt),f=k(mt,":not(."+this.options.selectedClass+")");if(!At&&c.animation&&(mt.thisAnimationDuration=null),l.captureAnimationState(),!At&&(c.animation&&(mt.fromRect=g,bt.forEach((function(e){if(e.thisAnimationDuration=null,e!==mt){var t=jt?N(e):g;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),Ct(),bt.forEach((function(e){d[f]?o.insertBefore(e,d[f]):o.appendChild(e),f++})),s===k(mt))){var b=!1;bt.forEach((function(e){e.sortableIndex===k(e)||(b=!0)})),b&&r("update")}bt.forEach((function(e){W(e)})),l.animateAll()}pt=l}(n===o||a&&"clone"!==a.lastPutMode)&&vt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=yt=!1,vt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),j(document,"pointerup",this._deselectMultiDrag),j(document,"mouseup",this._deselectMultiDrag),j(document,"touchend",this._deselectMultiDrag),j(document,"keydown",this._checkKeyDown),j(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==yt&&yt||pt!==this.sortable||e&&O(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;bt.length;){var t=bt[0];E(t,this.options.selectedClass,!1),bt.shift(),q({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvent:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[z];t&&t.options.multiDrag&&!~bt.indexOf(e)&&(pt&&pt!==t&&(pt.multiDrag._deselectMultiDrag(),pt=t),E(e,t.options.selectedClass,!0),bt.push(e))},deselect:function(e){var t=e.parentNode[z],n=bt.indexOf(e);t&&t.options.multiDrag&&~n&&(E(e,t.options.selectedClass,!1),bt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return bt.forEach((function(o){var i;t.push({multiDragElement:o,index:o.sortableIndex}),i=jt&&o!==mt?-1:jt?k(o,":not(."+e.options.selectedClass+")"):k(o),n.push({multiDragElement:o,index:i})})),{items:c(bt),clones:[].concat(vt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Ot(e,t){vt.forEach((function(n,o){var i=t.children[n.sortableIndex+(e?Number(o):0)];i?t.insertBefore(n,i):t.appendChild(n)}))}function Ct(){bt.forEach((function(e){e!==mt&&e.parentNode&&e.parentNode.removeChild(e)}))}We.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):this.options.supportPointer?A(document,"pointermove",this._handleFallbackAutoScroll):t.touches?A(document,"touchmove",this._handleFallbackAutoScroll):A(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):(j(document,"pointermove",this._handleFallbackAutoScroll),j(document,"touchmove",this._handleFallbackAutoScroll),j(document,"mousemove",this._handleFallbackAutoScroll)),rt(),it(),clearTimeout(C),C=void 0},nulling:function(){et=Ze=Ge=ot=tt=Je=Qe=null,nt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(o,i);if(et=e,t||this.options.forceAutoScrollFallback||p||h||g){at(e,this.options,r,t);var s=$(r,!0);!ot||tt&&o===Je&&i===Qe||(tt&&rt(),tt=setInterval((function(){var r=$(document.elementFromPoint(o,i),!0);r!==s&&(s=r,it()),at(e,n.options,r,t)}),10),Je=o,Qe=i)}else{if(!this.options.bubbleScroll||$(r,!0)===D())return void it();at(e,this.options,$(r,!1),!1)}}},a(e,{pluginName:"scroll",initializeByDefault:!0})}),We.mount(dt,ct);const _t=We},15901:(e,t,n)=>{var o=n(10246),i=n(71720),r=n(96540),s=n(82236);function a(e){return e&&e.__esModule?e.default:e}function l(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function c(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function d(e){e.forEach((e=>c(e.element)))}function u(e){e.forEach((e=>{!function(e,t,n){const o=e.children[n]||null;e.insertBefore(t,o)}(e.parentElement,e.element,e.oldIndex)}))}function h(e,t){const n=f(e),o={parentElement:e.from};let i=[];switch(n){case"normal":i=[{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from}];break;case"swap":i=[{element:e.item,oldIndex:e.oldIndex,newIndex:e.newIndex,...o},{element:e.swapItem,oldIndex:e.newIndex,newIndex:e.oldIndex,...o}];break;case"multidrag":i=e.oldIndicies.map(((t,n)=>({element:t.multiDragElement,oldIndex:t.index,newIndex:e.newIndicies[n].index,...o})))}const r=function(e,t){const n=e.map((e=>({...e,item:t[e.oldIndex]}))).sort(((e,t)=>e.oldIndex-t.oldIndex));return n}(i,t);return r}function p(e,t){return g(e,m(e,t))}function m(e,t){const n=[...t];return e.concat().reverse().forEach((e=>n.splice(e.oldIndex,1))),n}function g(e,t,n,o){const i=[...t];return e.forEach((e=>{const t=o&&n&&o(e.item,n);i.splice(e.newIndex,0,t||e.item)})),i}function f(e){return e.oldIndicies&&e.oldIndicies.length>0?"multidrag":e.swapItem?"swap":"normal"}function b(e){const{list:t,setList:n,children:o,tag:i,style:r,className:s,clone:a,onAdd:l,onChange:c,onChoose:d,onClone:u,onEnd:h,onFilter:p,onRemove:m,onSort:g,onStart:f,onUnchoose:b,onUpdate:v,onMove:A,onSpill:j,onSelect:y,onDeselect:x,...O}=e;return O}l(e.exports,"Sortable",(()=>$882b6d93070905b3$re_export$Sortable)),l(e.exports,"Direction",(()=>$882b6d93070905b3$re_export$Direction)),l(e.exports,"DOMRect",(()=>$882b6d93070905b3$re_export$DOMRect)),l(e.exports,"GroupOptions",(()=>$882b6d93070905b3$re_export$GroupOptions)),l(e.exports,"MoveEvent",(()=>$882b6d93070905b3$re_export$MoveEvent)),l(e.exports,"Options",(()=>$882b6d93070905b3$re_export$Options)),l(e.exports,"PullResult",(()=>$882b6d93070905b3$re_export$PullResult)),l(e.exports,"PutResult",(()=>$882b6d93070905b3$re_export$PutResult)),l(e.exports,"SortableEvent",(()=>$882b6d93070905b3$re_export$SortableEvent)),l(e.exports,"SortableOptions",(()=>$882b6d93070905b3$re_export$SortableOptions)),l(e.exports,"Utils",(()=>$882b6d93070905b3$re_export$Utils)),l(e.exports,"ReactSortable",(()=>A));const v={dragging:null};class A extends r.Component{static defaultProps={clone:e=>e};constructor(e){super(e),this.ref=(0,r.createRef)();const t=[...e.list].map((e=>Object.assign(e,{chosen:!1,selected:!1})));e.setList(t,this.sortable,v),a(s)(!e.plugins,'\nPlugins prop is no longer supported.\nInstead, mount it with "Sortable.mount(new MultiDrag())"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      ')}componentDidMount(){if(null===this.ref.current)return;const e=this.makeOptions();a(o).create(this.ref.current,e)}componentDidUpdate(e){e.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:e,style:t,className:n,id:o}=this.props,i={style:t,className:n,id:o},s=e&&null!==e?e:"div";return(0,r.createElement)(s,{ref:this.ref,...i},this.getChildren())}getChildren(){const{children:e,dataIdAttr:t,selectedClass:n="sortable-selected",chosenClass:o="sortable-chosen",dragClass:s="sortable-drag",fallbackClass:l="sortable-falback",ghostClass:c="sortable-ghost",swapClass:d="sortable-swap-highlight",filter:u="sortable-filter",list:h}=this.props;if(!e||null==e)return null;const p=t||"data-id";return r.Children.map(e,((e,t)=>{if(void 0===e)return;const s=h[t]||{},{className:l}=e.props,c="string"==typeof u&&{[u.replace(".","")]:!!s.filtered},d=a(i)(l,{[n]:s.selected,[o]:s.chosen,...c});return(0,r.cloneElement)(e,{[p]:e.key,className:d})}))}get sortable(){const e=this.ref.current;if(null===e)return null;const t=Object.keys(e).find((e=>e.includes("Sortable")));return t?e[t]:null}makeOptions(){const e=b(this.props);["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"].forEach((t=>e[t]=this.prepareOnHandlerPropAndDOM(t))),["onChange","onClone","onFilter","onSort"].forEach((t=>e[t]=this.prepareOnHandlerProp(t)));return{...e,onMove:(e,t)=>{const{onMove:n}=this.props,o=e.willInsertAfter||-1;if(!n)return o;const i=n(e,t,this.sortable,v);return void 0!==i&&i}}}prepareOnHandlerPropAndDOM(e){return t=>{this.callOnHandlerProp(t,e),this[e](t)}}prepareOnHandlerProp(e){return t=>{this.callOnHandlerProp(t,e)}}callOnHandlerProp(e,t){const n=this.props[t];n&&n(e,this.sortable,v)}onAdd(e){const{list:t,setList:n,clone:o}=this.props,i=h(e,[...v.dragging.props.list]);d(i);n(g(i,t,e,o).map((e=>Object.assign(e,{selected:!1}))),this.sortable,v)}onRemove(e){const{list:t,setList:n}=this.props,o=f(e),i=h(e,t);u(i);let r=[...t];if("clone"!==e.pullMode)r=m(i,r);else{let t=i;switch(o){case"multidrag":t=i.map(((t,n)=>({...t,element:e.clones[n]})));break;case"normal":t=i.map((t=>({...t,element:e.clone})));break;default:a(s)(!0,`mode "${o}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${o}" plugin`)}d(t),i.forEach((t=>{const n=t.oldIndex,o=this.props.clone(t.item,e);r.splice(n,1,o)}))}r=r.map((e=>Object.assign(e,{selected:!1}))),n(r,this.sortable,v)}onUpdate(e){const{list:t,setList:n}=this.props,o=h(e,t);d(o),u(o);return n(p(o,t),this.sortable,v)}onStart(){v.dragging=this}onEnd(){v.dragging=null}onChoose(e){const{list:t,setList:n}=this.props;n(t.map(((t,n)=>{let o=t;return n===e.oldIndex&&(o=Object.assign(t,{chosen:!0})),o})),this.sortable,v)}onUnchoose(e){const{list:t,setList:n}=this.props;n(t.map(((t,n)=>{let o=t;return n===e.oldIndex&&(o=Object.assign(o,{chosen:!1})),o})),this.sortable,v)}onSpill(e){const{removeOnSpill:t,revertOnSpill:n}=this.props;t&&!n&&c(e.item)}onSelect(e){const{list:t,setList:n}=this.props,o=t.map((e=>Object.assign(e,{selected:!1})));e.newIndicies.forEach((t=>{const n=t.index;if(-1===n)return console.log(`"${e.type}" had indice of "${t.index}", which is probably -1 and doesn't usually happen here.`),void console.log(e);o[n].selected=!0})),n(o,this.sortable,v)}onDeselect(e){const{list:t,setList:n}=this.props,o=t.map((e=>Object.assign(e,{selected:!1})));e.newIndicies.forEach((e=>{const t=e.index;-1!==t&&(o[t].selected=!0)})),n(o,this.sortable,v)}}var j,y;j=e.exports,y={},Object.keys(y).forEach((function(e){"default"===e||"__esModule"===e||j.hasOwnProperty(e)||Object.defineProperty(j,e,{enumerable:!0,get:function(){return y[e]}})}))},17809:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var o=n(85486),i=n(59703),r=n(96540),s=n(54533),a=n(65670),l=n(27598),c=n(75659),d=n(11848),u=n(25669),h=n(17091),p=n(35186),m=n(44675),g=n(96852),f=n(38413),b=n(31609);function v(e){return(0,b.Ay)("MuiCollapse",e)}(0,f.A)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);var A=n(74848);const j=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],y=(0,d.Ay)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((({theme:e,ownerState:t})=>(0,i.A)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,i.A)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"}))),x=(0,d.Ay)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((({ownerState:e})=>(0,i.A)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),O=(0,d.Ay)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((({ownerState:e})=>(0,i.A)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),C=r.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiCollapse"}),{addEndListener:d,children:f,className:b,collapsedSize:C="0px",component:_,easing:E,in:S,onEnter:w,onEntered:M,onEntering:D,onExit:N,onExited:T,onExiting:P,orientation:I="vertical",style:k,timeout:R=h.p0.standard,TransitionComponent:$=a.Ay}=n,L=(0,o.A)(n,j),H=(0,i.A)({},n,{orientation:I,collapsedSize:C}),B=(e=>{const{orientation:t,classes:n}=e,o={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,c.A)(o,v,n)})(H),F=(0,m.A)(),V=(0,l.A)(),W=r.useRef(null),z=r.useRef(),X="number"==typeof C?`${C}px`:C,Y="horizontal"===I,U=Y?"width":"height",K=r.useRef(null),q=(0,g.A)(t,K),G=e=>t=>{if(e){const n=K.current;void 0===t?e(n):e(n,t)}},Z=()=>W.current?W.current[Y?"clientWidth":"clientHeight"]:0,J=G(((e,t)=>{W.current&&Y&&(W.current.style.position="absolute"),e.style[U]=X,w&&w(e,t)})),Q=G(((e,t)=>{const n=Z();W.current&&Y&&(W.current.style.position="");const{duration:o,easing:i}=(0,p.c)({style:k,timeout:R,easing:E},{mode:"enter"});if("auto"===R){const t=F.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,z.current=t}else e.style.transitionDuration="string"==typeof o?o:`${o}ms`;e.style[U]=`${n}px`,e.style.transitionTimingFunction=i,D&&D(e,t)})),ee=G(((e,t)=>{e.style[U]="auto",M&&M(e,t)})),te=G((e=>{e.style[U]=`${Z()}px`,N&&N(e)})),ne=G(T),oe=G((e=>{const t=Z(),{duration:n,easing:o}=(0,p.c)({style:k,timeout:R,easing:E},{mode:"exit"});if("auto"===R){const n=F.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,z.current=n}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[U]=X,e.style.transitionTimingFunction=o,P&&P(e)}));return(0,A.jsx)($,(0,i.A)({in:S,onEnter:J,onEntered:ee,onEntering:Q,onExit:te,onExited:ne,onExiting:oe,addEndListener:e=>{"auto"===R&&V.start(z.current||0,e),d&&d(K.current,e)},nodeRef:K,timeout:"auto"===R?null:R},L,{children:(e,t)=>(0,A.jsx)(y,(0,i.A)({as:_,className:(0,s.A)(B.root,b,{entered:B.entered,exited:!S&&"0px"===X&&B.hidden}[e]),style:(0,i.A)({[Y?"minWidth":"minHeight"]:X},k),ref:q},t,{ownerState:(0,i.A)({},H,{state:e}),children:(0,A.jsx)(x,{ownerState:(0,i.A)({},H,{state:e}),className:B.wrapper,ref:W,children:(0,A.jsx)(O,{ownerState:(0,i.A)({},H,{state:e}),className:B.wrapperInner,children:f})})}))}))}));C.muiSupportAuto=!0;const _=C},18895:(e,t,n)=>{"use strict";n.d(t,{A:()=>je});var o=n(31635),i=n(74848),r=n(96540),s=n(27885),a=n(6442),l=n(58065),c=n(46248),d=n(15906),u=n(94520),h=n(60921),p=n(18590),m=n(74531),g=n(19546),f=n.n(g),b=n(21022),v=n(11848),A=n(1136),j=n(71194),y=n(44675),x=n(90508),O=n(25911),C=n(57873),_=n(40059),E=n(82241),S=n(9569),w=n(17809),M=n(47859),D=n(3246),N=n(30746),T=n(71543),P=n(4671),I=n(50236),k=n(87467),R=n(57416),$=n(1275);const L=0,H=1,B=2,F=3,V=4,W=[L,H,B,F,V],z="hidden",X="deleted",Y="hide",U="delete";var K=n(13550),q=n(29368),G=n(45284),Z=n(2877),J=n(20411),Q=n(77577),ee=n(45738),te=n(44817),ne=n(83426);const oe="_general_section",ie="_flag_contribution_section",re="_hide_contribution_section",se="_delete_contribution_section",ae="_get_permalink",le="_edit_contribution",ce="_delete_contribution",de="_restore_contribution",ue="_suspend_notification_contribution",he="_suspend_notification_event",pe="_moderate_contribution_hidden",me="_moderate_contribution_deleted",ge="SCContributionActionsMenu",fe={root:`${ge}-root`,button:`${ge}-button`,popperRoot:`${ge}-popper-root`,paper:`${ge}-paper`,item:`${ge}-item`,itemText:`${ge}-item-text`,subItem:`${ge}-sub-item`,subItemText:`${ge}-sub-item-text`,footerSubItems:`${ge}-footer-sub-items`,selectedIcon:`${ge}-selected-icon`,sectionBadge:`${ge}-section-badge`,sectionWithSelectionIcon:`${ge}-section-with-selection-icon`,visibilityIcons:`${ge}-visibility-icons`},be=(0,v.Ay)(A.A,{name:ge,slot:"Root",overridesResolver:(e,t)=>t.popperRoot})((()=>({}))),ve=(0,v.Ay)(j.A,{name:ge,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({}))),Ae=(0,s.YK)({title:{id:"ui.contributionActionMenu.title",defaultMessage:"ui.contributionActionMenu.title"},spam:{id:"ui.contributionActionMenu.spam",defaultMessage:"ui.contributionActionMenu.spam"},aggressive:{id:"ui.contributionActionMenu.aggressive",defaultMessage:"ui.contributionActionMenu.aggressive"},vulgar:{id:"ui.contributionActionMenu.vulgar",defaultMessage:"ui.contributionActionMenu.vulgar"},poorContent:{id:"ui.contributionActionMenu.poorContent",defaultMessage:"ui.contributionActionMenu.poorContent"},offtopic:{id:"ui.contributionActionMenu.offtopic",defaultMessage:"ui.contributionActionMenu.offtopic"},footer:{id:"ui.contributionActionMenu.footer",defaultMessage:"ui.contributionActionMenu.footer"}});function je(e){const{className:t,feedObjectId:n,feedObject:s,feedObjectType:g=ne.Z.POST,commentObjectId:v,commentObject:A,onFlagContribution:ge,onEditContribution:je,onHideContribution:ye,onDeleteContribution:xe,onRestoreContribution:Oe,onSuspendNotificationContribution:Ce,onSuspendNotificationEvent:_e,PopperProps:Ee={}}=e,Se=(0,o.__rest)(e,["className","feedObjectId","feedObject","feedObjectType","commentObjectId","commentObject","onFlagContribution","onEditContribution","onHideContribution","onDeleteContribution","onRestoreContribution","onSuspendNotificationContribution","onSuspendNotificationEvent","PopperProps"]),we=(0,a.A)(),Me=(0,y.A)(),De=(0,x.A)(Me.breakpoints.down("md")),Ne=(0,r.useContext)(G.GD),Te=(0,r.useContext)(Z.T6),Pe=Te.user?Te.user.id:null,Ie=(0,J.I$)(),{enqueueSnackbar:ke}=(0,p.dh)(),{obj:Re,setObj:$e}=(0,Q.A)({id:n,feedObject:s,feedObjectType:g}),{obj:Le,setObj:He}=(0,ee.A)({id:v,commentObject:A}),[Be,Fe]=(0,r.useState)(!1),[Ve,We]=(0,r.useState)(null),[ze,Xe]=(0,r.useState)(!1),[Ye,Ue]=(0,r.useState)(null),[Ke,qe]=(0,r.useState)(!1),[Ge,Ze]=(0,r.useState)(null),[Je,Qe]=(0,r.useState)(null),[et,tt]=(0,r.useState)(null),[nt,ot]=(0,r.useState)(null),[it,rt]=(0,r.useState)(!1),[st,at]=(0,r.useState)(null),[lt,ct]=(0,r.useState)(null),dt=Le||Re;let ut=(0,r.useRef)(null);const ht=(0,r.useMemo)((()=>()=>{let e=[];return Te.user&&Boolean(dt)&&Pe!==dt.author.id&&!dt.deleted&&!dt.collapsed&&e.push(ie),te.Xl(Te.user)&&(e.push(re),e.push(se)),e}),[dt,Pe])(),pt={[ie]:function(){const e=Ve===ie;return(0,i.jsx)(j.A,{children:!dt.deleted&&!dt.collapsed&&(0,i.jsxs)(j.A,{children:[(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Ke,onClick:()=>Tt(ie)},{children:[(0,i.jsx)(C.A,{children:null!=Ye?(0,i.jsx)(S.A,Object.assign({classes:{badge:fe.sectionBadge},badgeContent:(0,i.jsx)(_.A,Object.assign({className:fe.sectionWithSelectionIcon},{children:"check"})),color:"primary"},{children:(0,i.jsx)(_.A,{children:"outlined_flag"})})):(0,i.jsx)(_.A,{children:"outlined_flag"})}),(0,i.jsx)(E.A,{primary:(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.flagContributionWithMotivation",defaultMessage:"ui.contributionActionMenu.flagContributionWithMotivation"})}),e?(0,i.jsx)(_.A,{children:"expand_less"}):(0,i.jsx)(_.A,{children:"expand_more"})]})),(0,i.jsxs)(w.A,Object.assign({in:e,timeout:"auto",unmountOnExit:!0},{children:[Pt(ie),(0,i.jsx)(M.A,Object.assign({variant:"caption",component:"div",className:fe.footerSubItems},{children:we.formatMessage(Ae.footer)}))]}))]})})},[re]:function(){const e=Ve===re;return(0,i.jsx)(j.A,{children:!dt.deleted&&(0,i.jsx)(j.A,{children:null!=Ge?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Boolean(st),onClick:()=>Mt(pe)},{children:[(0,i.jsx)(C.A,{children:(0,i.jsx)(_.A,{children:"restore"})}),(0,i.jsx)(E.A,{primary:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.restoreFromHidden",defaultMessage:"ui.contributionActionMenu.restoreFromHidden"})," ","(",Nt(Ge),")"]})})]}))}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Boolean(st),onClick:()=>Tt(re)},{children:[(0,i.jsx)(C.A,{children:(0,i.jsx)(_.A,{children:"hide_image"})}),(0,i.jsx)(E.A,{primary:(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.hideContributionWithMotivation",defaultMessage:"ui.contributionActionMenu.hideContributionWithMotivation"})}),e?(0,i.jsx)(_.A,{children:"expand_less"}):(0,i.jsx)(_.A,{children:"expand_more"})]})),(0,i.jsx)(w.A,Object.assign({in:e,timeout:"auto",unmountOnExit:!0},{children:Pt(re)}))]})})},re)},[se]:function(){const e=Ve===se;return(0,i.jsx)(j.A,{children:!dt.collapsed&&!(dt.deleted&&!et)&&(0,i.jsx)(j.A,{children:null!=et?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Boolean(st),onClick:()=>Mt(me)},{children:[(0,i.jsx)(C.A,{children:(0,i.jsx)(_.A,{children:"restore_from_trash"})}),(0,i.jsx)(E.A,{primary:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.restoreFromDeleted",defaultMessage:"ui.contributionActionMenu.restoreFromDeleted"})," ","(",Nt(et),")"]})})]}))}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Boolean(st),onClick:()=>Tt(se)},{children:[(0,i.jsx)(C.A,{children:(0,i.jsx)(_.A,{children:"delete"})}),(0,i.jsx)(E.A,{primary:(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.deleteContributionWithMotivation",defaultMessage:"ui.contributionActionMenu.deleteContributionWithMotivation"})}),e?(0,i.jsx)(_.A,{children:"expand_less"}):(0,i.jsx)(_.A,{children:"expand_more"})]})),(0,i.jsx)(w.A,Object.assign({in:e,timeout:"auto",unmountOnExit:!0},{children:Pt(se)}))]})})},se)}};function mt(){Te.user?(Xe(!0),Promise.all([Ot(),Ct()]).then((()=>{Xe(!1)})),Fe(!0)):Ne.settings.handleAnonymousAction()}function gt(){ut.current&&ut.current.contains(event.target)||(Fe(!1),Se.onClose&&Se.onClose())}const ft=(0,r.useMemo)((()=>()=>K.A.request({url:q.A.UserSuspendContributionNotification.url({type:dt.type,id:dt.id}),method:q.A.UserSuspendContributionNotification.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[dt]),bt=(0,r.useMemo)((()=>()=>{const e=dt.event.show_on_feed?q.A.HideEvent:q.A.ShowEvent;return K.A.request({url:e.url({id:dt.event.id}),method:e.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))}),[dt]);const vt=(0,r.useMemo)((()=>()=>K.A.request({url:q.A.FlagStatus.url({type:dt.type,id:dt.id}),method:q.A.FlagStatus.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[dt]),At=(0,r.useMemo)((()=>e=>K.A.request({url:q.A.Flag.url({type:dt.type,id:dt.id}),method:q.A.Flag.method,data:{flag_type:e}}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[dt]),jt=(0,r.useMemo)((()=>()=>K.A.request({url:q.A.ModerateContributionStatus.url({contribution_type:dt.type,id:dt.id}),method:q.A.ModerateContributionStatus.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[dt]),yt=(0,r.useMemo)((()=>()=>{const e=dt.type;return K.A.request({url:e===ne.Z.COMMENT?q.A.DeleteComment.url({id:dt.id}):q.A.DeleteFeedObject.url({type:e,id:dt.id}),method:e===ne.Z.COMMENT?q.A.DeleteComment.method:q.A.DeleteFeedObject.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))}),[dt]),xt=(0,r.useMemo)((()=>()=>{const e=dt.type;return K.A.request({url:e===ne.Z.COMMENT?q.A.RestoreComment.url({id:dt.id}):q.A.RestoreFeedObject.url({type:e,id:dt.id}),method:e===ne.Z.COMMENT?q.A.RestoreComment.method:q.A.RestoreFeedObject.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))}),[dt]);function Ot(){return dt&&ht.includes(ie)?vt().then((e=>{void 0!==e.flag_type&&null!==e.flag_type&&Ue(e.flag_type)})).catch((e=>{console.dir(e),u.V.error(d.d,e)})):Promise.resolve()}function Ct(){return dt&&(ht.includes(re)||ht.includes(se))?jt().then((e=>{void 0!==e.flag_type&&null!==e.flag_type&&(e.status===X?tt(e.flag_type):e.status===z&&Ze(e.flag_type))})).catch((e=>{u.V.error(d.d,e)})):Promise.resolve()}function _t(e){te.lT(Te.user)?ke((0,i.jsx)(l.A,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):!dt||ze||Ke||"undefined"===e||(qe(!0),At(e).then((()=>{Ue(Ye===e?null:e),qe(!1),ge&&ge(dt,e,Ye!==e)})).catch((e=>{u.V.error(d.d,e),ke((0,i.jsx)(l.A,{id:"ui.contributionActionMenu.actionError",defaultMessage:"ui.contributionActionMenu.actionError"}),{variant:"error",autoHideDuration:3e3})})))}const Et=(0,r.useMemo)((()=>(e,t)=>K.A.request({url:q.A.ModerateContribution.url({id:dt.id}),method:q.A.ModerateContribution.method,data:Object.assign(Object.assign({contribution_type:dt.type},null!==t?{moderation_type:t}:{}),{action:e})}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[dt]);function St(e){Qe(e),Mt(pe)}function wt(e){ot(e),Mt(me)}function Mt(e){te.lT(Te.user)&&[le,pe,me].includes(e)?ke((0,i.jsx)(l.A,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):e===ae?((0,h.eM)(`${location.protocol}//${location.host}${Ie.url((0,m.lg)(dt),(0,m.kB)(dt))}`).then((()=>{Fe(!1),ke((0,i.jsx)(l.A,{id:"ui.common.permanentLinkCopied",defaultMessage:"ui.common.permanentLinkCopied"}),{variant:"success",autoHideDuration:3e3})})),gt()):e===le?(je&&je(dt),gt()):e===ce?(at(ce),rt(!0),gt()):e===de?(at(de),rt(!0),gt()):e===ue?(at(ue),ct(ue),ft().then((()=>{const e=Object.assign({},Re,{suspended:!Re.suspended});$e(e),Ce&&Ce(e),ct(null)})).catch((e=>{u.V.error(d.d,e),at(null),ct(null),ke((0,i.jsx)(l.A,{id:"ui.contributionActionMenu.actionError",defaultMessage:"ui.contributionActionMenu.actionError"}),{variant:"error",autoHideDuration:3e3})}))):e===he?(at(he),ct(he),bt().then((()=>{const e=Object.assign({},Re.event,{show_on_feed:!Re.event.show_on_feed}),t=Object.assign({},Re,{event:e});$e(t),_e&&_e(t),ct(null)})).catch((e=>{u.V.error(d.d,e),at(null),ct(null),ke((0,i.jsx)(l.A,{id:"ui.contributionActionMenu.actionError",defaultMessage:"ui.contributionActionMenu.actionError"}),{variant:"error",autoHideDuration:3e3})}))):e===pe?(at(pe),rt(!0),gt()):e===me&&(at(me),rt(!0),gt())}function Dt(e){e?([ce,de].includes(st)?Le?He(Object.assign(Object.assign({},Le),{deleted:st===ce})):$e(Object.assign(Object.assign({},Re),{deleted:st===ce})):st===pe?Le?He(Object.assign(Object.assign({},Le),{collapsed:!Le.collapsed})):$e(Object.assign(Object.assign({},Re),{collapsed:!Re.collapsed})):st===me&&(Le?He(Object.assign(Object.assign({},Le),{deleted:!Le.deleted})):$e(Object.assign(Object.assign({},Re),{deleted:!Re.deleted}))),ct(null),at(null),rt(!1),ke((0,i.jsx)(l.A,{id:"ui.contributionActionMenu.actionSuccess",defaultMessage:"ui.contributionActionMenu.actionSuccess"}),{variant:"success",autoHideDuration:3e3})):(ct(null),ke((0,i.jsx)(l.A,{id:"ui.contributionActionMenu.actionError",defaultMessage:"ui.contributionActionMenu.actionError"}),{variant:"error",autoHideDuration:3e3}))}function Nt(e){let t;switch(e){case L:t=we.formatMessage(Ae.spam);break;case H:t=we.formatMessage(Ae.aggressive);break;case B:t=we.formatMessage(Ae.vulgar);break;case F:t=we.formatMessage(Ae.poorContent);break;case V:t=we.formatMessage(Ae.offtopic)}return t}function Tt(e){We(e?e===Ve?null:e:null)}function Pt(e){const t=e===ie?_t:e===re?St:wt;let n=e===ie?Ye:e===re?Ge:et;return W.map(((o,r)=>(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Ke},{children:[(0,i.jsx)(C.A,Object.assign({classes:{root:fe.selectedIcon}},{children:n===o&&(0,i.jsx)(_.A,Object.assign({color:"secondary"},{children:"check"}))})),(0,i.jsx)(E.A,{primary:Nt(o),onClick:()=>t(o),classes:{root:fe.subItemText}})]}),`${e}_${r}`)))}function It(){return(0,i.jsx)(j.A,{children:ze||!Re&&!Le?(0,i.jsx)(c.A,{size:30}):(0,i.jsxs)(N.A,{children:[(0,i.jsxs)(j.A,{children:[(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Ke},{children:[(0,i.jsx)(C.A,{children:(0,i.jsx)(_.A,{children:"link"})}),(0,i.jsx)(E.A,{primary:(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.permanentLink",defaultMessage:"ui.contributionActionMenu.permanentLink"}),onClick:()=>Mt(ae),classes:{root:fe.itemText}})]})),Te.user&&Te.user.id===dt.author.id&&!dt.deleted&&(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Ke},{children:[(0,i.jsx)(C.A,{children:(0,i.jsx)(_.A,{children:"edit"})}),(0,i.jsx)(E.A,{primary:(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.editContribution",defaultMessage:"ui.contributionActionMenu.editContribution"}),onClick:()=>Mt(le),classes:{root:fe.itemText}})]})),Te.user&&Te.user.id===dt.author.id&&!et&&(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Ke},{children:[(0,i.jsx)(C.A,{children:lt===ce||lt===de?(0,i.jsx)(D.A,{size:20}):(0,i.jsx)(_.A,{children:"delete"})}),dt.deleted?(0,i.jsx)(E.A,{primary:(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.restoreContribution",defaultMessage:"ui.contributionActionMenu.restoreContribution"}),onClick:()=>Mt(de),classes:{root:fe.itemText}}):(0,i.jsx)(E.A,{primary:(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.deleteContribution",defaultMessage:"ui.contributionActionMenu.deleteContribution"}),onClick:()=>Mt(ce),classes:{root:fe.itemText}})]})),Te.user&&Te.user.id!==dt.author.id&&dt&&dt.type!==ne.Z.COMMENT&&(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Ke},{children:[(0,i.jsx)(C.A,{children:lt===ue?(0,i.jsx)(D.A,{size:20}):dt.suspended?(0,i.jsx)(_.A,{children:"notifications_active"}):(0,i.jsx)(_.A,{children:"notifications_off"})}),(0,i.jsx)(E.A,{primary:dt.suspended?(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.enableNotificationContribution",defaultMessage:"ui.contributionActionMenu.enableNotificationContribution"}):(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.suspendNotificationContribution",defaultMessage:"ui.contributionActionMenu.suspendNotificationContribution"}),onClick:()=>Mt(ue),classes:{root:fe.itemText}})]})),Te.user&&Te.user.id!==dt.author.id&&dt&&dt.type!==ne.Z.COMMENT&&Boolean(dt.event)&&Boolean(dt.event.active)&&(0,i.jsxs)(O.A,Object.assign({className:fe.subItem,disabled:Ke},{children:[(0,i.jsx)(C.A,{children:lt===he?(0,i.jsx)(D.A,{size:20}):dt.event.show_on_feed?(0,i.jsx)(_.A,{children:"notifications_active"}):(0,i.jsx)(_.A,{children:"notifications_off"})}),(0,i.jsx)(E.A,{primary:dt.event.show_on_feed?(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.suspendNotificationContribution",defaultMessage:"ui.contributionActionMenu.suspendNotificationContribution"}):(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.enableNotificationContribution",defaultMessage:"ui.contributionActionMenu.enableNotificationContribution"}),onClick:()=>Mt(he),classes:{root:fe.itemText}})]}))]},oe),Boolean(ht.length)&&(0,i.jsx)(T.A,{}),ht.map(((e,t)=>(0,i.jsx)(j.A,{children:pt[e]()},`es_${t}`)))]})})}return(0,i.jsxs)(ve,Object.assign({className:f()(fe.root,t)},{children:[(0,i.jsx)(P.A,Object.assign({ref:e=>{ut.current=e},"aria-haspopup":"true",onClick:mt,className:fe.button,size:"small"},{children:dt&&(dt.collapsed||dt.deleted)?(0,i.jsxs)("span",Object.assign({className:fe.visibilityIcons},{children:[dt.collapsed?(0,i.jsx)(_.A,{children:"visibility_off"}):(0,i.jsx)(_.A,{children:"delete"}),(0,i.jsx)(_.A,{children:"expand_more"})]})):(0,i.jsx)(_.A,{children:"more_vert"})})),Be&&(0,i.jsx)(i.Fragment,{children:De?(0,i.jsx)(I.A,Object.assign({open:!0,onClose:gt,onOpen:mt,anchor:"bottom",disableSwipeToOpen:!0},{children:It()})):(0,i.jsx)(be,Object.assign({open:!0,anchorEl:ut.current,role:void 0,transition:!0,className:fe.popperRoot},Ee,{placement:"bottom-end"},{children:({TransitionProps:e,placement:t})=>(0,i.jsx)(k.A,Object.assign({},e,{style:{transformOrigin:"bottom"===t?"center top":"center bottom"}},{children:(0,i.jsx)(R.A,Object.assign({variant:"outlined",className:fe.paper},{children:(0,i.jsx)($.x,Object.assign({onClickAway:gt},{children:It()}))}))}))}))}),it&&(0,i.jsx)(b.A,Object.assign({open:it},st===ce?{content:(0,i.jsx)(l.A,{id:"ui.contributionActionMenu.deleteContributionInfo",defaultMessage:"ui.contributionActionMenu.deleteContributionInfo"})}:{},{onConfirm:function(){!dt||ze||lt||(st===ce?(ct(ce),yt().then((()=>{const e=Object.assign({},dt,{deleted:!0});xe&&xe(e),Dt(!0)})).catch((e=>{u.V.error(d.d,e),Dt(!1)}))):st===de?(ct(de),xt().then((()=>{const e=Object.assign({},dt,{deleted:!1});Oe&&Oe(e),Dt(!0)})).catch((e=>{u.V.error(d.d,e),Dt(!1)}))):st===pe?(ct(pe),Et(Y,Je).then((()=>{const e=Object.assign({},dt,{collapsed:!dt.collapsed});Ze(Ge===Je?null:Je),Qe(null),ye&&ye(e),Dt(!0)})).catch((e=>{u.V.error(d.d,e),Dt(!1)}))):st===me&&(ct(me),Et(U,nt).then((()=>{const e=Object.assign({},dt,{deleted:!dt.deleted});tt(et===nt?null:nt),ot(null),xe&&xe(e),Dt(!0)})).catch((e=>{u.V.error(d.d,e),Dt(!1)}))))},isUpdating:Boolean(lt),onClose:()=>rt(!1)}))]}))}},19249:(e,t,n)=>{"use strict";n.d(t,{E4:()=>s,TY:()=>d,WW:()=>r,Yc:()=>c,cJ:()=>a,gg:()=>o,m6:()=>i,zG:()=>l});const o="image",i="video",r="doc",s="url",a="share",l="event",c="sc_link",d="sc_shared_event"},22860:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});const o="SCMediaFile"},23837:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});const o="SCCommentsObject"},29858:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var o=n(31635),i=n(74848),r=n(96540),s=n(11848),a=n(71194),l=n(44675),c=n(90508),d=n(4671),u=n(40059),h=n(47859),p=n(19546),m=n.n(p),g=n(15901),f=n(22860),b=n(79671),v=n(19249);const A={previewRoot:`${f.H}-preview-root`,media:`${f.H}-media`,delete:`${f.H}-delete`,title:`${f.H}-title`},j=(0,s.Ay)(a.A,{name:f.H,slot:"PreviewRoot"})((()=>({}))),y="file_sort",x=r.forwardRef(((e,t)=>{const{className:n,onChange:s,value:p=[]}=e,f=(0,o.__rest)(e,["className","onChange","value"]),x=(0,l.A)(),O=(0,c.A)(x.breakpoints.down("md")),C=(0,r.useMemo)((()=>p.filter(b.A)),[p]);(0,r.useEffect)((()=>{if(void 0===typeof document)return null;const e=document.getElementById(y);e&&(e.scrollLeft=e.scrollWidth)}),[C]);const _=(0,r.useCallback)((e=>{s&&s([...p.filter((t=>-1===e.findIndex((e=>e.id===t.id)))),...e])}),[s,p]),E=(0,r.useCallback)((e=>()=>s&&s(p.filter((t=>t.id!==e)))),[s,p]),S=(0,r.useMemo)((()=>C.map((e=>(0,i.jsxs)(a.A,Object.assign({className:A.media,sx:{backgroundImage:`url(${(null==e?void 0:e.image_thumbnail)?e.image_thumbnail.url:e.image})`}},{children:[(0,i.jsx)(d.A,Object.assign({className:A.delete,onClick:E(e.id),size:"small"},{children:(0,i.jsx)(u.A,{children:"delete"})})),e.title&&(0,i.jsxs)(h.A,Object.assign({className:A.title},{children:[e.type===v.WW&&(0,i.jsx)(u.A,{children:"picture_as_pdf"}),e.title]}))]}),e.id)))),[C]);return(0,i.jsx)(j,Object.assign({ref:t,className:m()(n,A.previewRoot)},f,{children:C.length>0&&(O?(0,i.jsx)(a.A,Object.assign({id:y},{children:S})):(0,i.jsx)(g.ReactSortable,Object.assign({list:C,setList:_,scroll:!0,animation:200,scrollSensitivity:50},{children:S})))}))}))},38990:(e,t,n)=>{"use strict";n.d(t,{A:()=>J});var o=n(31635),i=n(74848),r=n(96540),s=n(86857),a=n(58065),l=n(11848),c=n(71194),d=n(42942),u=n(25292),h=n(4671),p=n(40059),m=n(27365),g=n(47859),f=n(44744),b=n(12486),v=n(19546),A=n.n(v),j=n(15906),y=n(83194),x=n(56323),O=n(58871),C=n(86955),_=n(18895),E=n(6836),S=n(74531),w=n(18590),M=n(79197),D=n(52959),N=n(83426),T=n(13550),P=n(29368),I=n(28692),k=n(94520),R=n(45284),$=n(2877),L=n(20411),H=n(45738),B=n(54262),F=n(86354),V=n(3341),W=n(88352),z=n(44817),X=n(42606),Y=n(57473),U=n(91765),K=n(89333),q=n(1e3);const G={root:`${q.H}-root`,comment:`${q.H}-comment`,nestedComments:`${q.H}-nested-comments`,avatar:`${q.H}-avatar`,content:`${q.H}-content`,showMoreContent:`${q.H}-show-more-content`,author:`${q.H}-author`,textContent:`${q.H}-text-content`,commentActionsMenu:`${q.H}-comment-actions-menu`,deleted:`${q.H}-deleted`,activityAt:`${q.H}-activity-at`,vote:`${q.H}-vote`,voteAudience:`${q.H}-vote-audience`,reply:`${q.H}-reply`,contentSubSection:`${q.H}-comment-sub-section`,collapsed:`${q.H}-collapsed`,flagChip:`${q.H}-flag-chip`},Z=(0,l.Ay)(c.A,{name:q.H,slot:"Root"})((()=>({})));const J=function(e){const t=(0,M.A)({props:e,name:q.H}),{id:n=`comment_object_${t.commentObjectId?t.commentObjectId:t.commentObject?t.commentObject.id:""}`,className:l,commentObjectId:v,commentObject:J,feedObjectId:Q,feedObject:ee,feedObjectType:te=N.Z.POST,commentReply:ne,onOpenReply:oe,onDelete:ie,onCollapsed:re,onRestore:se,onVote:ae,elevation:le=0,truncateContent:ce=!1,CommentObjectSkeletonProps:de={elevation:le,WidgetProps:{variant:"outlined"}},CommentObjectReplyProps:ue={elevation:le,WidgetProps:{variant:"outlined"}},linkableCommentDateTime:he=!0,cacheStrategy:pe=I.So.NETWORK_ONLY,CommentsObjectComponentProps:me={},showActions:ge=!0}=t,fe=(0,o.__rest)(t,["id","className","commentObjectId","commentObject","feedObjectId","feedObject","feedObjectType","commentReply","onOpenReply","onDelete","onCollapsed","onRestore","onVote","elevation","truncateContent","CommentObjectSkeletonProps","CommentObjectReplyProps","linkableCommentDateTime","cacheStrategy","CommentsObjectComponentProps","showActions"]),be=(0,R.J_)(),ve=(0,r.useContext)($.T6),Ae=(0,L.I$)(),{enqueueSnackbar:je}=(0,w.dh)(),{obj:ye,setObj:xe}=(0,H.A)({id:v,commentObject:J,cacheStrategy:pe}),[Oe,Ce]=(0,r.useState)(null==ye?void 0:ye.collapsed),[_e,Ee]=(0,r.useState)(ne),[Se,we]=(0,r.useState)(!1),[Me,De]=(0,r.useState)(!1),[Ne,Te]=(0,r.useState)(null),Pe=(0,B.A)({id:Q,feedObject:ee,feedObjectType:te,orderBy:x.e.ADDED_AT_DESC,parent:J?J.id:v,cacheStrategy:pe}),[Ie,ke]=(0,r.useState)(!1),Re=e=>{xe(e),ae&&ae(e)};function $e(e){I.Ay.set(F.ar(ye.id),e),xe(e);const t=(0,S.bv)(ye);I.Ay.deleteKeysWithPrefix(F.MI(e[t].id,t))}function Le(e){return(0,i.jsx)(i.Fragment,{children:he?(0,i.jsx)(V.A,Object.assign({to:Ae.url(W.COMMENT_ROUTE_NAME,(0,S.kB)(e)),className:G.activityAt},{children:(0,i.jsx)(E.A,{date:e.added_at})})):(0,i.jsx)(E.A,{date:e.added_at})})}function He(e){return(0,i.jsx)(d.A,Object.assign({className:G.reply,variant:"text",onClick:()=>Be(e)},{children:(0,i.jsx)(a.A,{id:"ui.commentObject.reply",defaultMessage:"ui.commentObject.reply"})}))}function Be(e){ve.user?(Ee(e),oe&&oe(e)):be.settings.handleAnonymousAction()}const Fe=e=>T.A.request({url:P.A.NewComment.url({}),method:P.A.NewComment.method,data:Object.assign(Object.assign({[`${ee?ee.type:te}`]:ee?ee.id:Q,parent:_e.parent?_e.parent:_e.id},_e.parent?{in_reply_to:_e.id}:{}),{text:e})}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)));function Ve(e){z.lT(ve.user)?je((0,i.jsx)(a.A,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):(we(!0),Fe(e).then((e=>{const t=e;t.summary_truncated=!1,$e(Object.assign(Object.assign({},ye),{comment_count:ye.comment_count+1,latest_comments:[...ye.latest_comments,t]})),Ee(null),we(!1)})).catch((e=>{k.V.error(j.d,e),je((0,i.jsx)(a.A,{id:"ui.common.error.action",defaultMessage:"ui.common.error.action"}),{variant:"error",autoHideDuration:3e3}),we(!1)})))}function We(e){$e(e),ie&&ie(e)}function ze(e){$e(Object.assign({},ye,{collapsed:!ye.collapsed})),re&&re(e)}function Xe(e){$e(Object.assign({},ye,{deleted:!1})),se&&se(e)}function Ye(e){Te(e)}function Ue(){Te(null)}const Ke=e=>T.A.request({url:P.A.UpdateComment.url({id:Ne.id}),method:P.A.UpdateComment.method,data:{text:e}}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)));function qe(e){z.lT(ve.user)?je((0,i.jsx)(a.A,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):(De(!0),Ke(e).then((e=>{$e(Object.assign({},ye,{text:e.text,html:e.html,summary:e.summary,added_at:e.added_at})),Te(null),De(!1)})).catch((e=>{k.V.error(j.d,e),je((0,i.jsx)(a.A,{id:"ui.common.error.action",defaultMessage:"ui.common.error.action"}),{variant:"error",autoHideDuration:3e3})})))}function Ge(e){return(0,i.jsx)(O.A,Object.assign({feedObject:Pe.feedObject,feedObjectType:Pe.feedObject?Pe.feedObject.type:te,hideAdvertising:!0,comments:[].concat(Pe.comments).reverse(),endComments:e.latest_comments,previous:e.comment_count>e.latest_comments.length?Pe.next:null,isLoadingPrevious:Pe.isLoadingNext,handlePrevious:Pe.getNextPage,CommentComponentProps:Object.assign(Object.assign({onOpenReply:Be,CommentObjectSkeletonProps:de,elevation:le,linkableCommentDateTime:he},fe),{cacheStrategy:pe,truncateContent:ce}),CommentsObjectSkeletonProps:{count:1,CommentObjectSkeletonProps:de},inPlaceLoadMoreContents:!0},me,{cacheStrategy:pe}))}let Ze;return Ze=ye?function(e){if(e.deleted&&(!ve.user||ve.user&&!z.Xl(ve.user)&&ve.user.id!==e.author.id))return null;const t="summary_truncated"in e&&e.summary_truncated,n="summary_html"in e&&ce&&t?e.summary_html:e.html,o=(0,S.L8)(n,Ae.url);return(0,i.jsxs)(r.Fragment,{children:[Oe?(0,i.jsx)(D.A,{elevation:0,className:G.comment,disableTypography:!0,primary:(0,i.jsxs)(s.A,Object.assign({className:A()(G.content,G.collapsed),elevation:le},fe,{children:[(0,i.jsx)(u.A,Object.assign({className:A()({[G.deleted]:ye&&ye.deleted})},{children:(0,i.jsx)(a.A,{id:"ui.commentObject.collapsed",defaultMessage:"ui.commentObject.collapsed"})})),(0,i.jsx)(c.A,Object.assign({className:G.commentActionsMenu},{children:(0,i.jsx)(h.A,Object.assign({onClick:()=>Ce(!Oe)},{children:(0,i.jsx)(p.A,{children:"visibility"})}))}))]}))}):Ne&&Ne.id===e.id?(0,i.jsx)(c.A,Object.assign({className:G.comment},{children:(0,i.jsx)(C.A,Object.assign({text:e.html,autoFocus:!0,id:`edit-${e.id}`,onSave:qe,onCancel:Ue,editable:!Se||!Me},ue))})):(0,i.jsx)(D.A,{elevation:0,className:G.comment,image:(0,i.jsx)(V.A,Object.assign({},!e.author.deleted&&{to:Ae.url(W.USER_PROFILE_ROUTE_NAME,e.author)},{onClick:e.author.deleted?()=>ke(!0):null},{children:(0,i.jsx)(K.A,Object.assign({hide:!ye.author.community_badge},{children:(0,i.jsx)(m.A,{alt:ye.author.username,variant:"circular",src:e.author.avatar,className:G.avatar})}))})),disableTypography:!0,primary:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.A,Object.assign({className:G.content,elevation:le},fe,{children:[(0,i.jsxs)(u.A,Object.assign({className:A()({[G.deleted]:ye&&ye.deleted})},{children:[(0,i.jsx)(V.A,Object.assign({className:G.author},!e.author.deleted&&{to:Ae.url(W.USER_PROFILE_ROUTE_NAME,e.author)},{onClick:e.author.deleted?()=>ke(!0):null},{children:(0,i.jsx)(g.A,Object.assign({component:"span"},{children:e.author.username}))})),e.collapsed&&(0,i.jsx)(f.A,{className:G.flagChip,color:"error",size:"small",label:(0,i.jsx)(a.A,{id:"ui.commentObject.flag",defaultMessage:"ui.commentObject.flag"})}),(0,i.jsx)(g.A,{className:G.textContent,variant:"body2",gutterBottom:!0,dangerouslySetInnerHTML:{__html:o}}),t&&ce&&(0,i.jsx)(V.A,Object.assign({to:Ae.url(W.COMMENT_ROUTE_NAME,(0,S.kB)(e)),className:G.showMoreContent},{children:(0,i.jsx)(a.A,{id:"ui.commentObject.showMore",defaultMessage:"ui.commentObject.showMore"})}))]})),ve.user&&(0,i.jsx)(c.A,Object.assign({className:G.commentActionsMenu},{children:(0,i.jsx)(_.A,{commentObject:e,onRestoreContribution:Xe,onHideContribution:ze,onDeleteContribution:We,onEditContribution:Ye})}))]})),ge&&(0,i.jsxs)(c.A,Object.assign({component:"span",className:G.contentSubSection},{children:[Le(e),(0,i.jsx)(b.A,{}),(0,i.jsx)(X.A,{size:"small",className:G.vote,contributionId:e.id,contributionType:N.Z.COMMENT,contribution:e,onVote:Re}),(0,i.jsx)(b.A,{}),He(e),(0,i.jsx)(Y.A,{size:"small",className:G.voteAudience,contributionId:e.id,contributionType:N.Z.COMMENT,contribution:e})]}))]})}),e.comment_count>0&&(0,i.jsx)(c.A,Object.assign({className:G.nestedComments},{children:Ge(e)})),ve.user&&_e&&(_e.id===e.id||_e.parent===e.id)&&!e.parent&&(0,i.jsx)(c.A,Object.assign({className:G.nestedComments},{children:(0,i.jsx)(C.A,Object.assign({text:`@${_e.author.username}, `,autoFocus:!0,id:`reply-${_e.id}`,onReply:Ve,editable:!Se},ue),`reply-${_e.id}`)}))]},e.id)}(ye):(0,i.jsx)(y.A,Object.assign({},de)),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z,Object.assign({id:n,className:A()(G.root,l)},{children:Ze})),Ie&&(0,i.jsx)(U.A,{open:Ie,handleClose:()=>ke(!1)})]})}},40094:(e,t,n)=>{"use strict";n.d(t,{Wx:()=>m,pL:()=>p});var o=n(96540);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)}const r=new Map,s=new WeakMap;let a,l=0;function c(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(n=e.root,n?(s.has(n)||(l+=1,s.set(n,l.toString())),s.get(n)):"0"):e[t]}`;var n})).toString()}function d(e,t,n={},o=a){if(void 0===window.IntersectionObserver&&void 0!==o){const i=e.getBoundingClientRect();return t(o,{isIntersecting:o,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),()=>{}}const{id:i,observer:s,elements:l}=function(e){let t=c(e),n=r.get(t);if(!n){const o=new Map;let i;const s=new IntersectionObserver((t=>{t.forEach((t=>{var n;const r=t.isIntersecting&&i.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=r),null==(n=o.get(t.target))||n.forEach((e=>{e(r,t)}))}))}),e);i=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:s,elements:o},r.set(t,n)}return n}(n);let d=l.get(e)||[];return l.has(e)||l.set(e,d),d.push(t),s.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(l.delete(e),s.unobserve(e)),0===l.size&&(s.disconnect(),r.delete(i))}}const u=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function h(e){return"function"!=typeof e.children}class p extends o.Component{constructor(e){super(e),this.node=null,this._unobserveCb=null,this.handleNode=e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()},this.handleChange=(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),h(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)},this.state={inView:!!e.initialInView,entry:void 0}}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:n,trackVisibility:o,delay:i,fallbackInView:r}=this.props;this._unobserveCb=d(this.node,this.handleChange,{threshold:e,root:t,rootMargin:n,trackVisibility:o,delay:i},r)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!h(this.props)){const{inView:e,entry:t}=this.state;return this.props.children({inView:e,entry:t,ref:this.handleNode})}const e=this.props,{children:t,as:n}=e,r=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,u);return o.createElement(n||"div",i({ref:this.handleNode},r),t)}}function m({threshold:e,delay:t,trackVisibility:n,rootMargin:i,root:r,triggerOnce:s,skip:a,initialInView:l,fallbackInView:c,onChange:u}={}){var h;const[p,m]=o.useState(null),g=o.useRef(),[f,b]=o.useState({inView:!!l,entry:void 0});g.current=u,o.useEffect((()=>{if(a||!p)return;let o;return o=d(p,((e,t)=>{b({inView:e,entry:t}),g.current&&g.current(e,t),t.isIntersecting&&s&&o&&(o(),o=void 0)}),{root:r,rootMargin:i,threshold:e,trackVisibility:n,delay:t},c),()=>{o&&o()}}),[Array.isArray(e)?e.toString():e,p,r,i,s,a,n,c,t]);const v=null==(h=f.entry)?void 0:h.target,A=o.useRef();p||!v||s||a||A.current===v||(A.current=v,b({inView:!!l,entry:void 0}));const j=[m,f.inView,f.entry];return j.ref=j[0],j.inView=j[1],j.entry=j[2],j}},40936:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(96540);function i(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:"contentBoxSize"===t?e.contentRect["inlineSize"===n?"width":"height"]:void 0}function r(e){void 0===e&&(e={});var t=e.onResize,n=(0,o.useRef)(void 0);n.current=t;var r=e.round||Math.round,s=(0,o.useRef)(),a=(0,o.useState)({width:void 0,height:void 0}),l=a[0],c=a[1],d=(0,o.useRef)(!1);(0,o.useEffect)((function(){return d.current=!1,function(){d.current=!0}}),[]);var u=(0,o.useRef)({width:void 0,height:void 0}),h=function(e,t){var n=(0,o.useRef)(null),i=(0,o.useRef)(null);i.current=t;var r=(0,o.useRef)(null);(0,o.useEffect)((function(){s()}));var s=(0,o.useCallback)((function(){var t=r.current,o=i.current,s=t||(o?o instanceof Element?o:o.current:null);n.current&&n.current.element===s&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:s,subscriber:e,cleanup:s?e(s):void 0})}),[e]);return(0,o.useEffect)((function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}}),[]),(0,o.useCallback)((function(e){r.current=e,s()}),[s])}((0,o.useCallback)((function(t){return s.current&&s.current.box===e.box&&s.current.round===r||(s.current={box:e.box,round:r,instance:new ResizeObserver((function(t){var o=t[0],s="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",a=i(o,s,"inlineSize"),l=i(o,s,"blockSize"),h=a?r(a):void 0,p=l?r(l):void 0;if(u.current.width!==h||u.current.height!==p){var m={width:h,height:p};u.current.width=h,u.current.height=p,n.current?n.current(m):d.current||c(m)}}))}),s.current.instance.observe(t,{box:e.box}),function(){s.current&&s.current.instance.unobserve(t)}}),[e.box,r]),e.ref);return(0,o.useMemo)((function(){return{ref:h,width:l.width,height:l.height}}),[h,l.width,l.height])}},45738:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var o=n(96540),i=n(42269),r=n(13550),s=n(29368),a=n(28692),l=n(94520),c=n(86354),d=n(85573);function u({id:e=null,commentObject:t=null,cacheStrategy:n=a.So.CACHE_FIRST}){const u=t?t.id:e,h=(0,c.ar)(u),[p,m]=(0,o.useState)(n!==a.So.NETWORK_ONLY?a.Ay.get(h,t):t),[g,f]=(0,o.useState)(null),b=(0,o.useMemo)((()=>()=>r.A.request({url:s.A.Comment.url({id:u}),method:s.A.Comment.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[u]);return(0,o.useEffect)((()=>{!u||p&&n!==a.So.STALE_WHILE_REVALIDATE||b().then((e=>{m(e),a.Ay.set(h,e)})).catch((t=>{a.Ay.delete(h),f(`CommentObject with id ${e} not found`),l.V.error(i.K,`CommentObject with id ${e} not found`),l.V.error(i.K,t.message)}))}),[u]),(0,d.ho)((()=>{t&&(m(t),a.Ay.set(h,p))}),[t]),{obj:p,setObj:m,error:g}}},46248:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(74848),i=n(11848),r=n(71194),s=n(3246);const a=(0,i.Ay)(r.A,{name:"SCCentralProgress",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({display:"flex",flexDirection:"column",justifyContent:"center",height:"calc(100% - 100px)",padding:50})));function l(e){return(0,o.jsx)(a,{children:(0,o.jsx)(s.A,Object.assign({sx:{margin:"0 auto",display:"block"}},e))})}},54262:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var o,i=n(96540),r=n(42269);!function(e){e.ADDED_AT_DESC="-added_at",e.ADDED_AT_ASC="added_at",e.CONNECTION_DESC="-connection",e.CONNECTION_ASC="connection"}(o||(o={}));var s=n(29368),a=n(13550),l=n(28692),c=n(94520),d=n(77577),u=n(86354),h=n(39840);function p(e,t){const n=new URLSearchParams(e),o=Object.fromEntries(n.entries());return(o.offset?parseInt(o.offset):0)/t+1}const m={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",DATA_NEXT_LOADED:"_data_next_loaded",DATA_PREVIOUS_LOADED:"_data_previous_loaded",DATA_RELOAD:"_data_reload",DATA_RELOADED:"_data_reloaded",DATA_REVALIDATE:"_data_revalidate"};function g(e,t){switch(t.type){case m.LOADING_NEXT:return Object.assign(Object.assign({},e),{isLoadingNext:!0,isLoadingPrevious:!1});case m.LOADING_PREVIOUS:return Object.assign(Object.assign({},e),{isLoadingNext:!1,isLoadingPrevious:!0});case m.DATA_NEXT_LOADED:return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),{comments:t.payload.comments,isLoadingNext:!1,componentLoaded:!0,revalidate:!1,revalidateNext:null,revalidatePrevious:null,next:t.payload.next}),t.payload.page?{page:t.payload.page}:{}),t.payload.nextPage?{nextPage:t.payload.nextPage}:{}),t.payload.previous?{previous:t.payload.previous}:{}),t.payload.previousPage?{previousPage:t.payload.previousPage}:{}),t.payload.total?{total:t.payload.total}:{});case m.DATA_PREVIOUS_LOADED:return Object.assign(Object.assign(Object.assign(Object.assign({},e),{comments:t.payload.comments,isLoadingPrevious:!1,revalidate:!1,revalidateNext:null,revalidatePrevious:null,previous:t.payload.previous}),t.payload.page?{page:t.payload.page}:{}),t.payload.previousPage?{previousPage:t.payload.previousPage}:{});case m.DATA_RELOAD:return Object.assign(Object.assign({},e),{next:t.payload.next,previousPage:null,nextPage:null,comments:[],total:0,previous:null,isLoadingNext:!0,reload:!0});case m.DATA_RELOADED:return Object.assign(Object.assign({},e),{componentLoaded:!0,reload:!1});case m.DATA_REVALIDATE:return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),{componentLoaded:!0,revalidate:!0}),t.payload.revalidateNext?{revalidateNext:t.payload.revalidateNext}:{}),t.payload.revalidatePrevious?{revalidatePrevious:t.payload.revalidatePrevious}:{}),{reload:!1});default:throw new Error(`Unhandled type: ${t.type}`)}}function f(e){const t=e.obj?(0,u.$l)(e.obj.id,e.obj.type,e.next):null;let n={componentLoaded:!1,comments:[],total:0,next:e.next,previous:null,isLoadingNext:!1,isLoadingPrevious:!1,page:Math.ceil(e.offset/e.pageSize+1),reload:!1,revalidate:!1,revalidateNext:null,revalidatePrevious:null};if(n.nextPage=n.next?n.page+1:null,n.previousPage=n.previous?n.page-1:null,t&&l.Ay.hasKey(t)&&e.cacheStrategy!==l.So.NETWORK_ONLY){const o=l.Ay.get(t);let i=Math.max(p(o.next,e.pageSize),1);const r=o.next?p(o.next,e.pageSize):null,s=o.previous?Math.max(p(o.previous,e.pageSize)-1,1):null;return Object.assign(Object.assign({},n),{total:o.count,next:o.next,previous:o.previous,comments:o.results,page:i,nextPage:r,previousPage:s,componentLoaded:!0})}return n}function b(e){const{id:t,feedObject:n,feedObjectType:b,offset:v=0,pageSize:A=5,orderBy:j=o.ADDED_AT_DESC,parent:y,onChangePage:x,cacheStrategy:O=l.So.NETWORK_ONLY}=e,{obj:C,setObj:_}=(0,d.A)({id:t,feedObject:n,feedObjectType:b,cacheStrategy:O}),E=()=>{const e=v?`&offset=${v}`:"",n=y?`&parent=${y}`:"",o=C?C.id:t,i=C?C.type:b;return`${s.A.Comments.url()}?${i}=${o}&limit=${A}&ordering=${j}${e}${n}`},[S,w]=(0,i.useReducer)(g,{obj:C,offset:v,pageSize:A,next:E(),cacheStrategy:O},f),M=(0,h.A)(),D=(e,t=!0)=>{const n=(0,u.$l)(C.id,C.type,e);return t&&l.Ay.hasKey(n)&&O!==l.So.NETWORK_ONLY?Promise.resolve(l.Ay.get(n)):a.A.request({url:e,method:s.A.Comments.method}).then((e=>e.status>=300?Promise.reject(e):(l.Ay.set(n,e.data),e.data.results.forEach((e=>l.Ay.set((0,u.ar)(e.id),e))),Promise.resolve(e.data))))};function N(){if(C&&S.next&&!S.isLoadingNext){const e=S.next;w({type:m.LOADING_NEXT}),D(e).then((t=>{if(M.current){let n=p(e,A),o=t.next?n+1:null;w({type:m.DATA_NEXT_LOADED,payload:Object.assign({page:n,nextPage:o,comments:[...S.comments,...t.results],next:t.next,total:t.count,componentLoaded:!0},v&&0===S.comments.length?{previous:t.previous,previousPage:t.previous?n-1:null}:{})}),x&&x(n)}})).catch((e=>{c.V.error(r.K,e)})).then((()=>{M.current&&O===l.So.STALE_WHILE_REVALIDATE&&w({type:m.DATA_REVALIDATE,payload:{revalidateNext:e}})}))}}return(0,i.useEffect)((()=>{M.current&&S.componentLoaded&&S.reload&&!S.isLoadingNext&&!S.isLoadingPrevious&&(w({type:m.DATA_RELOADED}),N())}),[S.reload,M]),(0,i.useEffect)((()=>{var e,t;M.current&&S.componentLoaded&&Boolean(C)&&!S.reload&&S.revalidate&&(e=S.revalidateNext,t=Boolean(S.revalidateNext),D(e,!1).then((e=>{let n,o=p(t?e.next:e.previous,A);if(t)n=S.comments.slice(0,S.comments.length-e.results.length).concat(e.results);else{let t=S.comments.slice(e.results.length,S.comments.length);n=e.results.concat(t)}M.current&&w({type:t?m.DATA_NEXT_LOADED:m.DATA_PREVIOUS_LOADED,payload:Object.assign(Object.assign({page:o,comments:n},t?{next:e.next}:{previous:e.previous}),{total:e.count})})})))}),[S.revalidate,M]),Object.assign(Object.assign({feedObject:C,setFeedObject:_},S),{pageSize:A,getNextPage:N,getPreviousPage:function(){if(C&&S.previous&&!S.isLoadingPrevious){const e=S.previous;w({type:m.LOADING_PREVIOUS}),D(e).then((t=>{if(M.current){let n=p(e,A),o=t.previous?n-1:null;w({type:m.DATA_PREVIOUS_LOADED,payload:{page:n,previousPage:o,comments:[...t.results,...S.comments],previous:t.previous}}),x&&x(n)}})).catch((e=>{c.V.error(r.K,e)})).then((()=>{M.current&&O===l.So.STALE_WHILE_REVALIDATE&&w({type:m.DATA_REVALIDATE,payload:{revalidatePrevious:e}})}))}},orderBy:j,reload:()=>{M.current&&S.componentLoaded&&Boolean(C)&&!S.isLoadingNext&&!S.reload&&w({type:m.DATA_RELOAD,payload:{next:E()}})}})}},56323:(e,t,n)=>{"use strict";var o;n.d(t,{e:()=>o}),function(e){e.ADDED_AT_DESC="-added_at",e.ADDED_AT_ASC="added_at",e.CONNECTION_DESC="-connection",e.CONNECTION_ASC="connection"}(o||(o={}))},57473:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var o=n(31635),i=n(74848),r=n(96540),s=n(58662),a=n(19546),l=n.n(a),c=n(79197),d=n(11848),u=n(71194),h=n(40059),p=n(5611),m=n(6786),g=n(47859),f=n(28820),b=n(36870),v=n(27365),A=n(58065),j=n(2877),y=n(51106),x=n(29251),O=n(46248),C=n(43749),_=n(16799);const E="SCVoteAudienceButton",S={root:`${E}-root`,reactionList:`${E}-reaction-list`,dialogRoot:`${E}-dialog-root`,dialogTabs:`${E}-dialog-tabs`,dialogVoteBadge:`${E}-dialog-vote-badge`},w=(0,d.Ay)(s.A,{name:E,slot:"Root",overridesResolver:(e,t)=>[t.root,t.voted]})((({theme:e})=>({}))),M=(0,d.Ay)(x.A,{name:E,slot:"Root",overridesResolver:(e,t)=>t.dialogRoot})((({theme:e})=>({})));const D=function(e){const t=(0,c.A)({props:e,name:E}),{className:n,contributionId:s,contributionType:a,contribution:d=null}=t,x=(0,o.__rest)(t,["className","contributionId","contributionType","contribution"]),[D,N]=(0,r.useState)(!1),[T,P]=(0,r.useState)(0),I=(0,j.X1)(),k=e=>{N(!1)},R=(e,t)=>{P(t)},{isLoading:$,contributionVoted:L,contributionVoteCount:H,contributionReactionsCount:B,reactions:F,error:V,handleFetchVoteList:W,voteList:z,isLoadingVoteList:X,voteListHasNext:Y}=(0,y.A)({id:s,contributionType:a,contribution:d});(0,r.useEffect)((()=>{!X&&D&&W({reset:!0})}),[D]),(0,r.useEffect)((()=>{if(X||!D)return;if(0===T)return void W({reset:!0});const{reaction:e}=B[T-1];W({reaction:e,reset:!0})}),[T]);const U=(0,r.useMemo)((()=>!F.default||$||V?I.user&&L?(0,i.jsx)(h.A,{children:"thumb_up"}):(0,i.jsx)(h.A,{children:"thumb_up_off_alt"}):(0,i.jsx)(u.A,Object.assign({className:S.reactionList},{children:B&&B.slice(0,3).map(((e,t)=>(0,i.jsx)(h.A,{children:(0,i.jsx)("img",{alt:e.reaction.label,src:e.reaction.image,width:"100%",height:"100%"})},e.reaction.id)))}))),[F.default,$,V,B,I.user,L]),K=(0,r.useMemo)((()=>F.default&&!$?(0,i.jsxs)(p.A,Object.assign({className:S.dialogTabs,value:T,onChange:R,"aria-label":"reactions"},{children:[(0,i.jsx)(m.A,{label:(0,i.jsx)(A.A,{defaultMessage:"ui.voteAudienceButton.dialog.tab.all",id:"ui.voteAudienceButton.dialog.tab.all"})}),B&&B.map((e=>(0,i.jsx)(m.A,{label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.A,{children:(0,i.jsx)("img",{alt:e.reaction.label,src:e.reaction.image,width:"100%",height:"100%"})}),e.count]})},e.reaction.id)))]})):(0,i.jsx)(A.A,{defaultMessage:"ui.voteAudienceButton.dialog.title",id:"ui.voteAudienceButton.dialog.title"})),[T,F,B]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(w,Object.assign({onClick:e=>{N(!0)},disabled:$||Boolean(V)||0===H,loading:$,className:l()(S.root,n)},x,{children:[U,"\xa0",I.user&&L?1===H?(0,i.jsx)(A.A,{id:"ui.voteAudienceButton.votedOnlyByMe",defaultMessage:"ui.voteAudienceButton.votedOnlyByMe"}):(0,i.jsx)(A.A,{id:"ui.voteAudienceButton.votedByMe",defaultMessage:"ui.voteAudienceButton.votedByMe",values:{total:H-1}}):(0,i.jsx)(A.A,{id:"ui.voteAudienceButton.votes",defaultMessage:"ui.voteAudienceButton.votes",values:{total:H}})]})),D&&(0,i.jsx)(M,Object.assign({title:K,onClose:k,open:D,DialogContentProps:{}},{children:X&&!z?(0,i.jsx)(O.A,{size:50}):(0,i.jsx)(C.A,Object.assign({dataLength:z.length,next:()=>W({}),hasMoreNext:Y,loaderNext:(0,i.jsx)(O.A,{size:30}),height:400,endMessage:(0,i.jsx)(g.A,Object.assign({variant:"body2",align:"center",fontWeight:"bold"},{children:(0,i.jsx)(A.A,{id:"ui.voteAudienceButton.dialog.end",defaultMessage:"ui.voteAudienceButton.dialog.end"})}))},{children:(0,i.jsx)(f.A,{children:z.map((e=>(0,i.jsx)(b.Ay,{children:(0,i.jsx)(_.A,{elevation:0,user:e.user,badgeContent:(0,i.jsx)(v.A,Object.assign({className:S.dialogVoteBadge},{children:e.reaction?(0,i.jsx)(h.A,{children:(0,i.jsx)("img",{alt:e.reaction.label,src:e.reaction.image,width:"100%",height:"100%"})}):(0,i.jsx)(h.A,{children:"thumb_up"})})),onClick:k})},e.user.id)))})}))}))]})}},58871:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var o=n(31635),i=n(74848),r=n(96540),s=n(58065),a=n(38990),l=n(83194),c=n(11848),d=n(71194),u=n(42942),h=n(75933),p=n(47859),m=n(19546),g=n.n(m),f=n(60361),b=n(79197),v=n(63969),A=n(40094),j=n(74531),y=n(83426),x=n(92922),O=n(28692),C=n(44467),_=n(74257),E=n(3338),S=n(2877),w=n(75753),M=n(20411),D=n(77577),N=n(3341),T=n(23837);const P={root:`${T.H}-root`,loadNextCommentsButton:`${T.H}-load-more-comments-button`,loadPreviousCommentsButton:`${T.H}-load-previous-comments-button`,paginationLink:`${T.H}-pagination-link`,pagination:`${T.H}-pagination`,commentsCounter:`${T.H}-comments-counter`,commentNotFound:`${T.H}-comment-not-found`,noOtherComments:`${T.H}-no-other-comment`},I=(0,c.Ay)(d.A,{name:T.H,slot:"Root"})((()=>({}))),k=[E.rL,E.P3];const R=function(e){const t=(0,b.A)({props:e,name:T.H}),{id:n=`comments_object_${t.feedObjectId?t.feedObjectId:t.feedObject?t.feedObject.id:""}`,className:c,feedObjectId:m,feedObject:R,feedObjectType:$=y.Z.POST,CommentComponent:L=a.A,CommentComponentProps:H={variant:"outlined"},CommentObjectSkeletonProps:B={elevation:0,WidgetProps:{variant:"outlined"}},CommentsObjectSkeletonProps:F={},next:V,isLoadingNext:W,handleNext:z,previous:X,isLoadingPrevious:Y,handlePrevious:U,totalLoadedComments:K,totalComments:q,page:G,previousPage:Z,nextPage:J,comments:Q=[],startComments:ee=[],endComments:te=[],infiniteScrolling:ne=!1,hideAdvertising:oe=!1,disablePaginationLinks:ie=!1,hidePaginationLinks:re=!0,inPlaceLoadMoreContents:se=!0,paginationLinksPageQueryParam:ae=_.wx,PaginationLinkProps:le={},cacheStrategy:ce=O.So.NETWORK_ONLY}=t,de=(0,o.__rest)(t,["id","className","feedObjectId","feedObject","feedObjectType","CommentComponent","CommentComponentProps","CommentObjectSkeletonProps","CommentsObjectSkeletonProps","next","isLoadingNext","handleNext","previous","isLoadingPrevious","handlePrevious","totalLoadedComments","totalComments","page","previousPage","nextPage","comments","startComments","endComments","infiniteScrolling","hideAdvertising","disablePaginationLinks","hidePaginationLinks","inPlaceLoadMoreContents","paginationLinksPageQueryParam","PaginationLinkProps","cacheStrategy"]),ue=(0,S.X1)(),he=(0,w.Sw)(),pe=(0,M.I$)(),{obj:me}=(0,D.A)({id:m,feedObject:R,feedObjectType:$,cacheStrategy:ce}),ge=Q.map((e=>e.id)),fe=Math.floor(Math.random()*(Math.min(Q.length,5)-1+1)+1),be=(0,r.useMemo)((()=>{const e={};return k.map((t=>e[t]=t in he.preferences?he.preferences[t].value:null)),e}),[he.preferences]),ve=(0,r.useMemo)((()=>()=>me&&!oe&&be[E.rL]&&(be[E.P3]&&null===ue.user||!be[E.P3])?(0,i.jsx)(f.A,Object.assign({position:x.Q.POSITION_IN_COMMENTS},me.categories.length&&{categoriesId:me.categories.map((e=>e.id))})):null),[JSON.stringify(me)]);function Ae(e){setTimeout((()=>{const t=document.getElementById(`reply-${e.id}`);t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),200)}function je(e,t){ne&&e&&!W&&z&&z()}function ye(e){return e.filter((e=>!ge.includes(e.id)))}function xe(e){return(0,i.jsx)(i.Fragment,{children:e.map(((e,t)=>(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(L,Object.assign({commentObject:e,onOpenReply:Ae,feedObject:me},H,{CommentObjectSkeletonProps:B}),e.id),fe===t&&ve()]},t)))})}let Oe=(0,i.jsx)(i.Fragment,{});return Oe=!me||(Y||W)&&!Q.length?(0,i.jsx)(v.A,Object.assign({CommentObjectSkeletonProps:B},F)):(0,i.jsxs)(i.Fragment,{children:[X&&(0,i.jsxs)(d.A,Object.assign({className:P.pagination},{children:[Y&&(0,i.jsx)(l.A,Object.assign({},B,{count:1})),!Y&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.A,Object.assign({variant:"text"},se?{onClick:U}:{component:N.A,to:`${pe.url((0,j.lg)(R),(0,j.kB)(R))}`},{disabled:Y,color:"inherit",classes:{root:P.loadPreviousCommentsButton}},{children:(0,i.jsx)(s.A,{id:"ui.commentsObject.loadPreviousComments",defaultMessage:"ui.commentsObject.loadPreviousComments"})})),!ie&&Z&&X&&(0,i.jsx)(N.A,Object.assign({to:`${(0,C.cz)(pe.url((0,j.lg)(R),(0,j.kB)(R)),[{[ae]:Z}])}`,className:g()({[P.paginationLink]:re})},le,{children:(0,i.jsx)(s.A,{id:"ui.commentsObject.previousComments",defaultMessage:"ui.commentsObject.previousComments"})}))]})]})),xe(Q),V&&(0,i.jsx)(d.A,Object.assign({className:P.pagination},{children:W?(0,i.jsx)(l.A,Object.assign({},B,{count:1})):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(A.pL,Object.assign({as:"div",onChange:je,threshold:.5},{children:(0,i.jsxs)(h.A,Object.assign({direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2},{children:[(0,i.jsx)(u.A,Object.assign({variant:"text"},se?{onClick:z}:{component:N.A,to:J&&V?`${(0,C.cz)(pe.url((0,j.lg)(R),(0,j.kB)(R)),[{[ae]:J}])}`:`${pe.url((0,j.lg)(R),(0,j.kB)(R))}`},{disabled:W,color:"inherit",classes:{root:P.loadNextCommentsButton}},{children:(0,i.jsx)(s.A,{id:"ui.commentsObject.loadMoreComments",defaultMessage:"ui.commentsObject.loadMoreComments"})})),Boolean(q&&K)&&(0,i.jsx)(p.A,Object.assign({variant:"body1",classes:{root:P.commentsCounter}},{children:(0,i.jsx)(s.A,{id:"ui.commentsObject.numberOfComments",defaultMessage:"ui.commentsObject.numberOfComments",values:{loaded:K,total:q}})}))]}))})),!ie&&J&&V&&(0,i.jsx)(N.A,Object.assign({to:`${(0,C.cz)(pe.url((0,j.lg)(R),(0,j.kB)(R)),[{[ae]:J}])}`,className:g()({[P.paginationLink]:re})},le,{children:(0,i.jsx)(s.A,{id:"ui.commentsObject.nextComments",defaultMessage:"ui.commentsObject.nextComments"})}))]})}))]}),(0,i.jsxs)(I,Object.assign({id:n,className:g()(P.root,c)},de,{children:[xe(ye(ee)),Oe,xe(ye(te))]}))}},60361:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var o=n(74848),i=n(96540),r=n(11848),s=n(71194),a=n(39840),l=n(42269),c=n(13550),d=n(29368),u=n(28692),h=n(94520),p=n(86354);var m=n(19546),g=n.n(m),f=n(79197),b=n(9063),v=n(85573),A=n(40936);const j="SCCustomAdv",y={root:`${j}-root`,wrap:`${j}-wrap`,image:`${j}-image`,embedCode:`${j}-embed-code`,prefixedHeight:`${j}-prefixed-height`},x=(0,r.Ay)(s.A,{name:j,slot:"Root"})((()=>({})));const O=function(e){const t=(0,f.A)({props:e,name:j}),{id:n="custom_adv",className:r,advId:m=null,position:O,categoriesId:C,prefixedHeight:_,onStateChange:E,onHeightChange:S}=t,w=(0,a.A)(),M=(0,i.useRef)(0),{scCustomAdv:D}=function({id:e=null,position:t=null,categoriesId:n=null,active:o=!0,cacheStrategy:r=u.So.CACHE_FIRST}){const[s,m]=(0,i.useState)(null!==e&&r===u.So.CACHE_FIRST&&u.Ay.get((0,p.SP)(e))?u.Ay.get((0,p.SP)(e)):null),[g,f]=(0,i.useState)(null),b=(0,a.A)(),v=(0,i.useMemo)((()=>e=>{e.map((e=>{u.Ay.set((0,p.SP)(e.id),e)}))}),[]),A=(0,i.useMemo)((()=>()=>null!==e?c.A.request({url:`${d.A.CustomAdv.url({id:e})}?active=${Boolean(o)}`,method:d.A.CustomAdv.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve([e.data]))):c.A.request({url:`${d.A.CustomAdvSearch.url({})}?active=${Boolean(o)}`,method:d.A.CustomAdvSearch.method,params:Object.assign(Object.assign({},t&&{position:t}),{categories:n?`[${n.toString()}]`:"[]"})}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data.results)))),[e,t,`${n}`]);return(0,i.useEffect)((()=>{s&&r===u.So.CACHE_FIRST||A().then((e=>{b.current&&m(e[Math.floor(Math.random()*e.length)]),v(e)})).catch((e=>{b.current&&f(`Custom ADV with position ${t} not found`),h.V.error(l.K,`Custom ADV with position ${t} not found`),h.V.error(l.K,e.message)}))}),[e,t,`${n}`,s]),{scCustomAdv:s,setSCCustomAdv:m,error:g}}({id:m,position:O,categoriesId:C});(0,v.ho)((()=>{D&&E&&E({advId:D.id,prefixedHeight:M.current}),S&&S()}),[D]);const{ref:N}=(0,A.A)({round:e=>e,onResize:({width:e,height:t})=>{w.current&&(M.current=t,E&&E({advId:D.id,prefixedHeight:t}))}}),T=(0,i.useRef)(null);if((0,i.useEffect)((()=>{const e=null==D?void 0:D.embed_code,t=T.current;if(t&&e){const n=document.createElement("div");n.innerHTML=e;const o=n.getElementsByTagName("script"),i=[];for(let e of o){if(e.src){const t=document.createElement("script");t.src=e.src,document.body.appendChild(t)}else i.push(e.innerHTML);e.parentNode.removeChild(e)}t.innerHTML=n.innerHTML,i.forEach((e=>{try{const t=document.createElement("script");t.appendChild(document.createTextNode(e)),document.body.appendChild(t)}catch(t){console.error("Error executing script",t)}}))}}),[D]),!D)return(0,o.jsx)(b.A,{});const P=(0,o.jsxs)(s.A,Object.assign({className:y.wrap},{children:[D.image&&(0,o.jsx)("img",{src:D.image,alt:D.title,className:g()(y.image,{[y.prefixedHeight]:Boolean(_)})}),D.embed_code&&(0,o.jsx)(s.A,{ref:T,className:g()(y.embedCode,{[y.prefixedHeight]:Boolean(_)}),dangerouslySetInnerHTML:{__html:D.embed_code}})]}));return(0,o.jsx)(x,Object.assign({id:n,className:g()(y.root,r),ref:N,style:Object.assign({},_?{paddingBottom:_}:{width:"100%"})},{children:D.link?(0,o.jsx)("a",Object.assign({href:D.link,title:D.title},{children:P})):P}))}},63969:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var o=n(31635),i=n(74848),r=n(83194),s=n(11848),a=n(71194),l=n(23837);const c={root:`${l.H}-skeleton-root`},d=(0,s.Ay)(a.A,{name:l.H,slot:"SkeletonRoot"})((()=>({})));function u(e){const{count:t=3,CommentObjectSkeletonProps:n={}}=e,s=(0,o.__rest)(e,["count","CommentObjectSkeletonProps"]);return(0,i.jsx)(d,Object.assign({className:c.root},s,{children:[...Array(t)].map(((e,t)=>(0,i.jsx)(r.A,Object.assign({},n),t)))}))}},71720:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var a in n)o.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},74257:(e,t,n)=>{"use strict";n.d(t,{DE:()=>o,N$:()=>i,wx:()=>r});const o=10,i=0,r="page"},77577:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var o=n(96540),i=n(13550),r=n(29368),s=n(28692),a=n(94520),l=n(42269),c=n(83426),d=n(85573),u=n(86354);function h({id:e=null,feedObject:t=null,feedObjectType:n=c.Z.POST||c.Z.DISCUSSION||c.Z.STATUS,cacheStrategy:h=s.So.CACHE_FIRST}){const p=t?t.id:e,m=t?t.type:n,g=(0,u.lG)(p,m),[f,b]=(0,o.useState)(h!==s.So.NETWORK_ONLY?s.Ay.get(g,t):t),[v,A]=(0,o.useState)(null),j=(0,o.useMemo)((()=>()=>i.A.request({url:r.A.FeedObject.url({type:m,id:p}),method:r.A.FeedObject.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[p,m]);return(0,o.useEffect)((()=>{p&&m&&!t&&j().then((e=>{b(e),s.Ay.set(g,e)})).catch((t=>{s.Ay.delete(g),A(`FeedObject with id ${e} not found`),a.V.error(l.K,`FeedObject with id ${e} not found`),a.V.error(l.K,t.message)}))}),[p,m]),(0,d.ho)((()=>{t&&(h===s.So.NETWORK_ONLY?(b(t),s.Ay.set(g,t)):b(s.Ay.get(g,t)))}),[t]),{obj:f,setObj:e=>{s.Ay.set(g,e),b(Object.assign({},e))},error:v}}},79671:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var o=n(19249);const i=e=>e.type===o.gg||e.type===o.WW},82236:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=!0,i="Invariant failed";function r(e,t){if(!e){if(o)throw new Error(i);var n="function"==typeof t?t():t;throw new Error(n?i+": "+n:i)}}},82241:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var o=n(85486),i=n(59703),r=n(96540),s=n(54533),a=n(75659),l=n(47859),c=n(32850),d=n(25669),u=n(11848),h=n(68081),p=n(74848);const m=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],g=(0,u.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${h.A.primary}`]:t.primary},{[`& .${h.A.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((({ownerState:e})=>(0,i.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56}))),f=r.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiListItemText"}),{children:u,className:f,disableTypography:b=!1,inset:v=!1,primary:A,primaryTypographyProps:j,secondary:y,secondaryTypographyProps:x}=n,O=(0,o.A)(n,m),{dense:C}=r.useContext(c.A);let _=null!=A?A:u,E=y;const S=(0,i.A)({},n,{disableTypography:b,inset:v,primary:!!_,secondary:!!E,dense:C}),w=(e=>{const{classes:t,inset:n,primary:o,secondary:i,dense:r}=e,s={root:["root",n&&"inset",r&&"dense",o&&i&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,a.A)(s,h.b,t)})(S);return null==_||_.type===l.A||b||(_=(0,p.jsx)(l.A,(0,i.A)({variant:C?"body2":"body1",className:w.primary,component:null!=j&&j.variant?void 0:"span",display:"block"},j,{children:_}))),null==E||E.type===l.A||b||(E=(0,p.jsx)(l.A,(0,i.A)({variant:"body2",className:w.secondary,color:"text.secondary",display:"block"},x,{children:E}))),(0,p.jsxs)(g,(0,i.A)({className:(0,s.A)(w.root,f),ownerState:S,ref:t},O,{children:[_,E]}))}))},83194:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var o=n(31635),i=n(74848),r=n(86857),s=n(11848),a=n(44675),l=n(73785),c=n(25292),d=n(52959),u=n(1e3);const h={root:`${u.H}-skeleton-root`,avatar:`${u.H}-avatar`,primaryContent:`${u.H}-primary-content`},p=(0,s.Ay)(d.A,{name:u.H,slot:"SkeletonRoot"})((()=>({})));function m(e){const{WidgetProps:t}=e,n=(0,o.__rest)(e,["WidgetProps"]),s=(0,a.A)();return(0,i.jsx)(p,Object.assign({className:h.root,disableTypography:!0},n,{image:(0,i.jsx)(l.A,{animation:"wave",variant:"circular",width:s.selfcommunity.user.avatar.sizeMedium,height:s.selfcommunity.user.avatar.sizeMedium,className:h.avatar}),secondary:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.A,Object.assign({},t,{children:(0,i.jsxs)(c.A,{children:[(0,i.jsx)(l.A,{animation:"wave",height:10,width:"80%",className:h.primaryContent}),(0,i.jsx)(l.A,{animation:"wave",height:10,width:"40%"})]})}))})}))}},86955:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var o=n(31635),i=n(74848),r=n(96540),s=n(86857),a=n(58065),l=n(11848),c=n(44675),d=n(90508),u=n(27365),h=n(4671),p=n(40059),m=n(75933),g=n(2877),f=n(75260),b=n(19546),v=n.n(b),A=n(58662),j=n(52959),y=n(89333),x=n(79197),O=n(29858);const C="SCCommentObjectReply",_={root:`${C}-root`,comment:`${C}-comment`,media:`${C}-media`,hasValue:`${C}-has-value`,avatar:`${C}-avatar`,actions:`${C}-actions`,buttonReply:`${C}-button-reply`,iconReply:`${C}-icon-reply`,buttonSave:`${C}-button-save`,buttonCancel:`${C}-button-cancel`},E=(0,l.Ay)(j.A,{name:C,slot:"Root"})((()=>({})));const S=function(e){const t=(0,x.A)({props:e,name:C}),{id:n="CommentObjectReply",className:l,elevation:b=0,autoFocus:j=!1,onReply:S,onSave:w,onCancel:M,editable:D=!0,text:N="",medias:T=[],WidgetProps:P={variant:"outlined"},EditorProps:I={},showAvatar:k=!0,replyIcon:R=!1}=t,$=(0,o.__rest)(t,["id","className","elevation","autoFocus","onReply","onSave","onCancel","editable","text","medias","WidgetProps","EditorProps","showAvatar","replyIcon"]),L=(0,g.X1)(),[H,B]=(0,r.useState)(N),[F,V]=(0,r.useState)(null!=T?T:[]),[W,z]=(0,r.useState)(!1),X=(0,c.A)(),Y=(0,d.A)(X.breakpoints.down("md"));let U=(0,r.useRef)();(0,r.useEffect)((()=>{j&&K()}),[j]);const K=()=>{!Y&&U.current&&U.current.focus()},q=()=>{S&&S(H,F&&F.length>0?F:null)},G=(0,r.useMemo)((()=>{const e=H.trim();return""===e||'<p class="SCEditor-paragraph"></p>'===e||'<p class="SCEditor-paragraph"><br></p>'===e}),[H]);return(0,i.jsx)(E,Object.assign({id:n},$,{disableTypography:!0,onClick:K,elevation:b,className:v()(_.root,l),image:k&&(L.user?(0,i.jsx)(y.A,Object.assign({hide:!L.user.community_badge},{children:(0,i.jsx)(u.A,{alt:L.user.username,variant:"circular",src:L.user.avatar,classes:{root:_.avatar}})})):(0,i.jsx)(u.A,{variant:"circular",className:_.avatar})),secondary:(0,i.jsxs)(s.A,Object.assign({className:v()(_.comment,{[_.hasValue]:!G})},P,{children:[F&&F.length>0&&(0,i.jsx)(O.A,{value:F,onChange:e=>{V([...e])},className:_.media}),(0,i.jsx)(f.A,Object.assign({ref:U,onChange:e=>{B(e)},defaultValue:H,editable:D,uploadImage:!0,action:R&&S&&(0,i.jsx)(h.A,Object.assign({onClick:q,className:_.iconReply,disabled:W},{children:(0,i.jsx)(p.A,{children:"send"})}))},I,{MediaPluginProps:{isUploading:z,onMediaAdd:e=>{V((t=>[...t,e]))}}})),!G&&(0,i.jsxs)(m.A,Object.assign({direction:"row",spacing:2,className:_.actions},{children:[S&&!R&&(0,i.jsx)(A.A,Object.assign({variant:"outlined",size:"small",onClick:q,loading:!D,className:_.buttonReply},{children:(0,i.jsx)(a.A,{id:"ui.commentObject.replyComment.reply",defaultMessage:"ui.commentObject.replyComment.reply"})})),w&&(0,i.jsxs)(i.Fragment,{children:[M&&(0,i.jsx)(A.A,Object.assign({variant:"text",size:"small",onClick:()=>{M&&M()},disabled:!D,color:"inherit",className:_.buttonCancel},{children:(0,i.jsx)(a.A,{id:"ui.commentObject.replyComment.cancel",defaultMessage:"ui.commentObject.replyComment.cancel"})})),(0,i.jsx)(A.A,Object.assign({variant:"outlined",size:"small",onClick:()=>{w&&w(H,F&&F.length>0?F:null)},loading:!D,className:_.buttonSave},{children:(0,i.jsx)(a.A,{id:"ui.commentObject.replyComment.save",defaultMessage:"ui.commentObject.replyComment.save"})}))]})]}))]}))}))}},92922:(e,t,n)=>{"use strict";var o;n.d(t,{Q:()=>o}),function(e){e.POSITION_BELOW_TOPBAR="BELOW_TOPBAR",e.POSITION_BELOW_FEED_OBJECT="BELOW_THE_POST",e.POSITION_IN_COMMENTS="IN_POST_COMMENTS",e.POSITION_RELATED_POSTS_COLUMN="RELATED_POSTS_COLUMN",e.POSITION_FEED_SIDEBAR="TOOLS_COLUMN",e.POSITION_FEED="IN_STREAM"}(o||(o={}))}}]);