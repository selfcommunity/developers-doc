(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[46340],{1935:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(74705).A},9063:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var o=s(74848);const n=(0,s(11848).Ay)("div",{name:"SCHiddenPlaceholder",slot:"Root",overridesResolver:(e,t)=>[t.root]})((()=>({height:1,width:"100%",display:"none"})));function a(e){return(0,o.jsx)(n,Object.assign({},e))}},21810:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var o=s(74848),n=s(44806),a=s(86857),i=s(11848),r=s(25292),c=s(28820),l=s(36870),u=s(29440);const d={root:`${u.H}-skeleton-root`,list:`${u.H}-list`},g=(0,i.Ay)(a.A,{name:u.H,slot:"SkeletonRoot"})((()=>({})));function m(e){return(0,o.jsx)(g,Object.assign({className:d.root},e,{children:(0,o.jsx)(r.A,{children:(0,o.jsx)(c.A,Object.assign({className:d.list},{children:[...Array(4)].map(((e,t)=>(0,o.jsx)(l.Ay,{children:(0,o.jsx)(n.A,{elevation:0})},t)))}))})}))}},23237:()=>{},25028:(e,t,s)=>{"use strict";s.d(t,{H:()=>o});const o="SCCategory"},27662:(e,t,s)=>{"use strict";s.d(t,{h:()=>c});var o=s(31635),n=s(40462),a=s(29368),i=s(12275);class r{static getCategorySuggestion(e,t){return(0,n.A)(Object.assign(Object.assign({},t),{url:a.A.CategoriesSuggestion.url({}),method:a.A.CategoriesSuggestion.method,params:e}))}static getCourseSuggestion(e,t){return(0,n.A)(Object.assign(Object.assign({},t),{url:a.A.CourseSuggestion.url({}),method:a.A.CourseSuggestion.method,params:e}))}static getIncubatorSuggestion(e,t){return(0,n.A)(Object.assign(Object.assign({},t),{url:a.A.GetIncubatorSuggestion.url({}),method:a.A.GetIncubatorSuggestion.method,params:e}))}static getPollSuggestion(e,t){return(0,n.A)(Object.assign(Object.assign({},t),{url:a.A.PollSuggestion.url({}),method:a.A.PollSuggestion.method,params:e}))}static getUserSuggestion(e,t){return(0,n.A)(Object.assign(Object.assign({},t),{url:a.A.UserSuggestion.url({}),method:a.A.UserSuggestion.method,params:e}))}static getEventSuggestion(e,t){return(0,n.A)(Object.assign(Object.assign({},t),{url:a.A.EventSuggestion.url({}),method:a.A.EventSuggestion.method,params:e}))}static getSearchSuggestion(e,t,s){const o=(0,i._)({search:e});return(0,n.A)(Object.assign(Object.assign({},s),{url:`${a.A.SearchSuggestion.url({})}?${o.toString()}`,method:a.A.UserSuggestion.method,params:t}))}}class c{static getCategorySuggestion(e,t){return(0,o.__awaiter)(this,void 0,void 0,(function*(){return r.getCategorySuggestion(e,t)}))}static getCourseSuggestion(e,t){return(0,o.__awaiter)(this,void 0,void 0,(function*(){return r.getCourseSuggestion(e,t)}))}static getIncubatorSuggestion(e,t){return(0,o.__awaiter)(this,void 0,void 0,(function*(){return r.getIncubatorSuggestion(e,t)}))}static getPollSuggestion(e,t){return(0,o.__awaiter)(this,void 0,void 0,(function*(){return r.getPollSuggestion(e,t)}))}static getUserSuggestion(e,t){return(0,o.__awaiter)(this,void 0,void 0,(function*(){return r.getUserSuggestion(e,t)}))}static getEventSuggestion(e,t){return(0,o.__awaiter)(this,void 0,void 0,(function*(){return r.getEventSuggestion(e,t)}))}static getSearchSuggestion(e,t,s){return(0,o.__awaiter)(this,void 0,void 0,(function*(){return r.getSearchSuggestion(e,t,s)}))}}},28820:(e,t,s)=>{"use strict";s.d(t,{A:()=>A});var o=s(85486),n=s(59703),a=s(96540),i=s(54533),r=s(75659),c=s(11848),l=s(25669),u=s(32850),d=s(38413),g=s(31609);function m(e){return(0,g.Ay)("MuiList",e)}(0,d.A)("MuiList",["root","padding","dense","subheader"]);var p=s(74848);const h=["children","className","component","dense","disablePadding","subheader"],y=(0,c.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disablePadding&&t.padding,s.dense&&t.dense,s.subheader&&t.subheader]}})((({ownerState:e})=>(0,n.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0}))),A=a.forwardRef((function(e,t){const s=(0,l.b)({props:e,name:"MuiList"}),{children:c,className:d,component:g="ul",dense:A=!1,disablePadding:b=!1,subheader:S}=s,j=(0,o.A)(s,h),_=a.useMemo((()=>({dense:A})),[A]),x=(0,n.A)({},s,{component:g,dense:A,disablePadding:b}),f=(e=>{const{classes:t,disablePadding:s,dense:o,subheader:n}=e,a={root:["root",!s&&"padding",o&&"dense",n&&"subheader"]};return(0,r.A)(a,m,t)})(x);return(0,p.jsx)(u.A.Provider,{value:_,children:(0,p.jsxs)(y,(0,n.A)({as:g,className:(0,i.A)(f.root,d),ref:t,ownerState:x},j,{children:[S,c]}))})}))},29440:(e,t,s)=>{"use strict";s.d(t,{H:()=>o});const o="SCCategoriesSuggestionWidget"},31815:()=>{},36175:(e,t,s)=>{"use strict";s.d(t,{F:()=>o});const o={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://internal.selfcommunity.io/mkg2zxd0"}},37180:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var o=s(96540),n=s(36175),a=s(75251);function i(e,t){void 0===e&&(e=""),void 0===t&&(t={});const s=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:s})}function r(){if((0,a.A)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:n.F.user.client_id,grant_type:"refresh_token"};return i(`${n.F.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function c(){const e=(0,a.A)(),[t,s]=(0,o.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,o.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?i(`${n.F.portal}/oauth/token/`,n.F.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{s(e)})):e&&s(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,o.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var l=s(45284),u=s(51151),d=s(73906),g=s(74848);function m(e){let{children:t}=e;const s=c(),o={portal:n.F.portal,locale:{default:"en"},session:{type:"OAuth",clientId:n.F.user.client_id,authToken:s,handleRefreshToken:r},theme:u.Ay,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,g.jsx)(d.A,{children:()=>(0,g.jsx)(l.Ay,{conf:o,children:t})})}},41992:(e,t,s)=>{"use strict";s.d(t,{A:()=>y});var o=s(31635),n=s(74848),a=s(11848),i=s(49433),r=s(71194),c=s(47859),l=s(19546),u=s.n(l),d=s(86857),g=s(79197);const m="SCBaseItemButton",p={root:`${m}-root`,withActions:`${m}-with-actions`,content:`${m}-content`,image:`${m}-image`,text:`${m}-text`,primary:`${m}-primary`,secondary:`${m}-secondary`,actions:`${m}-actions`},h=(0,a.Ay)(d.A,{name:m,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const y=function(e){const t=(0,g.A)({props:e,name:m}),{id:s=null,className:a=null,ButtonBaseProps:l={},image:d=null,disableTypography:y=!1,primary:A=null,primaryTypographyProps:b={component:"span",variant:"body1"},secondary:S=null,secondaryTypographyProps:j={component:"p",variant:"body2"},actions:_=null}=t,x=(0,o.__rest)(t,["id","className","ButtonBaseProps","image","disableTypography","primary","primaryTypographyProps","secondary","secondaryTypographyProps","actions"]);return(0,n.jsxs)(h,Object.assign({id:s},x,{className:u()(p.root,a,{[p.withActions]:Boolean(_)})},{children:[(0,n.jsxs)(i.A,Object.assign({className:p.content},l,{children:[d&&(0,n.jsx)(r.A,Object.assign({className:p.image},{children:d})),(0,n.jsxs)(r.A,Object.assign({className:p.text},{children:[A&&(y?A:(0,n.jsx)(c.A,Object.assign({className:p.primary},b,{children:A}))),S&&(y?S:(0,n.jsx)(c.A,Object.assign({className:p.secondary},j,{children:S})))]}))]})),_&&(0,n.jsx)(r.A,Object.assign({className:p.actions},{children:_}))]}))}},44806:(e,t,s)=>{"use strict";s.d(t,{A:()=>g});var o=s(74848),n=s(11848),a=s(44675),i=s(73785),r=s(42942),c=s(52959),l=s(25028);const u={root:`${l.H}-skeleton-root`,image:`${l.H}-image`,primary:`${l.H}-primary`,secondary:`${l.H}-secondary`,button:`${l.H}-button`,action:`${l.H}-action`},d=(0,n.Ay)(c.A,{name:l.H,slot:"SkeletonRoot"})((()=>({})));function g(e){const t=(0,a.A)();return(0,o.jsx)(d,Object.assign({className:u.root},e,{image:(0,o.jsx)(i.A,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:(0,o.jsx)(i.A,{animation:"wave",height:10,width:120,className:u.primary}),secondary:(0,o.jsx)(i.A,{animation:"wave",height:10,width:70,className:u.secondary}),actions:void 0!==e.actions?e.actions:(0,o.jsx)(r.A,Object.assign({size:"small",variant:"outlined",disabled:!0,className:u.button},{children:(0,o.jsx)(i.A,{animation:"wave",height:10,width:50,className:u.action})}))}))}},45949:(e,t,s)=>{"use strict";s.d(t,{Ox:()=>i,Qd:()=>n,r6:()=>a});var o=s(28692);const n={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",INITIALIZE:"_initialize",RESET:"_reset"};function a(e,t){var s;let a=Object.assign({},e);switch(t.type){case n.LOADING_NEXT:a=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case n.LOADING_PREVIOUS:a=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case n.LOAD_NEXT_SUCCESS:a=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(s=t.payload)||void 0===s?void 0:s.initialized)||!0});break;case n.LOAD_PREVIOUS_SUCCESS:a=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case n.SET_RESULTS:a=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case n.SET_VISIBLE_ITEMS:a=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case n.LOAD_NEXT_FAILURE:a=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case n.LOAD_PREVIOUS_FAILURE:a=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case n.RESET:a={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1};break;case n.INITIALIZE:a={cacheKey:t.payload.cacheKey?t.payload.cacheKey:null,count:t.payload.count?t.payload.count:0,results:t.payload.results?t.payload.results:[],next:t.payload.next?t.payload.next:null,previous:t.payload.previous?t.payload.previous:null,isLoadingNext:!!t.payload.isLoadingNext&&t.payload.isLoadingNext,isLoadingPrevious:!!t.payload.isLoadingPrevious&&t.payload.isLoadingPrevious,visibleItems:t.payload.visibleItems?t.payload.visibleItems:null,initialized:!1}}return o.Ay.set(a.cacheKey,a),a}function i(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&o.Ay.hasKey(t.cacheKey)&&e.cacheStrategy!==o.So.NETWORK_ONLY){const e=o.Ay.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},54374:(e,t,s)=>{"use strict";s.d(t,{A:()=>C});var o=s(31635),n=s(74848),a=s(96540),i=s(11848),r=s(27365),c=s(18653),l=s(47859),u=s(20411),d=s(65846),g=s(3341),m=s(88352),p=s(22373),h=s(3338),y=s(90420),A=s(44806),b=s(67115),S=s(27885),j=s(6442),_=s(19546),x=s.n(_),f=s(79197),v=s(41992),E=s(25028);const O=(0,S.YK)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),N={root:`${E.H}-root`,categoryImage:`${E.H}-category-image`,primary:`${E.H}-primary`,secondary:`${E.H}-secondary`,title:`${E.H}-title`,followed:`${E.H}-followed`,autoFollowed:`${E.H}-auto-followed`,actions:`${E.H}-actions`},w=(0,i.Ay)(v.A,{name:E.H,slot:"Root"})((()=>({})));const C=function(e){const t=(0,f.A)({props:e,name:E.H}),{categoryId:s=null,category:i=null,className:S=null,elevation:_,variant:v,autoHide:C=!1,categoryFollowButtonProps:T={},showFollowers:I=!0,showTooltip:L=!1,ButtonBaseProps:R=null,cacheStrategy:k}=t,P=(0,o.__rest)(t,["categoryId","category","className","elevation","variant","autoHide","categoryFollowButtonProps","showFollowers","showTooltip","ButtonBaseProps","cacheStrategy"]),M=(0,u.I$)(),{scCategory:D}=(0,d.A)(Object.assign({id:s,category:i},k&&{cacheStrategy:k})),H=(0,a.useMemo)((()=>R||{component:g.A,to:D?M.url(m.CATEGORY_ROUTE_NAME,D):""}),[R,M,D]),$=(0,j.A)(),U=(0,p.__)(h.DE);return D?C?null:(0,n.jsx)(w,Object.assign({disableTypography:L,elevation:_},v&&{variant:v},{className:x()(N.root,S,{[N.followed]:D.followed},{[N.autoFollowed]:D.auto_follow===y.f.FORCED}),ButtonBaseProps:H,image:(0,n.jsx)(r.A,{alt:D.name,src:D.image_medium,variant:"square",className:N.categoryImage}),primary:(0,n.jsx)(n.Fragment,{children:L?(0,n.jsx)(c.A,Object.assign({title:D.name},{children:(0,n.jsx)(l.A,Object.assign({className:N.primary,component:"span",variant:"body1"},{children:D.name}))})):D.name}),secondary:(0,n.jsx)(n.Fragment,{children:L?(0,n.jsx)(l.A,Object.assign({className:N.secondary,component:"p",variant:"body2"},{children:I&&U?`${$.formatMessage(O.categoryFollowers,{total:D.followers_counter})}`:D.slogan})):(0,n.jsx)(n.Fragment,{children:I&&U?`${$.formatMessage(O.categoryFollowers,{total:D.followers_counter})}`:D.slogan})}),actions:(0,n.jsx)(b.A,Object.assign({category:D},T))},P)):(0,n.jsx)(A.A,Object.assign({elevation:_},v&&{variant:v}))}},66671:()=>{},74705:(e,t,s)=>{"use strict";function o(e,t=166){let s;function o(...o){clearTimeout(s),s=setTimeout((()=>{e.apply(this,o)}),t)}return o.clear=()=>{clearTimeout(s)},o}s.d(t,{A:()=>o})},75772:(e,t,s)=>{"use strict";s.r(t),s.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>c,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"sdk/community-js/react-ui/Components/CategoriesSuggestion","title":"Categories Suggestion Widget","description":"The Categories Suggestion Widget renders a list of suggested categories.","source":"@site/docs/sdk/community-js/react-ui/Components/CategoriesSuggestion.mdx","sourceDirName":"sdk/community-js/react-ui/Components","slug":"/sdk/community-js/react-ui/Components/CategoriesSuggestion","permalink":"/docs/sdk/community-js/react-ui/Components/CategoriesSuggestion","draft":false,"unlisted":false,"editUrl":"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/CategoriesSuggestion.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Categories Suggestion Widget","sidebar_position":1,"title":"Categories Suggestion Widget"},"sidebar":"sdkSidebar","previous":{"title":"Categories Popular Widget","permalink":"/docs/sdk/community-js/react-ui/Components/CategoriesPopular"},"next":{"title":"Category","permalink":"/docs/sdk/community-js/react-ui/Components/Category"}}');var n=s(74848),a=s(28453),i=s(37180),r=s(84202);const c={sidebar_label:"Categories Suggestion Widget",sidebar_position:1,title:"Categories Suggestion Widget"},l=void 0,u={},d=[{value:"Usage",id:"usage",level:4}];function g(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["The Categories Suggestion Widget renders a list of suggested categories.",(0,n.jsx)("br",{}),"\nThis list is composed of items containing category's image, title, info and a follow button, that allows users to follow/unfollow a category.",(0,n.jsx)("br",{}),'\nThe categories are shown in an orderly manner: few items are shown in the main card while the others can be displayed in a modal card by clicking on the "show all" button.']}),"\n"]}),"\n","\n",(0,n.jsx)(i.A,{children:(0,n.jsx)(r.A,{})}),"\n",(0,n.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {CategoriesSuggestionWidget} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><CategoriesSuggestionWidget /></SCContextProvider>\n   );\n }\n"})})]})}function m(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(g,{...e})}):g(e)}},82787:()=>{},84202:(e,t,s)=>{"use strict";s.d(t,{A:()=>W});var o=s(31635),n=s(74848),a=s(96540),i=s(11848),r=s(44675),c=s(90508),l=s(25292),u=s(47859),d=s(28820),g=s(36870),m=s(42942),p=s(27662),h=s(13550),y=s(29368),A=s(2877),b=s(86354),S=s(75753),j=s(3338),_=s(21810),x=s(54374),f=s(44806),v=s(58065),E=s(19546),O=s.n(E),N=s(86857),w=s(79197),C=s(9063),T=s(28692),I=s(94520),L=s(45949),R=s(29251),k=s(15906),P=s(43749),M=s(29440),D=s(23224),H=s.n(D),$=s(88454);const U={root:`${M.H}-root`,title:`${M.H}-title`,noResults:`${M.H}-no-results`,showMore:`${M.H}-show-more`,dialogRoot:`${M.H}-dialog-root`,endMessage:`${M.H}-end-message`},F=(0,i.Ay)(N.A,{name:M.H,slot:"Root"})((()=>({}))),B=(0,i.Ay)(R.A,{name:M.H,slot:"DialogRoot"})((()=>({})));const W=function(e){const t=(0,w.A)({props:e,name:M.H}),{autoHide:s=!0,limit:i=3,className:E,CategoryProps:N={},cacheStrategy:R=T.So.NETWORK_ONLY,onHeightChange:D,onStateChange:W,DialogProps:z={},categoryId:K}=t,X=(0,o.__rest)(t,["autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","categoryId"]),V=(0,A.X1)(),[G,Q]=(0,a.useReducer)(L.r6,{isLoadingNext:!1,next:null,cacheKey:b.j3(b.ss),cacheStrategy:R,visibleItems:i},L.Ox),[q,J]=(0,a.useState)(!1),Y=(0,r.A)(),Z=(0,c.A)(Y.breakpoints.down("md")),{preferences:ee}=(0,S.Sw)(),te=(0,a.useRef)(null),se=(0,a.useMemo)((()=>j.DE in ee&&ee[j.DE].value),[ee]),oe=(0,a.useMemo)((()=>()=>{G.initialized||G.isLoadingNext||(Q({type:L.Qd.LOADING_NEXT}),p.h.getCategorySuggestion({limit:i}).then((e=>{Q({type:L.Qd.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{Q({type:L.Qd.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),I.V.error(k.d,e)})))}),[G.isLoadingNext,G.initialized,i,Q]),ne=(0,a.useCallback)(((e,t)=>{const s=[...G.results].map((e=>e.id===t.id?Object.assign(Object.assign({},e),t):e));Q({type:L.Qd.SET_RESULTS,payload:{results:s}})}),[Q,G.results]);(0,a.useEffect)((()=>(te.current=H().subscribe(`${$.yt.CATEGORY}.${$.xq.EDIT}`,ne),()=>{te.current&&H().unsubscribe(te.current)})),[ne]),(0,a.useEffect)((()=>{let e;if(V.user&&se)return e=setTimeout(oe),()=>{e&&clearTimeout(e)}}),[V.user,se]),(0,a.useEffect)((()=>{q&&G.next&&G.results.length<=i&&G.initialized&&(Q({type:L.Qd.LOADING_NEXT}),p.h.getCategorySuggestion({offset:i,limit:10}).then((e=>{Q({type:L.Qd.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{Q({type:L.Qd.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),I.V.error(k.d,e)})))}),[q,G.next,G.results.length,G.initialized,i]),(0,a.useEffect)((()=>{D&&D()}),[G.results]),(0,a.useEffect)((()=>{V.user&&R===T.So.NETWORK_ONLY&&W&&W({cacheStrategy:T.So.CACHE_FIRST})}),[V.user]);const ae=(0,a.useMemo)((()=>e=>{const t=[...G.results],s=t.findIndex((t=>t.id===e.id));-1!==s&&(e.followed?(t[s].followers_counter=e.followers_counter-1,t[s].followed=!e.followed):(t[s].followers_counter=e.followers_counter+1,t[s].followed=!e.followed),Q({type:L.Qd.SET_RESULTS,payload:{results:t}}))}),[Q,G.count,G.results]),ie=(0,a.useMemo)((()=>()=>{Q({type:L.Qd.LOADING_NEXT}),h.A.request({url:G.next,method:y.A.CategoriesSuggestion.method}).then((e=>{Q({type:L.Qd.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[Q,G.next,G.isLoadingNext,G.initialized]),re=()=>{J((e=>!e))};if(s&&!G.count&&G.initialized||!V.user||!se)return(0,n.jsx)(C.A,{});if(!G.initialized)return(0,n.jsx)(_.A,{});const ce=(0,n.jsxs)(l.A,{children:[(0,n.jsx)(u.A,Object.assign({className:U.title,variant:"h5"},{children:(0,n.jsx)(v.A,{id:"ui.categoriesSuggestionWidget.title",defaultMessage:"ui.categoriesSuggestionWidget.title"})})),G.count?(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(d.A,{children:G.results.slice(0,G.visibleItems).map((e=>(0,n.jsx)(g.Ay,{children:(0,n.jsx)(x.A,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:ae}},N))},e.id)))}),G.count>G.visibleItems&&(0,n.jsx)(m.A,Object.assign({className:U.showMore,onClick:re},{children:(0,n.jsx)(v.A,{id:"ui.categoriesSuggestionWidget.button.showAll",defaultMessage:"ui.categoriesSuggestionWidget.button.showAll"})}))]}):(0,n.jsx)(u.A,Object.assign({className:U.noResults,variant:"body2"},{children:(0,n.jsx)(v.A,{id:"ui.categoriesSuggestionWidget.noResults",defaultMessage:"ui.categoriesSuggestionWidget.noResults"})})),q&&(0,n.jsx)(B,Object.assign({className:U.dialogRoot,title:(0,n.jsx)(v.A,{defaultMessage:"ui.categoriesSuggestionWidget.title",id:"ui.categoriesSuggestionWidget.title"}),onClose:re,open:q},z,{children:(0,n.jsx)(P.A,Object.assign({dataLength:G.results.length,next:ie,hasMoreNext:Boolean(G.next),loaderNext:(0,n.jsx)(f.A,Object.assign({elevation:0},N)),height:Z?"100%":400,endMessage:(0,n.jsx)(u.A,Object.assign({className:U.endMessage},{children:(0,n.jsx)(v.A,{id:"ui.categoriesSuggestionWidget.noMoreResults",defaultMessage:"ui.categoriesSuggestionWidget.noMoreResults"})}))},{children:(0,n.jsx)(d.A,{children:G.results.map((e=>(0,n.jsx)(g.Ay,{children:(0,n.jsx)(x.A,Object.assign({elevation:0,category:e},N,{categoryFollowButtonProps:{onFollow:ae}}))},e.id)))})}))}))]});return(0,n.jsx)(F,Object.assign({className:O()(U.root,E)},X,{children:ce}))}},88454:(e,t,s)=>{"use strict";var o,n,a,i;s.d(t,{Gl:()=>n,wW:()=>a,xq:()=>i,yt:()=>o}),function(e){e.COURSE="course",e.GROUP="group",e.EVENT="event",e.CATEGORY="category"}(o||(o={})),function(e){e.CREATE="create",e.EDIT="edit",e.DELETE="delete",e.UPDATE="update",e.MEMBERS="members",e.ADD_MEMBER="members.add_member",e.INVITE_MEMBER="members.invite_member",e.REMOVE_MEMBER="members.remove_member"}(n||(n={})),function(e){e.CREATE="create",e.EDIT="edit",e.DELETE="delete",e.ADD_MEMBER="members.add_member",e.INVITE_MEMBER="members.invite_member",e.REMOVE_MEMBER="members.remove_member",e.REJECT_MEMBER="members.reject_member"}(a||(a={})),function(e){e.EDIT="edit"}(i||(i={}))},93749:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(44877).A},96248:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(32325).A},97492:()=>{}}]);