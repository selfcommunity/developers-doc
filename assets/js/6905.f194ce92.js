"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[6905],{6111:(e,s,t)=>{t.d(s,{h:()=>ee});var a=t(31635),i=t(74848),n=t(11848),r=t(71194),o=t(121),l=t(44744),c=t(25292),d=t(47859),p=t(71543),m=t(25430),u=t(42942),g=t(27365),v=t(79197),j=t(13550),h=t(29368),A=t(28692),x=t(27375),w=t(94520),S=t(96540),b=t(62645),O=t(2877),N=t(86354),y=t(42269);function f({id:e=null,liveStream:s=null,cacheStrategy:t=A.So.CACHE_FIRST}){const a=s?s.id:e,i=(0,O.X1)(),n=i.user?i.user.id:null,r=(0,N.T4)(a),o=n?s:(0,x.$i)(s,["subscription_status"]),[l,c]=(0,S.useState)(t!==A.So.NETWORK_ONLY?A.Ay.get(r,o):null),[d,p]=(0,S.useState)(null),m=(0,S.useMemo)((()=>e=>{c(e),A.Ay.set(r,e)}),[n,c]),u=(0,S.useMemo)((()=>e=>j.A.request({url:h.A.GetLiveStreamInfo.url({id:e}),method:h.A.GetLiveStreamInfo.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[]);return(0,S.useEffect)((()=>{null==e||s||u(e).then((e=>{m(e)})).catch((s=>{A.Ay.delete(r),p(`LiveStream with id ${e} not found`),w.V.error(y.K,`LiveStream with id ${e} not found`),w.V.error(y.K,s.message)}))}),[e,s,n]),(0,b.ho)((()=>{s&&m(s)}),[s,n]),{scLiveStream:l,setSCLiveStream:m,error:d}}var $=t(20411),E=t(3341),I=t(88352),R=t(19546),_=t.n(R),P=t(6442),H=t(58065),k=t(52959),C=t(90616),M=t(6271),T=t(16799),D=t(86857),U=t(31210),L=t(63832),W=t(75933),F=t(3541),z=t(40059),V=t(18653);const B="SCLiveStreamInfoDetails",q={root:`${B}-root`,iconTextWrapper:`${B}-icon-text-wrapper`,inProgress:`${B}-in-progress`,link:`${B}-link`,url:`${B}-url`,creationWrapper:`${B}-creation-wrapper`},G=(0,n.Ay)(W.A,{name:B,slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({})));function J(e){const s=(0,F.A)({props:e,name:B}),{liveStream:t,liveStreamId:a,hideDateIcon:n=!1,hideLocationIcon:o=!1,hideCreatedIcon:l=!1,hasDateInfo:c=!0,hasLocationInfo:p=!0,hasCreatedInfo:m=!1,hasInProgress:u=!1,beforeDateInfo:g,beforeLocationInfo:v,beforeCreatedInfo:j}=s,h=(0,$.I$)(),A=(0,P.A)(),{scLiveStream:x}=f({id:a,liveStream:t});return x?(0,i.jsxs)(G,Object.assign({className:q.root},{children:[g,c&&(0,i.jsxs)(W.A,Object.assign({className:q.iconTextWrapper},{children:[!n&&(0,i.jsx)(z.A,Object.assign({fontSize:"small"},{children:x.closed_at_by_host?"calendar_off":"CalendarIcon"})),(0,i.jsx)(d.A,Object.assign({variant:"body1"},{children:(0,i.jsx)(H.A,{id:"ui.eventInfoDetails.date.startEndTime",defaultMessage:"ui.eventInfoDetails.date.startEndTime",values:{date:A.formatDate(x.created_at,{weekday:"long",day:"numeric",year:"numeric",month:"long"}),start:A.formatDate(x.created_at,{hour:"numeric",minute:"numeric"})}})})),u&&x.last_started_at&&(0,i.jsx)(V.A,Object.assign({title:(0,i.jsx)(H.A,{id:"ui.eventInfoDetails.inProgress",defaultMessage:"ui.eventInfoDetails.inProgress"})},{children:(0,i.jsx)(r.A,{className:q.inProgress})}))]})),v,p&&(0,i.jsxs)(W.A,Object.assign({className:q.iconTextWrapper},{children:[!o&&(0,i.jsx)(z.A,Object.assign({fontSize:"small"},{children:"play_circle_outline"})),(0,i.jsx)(E.A,Object.assign({to:h.url(I.LIVESTREAM_ROUTE_NAME,x),target:"_blank",className:q.link},{children:(0,i.jsx)(d.A,Object.assign({variant:"body1",className:q.url},{children:h.url(I.LIVESTREAM_ROUTE_NAME,x)}))}))]})),j,m&&(0,i.jsxs)(W.A,Object.assign({className:q.creationWrapper},{children:[!l&&(0,i.jsx)(z.A,Object.assign({fontSize:"small"},{children:"create"})),(0,i.jsx)(d.A,Object.assign({variant:"body1"},{children:(0,i.jsx)(H.A,{id:"ui.eventInfoDetails.date.create",defaultMessage:"ui.eventInfoDetails.date.create",values:{date:A.formatDate(x.created_at,{weekday:"long",day:"numeric",year:"numeric",month:"long"})}})}))]}))]})):null}const K={root:`${U.H}-root`,detailRoot:`${U.H}-detail-root`,previewRoot:`${U.H}-preview-root`,snippetRoot:`${U.H}-snippet-root`,detailImageWrapper:`${U.H}-detail-image-wrapper`,detailImage:`${U.H}-detail-image`,detailInProgress:`${U.H}-detail-in-progress`,detailNameWrapper:`${U.H}-detail-name-wrapper`,detailName:`${U.H}-detail-name`,detailContent:`${U.H}-detail-content`,detailUser:`${U.H}-detail-user`,detailFirstDivider:`${U.H}-detail-first-divider`,detailSecondDivider:`${U.H}-detail-second-divider`,detailActions:`${U.H}-detail-actions`,previewImageWrapper:`${U.H}-preview-image-wrapper`,previewImage:`${U.H}-preview-image`,previewInProgress:`${U.H}-preview-in-progress`,previewNameWrapper:`${U.H}-preview-name-wrapper`,previewName:`${U.H}-preview-name`,previewContent:`${U.H}-preview-content`,previewActions:`${U.H}-preview-actions`,snippetImage:`${U.H}-snippet-image`,snippetAvatar:`${U.H}-snippet-avatar`,snippetInProgress:`${U.H}-snippet-in-progress`,snippetPrimary:`${U.H}-snippet-primary`,snippetSecondary:`${U.H}-snippet-secondary`,snippetActions:`${U.H}-snippet-actions`},Y=(0,n.Ay)(D.A,{name:U.H,slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({}))),Q=(0,n.Ay)(r.A,{name:U.H,slot:"DetailRoot",overridesResolver:(e,s)=>s.detailRoot})((()=>({}))),X=(0,n.Ay)(r.A,{name:U.H,slot:"PreviewRoot",overridesResolver:(e,s)=>s.previewRoot})((()=>({}))),Z=(0,n.Ay)(k.A,{name:U.H,slot:"SnippetRoot",overridesResolver:(e,s)=>s.snippetRoot})((()=>({})));const ee=function(e){const s=(0,v.A)({props:e,name:U.H}),{id:t=`live_stream_object_${s.liveStreamId?s.liveStreamId:s.liveStream?s.liveStream.id:""}`,liveStreamId:n=null,liveStream:j=null,className:h=null,template:A=M.T.SNIPPET,hideInProgress:x=!1,hideLiveStreamHost:w=!1,actions:b,EventSkeletonComponentProps:O={}}=s,N=(0,a.__rest)(s,["id","liveStreamId","liveStream","className","template","hideInProgress","hideLiveStreamHost","actions","EventSkeletonComponentProps"]),{scLiveStream:y}=f({id:n,liveStream:j}),R=(0,S.useMemo)((()=>y),[y]),k=(0,$.I$)(),D=(0,P.A)();if(!y)return(0,i.jsx)(L.A,Object.assign({template:A},O,N,{actions:b}));let W;return W=A===M.T.DETAIL?(0,i.jsxs)(Q,Object.assign({className:K.detailRoot},{children:[(0,i.jsxs)(r.A,Object.assign({className:K.detailImageWrapper},{children:[(0,i.jsx)(o.A,{component:"img",image:y.cover,alt:y.title,className:K.detailImage}),!x&&R&&(0,i.jsx)(l.A,{size:"small",component:"div",label:(0,i.jsx)(H.A,{id:"ui.liveStream.inProgress",defaultMessage:"ui.liveStream.inProgress"}),className:K.detailInProgress}),(0,i.jsx)(C.A,{day:new Date(y.created_at).getDate()})]})),(0,i.jsxs)(c.A,Object.assign({className:K.detailContent},{children:[(0,i.jsx)(r.A,Object.assign({className:K.detailNameWrapper},{children:(0,i.jsx)(d.A,Object.assign({variant:"h3",className:K.detailName},{children:y.title}))})),(0,i.jsx)(J,{liveStream:y}),!w&&(0,i.jsx)(T.A,{user:y.host,elevation:0,secondary:(0,i.jsx)(d.A,Object.assign({variant:"caption"},{children:(0,i.jsx)(H.A,{id:"ui.myEventsWidget.planner",defaultMessage:"ui.myEventsWidget.planner"})})),actions:(0,i.jsx)(i.Fragment,{}),className:K.detailUser}),(0,i.jsx)(p.A,{className:K.detailSecondDivider})]})),null!=b?b:(0,i.jsx)(m.A,Object.assign({className:K.detailActions},{children:(0,i.jsx)(u.A,Object.assign({size:"small",variant:"outlined",component:E.A,to:k.url(I.LIVESTREAM_ROUTE_NAME,y)},{children:(0,i.jsx)(H.A,{defaultMessage:"ui.liveStream.see",id:"ui.liveStream.see"})}))}))]})):A===M.T.PREVIEW?(0,i.jsxs)(X,Object.assign({className:K.previewRoot},{children:[(0,i.jsxs)(r.A,Object.assign({position:"relative",className:K.previewImageWrapper},{children:[(0,i.jsx)(o.A,{component:"img",image:y.cover,alt:y.title,className:K.previewImage}),!x&&R&&(0,i.jsx)(l.A,{size:"small",component:"div",label:(0,i.jsx)(H.A,{id:"ui.liveStream.inProgress",defaultMessage:"ui.liveStream.inProgress"}),className:K.previewInProgress})]})),(0,i.jsx)(c.A,Object.assign({className:K.previewContent},{children:(0,i.jsx)(J,{liveStream:y,beforeDateInfo:(0,i.jsx)(E.A,Object.assign({to:k.url(I.LIVESTREAM_ROUTE_NAME,y),className:K.previewNameWrapper},{children:(0,i.jsx)(d.A,Object.assign({variant:"h5",className:K.previewName},{children:y.title}))}))})})),null!=b?b:(0,i.jsx)(m.A,Object.assign({className:K.previewActions},{children:(0,i.jsx)(u.A,Object.assign({size:"small",variant:"outlined",component:E.A,to:k.url(I.LIVESTREAM_ROUTE_NAME,y)},{children:(0,i.jsx)(H.A,{defaultMessage:"ui.liveStream.see",id:"ui.liveStream.see"})}))}))]})):(0,i.jsx)(Z,{elevation:0,square:!0,disableTypography:!0,className:K.snippetRoot,image:(0,i.jsxs)(r.A,Object.assign({className:K.snippetImage},{children:[(0,i.jsx)(g.A,{variant:"square",alt:y.title,src:y.cover,className:K.snippetAvatar})," ",!x&&R&&(0,i.jsx)(l.A,{size:"small",component:"div",label:(0,i.jsx)(H.A,{id:"ui.liveStream.inProgress",defaultMessage:"ui.liveStream.inProgress"}),className:K.snippetInProgress})]})),primary:(0,i.jsxs)(E.A,Object.assign({},y.id&&{to:k.url(I.LIVESTREAM_ROUTE_NAME,y)},{className:K.snippetPrimary},{children:[(0,i.jsx)(d.A,Object.assign({component:"span"},{children:`${D.formatDate(y.created_at,{weekday:"long",month:"long",day:"numeric"})}`})),(0,i.jsx)(d.A,Object.assign({variant:"body1"},{children:y.title}))]})),secondary:(0,i.jsx)(d.A,Object.assign({component:"p",variant:"body2",className:K.snippetSecondary},{children:(0,i.jsx)(H.A,{id:"ui.eventForm.address.liveStream.label",defaultMessage:"ui.eventForm.address.liveStream.label"})})),actions:null!=b?b:(0,i.jsx)(r.A,Object.assign({className:K.snippetActions},{children:(0,i.jsx)(u.A,Object.assign({size:"small",variant:"outlined",component:E.A,to:k.url(I.LIVESTREAM_ROUTE_NAME,y)},{children:(0,i.jsx)(H.A,{defaultMessage:"ui.liveStream.see",id:"ui.liveStream.see"})}))}))}),(0,i.jsx)(Y,Object.assign({id:t,className:_()(K.root,h,`${U.H}-${A}`)},N,{children:W}))}},6271:(e,s,t)=>{var a;t.d(s,{T:()=>a}),function(e){e.DETAIL="detail",e.SNIPPET="snippet",e.PREVIEW="preview"}(a||(a={}))},18669:(e,s,t)=>{t.d(s,{A:()=>O});var a=t(31635),i=t(74848),n=t(11848),r=t(71194),o=t(73785),l=t(25292),c=t(25430),d=t(40059),p=t(42942),m=t(79197),u=t(19546),g=t.n(u),v=t(95180),j=t(86857),h=t(50169),A=t(41992);const x={root:`${h.H}-skeleton-root`,skeletonPreviewRoot:`${h.H}-skeleton-preview-root`,skeletonSnippetRoot:`${h.H}-skeleton-snippet-root`,skeletonPreviewAvatar:`${h.H}-skeleton-preview-avatar`,skeletonPreviewContent:`${h.H}-skeleton-preview-content`,skeletonPreviewActions:`${h.H}-skeleton-preview-actions`,skeletonSnippetImage:`${h.H}-skeleton-snippet-image`,skeletonSnippetAction:`${h.H}-skeleton-snippet-action`},w=(0,n.Ay)(j.A,{name:h.H,slot:"SkeletonRoot"})((()=>({}))),S=(0,n.Ay)(r.A,{name:h.H,slot:"SkeletonPreviewRoot"})((()=>({}))),b=(0,n.Ay)(A.A,{name:h.H,slot:"SkeletonSnippetRoot"})((()=>({})));function O(e){const s=(0,m.A)({props:e,name:h.H}),{className:t,template:n,skeletonsAnimation:u="wave",actions:j,CourseProps:A}=s,O=(0,a.__rest)(s,["className","template","skeletonsAnimation","actions","CourseProps"]);let N;return N=n===v.wF.PREVIEW?(0,i.jsxs)(S,Object.assign({className:x.skeletonPreviewRoot},{children:[(0,i.jsxs)(r.A,Object.assign({position:"relative"},{children:[(0,i.jsx)(o.A,{variant:"rectangular",animation:u,width:"100%",height:"110px"}),(0,i.jsx)(o.A,{className:x.skeletonPreviewAvatar,variant:"rounded",animation:u})]})),(0,i.jsxs)(l.A,Object.assign({className:x.skeletonPreviewContent},{children:[(0,i.jsx)(o.A,{animation:u,width:"20%",height:14,sx:{marginTop:1},variant:"rectangular"}),(0,i.jsx)(o.A,{animation:u,width:"40%",height:14,sx:{marginTop:1.5},variant:"rectangular"}),(0,i.jsx)(o.A,{animation:u,width:"60%",height:14,sx:{marginTop:4.5},variant:"rectangular"})]})),(0,i.jsx)(c.A,Object.assign({className:x.skeletonPreviewActions},{children:void 0!==j?j:(0,i.jsx)(o.A,{variant:"rounded",width:100,height:30})}))]})):(0,i.jsx)(b,{elevation:0,square:!0,disableTypography:!0,className:x.skeletonSnippetRoot,image:(0,i.jsxs)(r.A,Object.assign({className:x.skeletonSnippetImage},{children:[(0,i.jsx)(o.A,{animation:u,variant:"rectangular",width:(null==A?void 0:A.userProfileSnippet)?60:100,height:60}),(0,i.jsx)(d.A,Object.assign({fontSize:"large"},{children:"courses"}))]})),primary:(null==A?void 0:A.userProfileSnippet)?(0,i.jsx)(o.A,{animation:u,variant:"rectangular",height:10,width:120,style:{marginBottom:10}}):(0,i.jsx)(o.A,{animation:u,variant:"rectangular",height:10,width:40,style:{marginBottom:12}}),secondary:(null==A?void 0:A.userProfileSnippet)?(0,i.jsx)(o.A,{animation:u,variant:"rectangular",height:10,width:60}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.A,{animation:u,variant:"rectangular",height:10,width:120,style:{marginBottom:10}}),(0,i.jsx)(o.A,{animation:u,variant:"rectangular",height:10,width:60})]}),actions:(0,i.jsx)(i.Fragment,{children:void 0!==j?j:(0,i.jsx)(p.A,Object.assign({size:"small",variant:"outlined",disabled:!0},{children:(0,i.jsx)(o.A,{animation:u,height:15,width:60})}))})}),(0,i.jsx)(w,Object.assign({className:g()(x.root,t,`${h.H}-skeleton-${n}`)},O,{children:N}))}},31210:(e,s,t)=>{t.d(s,{H:()=>a});const a="SCLiveStream"},35875:(e,s,t)=>{t.d(s,{A:()=>je});var a=t(31635),i=t(74848),n=t(11848),r=t(71194),o=t(44675),l=t(90508),c=t(40059),d=t(47859),p=t(33623),m=t(121),u=t(44744),g=t(27365),v=t(25292),j=t(75933),h=t(18653),A=t(25430),x=t(42942),w=t(79197),S=t(13550),b=t(29368),O=t(28692),N=t(27375),y=t(94520),f=t(96540),$=t(62645),E=t(2877),I=t(86354),R=t(42269);function _({id:e=null,course:s=null,cacheStrategy:t=O.So.CACHE_FIRST,params:a=null}){const i=(0,f.useMemo)((()=>(null==s?void 0:s.id)||e),[s,e]),n=(0,E.X1)(),r=(0,f.useMemo)((()=>{var e;return(null===(e=n.user)||void 0===e?void 0:e.id)||null}),[n.user]),o=(0,f.useMemo)((()=>(0,I.WG)(i)),[i]),l=(0,f.useMemo)((()=>r?s:(0,N.$i)(s,["join_status"])),[r,s]),[c,d]=(0,f.useState)(t!==O.So.NETWORK_ONLY?O.Ay.get(o,l):null),[p,m]=(0,f.useState)(null),u=(0,f.useCallback)((e=>{d(e),O.Ay.set(o,e)}),[d,o]),g=(0,f.useMemo)((()=>e=>S.A.request({url:b.A.GetCourseInfo.url({id:e}),method:b.A.GetCourseInfo.method,params:null!=a?a:{}}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[]),v=(0,f.useMemo)((()=>()=>{g(e).then((e=>{u(e)})).catch((s=>{O.Ay.delete(o),m(`Error on refresh course with id ${e}`),y.V.error(R.K,`Error on refresh course with id ${e}`),y.V.error(R.K,s.message)}))}),[e,o,u]);return(0,f.useEffect)((()=>{null==e||s||g(e).then((e=>{u(e)})).catch((s=>{O.Ay.delete(o),403===s.status?(m("You do not have permission to perform this action."),y.V.error(R.K,"You do not have permission to perform this action.")):(m(`Course with id ${e} not found`),y.V.error(R.K,`Course with id ${e} not found`)),y.V.error(R.K,s.message)}))}),[e,s,r]),(0,$.ho)((()=>{s&&u(s)}),[s,r]),{scCourse:c,setSCCourse:u,error:p,refreshCourse:v}}var P=t(20411),H=t(99042),k=t(3341),C=t(88352),M=t(8393),T=t(19546),D=t.n(T),U=t(58065),L=t(95180),W=t(25441),F=t(28820),z=t(36870),V=t(23007),B=t(15906),q=t(29251),G=t(43749),J=t(46900),K=t(43029),Y=t(41219),Q=t(16799),X=t(9063);const Z="SCCourseParticipantsButton",ee={root:`${Z}-root`,dialogRoot:`${Z}-dialog-root`,endMessage:`${Z}-end-message`,infiniteScroll:`${Z}-infinite-scroll`,participants:`${Z}-participants`},se=(0,n.Ay)(x.A,{name:Z,slot:"Root",overridesResolver:(e,s)=>s.root,shouldForwardProp:e=>"enrolled"!==e})((()=>({}))),te=(0,n.Ay)(q.A,{name:Z,slot:"DialogRoot",overridesResolver:(e,s)=>s.dialogRoot})((()=>({})));const ae=function(e){const s=(0,w.A)({props:e,name:Z}),{className:t,courseId:n,course:r,hideCaption:o=!1,DialogProps:l={}}=s,p=(0,a.__rest)(s,["className","courseId","course","hideCaption","DialogProps"]),[m,u]=(0,f.useState)(!0),[v,j]=(0,f.useState)(0),[h,A]=(0,f.useState)(null),[x,O]=(0,f.useState)(null),[N,E]=(0,f.useState)([]),[I,R]=(0,f.useState)(!1),{scCourse:P}=_({id:n,course:r}),H=(0,f.useMemo)((()=>(null==P?void 0:P.join_status)===M.ac.CREATOR||(null==P?void 0:P.join_status)===M.ac.MANAGER),[P]);(0,$.ho)((()=>{E([]),u(!0)}),[P]),(0,$.ho)((()=>{P&&(!v&&H?V.A.getCourseJoinedUsers(P.id,{limit:3}).then((e=>{E([...e.results]),O(4),j(e.count),u(!1)})):O(0))}),[P,H,v,E,O,u]),(0,f.useEffect)((()=>{I&&null!==x&&(u(!0),V.A.getCourseJoinedUsers(P.id,{offset:x,limit:20}).then((e=>{E([...0===x?[]:N,...e.results]),A(e.next),u(!1),O(null)})))}),[I,N,x,u,A]);const k=(0,f.useCallback)((()=>{h&&S.A.request({url:h,method:b.A.GetUsersGoingToCourse.method}).then((e=>{E([...N,...e.data.results]),A(e.data.next)})).catch((e=>y.V.error(B.d,e))).then((()=>u(!1)))}),[N,h,u]),C=(0,f.useCallback)((()=>(0,J.E)(v)),[v]),T=(0,f.useCallback)((()=>{R((e=>!e))}),[R]);return H?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(se,Object.assign({className:D()(ee.root,t),onClick:T,disabled:m||!P||0===v,enrolled:N},p,{children:[!o&&(0,i.jsxs)(d.A,Object.assign({className:ee.participants},{children:[(0,i.jsx)(c.A,{children:"people_alt"}),(0,i.jsx)(U.A,{defaultMessage:"ui.courseParticipantsButton.participants",id:"ui.courseParticipantsButton.participants",values:{total:v}})]})),v||!m&&P?(0,i.jsx)(W.A,Object.assign({total:v,renderSurplus:C},{children:N.map((e=>(0,i.jsx)(g.A,{alt:e.username,src:e.avatar},e.id)))})):(0,i.jsx)(K.A,Object.assign({},p,!H&&{skeletonsAnimation:!1},{count:4}))]})),I&&(0,i.jsx)(te,Object.assign({className:ee.dialogRoot,title:(0,i.jsx)(U.A,{defaultMessage:"ui.courseParticipantsButton.dialogTitle",id:"ui.courseParticipantsButton.dialogTitle",values:{total:v}}),onClose:T,open:!0},l,{children:(0,i.jsx)(G.A,Object.assign({dataLength:v,next:k,hasMoreNext:null!==h||m,loaderNext:(0,i.jsx)(Y.A,{elevation:0}),className:ee.infiniteScroll,endMessage:(0,i.jsx)(d.A,Object.assign({className:ee.endMessage},{children:(0,i.jsx)(U.A,{id:"ui.courseParticipantsButton.noOtherParticipants",defaultMessage:"ui.courseParticipantsButton.noOtherParticipants"})}))},{children:(0,i.jsx)(F.A,{children:N.map((e=>(0,i.jsx)(z.Ay,{children:(0,i.jsx)(Q.A,{elevation:0,user:e})},e.id)))})}))}))]}):(0,i.jsx)(X.A,{})};var ie,ne=t(86857),re=t(50169),oe=t(18669);function le(e){if(e&&e.join_status===M.ac.JOINED){const s=new Date(e.created_at),t=new Date;return t.setDate(t.getDate()-14),s>=t}return!1}function ce(e){return 100===(null==e?void 0:e.user_completion_rate)}!function(e){e.DAYS="days",e.WEEKS="weeks"}(ie||(ie={}));var de=t(89333),pe=t(41992);const me={root:`${re.H}-root`,chip:`${re.H}-chip`,previewRoot:`${re.H}-preview-root`,previewActions:`${re.H}-preview-actions`,previewAvatar:`${re.H}-preview-avatar`,previewCategory:`${re.H}-preview-category`,previewCompletedStatus:`${re.H}-preview-completed-status`,previewContent:`${re.H}-preview-content`,previewCreator:`${re.H}-preview-creator`,previewImage:`${re.H}-preview-image`,previewImageWrapper:`${re.H}-preview-image-wrapper`,previewInfo:`${re.H}-preview-info`,previewName:`${re.H}-preview-name`,previewNameWrapper:`${re.H}-preview-name-wrapper`,previewProgress:`${re.H}-preview-progress`,previewProgressBar:`${re.H}-preview-progress-bar`,snippetRoot:`${re.H}-snippet-root`,snippetAvatar:`${re.H}-snippet-avatar`,snippetAvatarUserProfile:`${re.H}-snippet-avatar-user-profile-view`,snippetImage:`${re.H}-snippet-image`,snippetPrivacy:`${re.H}-snippet-privacy`},ue=(0,n.Ay)(ne.A,{name:re.H,slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({}))),ge=(0,n.Ay)(r.A,{name:re.H,slot:"PreviewRoot",overridesResolver:(e,s)=>s.previewRoot})((()=>({}))),ve=(0,n.Ay)(pe.A,{name:re.H,slot:"SnippetRoot",overridesResolver:(e,s)=>s.snippetRoot})((()=>({})));const je=function(e){var s,t,n,S,b,O,N,y,$;const E=(0,w.A)({props:e,name:re.H}),{id:I=`course_object_${E.courseId?E.courseId:E.course?E.course.id:""}`,courseId:R=null,course:T=null,className:W=null,template:F=L.wF.PREVIEW,actions:z,CourseParticipantsButtonComponentProps:V={},CourseSkeletonComponentProps:B={},cacheStrategy:q,userProfileSnippet:G}=E,J=(0,a.__rest)(E,["id","courseId","course","className","template","actions","CourseParticipantsButtonComponentProps","CourseSkeletonComponentProps","cacheStrategy","userProfileSnippet"]),{scCourse:K}=_(Object.assign({id:R,course:T},q&&{cacheStrategy:q})),Y=(0,o.A)(),Q=(0,l.A)(Y.breakpoints.between("xs","md"))?3:1,X=(0,P.I$)(),Z=(0,f.useMemo)((()=>K&&(K.join_status===M.ac.CREATOR||K.join_status===M.ac.MANAGER)),[K]),{isPaymentsEnabled:ee}=(0,H.A)();if(!K)return(0,i.jsx)(oe.A,Object.assign({template:F},B,J,{actions:z}));const se=Z?K.privacy?(0,i.jsx)(U.A,{defaultMessage:"ui.course.status.published",id:"ui.course.status.published"}):(0,i.jsx)(U.A,{defaultMessage:"ui.course.status.draft",id:"ui.course.status.draft"}):ce(K)?(0,i.jsx)(U.A,{defaultMessage:"ui.course.status.completed",id:"ui.course.status.completed"}):K.join_status===M.ac.JOINED?(0,i.jsx)(U.A,{defaultMessage:"ui.course.status.joined",id:"ui.course.status.joined"}):le(K)?(0,i.jsx)(U.A,{defaultMessage:"ui.course.status.new",id:"ui.course.status.new"}):null;let te;return te=F===L.wF.PREVIEW?(0,i.jsxs)(ge,Object.assign({className:me.previewRoot},{children:[(0,i.jsxs)(r.A,Object.assign({className:me.previewImageWrapper},{children:[(0,i.jsx)(m.A,{component:"img",image:K.image_medium,alt:K.name,className:me.previewImage}),(Z||ce(K)||le(K)||K.join_status===M.ac.JOINED)&&(0,i.jsx)(u.A,{size:"small",component:"div",color:ce(K)||Z&&K.privacy?"primary":Z&&!K.privacy?"default":K.join_status===M.ac.JOINED?"warning":"secondary",label:se,className:me.chip}),(0,i.jsx)(k.A,Object.assign({},!(null===(s=K.created_by)||void 0===s?void 0:s.deleted)&&{to:X.url(C.USER_PROFILE_ROUTE_NAME,K.created_by)},{children:(0,i.jsx)(de.A,Object.assign({hide:!(null===(t=K.created_by)||void 0===t?void 0:t.community_badge),smaller:!0},{children:(0,i.jsx)(g.A,{alt:K.name,src:null===(n=K.created_by)||void 0===n?void 0:n.avatar,className:me.previewAvatar})}))}))]})),(0,i.jsxs)(v.A,Object.assign({className:me.previewContent},{children:[(0,i.jsx)(k.A,Object.assign({className:me.previewCreator},!(null===(S=K.created_by)||void 0===S?void 0:S.deleted)&&{to:X.url(C.USER_PROFILE_ROUTE_NAME,K.created_by)},{children:(0,i.jsx)(d.A,Object.assign({variant:"body2"},{children:null===(b=K.created_by)||void 0===b?void 0:b.username}))})),(0,i.jsx)(k.A,Object.assign({to:X.url(C.COURSE_ROUTE_NAME,K),className:me.previewNameWrapper},{children:(0,i.jsx)(d.A,Object.assign({variant:"h6",className:me.previewName},{children:K.name}))})),(0,i.jsx)(j.A,{children:(0,i.jsxs)(d.A,Object.assign({className:me.previewInfo},{children:[(0,i.jsx)(U.A,{id:K.privacy?`ui.course.privacy.${K.privacy}`:"ui.course.privacy.draft",defaultMessage:K.privacy?`ui.course.privacy.${K.privacy}`:"ui.course.privacy.draft"})," - ",(0,i.jsx)(U.A,{id:`ui.course.type.${K.type}`,defaultMessage:`ui.course.type.${K.type}`}),ee&&(null===(O=K.paywalls)||void 0===O?void 0:O.length)&&(0,i.jsxs)(i.Fragment,{children:["\xa0",(0,i.jsx)(c.A,{children:"pagamenti"})]})]}))}),(0,i.jsxs)(r.A,Object.assign({className:me.previewCategory},{children:[K.categories.slice(0,Q).map((e=>(0,i.jsx)(u.A,{size:"small",label:e.name},e.id))),K.categories.length>Q&&(0,i.jsx)(h.A,Object.assign({title:(0,i.jsx)(i.Fragment,{children:K.categories.slice(Q).map((e=>(0,i.jsx)(r.A,{children:e.name},e.id)))})},{children:(0,i.jsx)(u.A,{size:"small",label:"+"+(K.categories.length-Q),sx:{cursor:"pointer"}})}))]})),(0,i.jsx)(r.A,Object.assign({className:me.previewProgress},{children:ce(K)?(0,i.jsxs)(r.A,Object.assign({className:me.previewCompletedStatus},{children:[(0,i.jsx)(c.A,Object.assign({color:"success"},{children:"circle_checked"})),(0,i.jsx)(d.A,Object.assign({variant:"body1"},{children:(0,i.jsx)(U.A,{defaultMessage:"ui.course.completed",id:"ui.course.completed"})}))]})):K.join_status===M.ac.JOINED?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d.A,{children:(0,i.jsx)(U.A,{id:"ui.course.completion.percentage",defaultMessage:"ui.course.completion.percentage",values:{percentage:`${Math.round(K.user_completion_rate)}%`}})}),(0,i.jsx)(p.A,{className:me.previewProgressBar,variant:"determinate",color:"primary",value:K.user_completion_rate})]}):Z?(0,i.jsx)(ae,Object.assign({course:K},V)):void 0}))]})),null!=z?z:(0,i.jsx)(A.A,Object.assign({className:me.previewActions},{children:(0,i.jsx)(x.A,Object.assign({variant:"outlined",size:"small",component:k.A,to:X.url(C.COURSE_ROUTE_NAME,K)},{children:(0,i.jsx)(U.A,{defaultMessage:"ui.course.see",id:"ui.course.see"})}))}))]})):(0,i.jsx)(ve,{elevation:0,className:me.snippetRoot,image:(0,i.jsxs)(r.A,Object.assign({className:me.snippetImage},{children:[(0,i.jsx)(g.A,{variant:"square",alt:K.name,src:K.image_medium,className:G?me.snippetAvatarUserProfile:me.snippetAvatar}),!G&&(Z||ce(K)||le(K)||K.join_status===M.ac.JOINED)&&(0,i.jsx)(u.A,{size:"small",component:"div",color:ce(K)||Z&&K.privacy?"primary":Z&&!K.privacy?"default":K.join_status===M.ac.JOINED?"warning":"secondary",label:se,className:me.chip})]})),primary:(0,i.jsxs)(i.Fragment,{children:[!G&&(0,i.jsx)(k.A,Object.assign({},!(null===(N=K.created_by)||void 0===N?void 0:N.deleted)&&{to:X.url(C.USER_PROFILE_ROUTE_NAME,K.created_by)},{children:(0,i.jsx)(d.A,Object.assign({component:"span"},{children:null===(y=K.created_by)||void 0===y?void 0:y.username}))})),(0,i.jsx)(k.A,Object.assign({to:X.url(C.COURSE_ROUTE_NAME,K)},{children:(0,i.jsx)(d.A,Object.assign({variant:"body1"},{children:K.name}))}))]}),secondary:(0,i.jsx)(i.Fragment,{children:G?(0,i.jsx)(i.Fragment,{children:!K.hide_member_count&&(0,i.jsx)(U.A,{id:"ui.course.userProfileSnippet.students",defaultMessage:"ui.course.userProfileSnippet.students",values:{students:K.member_count}})}):(0,i.jsxs)(j.A,Object.assign({className:me.snippetPrivacy},{children:[(0,i.jsx)(U.A,{id:K.privacy?`ui.course.privacy.${K.privacy}`:"ui.course.privacy.draft",defaultMessage:K.privacy?`ui.course.privacy.${K.privacy}`:"ui.course.privacy.draft"})," - ",(0,i.jsx)(U.A,{id:`ui.course.type.${K.type}`,defaultMessage:`ui.course.type.${K.type}`}),ee&&(null===($=K.paywalls)||void 0===$?void 0:$.length)&&(0,i.jsxs)(i.Fragment,{children:["\xa0",(0,i.jsx)(c.A,Object.assign({fontSize:"inherit"},{children:"pagamenti"}))]})]}))}),actions:null!=z?z:(0,i.jsx)(x.A,Object.assign({size:"small",variant:"outlined",component:k.A,to:X.url(C.COURSE_ROUTE_NAME,K)},{children:(0,i.jsx)(U.A,{defaultMessage:"ui.course.see",id:"ui.course.see"})}))}),(0,i.jsx)(ue,Object.assign({id:I,className:D()(me.root,W,`${re.H}-${F}`)},J,{children:te}))}},50169:(e,s,t)=>{t.d(s,{H:()=>a});const a="SCCourse"},63832:(e,s,t)=>{t.d(s,{A:()=>E});var a=t(31635),i=t(74848),n=t(11848),r=t(71194),o=t(44675),l=t(73785),c=t(25292),d=t(75933),p=t(71543),m=t(25441),u=t(25430),g=t(40059),v=t(42942),j=t(79197),h=t(19546),A=t.n(h),x=t(52959),w=t(6271),S=t(86857),b=t(31210);const O={root:`${b.H}-skeleton-root`,skeletonDetailRoot:`${b.H}-skeleton-detail-root`,skeletonPreviewRoot:`${b.H}-skeleton-preview-root`,skeletonSnippetRoot:`${b.H}-skeleton-snippet-root`,skeletonDetailCalendar:`${b.H}-skeleton-detail-calendar`,skeletonDetailContent:`${b.H}-skeleton-detail-content`,skeletonDetailActions:`${b.H}-skeleton-detail-actions`,skeletonDetailUser:`${b.H}-skeleton-detail-user`,skeletonDetailFirstDivider:`${b.H}-skeleton-detail-first-divider`,skeletonDetailSecondDivider:`${b.H}-skeleton-detail-second-divider`,skeletonPreviewContent:`${b.H}-skeleton-preview-content`,skeletonPreviewName:`${b.H}-skeleton-preview-name`,skeletonPreviewActions:`${b.H}-skeleton-preview-actions`,skeletonSnippetImage:`${b.H}-skeleton-snippet-image`,skeletonSnippetAction:`${b.H}-skeleton-snippet-action`},N=(0,n.Ay)(S.A,{name:b.H,slot:"SkeletonRoot"})((()=>({}))),y=(0,n.Ay)(r.A,{name:b.H,slot:"SkeletonDetailRoot"})((()=>({}))),f=(0,n.Ay)(r.A,{name:b.H,slot:"SkeletonPreviewRoot"})((()=>({}))),$=(0,n.Ay)(x.A,{name:b.H,slot:"SkeletonSnippetRoot"})((()=>({})));function E(e){const s=(0,j.A)({props:e,name:b.H}),{className:t,template:n=w.T.SNIPPET,skeletonsAnimation:h="wave",actions:x}=s,S=(0,a.__rest)(s,["className","template","skeletonsAnimation","actions"]),E=(0,o.A)();let I;return I=n===w.T.DETAIL?(0,i.jsxs)(y,Object.assign({className:O.skeletonDetailRoot},{children:[(0,i.jsxs)(r.A,Object.assign({position:"relative"},{children:[(0,i.jsx)(l.A,{variant:"rectangular",animation:h,width:"100%",height:"170px"}),(0,i.jsx)(l.A,{className:O.skeletonDetailCalendar,variant:"rounded",animation:h,width:"60px",height:"60px"})]})),(0,i.jsxs)(c.A,Object.assign({className:O.skeletonDetailContent},{children:[(0,i.jsx)(l.A,{animation:h,width:"36%",height:"40px"}),(0,i.jsxs)(d.A,Object.assign({direction:"row",alignItems:"center",gap:"8px",marginBottom:"9px"},{children:[(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"21px",height:"21px"}),(0,i.jsx)(l.A,{animation:h,width:"50%",height:"20px"})]})),(0,i.jsxs)(d.A,Object.assign({direction:"row",alignItems:"center",gap:"8px",marginBottom:"9px"},{children:[(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"21px",height:"21px"}),(0,i.jsx)(l.A,{animation:h,width:"35%",height:"20px"})]})),(0,i.jsxs)(d.A,Object.assign({direction:"row",alignItems:"center",gap:"8px",marginBottom:"14px"},{children:[(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"21px",height:"21px"}),(0,i.jsx)(l.A,{animation:h,width:"27%",height:"20px"})]})),(0,i.jsxs)(d.A,Object.assign({direction:"row",gap:"8px",className:O.skeletonDetailUser},{children:[(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"36px",height:"36px"}),(0,i.jsxs)(d.A,Object.assign({gap:"1px"},{children:[(0,i.jsx)(l.A,{animation:h,width:"75px",height:"15px"}),(0,i.jsx)(l.A,{animation:h,width:"86px",height:"16px"})]}))]})),(0,i.jsx)(p.A,{className:O.skeletonDetailFirstDivider}),(0,i.jsxs)(d.A,Object.assign({direction:"row",gap:"8px",alignItems:"center",height:"28px"},{children:[(0,i.jsx)(l.A,{animation:h,width:"68px",height:"20px"}),(0,i.jsxs)(m.A,{children:[(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"21px",height:"21px"}),(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"21px",height:"21px"}),(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"21px",height:"21px"}),(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"21px",height:"21px"})]})]})),(0,i.jsx)(p.A,{className:O.skeletonDetailSecondDivider})]})),(0,i.jsx)(u.A,Object.assign({className:O.skeletonDetailActions},{children:void 0!==x?x:(0,i.jsx)(l.A,{variant:"rounded",width:100,height:30})}))]})):n===w.T.PREVIEW?(0,i.jsxs)(f,Object.assign({className:O.skeletonPreviewRoot},{children:[(0,i.jsx)(r.A,Object.assign({position:"relative"},{children:(0,i.jsx)(l.A,{variant:"rectangular",animation:h,width:"100%",height:"80px"})})),(0,i.jsxs)(c.A,Object.assign({className:O.skeletonPreviewContent},{children:[(0,i.jsxs)(d.A,Object.assign({direction:"row",alignItems:"center",gap:"8px"},{children:[(0,i.jsx)(l.A,{animation:h,variant:"circular",width:"21px",height:"21px"}),(0,i.jsx)(l.A,{animation:h,width:"50%",height:"20px"})]})),(0,i.jsx)(l.A,{animation:h,width:"67%",height:"25px",className:O.skeletonPreviewName}),(0,i.jsx)(d.A,Object.assign({direction:"row",alignItems:"center",gap:"8px",marginBottom:"2px"},{children:(0,i.jsx)(l.A,{animation:h,width:"27%",height:"18px"})})),(0,i.jsx)(d.A,Object.assign({direction:"row",gap:"8px",alignItems:"center"},{children:(0,i.jsxs)(m.A,{children:[(0,i.jsx)(l.A,{animation:h,variant:"circular",width:`${E.selfcommunity.user.avatar.sizeSmall}px`,height:`${E.selfcommunity.user.avatar.sizeSmall}px`}),(0,i.jsx)(l.A,{animation:h,variant:"circular",width:`${E.selfcommunity.user.avatar.sizeSmall}px`,height:`${E.selfcommunity.user.avatar.sizeSmall}px`}),(0,i.jsx)(l.A,{animation:h,variant:"circular",width:`${E.selfcommunity.user.avatar.sizeSmall}px`,height:`${E.selfcommunity.user.avatar.sizeSmall}px`})]})}))]})),(0,i.jsx)(u.A,Object.assign({className:O.skeletonPreviewActions},{children:void 0!==x?x:(0,i.jsx)(l.A,{variant:"rounded",width:100,height:30})}))]})):(0,i.jsx)($,{elevation:0,square:!0,disableTypography:!0,className:O.skeletonSnippetRoot,image:(0,i.jsxs)(r.A,Object.assign({className:O.skeletonSnippetImage},{children:[(0,i.jsx)(l.A,{animation:h,variant:"rectangular",width:100,height:60})," ",(0,i.jsx)(g.A,Object.assign({fontSize:"large"},{children:"CalendarIcon"}))]})),primary:(0,i.jsx)(l.A,{animation:h,variant:"rectangular",height:10,width:"40%",style:{marginBottom:12}}),secondary:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l.A,{animation:h,variant:"rectangular",height:10,width:"60%",style:{marginBottom:10,marginRight:5}}),(0,i.jsx)(l.A,{animation:h,variant:"rectangular",height:10,width:"35%"})]}),actions:(0,i.jsx)(i.Fragment,{children:void 0!==x?x:(0,i.jsx)(v.A,Object.assign({size:"small",variant:"outlined",disabled:!0},{children:(0,i.jsx)(l.A,{animation:h,height:10,width:30,style:{marginTop:5,marginBottom:5}})}))})}),(0,i.jsx)(N,Object.assign({className:A()(O.root,t,`${b.H}-skeleton-${n}`)},S,{children:I}))}},95180:(e,s,t)=>{var a,i,n,r,o;t.d(s,{HJ:()=>r,wF:()=>a}),function(e){e.SNIPPET="snippet",e.PREVIEW="preview"}(a||(a={})),function(e){e.COMMENTS="comments",e.LESSONS="lessons",e.SETTINGS="settings"}(i||(i={})),function(e){e.VIEW="view",e.EDIT="edit"}(n||(n={})),function(e){e.LESSONS="lessons",e.CUSTOMIZE="customize",e.USERS="users",e.REQUESTS="requests",e.OPTIONS="options"}(r||(r={})),function(e){e.DASHBOARD="dashboard",e.EDIT="edit",e.REQUESTS="requests"}(o||(o={}))}}]);