"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[28595],{12486:(e,t,o)=>{o.d(t,{A:()=>h});var i=o(31635),n=o(74848),r=o(11848),a=o(79197),l=o(19546),s=o.n(l);const c="SCBullet",d={root:`${c}-root`},u=(0,r.Ay)("span",{name:c,slot:"Root",overridesResolver:(e,t)=>[t.root]})((()=>({})));function h(e){const t=(0,a.A)({props:e,name:c}),{className:o}=t,r=(0,i.__rest)(t,["className"]);return(0,n.jsx)(u,Object.assign({className:s()(o,d.root)},r,{children:"\u2022"}))}},42606:(e,t,o)=>{o.d(t,{A:()=>M});var i=o(31635),n=o(74848),r=o(96540),a=o(58662),l=o(19546),s=o.n(l),c=o(79197),d=o(11848),u=o(1136),h=o(44675),v=o(90508),p=o(18653),m=o(40059),g=o(57416),b=o(4671),f=o(45284),A=o(2877),x=o(44817),j=o(51106),w=o(58065),S=o(18590),_=o(37978);const y="SCVoteButton",L={root:`${y}-root`,voted:`${y}-voted`,popperRoot:`${y}-popper-root`,reactionList:`${y}-reaction-list`,reaction:`${y}-reaction`},V=(0,d.Ay)(a.A,{name:y,slot:"Root",overridesResolver:(e,t)=>[t.root,t.voted]})((()=>({}))),R=(0,d.Ay)(u.A,{name:y,slot:"Root",overridesResolver:(e,t)=>t.popperRoot})((()=>({})));const M=function(e){const t=(0,c.A)({props:e,name:y}),{className:o,contributionId:a,contributionType:l,contribution:d=null,onVote:u}=t,M=(0,i.__rest)(t,["className","contributionId","contributionType","contribution","onVote"]),[C,O]=(0,r.useState)(null),$=(0,r.useRef)(null),B=(0,f.J_)(),N=(0,A.X1)(),{enqueueSnackbar:T}=(0,S.dh)(),k=e=>{E(),$.current=setTimeout((()=>O(e.target)),1e3)},I=e=>{E(),$.current=setTimeout((()=>O(null)),500)},E=()=>{$.current&&clearTimeout($.current),$.current=null},D=e=>{N.user?x.lT(N.user)?T((0,n.jsx)(w.A,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):q(e):B.settings.handleAnonymousAction()},{isLoading:F,isVoting:W,contributionVoted:H,contributionReaction:K,reactions:P,handleVote:q,error:U}=(0,j.A)({id:a,contributionType:l,contribution:d,onVote:(e,t)=>{O(null),t?(0,_.c)(t,N.managers.blockedUsers.isBlocked(e.author),T)||T((0,n.jsx)(w.A,{id:"ui.common.error.action",defaultMessage:"ui.common.error.action"}),{variant:"error",autoHideDuration:3e3}):u&&u(e)}}),X=(0,h.A)(),z=(0,v.A)(X.breakpoints.down("md")),J=(0,r.useMemo)((()=>P.default?{onMouseEnter:k,onMouseLeave:I}:{}),[P]),Z=(0,n.jsx)(V,Object.assign({onClick:z&&P.reactions?k:()=>D(K||(P.default?P.default:null)),disabled:F||Boolean(U),loading:W,className:s()(L.root,o,{[L.voted]:N.user&&H})},M,J,{children:N.user&&H?K?(0,n.jsx)(p.A,Object.assign({title:K.label},{children:(0,n.jsx)(m.A,{children:(0,n.jsx)("img",{alt:K.label,src:K.image,width:"100%",height:"100%"})})})):(0,n.jsx)(m.A,{children:"thumb_up"}):(0,n.jsx)(m.A,{children:"thumb_up_off_alt"})}));return(0,n.jsxs)(n.Fragment,{children:[P.default?Z:(0,n.jsx)(p.A,Object.assign({title:H?(0,n.jsx)(w.A,{id:"ui.voteButton.voteDown",defaultMessage:"ui.voteButton.voteDown"}):(0,n.jsx)(w.A,{id:"ui.voteButton.voteUp",defaultMessage:"ui.voteButton.voteUp"})},{children:(0,n.jsx)("span",{children:Z})})),P.default&&Boolean(C)&&!W&&!F&&(0,n.jsx)(R,Object.assign({id:`vote_${a}_${l}_popper`,className:L.popperRoot,open:!0,anchorEl:C,placement:"top",keepMounted:!0},{children:(0,n.jsx)(g.A,Object.assign({className:L.reactionList,onMouseEnter:E,onMouseLeave:I},{children:P.reactions.filter((e=>!H||H&&K.id!==e.id?e.active:e)).map((e=>(0,n.jsx)(p.A,Object.assign({title:e.label},{children:(0,n.jsx)(b.A,Object.assign({className:L.reaction,onClick:()=>D(e)},{children:(0,n.jsx)(m.A,{children:(0,n.jsx)("img",{alt:e.label,src:e.image,width:"100%",height:"100%"})})}))}),e.id)))}))}))]})}},51106:(e,t,o)=>{o.d(t,{A:()=>p});var i=o(96540),n=o(29368),r=o(13550),a=o(28692),l=o(94520),s=o(42269),c=o(83426),d=o(86354),u=o(45284),h=o(2877),v=o(62485);function p({id:e,contribution:t=null,contributionType:o,onVote:p=null,cacheStrategy:m=a.So.CACHE_FIRST}){const g=(0,i.useMemo)((()=>o===c.Z.COMMENT?(0,d.ar)(e):(0,d.lG)(e,o)),[e,o]),b=(0,i.useMemo)((()=>o===c.Z.COMMENT?n.A.Comment:n.A.FeedObject),[e,o]),[f,A]=(0,i.useState)(!1),[x,j]=(0,i.useState)(m!==a.So.NETWORK_ONLY?a.Ay.get(g,t):t),[w,S]=(0,i.useState)(!1),[_,y]=(0,i.useState)(n.A.VotesList.url({type:o,id:e})),[L,V]=(0,i.useState)([]),[R,M]=(0,i.useState)(!1),[C,O]=(0,i.useState)(null),$=(0,u.J_)(),B=(0,h.X1)(),N=(0,v.UM)(),T=(0,i.useMemo)((()=>{var e;return{default:null===(e=N.reactions)||void 0===e?void 0:e.find((e=>1===e.id)),reactions:N.reactions,isLoading:N.isLoading}}),[N.reactions,N.isLoading]),k=(0,i.useMemo)((()=>()=>(A(!0),r.A.request({url:b.url({type:o,id:e}),method:b.method}).then((e=>(A(!1),e.status>=300?Promise.reject(e):Promise.resolve(e.data)))))),[e,o]),I=(0,i.useMemo)((()=>e=>{const t={};return e&&T.reactions&&(t.reaction=e.id),r.A.request({url:n.A.Vote.url({type:x.type,id:x.id}),method:n.A.Vote.method,params:t}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))}),[x,$]);(0,i.useEffect)((()=>{(m!==a.So.CACHE_FIRST||!x||B.user&&!Object.prototype.hasOwnProperty.call(x,"voted"))&&k().then((e=>{j(e),a.Ay.set(g,e)})).catch((t=>{a.Ay.delete(g),O(`FeedObject with id ${e} not found`),l.V.error(s.K,`FeedObject with id ${e} not found`),l.V.error(s.K,t.message)}))}),[e,o,B.user]),(0,i.useEffect)((()=>{t&&j(t)}),[t]);const E=(0,i.useMemo)((()=>({contributionVoted:!!x&&x.voted,contributionVoteCount:x?x.vote_count:0,contributionReaction:x?x.reaction:null,contributionReactionsCount:x?x.reactions_count:null})),[x]);return Object.assign(Object.assign({},E),{isLoading:f,isVoting:w,handleVote:e=>{B.user&&x&&!w&&(S(!0),I(e).then((()=>{var t,o;let i={voted:!x.voted,vote_count:x.voted?x.vote_count-1:x.vote_count+1};if(e&&(null===(t=null==x?void 0:x.reaction)||void 0===t?void 0:t.id)!==e.id){const t=!(null==x?void 0:x.reaction),o=-1===x.reactions_count.findIndex((t=>t.reaction.id===e.id));i={voted:!!t||x.voted,vote_count:t?x.vote_count+1:x.vote_count,reaction:e,reactions_count:[...x.reactions_count.map((t=>{var o,i;return t.reaction.id===(null===(o=null==x?void 0:x.reaction)||void 0===o?void 0:o.id)&&t.count-1==0?null:t.reaction.id===(null===(i=null==x?void 0:x.reaction)||void 0===i?void 0:i.id)&&t.count-1>0?{count:t.count-1,reaction:t.reaction}:t.reaction.id===e.id?{count:t.count+1,reaction:t.reaction}:t})),o?{count:1,reaction:e}:null].filter((e=>Boolean(e)))}}else e&&(null==x?void 0:x.reaction)&&(null===(o=null==x?void 0:x.reaction)||void 0===o?void 0:o.id)===e.id&&(i=Object.assign({},i,{reaction:null,reactions_count:x.reactions_count.map((e=>{var t,o;return e.reaction.id===(null===(t=null==x?void 0:x.reaction)||void 0===t?void 0:t.id)&&e.count-1==0?null:e.reaction.id===(null===(o=null==x?void 0:x.reaction)||void 0===o?void 0:o.id)&&e.count-1>0?{count:e.count-1,reaction:e.reaction}:e})).filter((e=>Boolean(e)))}));const n=Object.assign({},x,i);j(n),S(!1),p&&p(n,null)})).catch((e=>{l.V.error(s.K,e),S(!1),p&&p(x,e)})))},reactions:T,error:C,handleFetchVoteList:({reaction:t=null,reset:i=!1})=>{const a=i?`${n.A.VotesList.url({type:o,id:e})}${t?`?reaction=${t.id}`:""}`:_;M(!0),r.A.request({url:a,method:n.A.VotesList.method}).then((e=>{V(i?e.data.results:[...L,...e.data.results]),y(e.data.next)})).catch((e=>O(e))).then((()=>M(!1)))},voteList:L,isLoadingVoteList:R,voteListHasNext:Boolean(_)})}},71543:(e,t,o)=>{o.d(t,{A:()=>b});var i=o(85486),n=o(59703),r=o(96540),a=o(54533),l=o(75659),s=o(56950),c=o(11848),d=o(25669),u=o(61347),h=o(74848);const v=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],p=(0,c.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,"vertical"===o.orientation&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&"vertical"===o.orientation&&t.withChildrenVertical,"right"===o.textAlign&&"vertical"!==o.orientation&&t.textAlignRight,"left"===o.textAlign&&"vertical"!==o.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,n.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,s.X4)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({ownerState:e})=>(0,n.A)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})),(({theme:e,ownerState:t})=>(0,n.A)({},t.children&&"vertical"!==t.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}})),(({theme:e,ownerState:t})=>(0,n.A)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}})),(({ownerState:e})=>(0,n.A)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),m=(0,c.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,"vertical"===o.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,n.A)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}))),g=r.forwardRef((function(e,t){const o=(0,d.b)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:s,className:c,component:g=(s?"div":"hr"),flexItem:b=!1,light:f=!1,orientation:A="horizontal",role:x=("hr"!==g?"separator":void 0),textAlign:j="center",variant:w="fullWidth"}=o,S=(0,i.A)(o,v),_=(0,n.A)({},o,{absolute:r,component:g,flexItem:b,light:f,orientation:A,role:x,textAlign:j,variant:w}),y=(e=>{const{absolute:t,children:o,classes:i,flexItem:n,light:r,orientation:a,textAlign:s,variant:c}=e,d={root:["root",t&&"absolute",c,r&&"light","vertical"===a&&"vertical",n&&"flexItem",o&&"withChildren",o&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]};return(0,l.A)(d,u.K,i)})(_);return(0,h.jsx)(p,(0,n.A)({as:g,className:(0,a.A)(y.root,c),role:x,ref:t,ownerState:_},S,{children:s?(0,h.jsx)(m,{className:y.wrapper,ownerState:_,children:s}):null}))}));g.muiSkipListHighlight=!0;const b=g}}]);