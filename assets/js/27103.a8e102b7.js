(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[27103],{86907:(e,t,n)=>{"use strict";const r=n(71313);e.exports=r},71313:(e,t,n)=>{"use strict";var r=n(87592),i=n(89408),o=n(76969),l=n(32998);function s(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function u(e){let t=l.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return l.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?"":r.$generateHtmlFromNodes(e,t)}function d(e){let t=l.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return l.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(h(e,t))}function c(e,t,n){let r=l.DEPRECATED_$isGridSelection(n),i=l.$isRangeSelection(n);(r||i&&null!==o.$findMatchingParent(n.anchor.getNode(),(e=>l.DEPRECATED_$isGridCellNode(e)))&&null!==o.$findMatchingParent(n.focus.getNode(),(e=>l.DEPRECATED_$isGridCellNode(e))))&&1===t.length&&l.DEPRECATED_$isGridNode(t[0])?function(e,t,n,r){1===e.length&&l.DEPRECATED_$isGridNode(e[0])||s(42);var i=e[0];e=i.getChildren(),n=i.getFirstChildOrThrow().getChildrenSize();var a=i.getChildrenSize(),u=o.$findMatchingParent(t.anchor.getNode(),(e=>l.DEPRECATED_$isGridCellNode(e)));t=(i=u&&o.$findMatchingParent(u,(e=>l.DEPRECATED_$isGridRowNode(e))))&&o.$findMatchingParent(i,(e=>l.DEPRECATED_$isGridNode(e))),l.DEPRECATED_$isGridCellNode(u)&&l.DEPRECATED_$isGridRowNode(i)&&l.DEPRECATED_$isGridNode(t)||s(43);var d=i.getIndexWithinParent(),c=Math.min(t.getChildrenSize()-1,d+a-1);let g,h;a=u.getIndexWithinParent(),u=Math.min(i.getChildrenSize()-1,a+n-1),n=Math.min(a,u),i=Math.min(d,c),a=Math.max(a,u),d=Math.max(d,c),c=t.getChildren(),u=0;for(let o=i;o<=d;o++){var f=c[o];l.DEPRECATED_$isGridRowNode(f)||s(24);var p=e[u];l.DEPRECATED_$isGridRowNode(p)||s(24),f=f.getChildren(),p=p.getChildren();let t=0;for(let e=n;e<=a;e++){let r=f[e];l.DEPRECATED_$isGridCellNode(r)||s(25);let u=p[t];l.DEPRECATED_$isGridCellNode(u)||s(25),o===i&&e===n?g=r.getKey():o===d&&e===a&&(h=r.getKey());let c=r.getChildren();u.getChildren().forEach((e=>{l.$isTextNode(e)&&l.$createParagraphNode().append(e),r.append(e)})),c.forEach((e=>e.remove())),t++}u++}g&&h&&(e=l.DEPRECATED_$createGridSelection(),e.set(t.getKey(),g,h),l.$setSelection(e),r.dispatchCommand(l.SELECTION_CHANGE_COMMAND,void 0))}(t,n,!1,e):n.insertNodes(t)}function g(e,t,n,r=[]){let o=null==t||n.isSelected(t),a=l.$isElementNode(n)&&n.excludeFromCopy("html");var u=n;if(null!==t){var d=i.$cloneWithProperties(n);u=d=l.$isTextNode(d)&&null!=t?i.$sliceSelectedTextNodeContent(t,d):d}let c=l.$isElementNode(u)?u.getChildren():[];var h=u;d=h.exportJSON();var f=h.constructor;d.type!==f.getType()&&s(58,f.name);let p=d.children;for(l.$isElementNode(h)&&(Array.isArray(p)||s(59,f.name)),l.$isTextNode(u)&&(0<(u=u.__text).length?d.text=u:o=!1),u=0;u<c.length;u++)f=g(e,t,h=c[u],d.children),!o&&l.$isElementNode(n)&&f&&n.extractWithChild(h,t,"clone")&&(o=!0);if(o&&!a)r.push(d);else if(Array.isArray(d.children))for(e=0;e<d.children.length;e++)r.push(d.children[e]);return o}function h(e,t){let n=[],r=l.$getRoot().getChildren();for(let i=0;i<r.length;i++)g(e,t,r[i],n);return{namespace:e._config.namespace,nodes:n}}function f(e){let t=[];for(let n=0;n<e.length;n++){let r=l.$parseSerializedNode(e[n]);l.$isTextNode(r)&&i.$addNodeStyle(r),t.push(r)}return t}let p=null;function _(e,t){var n=a?(e._window||window).getSelection():null;if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,null!==r&&null!==n&&!l.isSelectionWithinEditor(e,r,n))return!1;if(t.preventDefault(),t=t.clipboardData,r=l.$getSelection(),null===t||null===r)return!1;n=u(e),e=d(e);let i="";return null!==r&&(i=r.getTextContent()),null!==n&&t.setData("text/html",n),null!==e&&t.setData("application/x-lexical-editor",e),t.setData("text/plain",i),!0}t.$generateJSONFromSelectedNodes=h,t.$generateNodesFromSerializedNodes=f,t.$getHtmlContent=u,t.$getLexicalContent=d,t.$insertDataTransferForPlainText=function(e,t){null!=(e=e.getData("text/plain")||e.getData("text/uri-list"))&&t.insertRawText(e)},t.$insertDataTransferForRichText=function(e,t,n){var i=e.getData("application/x-lexical-editor");if(i)try{let e=JSON.parse(i);if(e.namespace===n._config.namespace&&Array.isArray(e.nodes)){return c(n,f(e.nodes),t)}}catch(s){}if(i=e.getData("text/html"))try{var o=(new DOMParser).parseFromString(i,"text/html");return c(n,r.$generateNodesFromDOM(n,o),t)}catch(s){}if(null!=(e=e.getData("text/plain")||e.getData("text/uri-list")))if(l.$isRangeSelection(t))for(""===(e=e.split(/(\r?\n|\t)/))[e.length-1]&&e.pop(),n=0;n<e.length;n++)"\n"===(o=e[n])||"\r\n"===o?t.insertParagraph():"\t"===o?t.insertNodes([l.$createTabNode()]):t.insertText(o);else t.insertRawText(e)},t.$insertGeneratedNodes=c,t.copyToClipboard=async function(e,t){if(null!==p)return!1;if(null!==t)return new Promise((n=>{e.update((()=>{n(_(e,t))}))}));var n=e.getRootElement();let r=null==e._window?window.document:e._window.document,i=a?(e._window||window).getSelection():null;if(null===n||null===i)return!1;let s=r.createElement("span");return s.style.cssText="position: fixed; top: -1000px;",s.append(r.createTextNode("#")),n.append(s),(n=new Range).setStart(s,0),n.setEnd(s,1),i.removeAllRanges(),i.addRange(n),new Promise((t=>{let n=e.registerCommand(l.COPY_COMMAND,(r=>(o.objectKlassEquals(r,ClipboardEvent)&&(n(),null!==p&&(window.clearTimeout(p),p=null),t(_(e,r))),!0)),l.COMMAND_PRIORITY_CRITICAL);p=window.setTimeout((()=>{n(),p=null,t(!1)}),50),r.execCommand("copy"),s.remove()}))}},70573:(e,t,n)=>{"use strict";const r=n(97370);e.exports=r},97370:(e,t,n)=>{"use strict";var r=n(32998);t.registerDragonSupport=function(e){let t=window.location.origin,n=n=>{if(n.origin===t){var i=e.getRootElement();if(document.activeElement===i&&"string"==typeof(i=n.data)){try{var o=JSON.parse(i)}catch(l){return}if(o&&"nuanria_messaging"===o.protocol&&"request"===o.type&&(o=o.payload)&&"makeChanges"===o.functionId&&(o=o.args)){const[t,i,l,s,a]=o;e.update((()=>{const e=r.$getSelection();if(r.$isRangeSelection(e)){var o=e.anchor;let u=o.getNode(),d=0,c=0;r.$isTextNode(u)&&0<=t&&0<=i&&(d=t,c=t+i,e.setTextNodeRange(u,d,u,c)),d===c&&""===l||(e.insertRawText(l),u=o.getNode()),r.$isTextNode(u)&&(d=s,c=s+a,d=d>(o=u.getTextContentSize())?o:d,c=c>o?o:c,e.setTextNodeRange(u,d,u,c)),n.stopImmediatePropagation()}}))}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}},48854:(e,t,n)=>{"use strict";const r=n(54379);e.exports=r},54379:(e,t,n)=>{"use strict";var r=n(76969),i=n(32998);function o(e,t){let n=Date.now(),r=0;return(o,l,s,a,u,d)=>{let c=Date.now();if(d.has("historic"))return r=0,n=c,2;let g=function(e,t,n,r,o){if(null===e||0===n.size&&0===r.size&&!o)return 0;var l=t._selection,s=e._selection;if(o)return 1;if(!(i.$isRangeSelection(l)&&i.$isRangeSelection(s)&&s.isCollapsed()&&l.isCollapsed()))return 0;o=t._nodeMap;let a=[];for(let i of n)void 0!==(n=o.get(i))&&a.push(n);for(let[u,d]of r)d&&(void 0===(r=o.get(u))||i.$isRootNode(r)||a.push(r));return 0===a.length?0:1<a.length?(t=(r=t._nodeMap).get(l.anchor.key),s=r.get(s.anchor.key),t&&s&&!e._nodeMap.has(t.__key)&&i.$isTextNode(t)&&1===t.__text.length&&1===l.anchor.offset?2:0):(t=a[0],e=e._nodeMap.get(t.__key),i.$isTextNode(e)&&i.$isTextNode(t)&&e.__mode===t.__mode?(e=e.__text)===(t=t.__text)?0:(l=l.anchor,s=s.anchor,l.key!==s.key||"text"!==l.type?0:(l=l.offset,s=s.offset,1==(e=t.length-e.length)&&s===l-1?2:-1===e&&s===l+1?3:-1===e&&s===l?4:0)):0)}(o,l,a,u,e.isComposing()),h=(()=>{var h=null===s||s.editor===e,f=d.has("history-push");if(!f&&h&&d.has("history-merge"))return 0;if(null===o)return 1;var p=l._selection;if(!(0<a.size||0<u.size))return null!==p?0:2;if(!1===f&&0!==g&&g===r&&c<n+t&&h)return 0;if(1===a.size){{f=Array.from(a)[0],h=o._nodeMap.get(f),f=l._nodeMap.get(f),p=o._selection;let e=l._selection,t=!1;i.$isRangeSelection(p)&&i.$isRangeSelection(e)&&(t="element"===p.anchor.type&&"element"===p.focus.type&&"text"===e.anchor.type&&"text"===e.focus.type),h=!(t||!i.$isTextNode(h)||!i.$isTextNode(f))&&(h.__type===f.__type&&h.__text===f.__text&&h.__mode===f.__mode&&h.__detail===f.__detail&&h.__style===f.__style&&h.__format===f.__format&&h.__parent===f.__parent)}if(h)return 0}return 1})();return n=c,r=g,h}}t.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},t.registerHistory=function(e,t,n){let l=o(e,n);n=({editorState:n,prevEditorState:r,dirtyLeaves:o,dirtyElements:s,tags:a})=>{const u=t.current,d=t.redoStack,c=t.undoStack,g=null===u?null:u.editorState;if(null===u||n!==g){if(1===(r=l(r,n,u,o,s,a)))0!==d.length&&(t.redoStack=[],e.dispatchCommand(i.CAN_REDO_COMMAND,!1)),null!==u&&(c.push({...u}),e.dispatchCommand(i.CAN_UNDO_COMMAND,!0));else if(2===r)return;t.current={editor:e,editorState:n}}};let s=r.mergeRegister(e.registerCommand(i.UNDO_COMMAND,(()=>{let n=t.redoStack,r=t.undoStack;if(0!==r.length){let o=t.current,l=r.pop();null!==o&&(n.push(o),e.dispatchCommand(i.CAN_REDO_COMMAND,!0)),0===r.length&&e.dispatchCommand(i.CAN_UNDO_COMMAND,!1),t.current=l||null,l&&l.editor.setEditorState(l.editorState,{tag:"historic"})}return!0}),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.REDO_COMMAND,(()=>{let n=t.redoStack;var r=t.undoStack;if(0!==n.length){let o=t.current;null!==o&&(r.push(o),e.dispatchCommand(i.CAN_UNDO_COMMAND,!0)),r=n.pop(),0===n.length&&e.dispatchCommand(i.CAN_REDO_COMMAND,!1),t.current=r||null,r&&r.editor.setEditorState(r.editorState,{tag:"historic"})}return!0}),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.CLEAR_EDITOR_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,!1)),i.COMMAND_PRIORITY_EDITOR),e.registerCommand(i.CLEAR_HISTORY_COMMAND,(()=>(t.undoStack=[],t.redoStack=[],t.current=null,e.dispatchCommand(i.CAN_REDO_COMMAND,!1),e.dispatchCommand(i.CAN_UNDO_COMMAND,!1),!0)),i.COMMAND_PRIORITY_EDITOR),e.registerUpdateListener(n)),a=e.registerUpdateListener(n);return()=>{s(),a()}}},87592:(e,t,n)=>{"use strict";const r=n(64478);e.exports=r},64478:(e,t,n)=>{"use strict";var r=n(89408),i=n(76969),o=n(32998);function l(e,t,n,s=null){let a=null==s||t.isSelected(s),u=o.$isElementNode(t)&&t.excludeFromCopy("html");var d=t;null!==s&&(d=r.$cloneWithProperties(t),d=o.$isTextNode(d)&&null!=s?r.$sliceSelectedTextNodeContent(s,d):d);let c=o.$isElementNode(d)?d.getChildren():[];var g=e._nodes.get(d.getType());g=g&&void 0!==g.exportDOM?g.exportDOM(e,d):d.exportDOM(e);let{element:h,after:f}=g;if(!h)return!1;g=document.createDocumentFragment();for(let r=0;r<c.length;r++){let n=c[r],i=l(e,n,g,s);!a&&o.$isElementNode(t)&&i&&t.extractWithChild(n,s,"html")&&(a=!0)}return a&&!u?(i.isHTMLElement(h)&&h.append(g),n.append(h),f&&(e=f.call(d,h))&&h.replaceWith(e)):n.append(g),a}let s=new Set(["STYLE","SCRIPT"]);function a(e,t,n=new Map,r){let i=[];if(s.has(e.nodeName))return i;let l=null;var u,{nodeName:d}=e,c=t._htmlConversions.get(d.toLowerCase());if(d=null,void 0!==c)for(u of c)null!==(c=u(e))&&(null===d||d.priority<c.priority)&&(d=c);if(d=(u=null!==d?d.conversion:null)?u(e):null,u=null,null!==d){if(u=d.after,c=d.node,l=Array.isArray(c)?c[c.length-1]:c,null!==l){for(var[,g]of n)if(l=g(l,r),!l)break;l&&i.push(...Array.isArray(c)?c:[l])}null!=d.forChild&&n.set(e.nodeName,d.forChild)}for(e=e.childNodes,r=[],g=0;g<e.length;g++)r.push(...a(e[g],t,new Map(n),l));return null!=u&&(r=u(r)),null==l?i=i.concat(r):o.$isElementNode(l)&&l.append(...r),i}t.$generateHtmlFromNodes=function(e,t){if("undefined"==typeof document||"undefined"==typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=o.$getRoot().getChildren();for(let i=0;i<r.length;i++)l(e,r[i],n,t);return n.innerHTML},t.$generateNodesFromDOM=function(e,t){t=t.body?t.body.childNodes:[];let n=[];for(let i=0;i<t.length;i++){var r=t[i];s.has(r.nodeName)||null!==(r=a(r,e))&&(n=n.concat(r))}return n}},73435:(e,t,n)=>{"use strict";const r=n(13906);e.exports=r},13906:(e,t,n)=>{"use strict";var r=n(76969),i=n(32998);let o=new Set(["http:","https:","mailto:","sms:","tel:"]);class l extends i.ElementNode{static getType(){return"link"}static clone(e){return new l(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}constructor(e,t={},n){super(n);let{target:r=null,rel:i=null,title:o=null}=t;this.__url=e,this.__target=r,this.__rel=i,this.__title=o}createDOM(e){let t=document.createElement("a");return t.href=this.sanitizeUrl(this.__url),null!==this.__target&&(t.target=this.__target),null!==this.__rel&&(t.rel=this.__rel),null!==this.__title&&(t.title=this.__title),r.addClassNamesToElement(t,e.theme.link),t}updateDOM(e,t){let n=this.__url,r=this.__target,i=this.__rel,o=this.__title;return n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),o!==e.__title&&(o?t.title=o:t.removeAttribute("title")),!1}static importDOM(){return{a:()=>({conversion:s,priority:1})}}static importJSON(e){let t=a(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}sanitizeUrl(e){try{let t=new URL(e);if(!o.has(t.protocol))return"about:blank"}catch(t){}return e}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}getTitle(){return this.getLatest().__title}setTitle(e){this.getWritable().__title=e}insertNewAfter(e,t=!0){return e=a(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),this.insertAfter(e,t),e}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,t){if(!i.$isRangeSelection(t))return!1;e=t.anchor.getNode();let n=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(n)&&0<t.getTextContent().length}}function s(e){let t=null;if(r.isHTMLAnchorElement(e)){let n=e.textContent;(null!==n&&""!==n||0<e.children.length)&&(t=a(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}))}return{node:t}}function a(e,t){return i.$applyNodeReplacement(new l(e,t))}function u(e){return e instanceof l}class d extends l{static getType(){return"autolink"}static clone(e){return new d(e.__url,{rel:e.__rel,target:e.__target,title:e.__title},e.__key)}static importJSON(e){let t=c(e.url,{rel:e.rel,target:e.target,title:e.title});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,t=!0){return e=this.getParentOrThrow().insertNewAfter(e,t),i.$isElementNode(e)?(t=c(this.__url,{rel:this.__rel,target:this.__target,title:this.__title}),e.append(t),t):null}}function c(e,t){return i.$applyNodeReplacement(new d(e,t))}let g=i.createCommand("TOGGLE_LINK_COMMAND");t.$createAutoLinkNode=c,t.$createLinkNode=a,t.$isAutoLinkNode=function(e){return e instanceof d},t.$isLinkNode=u,t.AutoLinkNode=d,t.LinkNode=l,t.TOGGLE_LINK_COMMAND=g,t.toggleLink=function(e,t={}){let{target:n,title:r}=t,o=void 0===t.rel?"noreferrer":t.rel;if(t=i.$getSelection(),i.$isRangeSelection(t))if(t=t.extract(),null===e)t.forEach((e=>{if(u(e=e.getParent())){let t=e.getChildren();for(let n=0;n<t.length;n++)e.insertBefore(t[n]);e.remove()}}));else{if(1===t.length){let i=function(e,t){for(;null!==e&&null!==e.getParent()&&!t(e);)e=e.getParentOrThrow();return t(e)?e:null}(t[0],u);if(null!==i)return i.setURL(e),void 0!==n&&i.setTarget(n),null!==o&&i.setRel(o),void(void 0!==r&&i.setTitle(r))}let l=null,s=null;t.forEach((t=>{var d=t.getParent();if(d!==s&&null!==d&&(!i.$isElementNode(t)||t.isInline()))if(u(d))s=d,d.setURL(e),void 0!==n&&d.setTarget(n),null!==o&&s.setRel(o),void 0!==r&&s.setTitle(r);else if(d.is(l)||(l=d,s=a(e,{rel:o,target:n,title:r}),u(d)?null===t.getPreviousSibling()?d.insertBefore(s):d.insertAfter(s):t.insertBefore(s)),u(t)){if(!t.is(s)){if(null!==s){d=t.getChildren();for(let e=0;e<d.length;e++)s.append(d[e])}t.remove()}}else null!==s&&s.append(t)}))}}},44783:(e,t,n)=>{"use strict";const r=n(19206);e.exports=r},19206:(e,t,n)=>{"use strict";var r=n(32998),i=n(76969);function o(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function l(e){let t=1;for(e=e.getParent();null!=e;){if(v(e)){if(M(e=e.getParent())){t++,e=e.getParent();continue}o(40)}break}return t}function s(e){M(e=e.getParent())||o(40);let t=e;for(;null!==t;)t=t.getParent(),M(t)&&(e=t);return e}function a(e){let t=[];e=e.getChildren().filter(v);for(let n=0;n<e.length;n++){let r=e[n],i=r.getFirstChild();M(i)?t=t.concat(a(i)):t.push(r)}return t}function u(e){return v(e)&&M(e.getFirstChild())}function d(e){return E().append(e)}function c(e,t){return v(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function g(e,t){e.splice(e.getChildrenSize(),0,t)}function h(e,t){if(M(e))return e;let n=e.getPreviousSibling(),r=e.getNextSibling(),i=E();return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),g(i,e.getChildren()),M(n)&&t===n.getListType()?(n.append(i),e.remove(),M(r)&&t===r.getListType()&&(g(n,r.getChildren()),r.remove()),n):M(r)&&t===r.getListType()?(r.getFirstChildOrThrow().insertBefore(i),e.remove(),r):((t=R(t)).append(i),e.replace(t),p(t),t)}function f(e,t){var n=e.getLastChild();let r=t.getFirstChild();n&&r&&u(n)&&u(r)&&(f(n.getFirstChild(),r.getFirstChild()),r.remove()),0<(n=t.getChildren()).length&&(e.append(...n),p(e)),t.remove()}function p(e,t){if(void 0!==(e=t||e.getChildren()))for(t=0;t<e.length;t++){let l=e[t];if(v(l)){let e=l.getValue();var n=l,r=n.getParent(),i=1;for(null!=r&&(M(r)?i=r.getStart():o(44)),n=n.getPreviousSiblings(),r=0;r<n.length;r++){let e=n[r];v(e)&&!M(e.getFirstChild())&&i++}e!==i&&l.setValue(i)}}}function _(e){if(!u(e)){var t=e.getParent(),n=t?t.getParent():void 0,r=n?n.getParent():void 0;if(M(r)&&v(n)&&M(t)){var i=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(e.is(i))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(o))n.insertAfter(e),t.isEmpty()&&n.remove();else{var l=t.getListType();i=E();let r=R(l);i.append(r),e.getPreviousSiblings().forEach((e=>r.append(e))),o=E(),l=R(l),o.append(l),g(l,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(e)}p(t),p(r)}}}class m extends r.ElementNode{static getType(){return"listitem"}static clone(e){return new m(e.__value,e.__checked,e.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){let t=document.createElement("li"),n=this.getParent();return M(n)&&"check"===n.getListType()&&N(t,this,null),t.value=this.__value,C(t,e.theme,this),t}updateDOM(e,t,n){let r=this.getParent();return M(r)&&"check"===r.getListType()&&N(t,this,e),t.value=this.__value,C(t,n.theme,this),!1}static transform(){return e=>{let t=e.getParent();M(t)&&(p(t),"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0))}}static importDOM(){return{li:()=>({conversion:y,priority:0})}}static importJSON(e){let t=E();return t.setChecked(e.checked),t.setValue(e.value),t.setFormat(e.format),t.setDirection(e.direction),t}exportDOM(e){return(e=this.createDOM(e._config)).style.textAlign=this.getFormatType(),{element:e}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let t=0;t<e.length;t++){let n=e[t];if(r.$isElementNode(n)&&this.canMergeWith(n)){let e=n.getChildren();this.append(...e),n.remove()}else super.append(n)}return this}replace(e,t){if(v(e))return super.replace(e);this.setIndent(0);let n=this.getParentOrThrow();if(!M(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{let t=R(n.getListType()),r=this.getNextSibling();for(;r;){let e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&this.getChildren().forEach((t=>{e.append(t)})),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e,t=!0){var n=this.getParentOrThrow();M(n)||o(39);var r=this.getNextSiblings();if(v(e))return t=super.insertAfter(e,t),M(e=e.getParentOrThrow())&&p(e),t;if(M(e)){for(n=e,r=(e=e.getChildren()).length-1;0<=r;r--)n=e[r],this.insertAfter(n,t);return n}if(n.insertAfter(e,t),0!==r.length){let i=R(n.getListType());r.forEach((e=>i.append(e))),e.insertAfter(i,t)}return e}remove(e){let t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&u(t)&&u(n)?(f(t.getFirstChild(),n.getFirstChild()),n.remove()):n&&(M(e=n.getParent())&&p(e))}insertNewAfter(e,t=!0){return e=E(null==this.__checked&&void 0),this.insertAfter(e,t),e}collapseAtStart(e){let t=r.$createParagraphNode();this.getChildren().forEach((e=>t.append(e)));var n=this.getParentOrThrow(),i=n.getParentOrThrow();let o=v(i);return 1===n.getChildrenSize()?o?(n.remove(),i.select()):(n.insertBefore(t),n.remove(),n=e.anchor,e=e.focus,i=t.getKey(),"element"===n.type&&n.getNode().is(this)&&n.set(i,n.offset,"element"),"element"===e.type&&e.getNode().is(this)&&e.set(i,e.offset,"element")):(n.insertBefore(t),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var e=this.getParent();if(null===e)return this.getLatest().__indent;e=e.getParentOrThrow();let t=0;for(;v(e);)e=e.getParentOrThrow().getParentOrThrow(),t++;return t}setIndent(e){"number"==typeof e&&-1<e||o(117);let t=this.getIndent();for(;t!==e;)if(t<e){e:{var n=new Set;if(u(this)||n.has(this.getKey()))break e;let e=this.getParent();var r=this.getNextSibling(),i=this.getPreviousSibling();if(u(r)&&u(i)){if(M(i=i.getFirstChild())){i.append(this);var l=r.getFirstChild();M(l)&&(g(i,l=l.getChildren()),r.remove(),n.add(r.getKey())),p(i)}}else u(r)?M(r=r.getFirstChild())&&(null!==(n=r.getFirstChild())&&n.insertBefore(this),p(r)):u(i)?M(r=i.getFirstChild())&&(r.append(this),p(r)):M(e)&&(n=E(),l=R(e.getListType()),n.append(l),l.append(this),i?i.insertAfter(n):r?r.insertBefore(n):e.append(n),p(l));M(e)&&p(e)}t++}else _(this),t--;return this}insertBefore(e){if(v(e)){let e=this.getParentOrThrow();if(M(e)){p(e,this.getNextSiblings())}}return super.insertBefore(e)}canInsertAfter(e){return v(e)}canReplaceWith(e){return v(e)}canMergeWith(e){return r.$isParagraphNode(e)||v(e)}extractWithChild(e,t){if(!r.$isRangeSelection(t))return!1;e=t.anchor.getNode();let n=t.focus.getNode();return this.isParentOf(e)&&this.isParentOf(n)&&this.getTextContent().length===t.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return R("bullet")}}function C(e,t,n){let r=[],o=[];var l=(t=t.list)?t.listitem:void 0;if(t&&t.nested)var s=t.nested.listitem;if(void 0!==l&&(l=l.split(" "),r.push(...l)),t){l=M(l=n.getParent())&&"check"===l.getListType();let e=n.getChecked();l&&!e||o.push(t.listitemUnchecked),l&&e||o.push(t.listitemChecked),l&&r.push(e?t.listitemChecked:t.listitemUnchecked)}void 0!==s&&(s=s.split(" "),n.getChildren().some((e=>M(e)))?r.push(...s):o.push(...s)),0<o.length&&i.removeClassNamesFromElement(e,...o),0<r.length&&i.addClassNamesToElement(e,...r)}function N(e,t,n){M(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function y(e){return{node:E(e=i.isHTMLElement(e)&&"true"===e.getAttribute("aria-checked"))}}function E(e){return r.$applyNodeReplacement(new m(void 0,e))}function v(e){return e instanceof m}class T extends r.ElementNode{static getType(){return"list"}static clone(e){return new T(e.__listType||b[e.__tag],e.__start,e.__key)}constructor(e,t,n){super(n),this.__listType=e=b[e]||e,this.__tag="number"===e?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){let t=this.getWritable();t.__listType=e,t.__tag="number"===e?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e){let t=document.createElement(this.__tag);return 1!==this.__start&&t.setAttribute("start",String(this.__start)),t.__lexicalListType=this.__listType,S(t,e.theme,this),t}updateDOM(e,t,n){return e.__tag!==this.__tag||(S(t,n.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:O,priority:0}),ul:()=>({conversion:O,priority:0})}}static importJSON(e){let t=R(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportDOM(e){return({element:e}=super.exportDOM(e)),e&&i.isHTMLElement(e)&&(1!==this.__start&&e.setAttribute("start",String(this.__start)),"check"===this.__listType&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let n=0;n<e.length;n++){var t=e[n];if(v(t))super.append(t);else{let e=E();M(t)?e.append(t):r.$isElementNode(t)?(t=r.$createTextNode(t.getTextContent()),e.append(t)):e.append(t),super.append(e)}}return p(this),this}extractWithChild(e){return v(e)}}function S(e,t,n){let r=[],o=[];var s=t.list;if(void 0!==s){let e=s[`${n.__tag}Depth`]||[],i=(t=l(n)-1)%e.length;var a=e[i];let u,d=s[n.__tag];if(void 0!==(s=s.nested)&&s.list&&(u=s.list),void 0!==d&&r.push(d),void 0!==a)for(a=a.split(" "),r.push(...a),a=0;a<e.length;a++)a!==i&&o.push(n.__tag+a);void 0!==u&&(n=u.split(" "),1<t?r.push(...n):o.push(...n))}0<o.length&&i.removeClassNamesFromElement(e,...o),0<r.length&&i.addClassNamesToElement(e,...r)}function x(e){let t=[];for(let r=0;r<e.length;r++){var n=e[r];v(n)?(t.push(n),1<(n=n.getChildren()).length&&n.forEach((e=>{M(e)&&t.push(d(e))}))):t.push(d(n))}return t}function O(e){let t=e.nodeName.toLowerCase(),n=null;return"ol"===t?n=R("number",e.start):"ul"===t&&(n=i.isHTMLElement(e)&&"check"===e.getAttribute("__lexicallisttype")?R("check"):R("bullet")),{after:x,node:n}}let b={ol:"number",ul:"bullet"};function R(e,t=1){return r.$applyNodeReplacement(new T(e,t))}function M(e){return e instanceof T}let D=r.createCommand("INSERT_UNORDERED_LIST_COMMAND"),A=r.createCommand("INSERT_ORDERED_LIST_COMMAND"),w=r.createCommand("INSERT_CHECK_LIST_COMMAND"),$=r.createCommand("REMOVE_LIST_COMMAND");t.$createListItemNode=E,t.$createListNode=R,t.$getListDepth=l,t.$handleListInsertParagraph=function(){var e=r.$getSelection();if(!r.$isRangeSelection(e)||!e.isCollapsed())return!1;if(!v(e=e.anchor.getNode())||0!==e.getChildrenSize())return!1;var t=s(e),n=e.getParent();M(n)||o(40);let i,l=n.getParent();if(r.$isRootOrShadowRoot(l))i=r.$createParagraphNode(),t.insertAfter(i);else{if(!v(l))return!1;i=E(),l.insertAfter(i)}if(i.select(),0<(t=e.getNextSiblings()).length){let e=R(n.getListType());r.$isParagraphNode(i)?i.insertAfter(e):((n=E()).append(e),i.insertAfter(n)),t.forEach((t=>{t.remove(),e.append(t)}))}return function(e){for(;null==e.getNextSibling()&&null==e.getPreviousSibling();){let t=e.getParent();if(null==t||!v(e)&&!M(e))break;e=t}e.remove()}(e),!0},t.$isListItemNode=v,t.$isListNode=M,t.INSERT_CHECK_LIST_COMMAND=w,t.INSERT_ORDERED_LIST_COMMAND=A,t.INSERT_UNORDERED_LIST_COMMAND=D,t.ListItemNode=m,t.ListNode=T,t.REMOVE_LIST_COMMAND=$,t.insertList=function(e,t){e.update((()=>{var e=r.$getSelection();if(r.$INTERNAL_isPointSelection(e)){var n=e.getNodes(),i=(e=e.anchor.getNode()).getParent();if(c(e,n))n=R(t),r.$isRootOrShadowRoot(i)?(e.replace(n),i=E(),r.$isElementNode(e)&&(i.setFormat(e.getFormatType()),i.setIndent(e.getIndent())),n.append(i)):v(e)&&(g(n,(e=e.getParentOrThrow()).getChildren()),e.replace(n));else for(e=new Set,i=0;i<n.length;i++){var o=n[i];if(r.$isElementNode(o)&&o.isEmpty()&&!v(o)&&!e.has(o.getKey()))h(o,t);else if(r.$isLeafNode(o))for(o=o.getParent();null!=o;){let n=o.getKey();if(M(o)){if(!e.has(n)){var l=R(t);g(l,o.getChildren()),o.replace(l),p(l),e.add(n)}break}if(l=o.getParent(),r.$isRootOrShadowRoot(l)&&!e.has(n)){e.add(n),h(o,t);break}o=l}}}}))},t.removeList=function(e){e.update((()=>{let e=r.$getSelection();if(r.$isRangeSelection(e)){var t=new Set,n=e.getNodes(),o=e.anchor.getNode();if(c(o,n))t.add(s(o));else for(o=0;o<n.length;o++){var l=n[o];r.$isLeafNode(l)&&(null!=(l=i.$getNearestNodeOfType(l,m))&&t.add(s(l)))}for(let i of t){t=i,n=a(i);for(let i of n)g(n=r.$createParagraphNode(),i.getChildren()),t.insertAfter(n),t=n,i.__key===e.anchor.key&&e.anchor.set(n.getKey(),0,"element"),i.__key===e.focus.key&&e.focus.set(n.getKey(),0,"element"),i.remove();i.remove()}}}))}},32358:(e,t,n)=>{"use strict";const r=n(24990);e.exports=r},24990:(e,t,n)=>{"use strict";var r=n(73435),i=n(84260),o=n(76969),l=n(32998),s=n(67294);function a(e,t){for(let n=0;n<t.length;n++){let r=t[n](e);if(r)return r}return null}let u=/[.,;\s]/;function d(e){var t;return e=e.getPreviousSibling(),l.$isElementNode(e)&&(e=e.getLastDescendant()),!(t=null===e||l.$isLineBreakNode(e))&&(t=l.$isTextNode(e))&&(e=e.getTextContent(),t=u.test(e[e.length-1])),t}function c(e){return e=e.getNextSibling(),l.$isElementNode(e)&&(e=e.getFirstDescendant()),null===e||l.$isLineBreakNode(e)||l.$isTextNode(e)&&u.test(e.getTextContent()[0])}function g(e,t,n,r){return!!(0<e?u.test(n[e-1]):d(r[0]))&&(t<n.length?u.test(n[t]):c(r[r.length-1]))}function h(e,t,n){let r=[],i=[],o=[],l=0,s=0;for(e=[...e];0<e.length;){let a=e[0],u=a.getTextContent().length,d=s;s+u<=t?(r.push(a),l+=u):d>=n?o.push(a):i.push(a),s+=u,e.shift()}return[l,r,i,o]}function f(e,t,n,i){let o=r.$createAutoLinkNode(i.url,i.attributes);if(1===e.length){var s=e[0];0===t?[u,s]=s.splitText(n):[,u,s]=s.splitText(t,n);var a=l.$createTextNode(i.text);return a.setFormat(u.getFormat()),a.setDetail(u.getDetail()),o.append(a),u.replace(o),s}if(1<e.length){var u=(i=e[0]).getTextContent().length;for(0===t?s=i:[,s]=i.splitText(t),t=[],i=1;i<e.length;i++){let r=e[i],o=r.getTextContent().length,l=u;if(l<n)if(u+o<=n)t.push(r);else{let[e,i]=r.splitText(n-l);t.push(e),a=i}u+=o}return e=(n=l.$getSelection())?n.getNodes().find(l.$isTextNode):void 0,(u=l.$createTextNode(s.getTextContent())).setFormat(s.getFormat()),u.setDetail(s.getDetail()),o.append(u,...t),e&&e===s&&(l.$isRangeSelection(n)?u.select(n.anchor.offset,n.focus.offset):l.$isNodeSelection(n)&&u.select(0,u.getTextContent().length)),s.replace(o),a}}function p(e,t,n){var r=e.getChildren();let i=r.length;for(let o=0;o<i;o++){let t=r[o];if(!l.$isTextNode(t)||!t.isSimpleText())return _(e),void n(null,e.getURL())}null===(t=a(r=e.getTextContent(),t))||t.text!==r?(_(e),n(null,e.getURL())):d(e)&&c(e)?((r=e.getURL())!==t.url&&(e.setURL(t.url),n(t.url,r)),t.attributes&&((r=e.getRel())!==t.attributes.rel&&(e.setRel(t.attributes.rel||null),n(t.attributes.rel||null,r)),(r=e.getTarget())!==t.attributes.target&&(e.setTarget(t.attributes.target||null),n(t.attributes.target||null,r)))):(_(e),n(null,e.getURL()))}function _(e){let t=e.getChildren();var n=t.length;for(--n;0<=n;n--)e.insertAfter(t[n]);return e.remove(),t.map((e=>e.getLatest()))}function m(e,t,n){s.useEffect((()=>{e.hasNodes([r.AutoLinkNode])||function(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(77);let i=(e,t)=>{n&&n(e,t)};return o.mergeRegister(e.registerNodeTransform(l.TextNode,(e=>{var o=e.getParentOrThrow(),s=e.getPreviousSibling();if(r.$isAutoLinkNode(o))p(o,t,i);else if(!r.$isLinkNode(o)){if(e.isSimpleText()&&(u.test(e.getTextContent()[0])||!r.$isAutoLinkNode(s))){for(o=[e],s=e.getNextSibling();null!==s&&l.$isTextNode(s)&&s.isSimpleText()&&(o.push(s),!/[\s]/.test(s.getTextContent()));)s=s.getNextSibling();!function(e,t,n){var r=[...e];e=r.map((e=>e.getTextContent())).join("");let i,o=0;for(;(i=a(e,t))&&null!==i;){let t=i.index,l=t+i.length;if(g(o+t,o+l,e,r)){let[e,,s,a]=h(r,o+t,o+l);r=(r=f(s,o+t-e,o+l-e,i))?[r,...a]:a,n(i.url,null),o=0}else o+=l;e=e.substring(l)}}(o,t,i)}let d=e.getPreviousSibling();o=e.getNextSibling(),s=e.getTextContent(),r.$isAutoLinkNode(d)&&!u.test(s[0])&&(d.append(e),p(d,t,i),e=d.getURL(),n&&n(null,e)),r.$isAutoLinkNode(o)&&!u.test(s[s.length-1])&&(_(o),p(o,t,i),e=o.getURL(),n&&n(null,e))}})))}),[e,t,n])}t.AutoLinkPlugin=function({matchers:e,onChange:t}){let[n]=i.useLexicalComposerContext();return m(n,e,t),null},t.createLinkMatcherWithRegExp=function(e,t=(e=>e)){return n=>null===(n=e.exec(n))?null:{index:n.index,length:n[0].length,text:n[0],url:t(n[0])}}},22292:(e,t,n)=>{"use strict";const r=n(44149);e.exports=r},44149:(e,t,n)=>{"use strict";var r=n(84260),i=n(32998),o=n(67294);let l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var s=l?o.useLayoutEffect:o.useEffect;let a={tag:"history-merge"};t.LexicalComposer=function({initialConfig:e,children:t}){let n=o.useMemo((()=>{const{theme:t,namespace:n,editor__DEPRECATED:o,nodes:s,onError:u,editorState:d,html:c}=e,g=r.createLexicalComposerContext(null,t);let h=o||null;if(null===h){const r=i.createEditor({editable:e.editable,html:c,namespace:n,nodes:s,onError:e=>u(e,r),theme:t});!function(e,t){if(null!==t)if(void 0===t)e.update((()=>{var t=i.$getRoot();if(t.isEmpty()){let n=i.$createParagraphNode();t.append(n),t=l?document.activeElement:null,(null!==i.$getSelection()||null!==t&&t===e.getRootElement())&&n.select()}}),a);else if(null!==t)switch(typeof t){case"string":let n=e.parseEditorState(t);e.setEditorState(n,a);break;case"object":e.setEditorState(t,a);break;case"function":e.update((()=>{i.$getRoot().isEmpty()&&t(e)}),a)}}(r,d),h=r}return[h,g]}),[]);return s((()=>{let t=e.editable,[r]=n;r.setEditable(void 0===t||t)}),[]),o.createElement(r.LexicalComposerContext.Provider,{value:n},t)}},84260:(e,t,n)=>{"use strict";const r=n(33489);e.exports=r},33489:(e,t,n)=>{"use strict";var r=n(67294);let i=r.createContext(null);t.LexicalComposerContext=i,t.createLexicalComposerContext=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},t.useLexicalComposerContext=function(){let e=r.useContext(i);return null==e&&function(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(8),e}},6898:(e,t,n)=>{"use strict";const r=n(15781);e.exports=r},15781:(e,t,n)=>{"use strict";var r=n(84260),i=n(67294);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}var l="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;t.ContentEditable=function({ariaActiveDescendant:e,ariaAutoComplete:t,ariaControls:n,ariaDescribedBy:s,ariaExpanded:a,ariaLabel:u,ariaLabelledBy:d,ariaMultiline:c,ariaOwns:g,ariaRequired:h,autoCapitalize:f,className:p,id:_,role:m="textbox",spellCheck:C=!0,style:N,tabIndex:y,"data-testid":E,...v}){let[T]=r.useLexicalComposerContext(),[S,x]=i.useState(!1),O=i.useCallback((e=>{T.setRootElement(e)}),[T]);return l((()=>(x(T.isEditable()),T.registerEditableListener((e=>{x(e)})))),[T]),i.createElement("div",o({},v,{"aria-activedescendant":S?e:void 0,"aria-autocomplete":S?t:"none","aria-controls":S?n:void 0,"aria-describedby":s,"aria-expanded":S&&"combobox"===m?!!a:void 0,"aria-label":u,"aria-labelledby":d,"aria-multiline":c,"aria-owns":S?g:void 0,"aria-readonly":!S||void 0,"aria-required":h,autoCapitalize:f,className:p,contentEditable:S,"data-testid":E,id:_,ref:O,role:m,spellCheck:C,style:N,tabIndex:y}))}},48082:(e,t,n)=>{"use strict";const r=n(17264);e.exports=r},17264:(e,t,n)=>{"use strict";var r=n(32998);class i extends r.DecoratorNode{constructor(e,t){super(t),this.__format=e||""}exportJSON(){return{format:this.__format||"",type:"decorator-block",version:1}}createDOM(){return document.createElement("div")}updateDOM(){return!1}setFormat(e){this.getWritable().__format=e}isInline(){return!1}}t.$isDecoratorBlockNode=function(e){return e instanceof i},t.DecoratorBlockNode=i},77943:(e,t,n)=>{"use strict";const r=n(79848);e.exports=r},79848:(e,t,n)=>{"use strict";var r=n(67294);function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var o={error:null},l=function(e){function t(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state=o,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(o)},n.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},n.componentDidUpdate=function(e,t){var n,r,i=this.props.resetKeys;null!==this.state.error&&null!==t.error&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))}(e.resetKeys,i)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,i),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,i=t.FallbackComponent;if(t=t.fallback,null!==e){if(e={error:e,resetErrorBoundary:this.resetErrorBoundary},r.isValidElement(t))return t;if("function"==typeof n)return n(e);if(i)return r.createElement(i,e);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);e.exports=function({children:e,onError:t}){return r.createElement(l,{fallback:r.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:t},e)}},4506:(e,t,n)=>{"use strict";const r=n(548);e.exports=r},548:(e,t,n)=>{"use strict";var r=n(84260),i=n(48854),o=n(67294);t.createEmptyHistoryState=i.createEmptyHistoryState,t.HistoryPlugin=function({externalHistoryState:e}){let[t]=r.useLexicalComposerContext();return function(e,t,n=1e3){let r=o.useMemo((()=>t||i.createEmptyHistoryState()),[t]);o.useEffect((()=>i.registerHistory(e,r,n)),[n,e,r])}(t,e),null}},41589:(e,t,n)=>{"use strict";const r=n(47618);e.exports=r},47618:(e,t,n)=>{"use strict";var r=n(84260),i=n(25567),o=n(76969),l=n(32998),s=n(67294);let a=l.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function u({nodeKey:e}){let[t]=r.useLexicalComposerContext(),[n,a,u]=i.useLexicalNodeSelection(e),d=s.useCallback((t=>(n&&l.$isNodeSelection(l.$getSelection())&&(t.preventDefault(),h(t=l.$getNodeByKey(e))&&t.remove()),!1)),[n,e]);return s.useEffect((()=>o.mergeRegister(t.registerCommand(l.CLICK_COMMAND,(r=>{let i=t.getElementByKey(e);return r.target===i&&(r.shiftKey||u(),a(!n),!0)}),l.COMMAND_PRIORITY_LOW),t.registerCommand(l.KEY_DELETE_COMMAND,d,l.COMMAND_PRIORITY_LOW),t.registerCommand(l.KEY_BACKSPACE_COMMAND,d,l.COMMAND_PRIORITY_LOW))),[u,t,n,e,d,a]),s.useEffect((()=>{let r=t.getElementByKey(e);null!==r&&(r.className=n?"selected":"")}),[t,n,e]),null}class d extends l.DecoratorNode{static getType(){return"horizontalrule"}static clone(e){return new d(e.__key)}static importJSON(){return g()}static importDOM(){return{hr:()=>({conversion:c,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return s.createElement(u,{nodeKey:this.__key})}}function c(){return{node:g()}}function g(){return l.$applyNodeReplacement(new d)}function h(e){return e instanceof d}t.$createHorizontalRuleNode=g,t.$isHorizontalRuleNode=h,t.HorizontalRuleNode=d,t.INSERT_HORIZONTAL_RULE_COMMAND=a},73541:(e,t,n)=>{"use strict";const r=n(88789);e.exports=r},88789:(e,t,n)=>{"use strict";var r=n(84260),i=n(41589),o=n(76969),l=n(32998),s=n(67294);t.HorizontalRulePlugin=function(){let[e]=r.useLexicalComposerContext();return s.useEffect((()=>e.registerCommand(i.INSERT_HORIZONTAL_RULE_COMMAND,(()=>{var e=l.$getSelection();return!!l.$isRangeSelection(e)&&(null!==e.focus.getNode()&&(e=i.$createHorizontalRuleNode(),o.$insertNodeToNearestRoot(e)),!0)}),l.COMMAND_PRIORITY_EDITOR)),[e]),null}},69421:(e,t,n)=>{"use strict";const r=n(86458);e.exports=r},86458:(e,t,n)=>{"use strict";var r=n(73435),i=n(84260),o=n(76969),l=n(32998),s=n(67294);t.LinkPlugin=function({validateUrl:e}){let[t]=i.useLexicalComposerContext();return s.useEffect((()=>{if(!t.hasNodes([r.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return o.mergeRegister(t.registerCommand(r.TOGGLE_LINK_COMMAND,(t=>{if(null===t)return r.toggleLink(t),!0;if("string"==typeof t)return!(void 0!==e&&!e(t))&&(r.toggleLink(t),!0);let{url:n,target:i,rel:o,title:l}=t;return r.toggleLink(n,{rel:o,target:i,title:l}),!0}),l.COMMAND_PRIORITY_LOW),void 0!==e?t.registerCommand(l.PASTE_COMMAND,(n=>{let i=l.$getSelection();if(!l.$isRangeSelection(i)||i.isCollapsed()||!(n instanceof ClipboardEvent)||null==n.clipboardData)return!1;let o=n.clipboardData.getData("text");return!!e(o)&&(!i.getNodes().some((e=>l.$isElementNode(e)))&&(t.dispatchCommand(r.TOGGLE_LINK_COMMAND,o),n.preventDefault(),!0))}),l.COMMAND_PRIORITY_LOW):()=>{})}),[t,e]),null}},38957:(e,t,n)=>{"use strict";const r=n(47336);e.exports=r},47336:(e,t,n)=>{"use strict";var r=n(44783),i=n(84260),o=n(67294),l=n(76969),s=n(32998);t.ListPlugin=function(){let[e]=i.useLexicalComposerContext();return o.useEffect((()=>{if(!e.hasNodes([r.ListNode,r.ListItemNode]))throw Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")}),[e]),function(e){o.useEffect((()=>l.mergeRegister(e.registerCommand(r.INSERT_ORDERED_LIST_COMMAND,(()=>(r.insertList(e,"number"),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(r.INSERT_UNORDERED_LIST_COMMAND,(()=>(r.insertList(e,"bullet"),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(r.REMOVE_LIST_COMMAND,(()=>(r.removeList(e),!0)),s.COMMAND_PRIORITY_LOW),e.registerCommand(s.INSERT_PARAGRAPH_COMMAND,(()=>!!r.$handleListInsertParagraph()),s.COMMAND_PRIORITY_LOW))),[e])}(e),null}},71954:(e,t,n)=>{"use strict";const r=n(61689);e.exports=r},61689:(e,t,n)=>{"use strict";var r=n(84260),i=n(67294),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;t.OnChangePlugin=function({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:n}){let[i]=r.useLexicalComposerContext();return o((()=>{if(n)return i.registerUpdateListener((({editorState:r,dirtyElements:o,dirtyLeaves:l,prevEditorState:s,tags:a})=>{t&&0===o.size&&0===l.size||e&&a.has("history-merge")||s.isEmpty()||n(r,i,a)}))}),[i,e,t,n]),null}},86146:(e,t,n)=>{"use strict";const r=n(61827);e.exports=r},61827:(e,t,n)=>{"use strict";var r=n(84260),i=n(9722),o=n(67294),l=n(2977),s=n(76969),a=n(73935),u=n(70573),d=n(2903),c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function g(e){return e.getEditorState().read(l.$canShowPlaceholderCurry(e.isComposing()))}function h({content:e}){var[t]=r.useLexicalComposerContext();t=function(e){let[t,n]=o.useState((()=>g(e)));return c((()=>{function t(){let t=g(e);n(t)}return t(),s.mergeRegister(e.registerUpdateListener((()=>{t()})),e.registerEditableListener((()=>{t()})))}),[e]),t}(t);let n=i();return t?"function"==typeof e?e(n):e:null}t.RichTextPlugin=function({contentEditable:e,placeholder:t,ErrorBoundary:n}){let[i]=r.useLexicalComposerContext();return n=function(e,t){let[n,r]=o.useState((()=>e.getDecorators()));return c((()=>e.registerDecoratorListener((e=>{a.flushSync((()=>{r(e)}))}))),[e]),o.useEffect((()=>{r(e.getDecorators())}),[e]),o.useMemo((()=>{let r=[],i=Object.keys(n);for(let l=0;l<i.length;l++){let s=i[l],u=o.createElement(t,{onError:t=>e._onError(t)},o.createElement(o.Suspense,{fallback:null},n[s])),d=e.getElementByKey(s);null!==d&&r.push(a.createPortal(u,d,s))}return r}),[t,n,e])}(i,n),function(e){c((()=>s.mergeRegister(d.registerRichText(e),u.registerDragonSupport(e))),[e])}(i),o.createElement(o.Fragment,null,e,o.createElement(h,{content:t}),n)}},9722:(e,t,n)=>{"use strict";const r=n(65836);e.exports=r},65836:(e,t,n)=>{"use strict";var r=n(84260),i=n(67294),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function l(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}e.exports=function(){return function(e){let[t]=r.useLexicalComposerContext(),n=i.useMemo((()=>e(t)),[t,e]),l=i.useRef(n.initialValueFn()),[s,a]=i.useState(l.current);return o((()=>{let{initialValueFn:e,subscribe:t}=n,r=e();return l.current!==r&&(l.current=r,a(r)),t((e=>{l.current=e,a(e)}))}),[n,e]),s}(l)}},25567:(e,t,n)=>{"use strict";const r=n(99121);e.exports=r},99121:(e,t,n)=>{"use strict";var r=n(84260),i=n(32998),o=n(67294);function l(e,t){return e.getEditorState().read((()=>{let e=i.$getNodeByKey(t);return null!==e&&e.isSelected()}))}t.useLexicalNodeSelection=function(e){let[t]=r.useLexicalComposerContext(),[n,s]=o.useState((()=>l(t,e)));return o.useEffect((()=>{let n=!0,r=t.registerUpdateListener((()=>{n&&s(l(t,e))}));return()=>{n=!1,r()}}),[t,e]),[n,o.useCallback((n=>{t.update((()=>{let t=i.$getSelection();i.$isNodeSelection(t)||(t=i.$createNodeSelection(),i.$setSelection(t)),i.$isNodeSelection(t)&&(n?t.add(e):t.delete(e))}))}),[t,e]),o.useCallback((()=>{t.update((()=>{const e=i.$getSelection();i.$isNodeSelection(e)&&e.clear()}))}),[t])]}},2903:(e,t,n)=>{"use strict";const r=n(40925);e.exports=r},40925:(e,t,n)=>{"use strict";var r=n(86907),i=n(89408),o=n(76969),l=n(32998);function s(e,t){return void 0!==document.caretRangeFromPoint?null===(e=document.caretRangeFromPoint(e,t))?null:{node:e.startContainer,offset:e.startOffset}:"undefined"!==document.caretPositionFromPoint?null===(e=document.caretPositionFromPoint(e,t))?null:{node:e.offsetNode,offset:e.offset}:null}let a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,u=a&&"documentMode"in document?document.documentMode:null;a&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),a&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);let d=!(!a||!("InputEvent"in window)||u)&&"getTargetRanges"in new window.InputEvent("input"),c=a&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),g=a&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;a&&/Android/.test(navigator.userAgent);let h=a&&/^(?=.*Chrome).*/i.test(navigator.userAgent),f=a&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!h,p=l.createCommand("DRAG_DROP_PASTE_FILE");class _ extends l.ElementNode{static getType(){return"quote"}static clone(e){return new _(e.__key)}constructor(e){super(e)}createDOM(e){let t=document.createElement("blockquote");return o.addClassNamesToElement(t,e.theme.quote),t}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:E,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&o.isHTMLElement(e)){this.isEmpty()&&e.append(document.createElement("br"));var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}static importJSON(e){let t=m();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,t){e=l.$createParagraphNode();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=l.$createParagraphNode();return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}}function m(){return l.$applyNodeReplacement(new _)}class C extends l.ElementNode{static getType(){return"heading"}static clone(e){return new C(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){let t=this.__tag,n=document.createElement(t);return void 0!==(e=e.theme.heading)&&o.addClassNamesToElement(n,e[t]),n}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:y,priority:0}),h2:()=>({conversion:y,priority:0}),h3:()=>({conversion:y,priority:0}),h4:()=>({conversion:y,priority:0}),h5:()=>({conversion:y,priority:0}),h6:()=>({conversion:y,priority:0}),p:e=>null!==(e=e.firstChild)&&N(e)?{conversion:()=>({node:null}),priority:3}:null,span:e=>N(e)?{conversion:()=>({node:v("h1")}),priority:3}:null}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&o.isHTMLElement(e)){this.isEmpty()&&e.append(document.createElement("br"));var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t)}return{element:e}}static importJSON(e){let t=v(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,t=!0){let n=e?e.anchor.offset:0,r=n!==this.getTextContentSize()&&e?v(this.getTag()):l.$createParagraphNode(),i=this.getDirection();return r.setDirection(i),this.insertAfter(r,t),0===n&&!this.isEmpty()&&e&&((e=l.$createParagraphNode()).select(),this.replace(e,!0)),r}collapseAtStart(){let e=this.isEmpty()?l.$createParagraphNode():v(this.getTag());return this.getChildren().forEach((t=>e.append(t))),this.replace(e),!0}extractWithChild(){return!0}}function N(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function y(e){let t=e.nodeName.toLowerCase(),n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=v(t),null!==e.style&&n.setFormat(e.style.textAlign)),{node:n}}function E(e){let t=m();return null!==e.style&&t.setFormat(e.style.textAlign),{node:t}}function v(e){return l.$applyNodeReplacement(new C(e))}function T(e){let t=null;if(e instanceof DragEvent?t=e.dataTransfer:e instanceof ClipboardEvent&&(t=e.clipboardData),null===t)return[!1,[],!1];var n=t.types;return e=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[e,Array.from(t.files),n]}function S(e){var t=l.$getSelection();if(!l.$isRangeSelection(t))return!1;let n=new Set;t=t.getNodes();for(let l=0;l<t.length;l++){var r=t[l],i=r.getKey();n.has(i)||(i=(r=o.$getNearestBlockElementAncestorOrThrow(r)).getKey(),r.canIndent()&&!n.has(i)&&(n.add(i),e(r)))}return 0<n.size}function x(e){return e=l.$getNearestNodeFromDOMNode(e),l.$isDecoratorNode(e)}t.$createHeadingNode=v,t.$createQuoteNode=m,t.$isHeadingNode=function(e){return e instanceof C},t.$isQuoteNode=function(e){return e instanceof _},t.DRAG_DROP_PASTE=p,t.HeadingNode=C,t.QuoteNode=_,t.eventFiles=T,t.registerRichText=function(e){return o.mergeRegister(e.registerCommand(l.CLICK_COMMAND,(()=>{const e=l.$getSelection();return!!l.$isNodeSelection(e)&&(e.clear(),!0)}),0),e.registerCommand(l.DELETE_CHARACTER_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DELETE_WORD_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.deleteWord(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DELETE_LINE_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.deleteLine(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.CONTROLLED_TEXT_INSERTION_COMMAND,(t=>{const n=l.$getSelection();if("string"==typeof t)l.$INTERNAL_isPointSelection(n)&&n.insertText(t);else{if(!l.$INTERNAL_isPointSelection(n))return!1;const i=t.dataTransfer;null!=i?r.$insertDataTransferForRichText(i,n,e):l.$isRangeSelection(n)&&(t=t.data)&&n.insertText(t)}return!0}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.REMOVE_TEXT_COMMAND,(()=>{const e=l.$getSelection();return!!l.$isRangeSelection(e)&&(e.removeText(),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.FORMAT_TEXT_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.formatText(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.FORMAT_ELEMENT_COMMAND,(e=>{var t=l.$getSelection();if(!l.$isRangeSelection(t)&&!l.$isNodeSelection(t))return!1;t=t.getNodes();for(const n of t)null!==(t=o.$findMatchingParent(n,(e=>l.$isElementNode(e)&&!e.isInline())))&&t.setFormat(e);return!0}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.INSERT_LINE_BREAK_COMMAND,(e=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.INSERT_PARAGRAPH_COMMAND,(()=>{const e=l.$getSelection();return!!l.$isRangeSelection(e)&&(e.insertParagraph(),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.INSERT_TAB_COMMAND,(()=>(l.$insertNodes([l.$createTabNode()]),!0)),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.INDENT_CONTENT_COMMAND,(()=>S((e=>{const t=e.getIndent();e.setIndent(t+1)}))),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.OUTDENT_CONTENT_COMMAND,(()=>S((e=>{const t=e.getIndent();0<t&&e.setIndent(t-1)}))),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ARROW_UP_COMMAND,(e=>{var t=l.$getSelection();if(l.$isNodeSelection(t)&&!x(e.target)){if(0<(e=t.getNodes()).length)return e[0].selectPrevious(),!0}else if(l.$isRangeSelection(t)&&(t=l.$getAdjacentNode(t.focus,!0),!e.shiftKey&&l.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline()))return t.selectPrevious(),e.preventDefault(),!0;return!1}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ARROW_DOWN_COMMAND,(e=>{var t=l.$getSelection();if(l.$isNodeSelection(t)){if(0<(e=t.getNodes()).length)return e[0].selectNext(0,0),!0}else if(l.$isRangeSelection(t)){let n=t.focus;if("root"===n.key&&n.offset===l.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(t=l.$getAdjacentNode(t.focus,!1),!e.shiftKey&&l.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectNext(),e.preventDefault(),!0}return!1}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ARROW_LEFT_COMMAND,(e=>{const t=l.$getSelection();if(l.$isNodeSelection(t)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectPrevious(),!0}return!!l.$isRangeSelection(t)&&(!!i.$shouldOverrideDefaultCharacterSelection(t,!0)&&(n=e.shiftKey,e.preventDefault(),i.$moveCharacter(t,n,!0),!0))}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ARROW_RIGHT_COMMAND,(e=>{const t=l.$getSelection();if(l.$isNodeSelection(t)&&!x(e.target)){var n=t.getNodes();if(0<n.length)return e.preventDefault(),n[0].selectNext(0,0),!0}return!!l.$isRangeSelection(t)&&(n=e.shiftKey,!!i.$shouldOverrideDefaultCharacterSelection(t,!1)&&(e.preventDefault(),i.$moveCharacter(t,n,!1),!0))}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_BACKSPACE_COMMAND,(t=>{if(x(t.target))return!1;const n=l.$getSelection();if(!l.$isRangeSelection(n))return!1;t.preventDefault(),({anchor:t}=n);const r=t.getNode();return n.isCollapsed()&&0===t.offset&&!l.$isRootNode(r)&&0<o.$getNearestBlockElementAncestorOrThrow(r).getIndent()?e.dispatchCommand(l.OUTDENT_CONTENT_COMMAND,void 0):e.dispatchCommand(l.DELETE_CHARACTER_COMMAND,!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_DELETE_COMMAND,(t=>{if(x(t.target))return!1;const n=l.$getSelection();return!!l.$isRangeSelection(n)&&(t.preventDefault(),e.dispatchCommand(l.DELETE_CHARACTER_COMMAND,!1))}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ENTER_COMMAND,(t=>{const n=l.$getSelection();if(!l.$isRangeSelection(n))return!1;if(null!==t){if((g||c||f)&&d)return!1;if(t.preventDefault(),t.shiftKey)return e.dispatchCommand(l.INSERT_LINE_BREAK_COMMAND,!1)}return e.dispatchCommand(l.INSERT_PARAGRAPH_COMMAND,void 0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.KEY_ESCAPE_COMMAND,(()=>{const t=l.$getSelection();return!!l.$isRangeSelection(t)&&(e.blur(),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DROP_COMMAND,(t=>{const[,n]=T(t);if(0<n.length){var r=s(t.clientX,t.clientY);if(null!==r){const{offset:t,node:o}=r;var i=l.$getNearestNodeFromDOMNode(o);if(null!==i){if(r=l.$createRangeSelection(),l.$isTextNode(i))r.anchor.set(i.getKey(),t,"text"),r.focus.set(i.getKey(),t,"text");else{const e=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(e,i,"element"),r.focus.set(e,i,"element")}r=l.$normalizeSelection__EXPERIMENTAL(r),l.$setSelection(r)}e.dispatchCommand(p,n)}return t.preventDefault(),!0}return t=l.$getSelection(),!!l.$isRangeSelection(t)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DRAGSTART_COMMAND,(e=>{[e]=T(e);const t=l.$getSelection();return!(e&&!l.$isRangeSelection(t))}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.DRAGOVER_COMMAND,(e=>{var[t]=T(e);const n=l.$getSelection();return!(t&&!l.$isRangeSelection(n))&&(null!==(t=s(e.clientX,e.clientY))&&(t=l.$getNearestNodeFromDOMNode(t.node),l.$isDecoratorNode(t)&&e.preventDefault()),!0)}),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.SELECT_ALL_COMMAND,(()=>(l.$selectAll(),!0)),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.COPY_COMMAND,(t=>(r.copyToClipboard(e,o.objectKlassEquals(t,ClipboardEvent)?t:null),!0)),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.CUT_COMMAND,(t=>(async function(e,t){await r.copyToClipboard(t,o.objectKlassEquals(e,ClipboardEvent)?e:null),t.update((()=>{let e=l.$getSelection();l.$isRangeSelection(e)?e.removeText():l.$isNodeSelection(e)&&e.getNodes().forEach((e=>e.remove()))}))}(t,e),!0)),l.COMMAND_PRIORITY_EDITOR),e.registerCommand(l.PASTE_COMMAND,(t=>{const[,n,i]=T(t);if(0<n.length&&!i)return e.dispatchCommand(p,n),!0;if(l.isSelectionCapturedInDecoratorInput(t.target))return!1;const o=l.$getSelection();return!!l.$INTERNAL_isPointSelection(o)&&(function(e,t){e.preventDefault(),t.update((()=>{let n=l.$getSelection(),i=e instanceof InputEvent||e instanceof KeyboardEvent?null:e.clipboardData;null!=i&&l.$INTERNAL_isPointSelection(n)&&r.$insertDataTransferForRichText(i,n,t)}),{tag:"paste"})}(t,e),!0)}),l.COMMAND_PRIORITY_EDITOR))}},89408:(e,t,n)=>{"use strict";const r=n(49235);e.exports=r},49235:(e,t,n)=>{"use strict";var r=n(32998);let i=new Map;function o(e){for(;null!=e;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function l(e){let t=e.parentNode;if(null==t)throw Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function s(e){let t={};e=e.split(";");for(let n of e)if(""!==n){let[e,r]=n.split(/:([^]+)/);e&&r&&(t[e.trim()]=r.trim())}return t}function a(e){let t=i.get(e);return void 0===t&&(t=s(e),i.set(e,t)),t}function u(e,t){var n=a("getStyle"in e?e.getStyle():e.style);n=function(e){let t="";for(let n in e)n&&(t+=`${n}: ${e[n]};`);return t}(t=Object.entries(t).reduce(((e,[t,n])=>(null===n?delete e[t]:e[t]=n,e)),{...n})),e.setStyle(n),i.set(n,t)}function d(e){for(;null!==e&&!r.$isRootOrShadowRoot(e);){let t=e.getLatest(),n=e.getParent();0===t.getChildrenSize()&&e.remove(!0),e=n}}function c(e,t,n,i,o=null){if(0!==t.length){var l=t[0],s=new Map,a=[];(l=r.$isElementNode(l)?l:l.getParentOrThrow()).isInline()&&(l=l.getParentOrThrow());for(var u=!1;null!==l;){var c=l.getPreviousSibling();if(null!==c){l=c,u=!0;break}if(l=l.getParentOrThrow(),r.$isRootOrShadowRoot(l))break}c=new Set;for(var g=0;g<n;g++){var h=t[g];r.$isElementNode(h)&&0===h.getChildrenSize()&&c.add(h.getKey())}var f=new Set;for(g=0;g<n;g++){var p=(h=t[g]).getParent();if(null!==p&&p.isInline()&&(p=p.getParent()),null!==p&&r.$isLeafNode(h)&&!f.has(h.getKey())){if(h=p.getKey(),void 0===s.get(h)){let e=i();e.setFormat(p.getFormatType()),e.setIndent(p.getIndent()),a.push(e),s.set(h,e),p.getChildren().forEach((t=>{e.append(t),f.add(t.getKey()),r.$isElementNode(t)&&t.getChildrenKeys().forEach((e=>f.add(e)))})),d(p)}}else c.has(h.getKey())&&((p=i()).setFormat(h.getFormatType()),p.setIndent(h.getIndent()),a.push(p),h.remove(!0))}if(null!==o)for(t=0;t<a.length;t++)o.append(a[t]);if(t=null,r.$isRootOrShadowRoot(l))if(u)if(null!==o)l.insertAfter(o);else for(o=a.length-1;0<=o;o--)l.insertAfter(a[o]);else if(u=l.getFirstChild(),r.$isElementNode(u)&&(l=u),null===u)if(o)l.append(o);else for(o=0;o<a.length;o++)u=a[o],l.append(u),t=u;else if(null!==o)u.insertBefore(o);else for(l=0;l<a.length;l++)o=a[l],u.insertBefore(o),t=o;else if(o)l.insertAfter(o);else for(o=a.length-1;0<=o;o--)u=a[o],l.insertAfter(u),t=u;a=r.$getPreviousSelection(),r.$isRangeSelection(a)&&a.anchor.getNode().isAttached()&&a.focus.getNode().isAttached()?r.$setSelection(a.clone()):null!==t?t.selectEnd():e.dirty=!0}}function g(e,t,n,r){e.modify(t?"extend":"move",n,r)}function h(e){return e=e.anchor.getNode(),"rtl"===(r.$isRootNode(e)?e:e.getParentOrThrow()).getDirection()}function f(e){if(r.$isDecoratorNode(e)&&!e.isInline())return!0;if(!r.$isElementNode(e)||r.$isRootOrShadowRoot(e))return!1;var t=e.getFirstChild();return t=null===t||r.$isLineBreakNode(t)||r.$isTextNode(t)||t.isInline(),!e.isInline()&&!1!==e.canBeEmpty()&&t}t.$addNodeStyle=function(e){let t=s(e=e.getStyle());i.set(e,t)},t.$cloneWithProperties=function(e){let t=e.constructor.clone(e);return t.__parent=e.__parent,t.__next=e.__next,t.__prev=e.__prev,r.$isElementNode(e)&&r.$isElementNode(t)?(t.__first=e.__first,t.__last=e.__last,t.__size=e.__size,t.__format=e.__format,t.__indent=e.__indent,t.__dir=e.__dir,t):(r.$isTextNode(e)&&r.$isTextNode(t)&&(t.__format=e.__format,t.__style=e.__style,t.__mode=e.__mode,t.__detail=e.__detail),t)},t.$getSelectionStyleValueForProperty=function(e,t,n=""){let i=null,o=e.getNodes();var l=e.anchor,s=e.focus,u=e.isBackward();let d=u?s.offset:l.offset;if(l=u?s.getNode():l.getNode(),e.isCollapsed()&&""!==e.style&&(null!==(e=a(e.style))&&t in e))return e[t];for(e=0;e<o.length;e++){var c=o[e];if((0===e||0!==d||!c.is(l))&&r.$isTextNode(c))if(s=t,u=n,s=null!==(c=a(c=c.getStyle()))&&c[s]||u,null===i)i=s;else if(i!==s){i="";break}}return null===i?n:i},t.$isAtNodeEnd=function(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()},t.$isParentElementRTL=h,t.$moveCaretSelection=g,t.$moveCharacter=function(e,t,n){let r=h(e);g(e,t,n?!r:r,"character")},t.$patchStyleText=function e(t,n){var i=t.getNodes(),o=i.length;if(r.DEPRECATED_$isGridSelection(t)){for(var l=r.$createRangeSelection(),s=l.anchor,a=l.focus,d=0;d<o;d++){var c=i[d];r.DEPRECATED_$isGridCellNode(c)&&(s.set(c.getKey(),0,"element"),a.set(c.getKey(),c.getChildrenSize(),"element"),e(r.$normalizeSelection__EXPERIMENTAL(l),n))}r.$setSelection(t)}else if(--o,l=i[0],s=i[o],t.isCollapsed()&&r.$isRangeSelection(t))u(t,n);else{d=t.anchor;var g=t.focus;c=l.getTextContent().length;var h=g.offset,f=d.offset,p=d.isBefore(g);a=p?f:h,t=p?h:f;var _=p?d.type:g.type,m=p?g.type:d.type;if(g=p?g.key:d.key,r.$isTextNode(l)&&a===c&&(p=l.getNextSibling(),r.$isTextNode(p)&&(a=f=0,l=p)),1===i.length)r.$isTextNode(l)&&((a="element"===_?0:f>h?h:f)!==(t="element"===m?c:f>h?f:h)&&(0===a&&t===c?(u(l,n),l.select(a,t)):(i=l.splitText(a,t),u(i=0===a?i[0]:i[1],n),i.select(0,t-a))));else for(r.$isTextNode(l)&&a<l.getTextContentSize()&&(0!==a&&(l=l.splitText(a)[1],a=0,d.set(l.getKey(),a,"text")),u(l,n)),r.$isTextNode(s)&&(a=s.getTextContent().length,s.__key!==g&&0!==t&&(t=a),t!==a&&([s]=s.splitText(t)),0!==t&&u(s,n)),t=1;t<o;t++)d=(a=i[t]).getKey(),r.$isTextNode(a)&&d!==l.getKey()&&d!==s.getKey()&&!a.isToken()&&u(a,n)}},t.$selectAll=function(e){let t=e.anchor;e=e.focus;var n=t.getNode().getTopLevelElementOrThrow().getParentOrThrow();let i=n.getFirstDescendant();n=n.getLastDescendant();let o="element",l="element",s=0;r.$isTextNode(i)?o="text":r.$isElementNode(i)||null===i||(i=i.getParentOrThrow()),r.$isTextNode(n)?(l="text",s=n.getTextContentSize()):r.$isElementNode(n)||null===n||(n=n.getParentOrThrow()),i&&n&&(t.set(i.getKey(),0,o),e.set(n.getKey(),s,l))},t.$setBlocksType=function(e,t){if("root"===e.anchor.key){t=t();var n=r.$getRoot();(e=n.getFirstChild())?e.replace(t,!0):n.append(t)}else{for(n=e.getNodes(),e=e.anchor.getNode();null!==e&&null!==e.getParent()&&!f(e);)e=e.getParentOrThrow();for((e=f(e)?e:null)&&-1===n.indexOf(e)&&n.push(e),e=0;e<n.length;e++){let r=n[e];if(!f(r))continue;let i=t();i.setFormat(r.getFormatType()),i.setIndent(r.getIndent()),r.replace(i,!0)}}},t.$shouldOverrideDefaultCharacterSelection=function(e,t){return e=r.$getAdjacentNode(e.focus,t),r.$isDecoratorNode(e)&&!e.isIsolated()||r.$isElementNode(e)&&!e.isInline()&&!e.canBeEmpty()},t.$sliceSelectedTextNodeContent=function(e,t){if(t.isSelected()&&!t.isSegmented()&&!t.isToken()&&r.$INTERNAL_isPointSelection(e)){var n=e.anchor.getNode(),i=e.focus.getNode(),o=t.is(n),l=t.is(i);if(o||l){o=e.isBackward();let r,[s,a]=e.getCharacterOffsets();e=n.is(i),l=t.is(o?i:n),i=t.is(o?n:i),n=0,e?(n=s>a?a:s,r=s>a?s:a):l?(n=o?a:s,r=void 0):i&&(n=0,r=o=o?s:a),t.__text=t.__text.slice(n,r)}}return t},t.$wrapNodes=function(e,t,n=null){var i=e.getNodes();let o=i.length;var l=e.anchor;if(0===o||1===o&&"element"===l.type&&0===l.getNode().getChildrenSize()){i=(e="text"===l.type?l.getNode().getParentOrThrow():l.getNode()).getChildren();let r=t();r.setFormat(e.getFormatType()),r.setIndent(e.getIndent()),i.forEach((e=>r.append(e))),n&&(r=n.append(r)),e.replace(r)}else{l=null;var s=[];for(let a=0;a<o;a++){let o=i[a];r.$isRootOrShadowRoot(o)?(c(e,s,s.length,t,n),s=[],l=o):null===l||null!==l&&r.$hasAncestor(o,l)?s.push(o):(c(e,s,s.length,t,n),s=[o])}c(e,s,s.length,t,n)}},t.createDOMRange=function(e,t,n,i,s){let a=t.getKey(),u=i.getKey(),d=document.createRange(),c=e.getElementByKey(a);if(e=e.getElementByKey(u),r.$isTextNode(t)&&(c=o(c)),r.$isTextNode(i)&&(e=o(e)),void 0===t||void 0===i||null===c||null===e)return null;"BR"===c.nodeName&&([c,n]=l(c)),"BR"===e.nodeName&&([e,s]=l(e)),t=c.firstChild,c===e&&null!=t&&"BR"===t.nodeName&&0===n&&0===s&&(s=1);try{d.setStart(c,n),d.setEnd(e,s)}catch(g){return null}return!d.collapsed||n===s&&a===u||(d.setStart(e,s),d.setEnd(c,n)),d},t.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];e=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);let r,i=(t=Array.from(t.getClientRects())).length;t.sort(((e,t)=>{let n=e.top-t.top;return 3>=Math.abs(n)?e.left-t.left:n}));for(let o=0;o<i;o++){let l=t[o],s=l.width+n===e.width;r&&r.top<=l.top&&r.top+r.height>l.top&&r.left+r.width>l.left||s?(t.splice(o--,1),i--):r=l}return t},t.getStyleObjectFromCSS=a,t.trimTextContentFromAnchor=function(e,t,n){let i=t.getNode();if(r.$isElementNode(i)){var o=i.getDescendantByIndex(t.offset);null!==o&&(i=o)}for(;0<n&&null!==i;){r.$isElementNode(i)&&(null!==(o=i.getLastDescendant())&&(i=o));var l=i.getPreviousSibling(),s=0;if(null===l){for(var a=(o=i.getParentOrThrow()).getPreviousSibling();null===a;){if(null===(o=o.getParent())){l=null;break}a=o.getPreviousSibling()}null!==o&&(s=o.isInline()?0:2,l=a)}if(""===(a=i.getTextContent())&&r.$isElementNode(i)&&!i.isInline()&&(a="\n\n"),o=a.length,!r.$isTextNode(i)||n>=o)a=i.getParent(),i.remove(),null==a||0!==a.getChildrenSize()||r.$isRootNode(a)||a.remove(),n-=o+s,i=l;else{let u=i.getKey();s=e.getEditorState().read((()=>{const e=r.$getNodeByKey(u);return r.$isTextNode(e)&&e.isSimpleText()?e.getTextContent():null})),l=o-n;let d=a.slice(0,l);null!==s&&s!==a?(n=r.$getPreviousSelection(),o=i,i.isSimpleText()?i.setTextContent(s):(o=r.$createTextNode(s),i.replace(o)),r.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,o.select(n,n))):i.isSimpleText()?(s=t.key===u,(a=t.offset)<n&&(a=o),n=s?a-n:0,o=s?a:l,s&&0===n?([n]=i.splitText(n,o),n.remove()):([,n]=i.splitText(n,o),n.remove())):(n=r.$createTextNode(d),i.replace(n)),n=0}}}},91058:(e,t,n)=>{"use strict";const r=n(59957);e.exports=r},59957:(e,t,n)=>{"use strict";var r=n(32998),i=n(76969);let o=/^(\d+(?:\.\d+)?)px$/,l={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class s extends r.DEPRECATED_GridCellNode{static getType(){return"tablecell"}static clone(e){let t=new s(e.__headerState,e.__colSpan,e.__width,e.__key);return t.__rowSpan=e.__rowSpan,t.__backgroundColor=e.__backgroundColor,t}static importDOM(){return{td:()=>({conversion:a,priority:0}),th:()=>({conversion:a,priority:0})}}static importJSON(e){let t=e.rowSpan||1,n=u(e.headerState,e.colSpan||1,e.width||void 0);return n.__rowSpan=t,n.__backgroundColor=e.backgroundColor||null,n}constructor(e=l.NO_STATUS,t=1,n,r){super(t,r),this.__headerState=e,this.__width=n,this.__backgroundColor=null}createDOM(e){let t=document.createElement(this.getTag());return this.__width&&(t.style.width=`${this.__width}px`),1<this.__colSpan&&(t.colSpan=this.__colSpan),1<this.__rowSpan&&(t.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(t.style.backgroundColor=this.__backgroundColor),i.addClassNamesToElement(t,e.theme.tableCell,this.hasHeader()&&e.theme.tableCellHeader),t}exportDOM(e){if(({element:e}=super.exportDOM(e)),e){var t=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",1<this.__colSpan&&(e.colSpan=this.__colSpan),1<this.__rowSpan&&(e.rowSpan=this.__rowSpan),e.style.width=`${this.getWidth()||Math.max(90,700/t)}px`,e.style.verticalAlign="top",e.style.textAlign="start",null!==(t=this.getBackgroundColor())?e.style.backgroundColor=t:this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:e}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),headerState:this.__headerState,type:"tablecell",width:this.getWidth()}}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}toggleHeaderStyle(e){let t=this.getWritable();return t.__headerState=(t.__headerState&e)===e?t.__headerState-e:t.__headerState+e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==l.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function a(e){var t=e.nodeName.toLowerCase();let n;return o.test(e.style.width)&&(n=parseFloat(e.style.width)),(t=u("th"===t?l.ROW:l.NO_STATUS,e.colSpan,n)).__rowSpan=e.rowSpan,""!==(e=e.style.backgroundColor)&&(t.__backgroundColor=e),{forChild:(e,t)=>d(t)&&!r.$isElementNode(e)?(t=r.$createParagraphNode(),r.$isLineBreakNode(e)&&"\n"===e.getTextContent()?null:(t.append(e),t)):e,node:t}}function u(e,t=1,n){return r.$applyNodeReplacement(new s(e,t,n))}function d(e){return e instanceof s}class c extends r.DEPRECATED_GridRowNode{static getType(){return"tablerow"}static clone(e){return new c(e.__height,e.__key)}static importDOM(){return{tr:()=>({conversion:g,priority:0})}}static importJSON(e){return h(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){return{...super.exportJSON(),type:"tablerow",version:1}}createDOM(e){let t=document.createElement("tr");return this.__height&&(t.style.height=`${this.__height}px`),i.addClassNamesToElement(t,e.theme.tableRow),t}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function g(e){let t;return o.test(e.style.height)&&(t=parseFloat(e.style.height)),{node:h(t)}}function h(e){return r.$applyNodeReplacement(new c(e))}function f(e){return e instanceof c}function p(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let _="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;class m{constructor(e,t){this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.grid={cells:[],columns:0,rows:0},this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.trackTableGrid()}getGrid(){return this.grid}removeListeners(){Array.from(this.listenersToRemove).forEach((e=>e()))}trackTableGrid(){let e=new MutationObserver((e=>{this.editor.update((()=>{var t=!1;for(let n=0;n<e.length;n++){const r=e[n].target.nodeName;if("TABLE"===r||"TR"===r){t=!0;break}}if(t){if(!(t=this.editor.getElementByKey(this.tableNodeKey)))throw Error("Expected to find TableElement in DOM");this.grid=N(t)}}))}));this.editor.update((()=>{let t=this.editor.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");this.grid=N(t),e.observe(t,{childList:!0,subtree:!0})}))}clearHighlight(){let e=this.editor;this.isHighlightingCells=!1,this.focusY=this.focusX=this.anchorY=this.anchorX=-1,this.focusCell=this.anchorCell=this.focusCellNodeKey=this.anchorCellNodeKey=this.gridSelection=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update((()=>{var t=r.$getNodeByKey(this.tableNodeKey);if(!k(t))throw Error("Expected TableNode.");if(!(t=e.getElementByKey(this.tableNodeKey)))throw Error("Expected to find TableElement in DOM");t=N(t),y(e,t,null),r.$setSelection(null),e.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0)}))}enableHighlightStyle(){let e=this.editor;e.update((()=>{let t=e.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");i.removeClassNamesFromElement(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1}))}disableHighlightStyle(){let e=this.editor;e.update((()=>{let t=e.getElementByKey(this.tableNodeKey);if(!t)throw Error("Expected to find TableElement in DOM");i.addClassNamesToElement(t,e._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0}))}updateTableGridSelection(e){if(null!=e&&e.gridKey===this.tableNodeKey){let t=this.editor;this.gridSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),y(t,this.grid,this.gridSelection)}else null==e?this.clearHighlight():(this.tableNodeKey=e.gridKey,this.updateTableGridSelection(e))}setFocusCellForSelection(e,t=!1){let n=this.editor;n.update((()=>{var i=r.$getNodeByKey(this.tableNodeKey);if(!k(i))throw Error("Expected TableNode.");if(!n.getElementByKey(this.tableNodeKey))throw Error("Expected to find TableElement in DOM");i=e.x;let o=e.y;if(this.focusCell=e,null!==this.anchorCell){let e=_?(n._window||window).getSelection():null;e&&e.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(this.isHighlightingCells||this.anchorX===i&&this.anchorY===o&&!t){if(i===this.focusX&&o===this.focusY)return}else this.isHighlightingCells=!0,this.disableHighlightStyle();this.focusX=i,this.focusY=o,this.isHighlightingCells&&(i=r.$getNearestNodeFromDOMNode(e.elem),null!=this.gridSelection&&null!=this.anchorCellNodeKey&&d(i)&&(i=i.getKey(),this.gridSelection=this.gridSelection.clone()||r.DEPRECATED_$createGridSelection(),this.focusCellNodeKey=i,this.gridSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),r.$setSelection(this.gridSelection),n.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0),y(n,this.grid,this.gridSelection)))}))}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update((()=>{var t=r.$getNearestNodeFromDOMNode(e.elem);d(t)&&(t=t.getKey(),this.gridSelection=null!=this.gridSelection?this.gridSelection.clone():r.DEPRECATED_$createGridSelection(),this.anchorCellNodeKey=t)}))}formatCells(e){this.editor.update((()=>{let t=r.$getSelection();r.DEPRECATED_$isGridSelection(t)||p(11);let n=r.$createRangeSelection(),i=n.anchor,o=n.focus;t.getNodes().forEach((t=>{d(t)&&0!==t.getTextContentSize()&&(i.set(t.getKey(),0,"element"),o.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e))})),r.$setSelection(t),this.editor.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0)}))}clearText(){let e=this.editor;e.update((()=>{let t=r.$getNodeByKey(this.tableNodeKey);if(!k(t))throw Error("Expected TableNode.");var n=r.$getSelection();r.DEPRECATED_$isGridSelection(n)||p(11),(n=n.getNodes().filter(d)).length===this.grid.columns*this.grid.rows?(t.selectPrevious(),t.remove(),r.$getRoot().selectStart()):(n.forEach((e=>{if(r.$isElementNode(e)){let t=r.$createParagraphNode(),n=r.$createTextNode();t.append(n),e.append(t),e.getChildren().forEach((e=>{e!==t&&e.remove()}))}})),y(e,this.grid,null),r.$setSelection(null),e.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0))}))}}function C(e){for(;null!=e;){let t=e.nodeName;if("TD"===t||"TH"===t){if(void 0===(e=e._cell))break;return e}e=e.parentNode}return null}function N(e){let t=[],n={cells:t,columns:0,rows:0};var r=e.firstChild;let i=e=0;for(t.length=0;null!=r;){var o=r.nodeName;if("TD"===o||"TH"===o){o={elem:o=r,hasBackgroundColor:""!==o.style.backgroundColor,highlighted:!1,x:e,y:i},r._cell=o;let n=t[i];void 0===n&&(n=t[i]=[]),n[e]=o}else if(null!=(o=r.firstChild)){r=o;continue}if(null!=(o=r.nextSibling))e++,r=o;else if(null!=(o=r.parentNode)){if(null==(r=o.nextSibling))break;i++,e=0}}return n.columns=e+1,n.rows=i+1,n}function y(e,t,n){let r=new Set(n?n.getNodes():[]);E(t,((t,n)=>{let i=t.elem;r.has(n)?(t.highlighted=!0,x(e,t)):(t.highlighted=!1,O(e,t),i.getAttribute("style")||i.removeAttribute("style"))}))}function E(e,t){({cells:e}=e);for(let n=0;n<e.length;n++){let i=e[n];if(i)for(let e=0;e<i.length;e++){let o=i[e];if(!o)continue;let l=r.$getNearestNodeFromDOMNode(o.elem);null!==l&&t(o,l,{x:e,y:n})}}}function v(e,t){t.disableHighlightStyle(),E(t.grid,(t=>{t.highlighted=!0,x(e,t)}))}let T=(e,t,n,r,i)=>{const o="forward"===i;switch(i){case"backward":case"forward":return n!==(o?e.grid.columns-1:0)?(e=t.getCellNodeFromCordsOrThrow(n+(o?1:-1),r,e.grid),o?e.selectStart():e.selectEnd()):r!==(o?e.grid.rows-1:0)?(e=t.getCellNodeFromCordsOrThrow(o?0:e.grid.columns-1,r+(o?1:-1),e.grid),o?e.selectStart():e.selectEnd()):o?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==r?t.getCellNodeFromCordsOrThrow(n,r-1,e.grid).selectEnd():t.selectPrevious(),!0;case"down":return r!==e.grid.rows-1?t.getCellNodeFromCordsOrThrow(n,r+1,e.grid).selectStart():t.selectNext(),!0;default:return!1}};function S(e,t){if(r.$isRangeSelection(e)||r.DEPRECATED_$isGridSelection(e)){let n=t.isParentOf(e.anchor.getNode());return e=t.isParentOf(e.focus.getNode()),n&&e}return!1}function x(e,t){e=t.elem,d(t=r.$getNearestNodeFromDOMNode(e))||p(131),null===t.getBackgroundColor()?e.style.setProperty("background-color","rgb(172,206,247)"):e.style.setProperty("background-image","linear-gradient(to right, rgba(172,206,247,0.85), rgba(172,206,247,0.85))"),e.style.setProperty("caret-color","transparent")}function O(e,t){e=t.elem,d(t=r.$getNearestNodeFromDOMNode(e))||p(131),null===t.getBackgroundColor()&&e.style.removeProperty("background-color"),e.style.removeProperty("background-image"),e.style.removeProperty("caret-color")}function b(e){return d(e=i.$findMatchingParent(e,d))?e:null}function R(e){return k(e=i.$findMatchingParent(e,k))?e:null}function M(e,t,n,o,l){let s=r.$getSelection();if(!S(s,o))return!1;if(r.$isRangeSelection(s)&&s.isCollapsed()){if("backward"===n||"forward"===n)return!1;let{anchor:r,focus:g}=s;var a=i.$findMatchingParent(r.getNode(),d),u=i.$findMatchingParent(g.getNode(),d);if(!d(a)||!a.is(u))return!1;if((u=R(a))!==o&&null!=u){var c=e.getElementByKey(u.getKey());if(null!=c)return l.grid=N(c),M(e,t,n,u,l)}if(u=e.getElementByKey(a.__key),null==(c=e.getElementByKey(r.key))||null==u)return!1;if("element"===r.type)u=c.getBoundingClientRect();else{if(null===(u=window.getSelection())||0===u.rangeCount)return!1;u=u.getRangeAt(0).getBoundingClientRect()}if(null==(c="up"===n?a.getFirstChild():a.getLastChild()))return!1;if(null==(e=e.getElementByKey(c.__key)))return!1;if(e=e.getBoundingClientRect(),"up"===n?e.top>u.top-u.height:u.bottom+u.height>e.bottom)return D(t),e=o.getCordsFromCellNode(a,l.grid),t.shiftKey?(n=o.getCellFromCordsOrThrow(e.x,e.y,l.grid),l.setAnchorCellForSelection(n),l.setFocusCellForSelection(n,!0),!0):T(l,o,e.x,e.y,n)}else if(r.DEPRECATED_$isGridSelection(s)){let{anchor:r,focus:g}=s;return c=i.$findMatchingParent(r.getNode(),d),u=i.$findMatchingParent(g.getNode(),d),[a]=s.getNodes(),e=e.getElementByKey(a.getKey()),d(c)&&d(u)&&k(a)&&null!=e?(l.updateTableGridSelection(s),e=N(e),c=o.getCordsFromCellNode(c,e),c=o.getCellFromCordsOrThrow(c.x,c.y,e),l.setAnchorCellForSelection(c),D(t),t.shiftKey?((e,t,n,r,i)=>{const o="forward"===i;switch(i){case"backward":case"forward":return n!==(o?e.grid.columns-1:0)&&e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n+(o?1:-1),r,e.grid)),!0;case"up":return 0!==r&&(e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n,r-1,e.grid)),!0);case"down":return r!==e.grid.rows-1&&(e.setFocusCellForSelection(t.getCellFromCordsOrThrow(n,r+1,e.grid)),!0);default:return!1}})(l,a,(t=o.getCordsFromCellNode(u,e)).x,t.y,n):(u.selectEnd(),!0)):!1}return!1}function D(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}class A extends r.DEPRECATED_GridNode{static getType(){return"table"}static clone(e){return new A(e.__key)}static importDOM(){return{table:()=>({conversion:w,priority:1})}}static importJSON(){return $()}constructor(e){super(e)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(e){let t=document.createElement("table");return i.addClassNamesToElement(t,e.theme.table),t}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:e=>{if(e){let t=e.cloneNode(),n=document.createElement("colgroup"),r=document.createElement("tbody");if(i.isHTMLElement(e)&&r.append(...e.children),!f(e=this.getFirstChildOrThrow()))throw Error("Expected to find row node.");e=e.getChildrenSize();for(let i=0;i<e;i++){let e=document.createElement("col");n.append(e)}return t.replaceChildren(n,r),t}}}}canExtractContents(){return!1}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){let{rows:n,cells:i}=t;for(t=0;t<n;t++){var o=i[t];if(null!=o&&-1!==(o=o.findIndex((t=>{if(t)return({elem:t}=t),r.$getNearestNodeFromDOMNode(t)===e}))))return{x:o,y:t}}throw Error("Cell not found in table.")}getCellFromCords(e,t,n){return({cells:n}=n),null==(t=n[t])||null==(e=t[e])?null:e}getCellFromCordsOrThrow(e,t,n){if(!(e=this.getCellFromCords(e,t,n)))throw Error("Cell not found at cords.");return e}getCellNodeFromCords(e,t,n){return null==(e=this.getCellFromCords(e,t,n))?null:d(e=r.$getNearestNodeFromDOMNode(e.elem))?e:null}getCellNodeFromCordsOrThrow(e,t,n){if(!(e=this.getCellNodeFromCords(e,t,n)))throw Error("Node at cords not TableCellNode.");return e}canSelectBefore(){return!0}canIndent(){return!1}}function w(){return{node:$()}}function $(){return r.$applyNodeReplacement(new A)}function k(e){return e instanceof A}function P(e){if(e=i.$findMatchingParent(e,(e=>f(e))),f(e))return e;throw Error("Expected table cell to be inside of table row.")}function I(e){if(e=i.$findMatchingParent(e,(e=>k(e))),k(e))return e;throw Error("Expected table cell to be inside of table.")}function L(e,t){let n=I(e),{x:r,y:i}=n.getCordsFromCellNode(e,t);return{above:n.getCellNodeFromCords(r,i-1,t),below:n.getCellNodeFromCords(r,i+1,t),left:n.getCellNodeFromCords(r-1,i,t),right:n.getCellNodeFromCords(r+1,i,t)}}function F(e){let t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}function B(e,t){let n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}let K=r.createCommand("INSERT_TABLE_COMMAND");t.$createTableCellNode=u,t.$createTableNode=$,t.$createTableNodeWithDimensions=function(e,t,n=!0){let i=$();for(let s=0;s<e;s++){let e=h();for(let i=0;i<t;i++){var o=l.NO_STATUS;"object"==typeof n?(0===s&&n.rows&&(o|=l.ROW),0===i&&n.columns&&(o|=l.COLUMN)):n&&(0===s&&(o|=l.ROW),0===i&&(o|=l.COLUMN)),o=u(o);let t=r.$createParagraphNode();t.append(r.$createTextNode()),o.append(t),e.append(o)}i.append(e)}return i},t.$createTableRowNode=h,t.$deleteTableColumn=function(e,t){let n=e.getChildren();for(let i=0;i<n.length;i++){var r=n[i];if(f(r)){if(t>=(r=r.getChildren()).length||0>t)throw Error("Table column target index out of range");r[t].remove()}}return e},t.$deleteTableColumn__EXPERIMENTAL=function(){var e=r.$getSelection();if(!r.$INTERNAL_isPointSelection(e))throw Error("Expected a INTERNAL_PointSelection");var t=e.anchor.getNode();e=e.focus.getNode();let[n,,i]=r.DEPRECATED_$getNodeTriplet(t);[t]=r.DEPRECATED_$getNodeTriplet(e);let[o,l,s]=r.DEPRECATED_$computeGridMap(i,n,t);var{startColumn:a}=l;let{startRow:u,startColumn:d}=s;e=Math.min(a,d);let c=(a=Math.max(a+n.__colSpan-1,d+t.__colSpan-1))-e+1;if(o[0].length===a-e+1)i.selectPrevious(),i.remove();else{var g=o.length;for(let t=0;t<g;t++)for(let n=e;n<=a;n++){let{cell:r,startColumn:i}=o[t][n];i<e?n===e&&r.setColSpan(r.__colSpan-Math.min(c,r.__colSpan-(e-i))):i+r.__colSpan-1>a?n===a&&r.setColSpan(r.__colSpan-(a-i+1)):r.remove()}void 0!==(t=(e=o[u])[d+t.__colSpan])?(({cell:t}=t),F(t)):(({cell:t}=e[d-1]),F(t))}},t.$deleteTableRow__EXPERIMENTAL=function(){var e=r.$getSelection();if(!r.$INTERNAL_isPointSelection(e))throw Error("Expected a INTERNAL_PointSelection");var t=e.anchor.getNode();e=e.focus.getNode();let[n,,i]=r.DEPRECATED_$getNodeTriplet(t);[e]=r.DEPRECATED_$getNodeTriplet(e);let[o,l,s]=r.DEPRECATED_$computeGridMap(i,n,e);({startRow:t}=l);var{startRow:a}=s;if(e=a+e.__rowSpan-1,o.length===e-t+1)i.remove();else{a=o[0].length;var u=o[e+1],d=i.getChildAtIndex(e+1);for(let n=e;n>=t;n--){for(var c=a-1;0<=c;c--){let{cell:r,startRow:i,startColumn:l}=o[n][c];if(l===c&&(n===t&&i<t&&r.setRowSpan(r.__rowSpan-(i-t)),i>=t&&i+r.__rowSpan-1>e))if(r.setRowSpan(r.__rowSpan-(e-i+1)),null===d&&p(122),0===c)B(d,r);else{let{cell:e}=u[c-1];e.insertAfter(r)}}c=i.getChildAtIndex(n),r.DEPRECATED_$isGridRowNode(c)||p(123,String(n)),c.remove()}void 0!==u?(({cell:t}=u[0]),F(t)):(({cell:t}=o[t-1][0]),F(t))}},t.$getElementGridForTableNode=function(e,t){if(null==(e=e.getElementByKey(t.getKey())))throw Error("Table Element Not Found");return N(e)},t.$getTableCellNodeFromLexicalNode=function(e){return e=i.$findMatchingParent(e,(e=>d(e))),d(e)?e:null},t.$getTableColumnIndexFromTableCellNode=function(e){return P(e).getChildren().findIndex((t=>t.is(e)))},t.$getTableNodeFromLexicalNodeOrThrow=I,t.$getTableRowIndexFromTableCellNode=function(e){let t=P(e);return I(t).getChildren().findIndex((e=>e.is(t)))},t.$getTableRowNodeFromTableCellNodeOrThrow=P,t.$insertTableColumn=function(e,t,n=!0,i,o){let s=e.getChildren(),a=[];for(let h=0;h<s.length;h++){let e=s[h];if(f(e))for(let n=0;n<i;n++){var c=e.getChildren();if(t>=c.length||0>t)throw Error("Table column target index out of range");d(c=c[t])||p(12);let{left:n,right:i}=L(c,o);var g=l.NO_STATUS;(n&&n.hasHeaderState(l.ROW)||i&&i.hasHeaderState(l.ROW))&&(g|=l.ROW),(g=u(g)).append(r.$createParagraphNode()),a.push({newTableCell:g,targetCell:c})}}return a.forEach((({newTableCell:e,targetCell:t})=>{n?t.insertAfter(e):t.insertBefore(e)})),e},t.$insertTableColumn__EXPERIMENTAL=function(e=!0){function t(){let e=u(l.NO_STATUS).append(r.$createParagraphNode());return null===g&&(g=e),e}var n=r.$getSelection();if(!r.$INTERNAL_isPointSelection(n))throw Error("Expected a PointSeleciton");var i=n.anchor.getNode();n=n.focus.getNode(),[i]=r.DEPRECATED_$getNodeTriplet(i);let[o,,s]=r.DEPRECATED_$getNodeTriplet(n),[a,d,c]=r.DEPRECATED_$computeGridMap(s,o,i);i=a.length,n=e?Math.max(d.startColumn,c.startColumn):Math.min(d.startColumn,c.startColumn),e=e?n+o.__colSpan-1:n-1,n=s.getFirstChild(),r.DEPRECATED_$isGridRowNode(n)||p(120);let g=null;var h=n;e:for(n=0;n<i;n++){0!==n&&(h=h.getNextSibling(),r.DEPRECATED_$isGridRowNode(h)||p(121));let i=a[n];if(0>e){B(h,t());continue}let{cell:o,startColumn:l,startRow:s}=i[e];if(l+o.__colSpan-1<=e){let r=o,l=s,a=e;for(;l!==n&&1<r.__rowSpan;){if(a-=o.__colSpan,!(0<=a)){h.append(t());continue e}{let{cell:e,startRow:t}=i[a];r=e,l=t}}r.insertAfter(t())}else o.setColSpan(o.__colSpan+1)}null!==g&&F(g)},t.$insertTableRow=function(e,t,n=!0,i,o){var s=e.getChildren();if(t>=s.length||0>t)throw Error("Table row target index out of range");if(!f(t=s[t]))throw Error("Row before insertion index does not exist.");for(s=0;s<i;s++){let e=t.getChildren(),i=e.length,s=h();for(let t=0;t<i;t++){var a=e[t];d(a)||p(12);let{above:n,below:i}=L(a,o);a=l.NO_STATUS;let c=n&&n.getWidth()||i&&i.getWidth()||void 0;(n&&n.hasHeaderState(l.COLUMN)||i&&i.hasHeaderState(l.COLUMN))&&(a|=l.COLUMN),(a=u(a,1,c)).append(r.$createParagraphNode()),s.append(a)}n?t.insertAfter(s):t.insertBefore(s)}return e},t.$insertTableRow__EXPERIMENTAL=function(e=!0){var t=r.$getSelection();if(!r.$INTERNAL_isPointSelection(t))throw Error("Expected a INTERNAL_PointSelection");t=t.focus.getNode();let[n,,i]=r.DEPRECATED_$getNodeTriplet(t),[o,s]=r.DEPRECATED_$computeGridMap(i,n,n);t=o[0].length;var{startRow:a}=s;if(e){var d=o[e=a+n.__rowSpan-1];a=h();for(var c=0;c<t;c++){let{cell:t,startRow:n}=d[c];n+t.__rowSpan-1<=e?a.append(u(l.NO_STATUS)):t.setRowSpan(t.__rowSpan+1)}t=i.getChildAtIndex(e),r.DEPRECATED_$isGridRowNode(t)||p(119),t.insertAfter(a)}else{for(d=o[a],e=h(),c=0;c<t;c++){let{cell:t,startRow:n}=d[c];n===a?e.append(u(l.NO_STATUS)):t.setRowSpan(t.__rowSpan+1)}t=i.getChildAtIndex(a),r.DEPRECATED_$isGridRowNode(t)||p(119),t.insertBefore(e)}},t.$isTableCellNode=d,t.$isTableNode=k,t.$isTableRowNode=f,t.$removeTableRowAtIndex=function(e,t){let n=e.getChildren();if(t>=n.length||0>t)throw Error("Expected table cell to be inside of table row.");return n[t].remove(),e},t.$unmergeCell=function(){var e=r.$getSelection();if(!r.$INTERNAL_isPointSelection(e))throw Error("Expected a INTERNAL_PointSelection");e=e.anchor.getNode();let[t,n,i]=r.DEPRECATED_$getNodeTriplet(e);e=t.__colSpan;let o=t.__rowSpan;if(1<e){for(var s=1;s<e;s++)t.insertAfter(u(l.NO_STATUS));t.setColSpan(1)}if(1<o){let c,[g,h]=r.DEPRECATED_$computeGridMap(i,t,t),{startColumn:f,startRow:_}=h;for(s=1;s<o;s++){var a=_+s;let t=g[a];c=(c||n).getNextSibling(),r.DEPRECATED_$isGridRowNode(c)||p(125);var d=null;for(let e=0;e<f;e++){let n=t[e],r=n.cell;n.startRow===a&&(d=r),1<r.__colSpan&&(e+=r.__colSpan-1)}if(null===d)for(d=0;d<e;d++)B(c,u(l.NO_STATUS));else for(a=0;a<e;a++)d.insertAfter(u(l.NO_STATUS))}t.setRowSpan(1)}},t.INSERT_TABLE_COMMAND=K,t.TableCellHeaderStates=l,t.TableCellNode=s,t.TableNode=A,t.TableRowNode=c,t.TableSelection=m,t.applyTableHandlers=function(e,t,n,o){function l(t){return t=e.getCordsFromCellNode(t,a.grid),e.getCellFromCordsOrThrow(t.x,t.y,a.grid)}let s=n.getRootElement();if(null===s)throw Error("No root element.");let a=new m(n,e.getKey()),u=n._window||window;t.__lexicalTableSelection=a,t.addEventListener("mousedown",(e=>{setTimeout((()=>{if(0===e.button&&u){var t=C(e.target);null!==t&&(D(e),a.setAnchorCellForSelection(t));var n=()=>{u.removeEventListener("mouseup",n),u.removeEventListener("mousemove",r)},r=e=>{const t=C(e.target);null===t||a.anchorX===t.x&&a.anchorY===t.y||(e.preventDefault(),a.setFocusCellForSelection(t))};u.addEventListener("mouseup",n),u.addEventListener("mousemove",r)}}),0)}));let c=e=>{0===e.button&&n.update((()=>{const t=r.$getSelection(),n=e.target;r.DEPRECATED_$isGridSelection(t)&&t.gridKey===a.tableNodeKey&&s.contains(n)&&a.clearHighlight()}))};u.addEventListener("mousedown",c),a.listenersToRemove.add((()=>u.removeEventListener("mousedown",c))),a.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_DOWN_COMMAND,(t=>M(n,t,"down",e,a)),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_UP_COMMAND,(t=>M(n,t,"up",e,a)),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_LEFT_COMMAND,(t=>M(n,t,"backward",e,a)),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.KEY_ARROW_RIGHT_COMMAND,(t=>M(n,t,"forward",e,a)),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.KEY_ESCAPE_COMMAND,(e=>{var t=r.$getSelection();return!(!r.DEPRECATED_$isGridSelection(t)||(t=i.$findMatchingParent(t.focus.getNode(),d),!d(t)))&&(D(e),t.selectEnd(),!0)}),r.COMMAND_PRIORITY_HIGH));return[r.DELETE_WORD_COMMAND,r.DELETE_LINE_COMMAND,r.DELETE_CHARACTER_COMMAND].forEach((t=>{a.listenersToRemove.add(n.registerCommand(t,(t=>()=>{var n=r.$getSelection();if(!S(n,e))return!1;if(r.DEPRECATED_$isGridSelection(n))return a.clearText(),!0;if(r.$isRangeSelection(n)){const s=i.$findMatchingParent(n.anchor.getNode(),(e=>d(e)));if(!d(s))return!1;var o=n.anchor.getNode(),l=n.focus.getNode();if(o=e.isParentOf(o),l=e.isParentOf(l),o&&!l||l&&!o)return a.clearText(),!0;if(o=(l=i.$findMatchingParent(n.anchor.getNode(),(e=>r.$isElementNode(e))))&&i.$findMatchingParent(l,(e=>r.$isElementNode(e)&&d(e.getParent()))),!r.$isElementNode(o)||!r.$isElementNode(l))return!1;if(t===r.DELETE_LINE_COMMAND&&null===o.getPreviousSibling())return!0;if((t===r.DELETE_CHARACTER_COMMAND||t===r.DELETE_WORD_COMMAND)&&n.isCollapsed()&&0===n.anchor.offset&&l!==o){n=l.getChildren();const e=r.$createParagraphNode();return n.forEach((t=>e.append(t))),l.replace(e),l.getWritable().__parent=s.getKey(),!0}}return!1})(t),r.COMMAND_PRIORITY_CRITICAL))})),t=t=>{const n=r.$getSelection();return!!S(n,e)&&(r.DEPRECATED_$isGridSelection(n)?(t.preventDefault(),t.stopPropagation(),a.clearText(),!0):(r.$isRangeSelection(n)&&(t=i.$findMatchingParent(n.anchor.getNode(),(e=>d(e))),d(t)),!1))},a.listenersToRemove.add(n.registerCommand(r.KEY_BACKSPACE_COMMAND,t,r.COMMAND_PRIORITY_CRITICAL)),a.listenersToRemove.add(n.registerCommand(r.KEY_DELETE_COMMAND,t,r.COMMAND_PRIORITY_CRITICAL)),a.listenersToRemove.add(n.registerCommand(r.FORMAT_TEXT_COMMAND,(t=>{let n=r.$getSelection();return!!S(n,e)&&(r.DEPRECATED_$isGridSelection(n)?(a.formatCells(t),!0):(r.$isRangeSelection(n)&&(t=i.$findMatchingParent(n.anchor.getNode(),(e=>d(e))),d(t)),!1))}),r.COMMAND_PRIORITY_CRITICAL)),a.listenersToRemove.add(n.registerCommand(r.CONTROLLED_TEXT_INSERTION_COMMAND,(()=>{var t=r.$getSelection();return!!S(t,e)&&(r.DEPRECATED_$isGridSelection(t)?a.clearHighlight():r.$isRangeSelection(t)&&(t=i.$findMatchingParent(t.anchor.getNode(),(e=>d(e))),d(t)),!1)}),r.COMMAND_PRIORITY_CRITICAL)),o&&a.listenersToRemove.add(n.registerCommand(r.KEY_TAB_COMMAND,(t=>{var n=r.$getSelection();return!!(r.$isRangeSelection(n)&&n.isCollapsed()&&S(n,e))&&(null!==(n=b(n.anchor.getNode()))&&(D(t),n=e.getCordsFromCellNode(n,a.grid),T(a,e,n.x,n.y,t.shiftKey?"backward":"forward"),!0))}),r.COMMAND_PRIORITY_CRITICAL)),a.listenersToRemove.add(n.registerCommand(r.FOCUS_COMMAND,(()=>e.isSelected()),r.COMMAND_PRIORITY_HIGH)),a.listenersToRemove.add(n.registerCommand(r.SELECTION_CHANGE_COMMAND,(()=>{let t=r.$getSelection(),i=r.$getPreviousSelection();if(r.$isRangeSelection(t)){let{anchor:i,focus:c}=t;var o=i.getNode(),s=c.getNode();o=b(o),s=b(s);var u=o&&e.is(R(o)),d=s&&e.is(R(s));let g=u!==d;d=u&&d,u=t.isBackward(),g?((o=t.clone()).focus.set(e.getKey(),u?0:e.getChildrenSize(),"element"),r.$setSelection(o),v(n,a)):d&&!o.is(s)&&(a.setAnchorCellForSelection(l(o)),a.setFocusCellForSelection(l(s),!0))}return t&&!t.is(i)&&(r.DEPRECATED_$isGridSelection(t)||r.DEPRECATED_$isGridSelection(i))&&a.gridSelection&&!a.gridSelection.is(i)?(r.DEPRECATED_$isGridSelection(t)&&t.gridKey===a.tableNodeKey?a.updateTableGridSelection(t):!r.DEPRECATED_$isGridSelection(t)&&r.DEPRECATED_$isGridSelection(i)&&i.gridKey===a.tableNodeKey&&a.updateTableGridSelection(null),!1):(a.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.enableHighlightStyle(),E(t.grid,(t=>{let n=t.elem;t.highlighted=!1,O(e,t),n.getAttribute("style")||n.removeAttribute("style")}))}(n,a):!a.hasHijackedSelectionStyles&&e.isSelected()&&v(n,a),!1)}),r.COMMAND_PRIORITY_CRITICAL)),a},t.getCellFromTarget=C,t.getTableSelectionFromTableElement=function(e){return e.__lexicalTableSelection}},2977:(e,t,n)=>{"use strict";const r=n(28263);e.exports=r},28263:(e,t,n)=>{"use strict";var r=n(32998);function i(e,t=!0){return!e&&(e=o(),t&&(e=e.trim()),""===e)}function o(){return r.$getRoot().getTextContent()}function l(e){if(!i(e,!1))return!1;let t=(e=r.$getRoot().getChildren()).length;if(1<t)return!1;for(let i=0;i<t;i++){var n=e[i];if(r.$isDecoratorNode(n))return!1;if(r.$isElementNode(n)){if(!r.$isParagraphNode(n)||0!==n.__indent)return!1;let e=(n=n.getChildren()).length;for(let t=0;t<e;t++)if(!r.$isTextNode(n[i]))return!1}}return!0}t.$canShowPlaceholder=l,t.$canShowPlaceholderCurry=function(e){return()=>l(e)},t.$findTextIntersectionFromCharacters=function(e,t){var n=e.getFirstChild();e=0;e:for(;null!==n;){if(r.$isElementNode(n)){var i=n.getFirstChild();if(null!==i){n=i;continue}}else if(r.$isTextNode(n)){if(e+(i=n.getTextContentSize())>t)return{node:n,offset:t-e};e+=i}if(null===(i=n.getNextSibling())){for(n=n.getParent();null!==n;){if(null!==(i=n.getNextSibling())){n=i;continue e}n=n.getParent()}break}n=i}return null},t.$isRootTextContentEmpty=i,t.$isRootTextContentEmptyCurry=function(e,t){return()=>i(e,t)},t.$rootTextContent=o,t.registerLexicalTextEntity=function(e,t,n,i){let o=e=>{const t=r.$createTextNode(e.getTextContent());t.setFormat(e.getFormat()),e.replace(t)};return[e.registerNodeTransform(r.TextNode,(e=>{if(e.isSimpleText()){var l=e.getPreviousSibling(),s=e.getTextContent(),a=e;if(r.$isTextNode(l)){var u=l.getTextContent(),d=t(u+s);if(l instanceof n){if(null===d||0!==l.getLatest().__mode)return void o(l);if(0<(d=d.end-u.length))return a=u+(a=s.slice(0,d)),l.select(),l.setTextContent(a),void(d===s.length?e.remove():(l=s.slice(d),e.setTextContent(l)))}else if(null===d||d.start<u.length)return}for(;;){if(s=d=null===(e=t(s))?"":s.slice(e.end),""===d){if(u=a.getNextSibling(),r.$isTextNode(u)){if(d=a.getTextContent()+u.getTextContent(),null===(d=t(d))){u instanceof n?o(u):u.markDirty();break}if(0!==d.start)break}}else if(null!==(u=t(d))&&0===u.start)break;if(null===e)break;if(0===e.start&&r.$isTextNode(l)&&l.isTextEntity())continue;let c;if(0===e.start?[c,a]=a.splitText(e.end):[,c,a]=a.splitText(e.start,e.end),(e=i(c)).setFormat(c.getFormat()),c.replace(e),null==a)break}}})),e=e.registerNodeTransform(n,(e=>{var i=e.getTextContent();const l=t(i);null===l||0!==l.start?o(e):i.length>l.end?e.splitText(l.end):(i=e.getPreviousSibling(),r.$isTextNode(i)&&i.isTextEntity()&&(o(i),o(e)),i=e.getNextSibling(),r.$isTextNode(i)&&i.isTextEntity()&&(o(i),e instanceof n&&o(e)))}))]}},76969:(e,t,n)=>{"use strict";const r=n(87502);e.exports=r},87502:(e,t,n)=>{"use strict";var r=n(89408),i=n(32998);function o(...e){return()=>{e.forEach((e=>e()))}}let l={attributes:!0,characterData:!0,childList:!0,subtree:!0};function s(e,t,n){function i(){if(null===s)throw Error("Unexpected null rootDOMNode");if(null===a)throw Error("Unexpected null parentDOMNode");let{left:i,top:o}=s.getBoundingClientRect();var l=a;let u=r.createRectsFromDOMRange(e,t);c.isConnected||l.append(c),l=!1;for(let e=0;e<u.length;e++){var g=u[e];let t=d[e]||document.createElement("div"),n=t.style;"absolute"!==n.position&&(n.position="absolute",l=!0);var h=g.left-i+"px";n.left!==h&&(n.left=h,l=!0),h=g.top-o+"px",n.top!==h&&(t.style.top=h,l=!0),h=`${g.width}px`,n.width!==h&&(t.style.width=h,l=!0),g=`${g.height}px`,n.height!==g&&(t.style.height=g,l=!0),t.parentNode!==c&&(c.append(t),l=!0),d[e]=t}for(;d.length>u.length;)d.pop();l&&n(d)}function o(){s=a=null,null!==u&&u.disconnect(),u=null,c.remove();for(let e of d)e.remove();d=[]}let s=null,a=null,u=null,d=[],c=document.createElement("div"),g=e.registerRootListener((function t(){let n=e.getRootElement();if(null===n)return o();let r=n.parentElement;if(!(r instanceof HTMLElement))return o();o(),s=n,a=r,u=new MutationObserver((n=>{let r=e.getRootElement(),o=r&&r.parentElement;if(r!==s||o!==a)return t();for(let e of n)if(!c.contains(e.target))return i()})),u.observe(r,l),i()}));return()=>{g(),o()}}function a(e,t){for(let n of t)if(e.type.startsWith(n))return!0;return!1}function u(e,t){for(;e!==i.$getRoot()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}t.$splitNode=i.$splitNode,t.isHTMLAnchorElement=i.isHTMLAnchorElement,t.isHTMLElement=i.isHTMLElement,t.$dfs=function(e,t){let n=[];e=(e||i.$getRoot()).getLatest(),t=t||(i.$isElementNode(e)?e.getLastDescendant():e);for(var r=e,o=0;null!==(r=r.getParent());)o++;for(r=o;null!==e&&!e.is(t);)if(n.push({depth:r,node:e}),i.$isElementNode(e)&&0<e.getChildrenSize())e=e.getFirstChild(),r++;else for(o=null;null===o&&null!==e;)null===(o=e.getNextSibling())?(e=e.getParent(),r--):e=o;return null!==e&&e.is(t)&&n.push({depth:r,node:e}),n},t.$filter=function(e,t){let n=[];for(let r=0;r<e.length;r++){let i=t(e[r]);null!==i&&n.push(i)}return n},t.$findMatchingParent=u,t.$getNearestBlockElementAncestorOrThrow=function(e){let t=u(e,(e=>i.$isElementNode(e)&&!e.isInline()));return i.$isElementNode(t)||function(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(4,e.__key),t},t.$getNearestNodeOfType=function(e,t){for(;null!=e;){if(e instanceof t)return e;e=e.getParent()}return null},t.$insertFirst=function(e,t){let n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)},t.$insertNodeToNearestRoot=function(e){var t=i.$getSelection()||i.$getPreviousSelection();if(i.$isRangeSelection(t)){var{focus:n}=t;if(t=n.getNode(),n=n.offset,i.$isRootOrShadowRoot(t))null==(n=t.getChildAtIndex(n))?t.append(e):n.insertBefore(e),e.selectNext();else{let r,o;i.$isTextNode(t)?(r=t.getParentOrThrow(),o=t.getIndexWithinParent(),0<n&&(o+=1,t.splitText(n))):(r=t,o=n),[,t]=i.$splitNode(r,o),t.insertBefore(e),t.selectStart()}}else null!=t?(t=t.getNodes())[t.length-1].getTopLevelElementOrThrow().insertAfter(e):i.$getRoot().append(e),t=i.$createParagraphNode(),e.insertAfter(t),t.select();return e.getLatest()},t.$restoreEditorState=function(e,t){let n=new Map,o=e._pendingEditorState;for(let[l,s]of t._nodeMap){let e=r.$cloneWithProperties(s);i.$isTextNode(e)&&(e.__text=s.__text),n.set(l,e)}o&&(o._nodeMap=n),e._dirtyType=2,e=t._selection,i.$setSelection(null===e?null:e.clone())},t.$wrapNodeInElement=function(e,t){return t=t(),e.replace(t),t.append(e),t},t.addClassNamesToElement=function(e,...t){t.forEach((t=>{"string"==typeof t&&(t=t.split(" ").filter((e=>""!==e)),e.classList.add(...t))}))},t.isMimeType=a,t.markSelection=function(e,t){function n(n){n.read((()=>{var n=i.$getSelection();if(i.$isRangeSelection(n)){var{anchor:o,focus:c}=n,g=(n=o.getNode()).getKey(),h=o.offset,f=c.getNode(),p=f.getKey(),_=c.offset,m=e.getElementByKey(g),C=e.getElementByKey(p);if(g=null===r||null===m||h!==l||g!==r.getKey()||n!==r&&(!(r instanceof i.TextNode)||n.updateDOM(r,m,e._config)),p=null===a||null===C||_!==u||p!==a.getKey()||f!==a&&(!(a instanceof i.TextNode)||f.updateDOM(a,C,e._config)),g||p){m=e.getElementByKey(o.getNode().getKey());var N=e.getElementByKey(c.getNode().getKey());if(null!==m&&null!==N&&"SPAN"===m.tagName&&"SPAN"===N.tagName){if(p=document.createRange(),c.isBefore(o)?(g=N,C=c.offset,N=m,m=o.offset):(g=m,C=o.offset,m=c.offset),null===(g=g.firstChild))throw Error("Expected text node to be first child of span");if(null===(N=N.firstChild))throw Error("Expected text node to be first child of span");p.setStart(g,C),p.setEnd(N,m),d(),d=s(e,p,(e=>{for(let t of e){let e=t.style;"Highlight"!==e.background&&(e.background="Highlight"),"HighlightText"!==e.color&&(e.color="HighlightText"),"-1"!==e.zIndex&&(e.zIndex="-1"),"none"!==e.pointerEvents&&(e.pointerEvents="none"),"-1.5px"!==e.marginTop&&(e.marginTop="-1.5px"),"4px"!==e.paddingTop&&(e.paddingTop="4px"),"0px"!==e.paddingBottom&&(e.paddingBottom="0px")}void 0!==t&&t(e)}))}}r=n,l=h,a=f,u=_}else u=a=l=r=null,d(),d=()=>{}}))}let r=null,l=null,a=null,u=null,d=()=>{};return n(e.getEditorState()),o(e.registerUpdateListener((({editorState:e})=>n(e))),d,(()=>{d()}))},t.mediaFileReader=function(e,t){let n=e[Symbol.iterator]();return new Promise(((e,r)=>{let i=[],o=()=>{const{done:l,value:s}=n.next();if(l)return e(i);const u=new FileReader;u.addEventListener("error",r),u.addEventListener("load",(()=>{const e=u.result;"string"==typeof e&&i.push({file:s,result:e}),o()})),a(s,t)?u.readAsDataURL(s):o()};o()}))},t.mergeRegister=o,t.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name},t.positionNodeOnRange=s,t.registerNestedElementResolver=function(e,t,n,r){return e.registerNodeTransform(t,(e=>{e:{for(var i=e.getChildren(),o=0;o<i.length;o++)if(i[o]instanceof t){i=null;break e}for(i=e;null!==i;)if(o=i,(i=i.getParent())instanceof t){i={child:o,parent:i};break e}i=null}if(null!==i){const{child:t,parent:l}=i;if(t.is(e)){if(r(l,e),i=(e=t.getNextSiblings()).length,l.insertAfter(t),0!==i){o=n(l),t.insertAfter(o);for(let t=0;t<i;t++)o.append(e[t])}l.canBeEmpty()||0!==l.getChildrenSize()||l.remove()}}}))},t.removeClassNamesFromElement=function(e,...t){t.forEach((t=>{"string"==typeof t&&e.classList.remove(...t.split(" "))}))}},87109:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(80102),i=n(83117),o=n(67294),l=n(63961),s=n(94780),a=n(98216),u=n(15861),d=n(47167),c=n(74423),g=n(90948),h=n(1588),f=n(34867);function p(e){return(0,f.Z)("MuiInputAdornment",e)}const _=(0,h.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var m,C=n(71657),N=n(85893);const y=["children","className","component","disablePointerEvents","disableTypography","position","variant"],E=(0,g.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,a.Z)(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${_.positionStart}&:not(.${_.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"}))),v=o.forwardRef((function(e,t){const n=(0,C.Z)({props:e,name:"MuiInputAdornment"}),{children:g,className:h,component:f="div",disablePointerEvents:_=!1,disableTypography:v=!1,position:T,variant:S}=n,x=(0,r.Z)(n,y),O=(0,c.Z)()||{};let b=S;S&&O.variant,O&&!b&&(b=O.variant);const R=(0,i.Z)({},n,{hiddenLabel:O.hiddenLabel,size:O.size,disablePointerEvents:_,position:T,variant:b}),M=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:l}=e,u={root:["root",n&&"disablePointerEvents",i&&`position${(0,a.Z)(i)}`,l,r&&"hiddenLabel",o&&`size${(0,a.Z)(o)}`]};return(0,s.Z)(u,p,t)})(R);return(0,N.jsx)(d.Z.Provider,{value:null,children:(0,N.jsx)(E,(0,i.Z)({as:f,ownerState:R,className:(0,l.Z)(M.root,h),ref:t},x,{children:"string"!=typeof g||v?(0,N.jsxs)(o.Fragment,{children:["start"===T?m||(m=(0,N.jsx)("span",{className:"notranslate",children:"\u200b"})):null,g]}):(0,N.jsx)(u.Z,{color:"text.secondary",children:g})}))})}))},96420:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(80102),i=n(83117),o=n(67294),l=n(63961),s=n(94780),a=n(41796),u=n(49990),d=n(98216),c=n(71657),g=n(90948),h=n(1588),f=n(34867);function p(e){return(0,f.Z)("MuiToggleButton",e)}const _=(0,h.Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]);var m=n(85893);const C=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],N=(0,g.ZP)(u.Z,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${(0,d.Z)(n.size)}`]]}})((({theme:e,ownerState:t})=>{let n,r="standard"===t.color?e.palette.text.primary:e.palette[t.color].main;return e.vars&&(r="standard"===t.color?e.vars.palette.text.primary:e.vars.palette[t.color].main,n="standard"===t.color?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),(0,i.Z)({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${_.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,a.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${_.selected}`]:{color:r,backgroundColor:e.vars?`rgba(${n} / ${e.vars.palette.action.selectedOpacity})`:(0,a.Fq)(r,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${n} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,a.Fq)(r,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${n} / ${e.vars.palette.action.selectedOpacity})`:(0,a.Fq)(r,e.palette.action.selectedOpacity)}}}},"small"===t.size&&{padding:7,fontSize:e.typography.pxToRem(13)},"large"===t.size&&{padding:15,fontSize:e.typography.pxToRem(15)})})),y=o.forwardRef((function(e,t){const n=(0,c.Z)({props:e,name:"MuiToggleButton"}),{children:o,className:a,color:u="standard",disabled:g=!1,disableFocusRipple:h=!1,fullWidth:f=!1,onChange:_,onClick:y,selected:E,size:v="medium",value:T}=n,S=(0,r.Z)(n,C),x=(0,i.Z)({},n,{color:u,disabled:g,disableFocusRipple:h,fullWidth:f,size:v}),O=(e=>{const{classes:t,fullWidth:n,selected:r,disabled:i,size:o,color:l}=e,a={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${(0,d.Z)(o)}`,l]};return(0,s.Z)(a,p,t)})(x);return(0,m.jsx)(N,(0,i.Z)({className:(0,l.Z)(O.root,a),disabled:g,focusRipple:!h,ref:t,onClick:e=>{y&&(y(e,T),e.defaultPrevented)||_&&_(e,T)},onChange:_,value:T,ownerState:x,"aria-pressed":E},S,{children:o}))}))},33454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>N});var r=n(80102),i=n(83117),o=n(67294),l=(n(76607),n(63961)),s=n(94780),a=n(90948),u=n(71657),d=n(98216);function c(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var g=n(1588),h=n(34867);function f(e){return(0,h.Z)("MuiToggleButtonGroup",e)}const p=(0,g.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth"]);var _=n(85893);const m=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],C=(0,a.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${p.grouped}`]:t.grouped},{[`& .${p.grouped}`]:t[`grouped${(0,d.Z)(n.orientation)}`]},t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})((({ownerState:e,theme:t})=>(0,i.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"vertical"===e.orientation&&{flexDirection:"column"},e.fullWidth&&{width:"100%"},{[`& .${p.grouped}`]:(0,i.Z)({},"horizontal"===e.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${p.selected} + .${p.grouped}.${p.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${p.selected} + .${p.grouped}.${p.selected}`]:{borderTop:0,marginTop:0}})}))),N=o.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiToggleButtonGroup"}),{children:a,className:g,color:h="standard",disabled:p=!1,exclusive:N=!1,fullWidth:y=!1,onChange:E,orientation:v="horizontal",size:T="medium",value:S}=n,x=(0,r.Z)(n,m),O=(0,i.Z)({},n,{disabled:p,fullWidth:y,orientation:v,size:T}),b=(e=>{const{classes:t,orientation:n,fullWidth:r,disabled:i}=e,o={root:["root","vertical"===n&&"vertical",r&&"fullWidth"],grouped:["grouped",`grouped${(0,d.Z)(n)}`,i&&"disabled"]};return(0,s.Z)(o,f,t)})(O),R=(e,t)=>{if(!E)return;const n=S&&S.indexOf(t);let r;S&&n>=0?(r=S.slice(),r.splice(n,1)):r=S?S.concat(t):[t],E(e,r)},M=(e,t)=>{E&&E(e,S===t?null:t)};return(0,_.jsx)(C,(0,i.Z)({role:"group",className:(0,l.Z)(b.root,g),ref:t,ownerState:O},x,{children:o.Children.map(a,(e=>o.isValidElement(e)?o.cloneElement(e,{className:(0,l.Z)(b.grouped,e.props.className),onChange:N?M:R,selected:void 0===e.props.selected?c(e.props.value,S):e.props.selected,size:e.props.size||T,fullWidth:y,color:e.props.color||h,disabled:e.props.disabled||p}):null))}))}))},27103:(e,t,n)=>{"use strict";n.d(t,{Z:()=>mt});var r=n(67294),i=n(90948),o=n(44012),l=n(5616),s=n(31536),a=n(94184),u=n.n(a),d=n(29628),c=n(73435),g=n(44783),h=n(2903),f=n(32998),p=n(84260),_=n(25567),m=n(76969);const C=new Set;function N({altText:e,className:t,imageRef:n,src:i,width:o,height:l,maxWidth:s}){return function(e){if(!C.has(e))throw new Promise((t=>{const n=new Image;n.src=e,n.onload=()=>{C.add(e),t()}}))}(i),r.createElement("img",{className:t,src:i,alt:e,ref:n,style:{height:`${l}${"inherit"===l?"":"px"}`,maxWidth:s,width:`${o}${"inherit"===o?"":"px"}`}})}function y({src:e,altText:t,nodeKey:n,maxWidth:i}){const o=(0,r.useRef)(null),l=(0,r.useRef)(null),[s,a,u]=(0,_.useLexicalNodeSelection)(n),[d]=(0,p.useLexicalComposerContext)(),c=(0,r.useRef)(null),g=(0,r.useCallback)((e=>{if(s&&(0,f.$isNodeSelection)((0,f.$getSelection)())){e.preventDefault();const t=(0,f.$getNodeByKey)(n);(function(e){return"image"===e.getType()})(t)&&t.remove(),a(!1)}return!1}),[s,n,a]),h=(0,r.useCallback)((e=>{const t=(0,f.$getSelection)(),n=l.current;return!(!s||!(0,f.$isNodeSelection)(t)||1!==t.getNodes().length||null===n||n===document.activeElement)&&(e.preventDefault(),n.focus(),!0)}),[s]),C=(0,r.useCallback)((e=>l.current===e.target&&((0,f.$setSelection)(null),d.update((()=>{a(!0);const e=d.getRootElement();null!==e&&e.focus()})),!0)),[d,a]);return(0,r.useEffect)((()=>{const e=(0,m.mergeRegister)(d.registerCommand(f.SELECTION_CHANGE_COMMAND,((e,t)=>(c.current=t,!1)),f.COMMAND_PRIORITY_LOW),d.registerCommand(f.CLICK_COMMAND,(e=>{const t=e;return t.target===o.current&&(t.shiftKey?a(!s):(u(),a(!0)),!0)}),f.COMMAND_PRIORITY_LOW),d.registerCommand(f.KEY_DELETE_COMMAND,g,f.COMMAND_PRIORITY_LOW),d.registerCommand(f.KEY_BACKSPACE_COMMAND,g,f.COMMAND_PRIORITY_LOW),d.registerCommand(f.KEY_ENTER_COMMAND,h,f.COMMAND_PRIORITY_LOW),d.registerCommand(f.KEY_ESCAPE_COMMAND,C,f.COMMAND_PRIORITY_LOW));return()=>{e()}}),[u,d,s,n,g,h,C,a]),r.createElement(r.Suspense,{fallback:null},r.createElement(N,{className:s?"selected":null,src:e,altText:t,imageRef:o,maxWidth:i}))}function E(e){if(e instanceof HTMLImageElement){const{alt:t,src:n}=e;return{node:T({altText:t,src:n,maxWidth:"100%"})}}return null}class v extends f.DecoratorNode{constructor(e,t,n,r){super(r),this.__src=e,this.__altText=t,this.__maxWidth=n}static getType(){return"image"}static clone(e){return new v(e.__src,e.__altText,e.__maxWidth,e.__key)}setWidthAndHeight(e,t){const n=this.getWritable();n.__width=e,n.__height=t}createDOM(e){const t=document.createElement("div"),n=e.theme.image;return void 0!==n&&(t.className=n),t}updateDOM(){return!1}static importDOM(){const e=f.TextNode.importDOM();return Object.assign({img:e=>({conversion:E,priority:0})},e)}exportDOM(){const e=document.createElement("img");return e.setAttribute("src",this.__src),e.setAttribute("alt",this.__altText),e.setAttribute("style",`max-width: ${this.__maxWidth}px;`),{element:e}}decorate(){return r.createElement(y,{src:this.__src,altText:this.__altText,maxWidth:this.__maxWidth,nodeKey:this.getKey()})}static importJSON(e){const{altText:t,maxWidth:n,src:r}=e;return T({altText:t,src:r,maxWidth:n})}exportJSON(){return{altText:this.getAltText(),maxWidth:this.__maxWidth,src:this.getSrc(),type:"image",version:1}}}function T({src:e,altText:t,maxWidth:n}){return new v(e,t,n)}function S(e){return{node:O({avatar:"",bio:"",date_joined:void 0,description:"",gender:"",location:"",real_name:"",reputation:0,role:"",status:"",tags:void 0,website:"",id:e.getAttribute("id"),ext_id:e.getAttribute("ext_id"),username:e.innerText.replace("@","")})}}class x extends f.TextNode{constructor(e,t,n){super(null!=t?t:`@${e.username}`,n),this.__user=e}static getType(){return"mention"}static clone(e){return new x(e.__user,e.__text,e.__key)}createDOM(e){const t=document.createElement("mention");return t.setAttribute("id",`${this.__user.id}`),t.setAttribute("ext-id",`${this.__user.ext_id}`),t.innerText=this.__text,t}updateDOM(e,t,n){const r=t.firstChild;return null===r||(super.updateDOM(e,r,n),!1)}static importDOM(){const e=f.TextNode.importDOM();return Object.assign({mention:e=>({conversion:S,priority:0})},e)}exportDOM(){const e=document.createElement("mention");return e.setAttribute("id",`${this.__user.id}`),e.setAttribute("ext-id",`${this.__user.ext_id}`),e.textContent=`@${this.__user.username}`,{element:e}}isTextEntity(){return!0}static importJSON(e){const{user:t}=e;return O(t)}exportJSON(){return Object.assign(Object.assign({},super.exportJSON()),{user:this.__user,type:"mention",version:1})}}function O(e){const t=new x(e);return t.setMode("segmented").toggleDirectionless(),t}var b=n(41589);const R=[b.HorizontalRuleNode,h.HeadingNode,g.ListNode,g.ListItemNode,h.QuoteNode,f.TextNode,c.AutoLinkNode,c.LinkNode,v,x];var M=n(22292),D=n(6898),A=n(4506),w=n(86146),$=n(77943),k=n.n($),P=n(73541),I=n(97582),L=n(93946),F=n(98456),B=n(67564),K=n(41567),W=n(24085),z=n(53704),H=n(68689),Y=n(63862),Z=n(50635),U=n(20377);const G="SCEditor",j=(0,f.createCommand)(),J=(0,Z.xR)((0,r.forwardRef)(((e,t)=>{var{progress:n=null}=e,i=(0,I._T)(e,["progress"]);return r.createElement(L.Z,Object.assign({},i,{"aria-label":"upload image",ref:t}),n?r.createElement(F.Z,{variant:"determinate",value:n,size:"1rem"}):r.createElement(B.Z,{color:"inherit"},"image"))})));const V={root:`${G}-image-plugin-root`},X=(0,i.ZP)((function({editor:e,className:t=""}){const n=(0,z.RM)(),i=(0,H.LD)(),[o,l]=(0,r.useState)({}),{enqueueSnackbar:s}=(0,U.Ds)();return i.user?r.createElement(K.ZP,{destination:{url:`${n.settings.portal}${W.Z.ComposerChunkUploadMedia.url()}`,headers:Object.assign({},n.settings.session&&n.settings.session.authToken&&{Authorization:`Bearer ${n.settings.session.authToken.accessToken}`}),method:W.Z.ComposerChunkUploadMedia.method},chunkSize:204800,multiple:!0,accept:"image/*",fileFilter:(e,t,n)=>e.type.startsWith("image/")},r.createElement(Y.Z,{type:"eimage",onSuccess:t=>{const n={altText:t.title,src:t.image,width:t.image_width,height:t.image_height};e.focus(),e.dispatchCommand(j,n)},onProgress:e=>{l(Object.assign({},e))},onError:(e,t)=>{s(t,{variant:"error",autoHideDuration:3e3})}}),r.createElement(J,{className:t,extraProps:{disabled:0!==Object.keys(o).length,progress:0!==Object.keys(o).length?Object.values(o)[0].completed:null}})):null}),{name:G,slot:"ImagePluginRoot"})((()=>({})));function q(){const[e]=(0,p.useLexicalComposerContext)();return(0,r.useEffect)((()=>{if(e.hasNodes([v]))return e.registerCommand(j,(e=>{const t=T({src:e.src,altText:e.altText,maxWidth:"100%",width:e.width,height:e.height});return(0,m.$insertNodeToNearestRoot)(t),!0}),f.COMMAND_PRIORITY_EDITOR)}),[e]),e.hasNodes([v])?r.createElement(X,{editor:e,className:V.root}):null}var Q=n(2734),ee=n(98396),te=n(14564),ne=n(16628),re=n(44465);const ie={root:`${G}-emoji-plugin-root`},oe=(0,i.ZP)((function({editor:e,className:t=""}){const n=(0,Q.Z)(),i=(0,ee.Z)(n.breakpoints.down("md")),[o,l]=(0,r.useState)(!1);return i?null:r.createElement(r.Fragment,null,r.createElement(L.Z,{className:t,onClick:e=>{l(e.currentTarget)}},r.createElement(B.Z,null,"sentiment_satisfied_alt")),r.createElement(te.ZP,{open:Boolean(o),anchorEl:o,onClose:()=>l(null),TransitionComponent:ne.Z,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},sx:e=>({zIndex:e.zIndex.tooltip})},r.createElement(re.Z,{onEmojiClick:(t,n)=>{e.focus(),e.dispatchCommand(f.CONTROLLED_TEXT_INSERTION_COMMAND,t.emoji)}})))}),{name:G,slot:"EmojiPluginRoot"})((()=>({})));function le(){const[e]=(0,p.useLexicalComposerContext)();return r.createElement(oe,{editor:e,className:ie.root})}var se=n(87592);const ae=function({defaultValue:e}){const[t]=(0,p.useLexicalComposerContext)();return(0,r.useEffect)((()=>{e&&t.update((()=>{const n=(new DOMParser).parseFromString(e,"text/html"),r=(0,se.$generateNodesFromDOM)(t,n),i=(0,f.$getRoot)();if(r.length<=1){const e=(0,f.$createParagraphNode)();r.forEach((t=>e.append(t))),i.getFirstChild().replace(e).selectEnd()}else i.getFirstChild().remove(),r.forEach((e=>i.append(e))),i.selectEnd()}))}),[]),null};var ue=n(71954);const de=e=>{const{onChange:t}=e;return r.createElement(ue.OnChangePlugin,{onChange:(e,n)=>{e.read((()=>{const e=(0,se.$generateHtmlFromNodes)(n);t(e)}))}})};var ce=n(32358);const ge=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,he=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,fe=[e=>{const t=ge.exec(e);return t&&{index:t.index,length:t[0].length,text:t[0],url:t[0]}},e=>{const t=he.exec(e);return t&&{index:t.index,length:t[0].length,text:t[0],url:`mailto:${t[0]}`}}];function pe(){return r.createElement(ce.AutoLinkPlugin,{matchers:fe})}const _e="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;var me=n(65001),Ce=n(87952),Ne=n(78385),ye=n(23926);const Ee="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",ve=Ee,Te=new RegExp("(^|[^#])((?:"+("\\b[A-Z][^\\s"+Ee+"]")+"{1,})$)"),Se=ve,xe=["@","\\uff20"].join(""),Oe="[^"+xe+Se+"\\s]",be=new RegExp("(^|\\s|\\()(["+xe+"]((?:"+Oe+("(?:\\.[ |$]| |["+Se+"]|)")+"){0,75}))$"),Re=new RegExp("(^|\\s|\\()(["+xe+"]((?:"+Oe+"){0,50}))$");function Me(e,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return n.top>r.top&&n.top<r.bottom}function De(e,t,n,i){const[o]=(0,p.useLexicalComposerContext)();(0,r.useEffect)((()=>{if(null!=t&&null!=e){const e=o.getRootElement(),r=null!=e?function(e,t){let n=getComputedStyle(e);const r="absolute"===n.position,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===n.position)return document.body;for(let o=e;o=o.parentElement;)if(n=getComputedStyle(o),(!r||"static"!==n.position)&&i.test(n.overflow+n.overflowY+n.overflowX))return o;return document.body}(e,!1):document.body;let l=!1,s=Me(t,r);const a=function(){l||(window.requestAnimationFrame((function(){n(),l=!1})),l=!0);const e=Me(t,r);e!==s&&(s=e,null!=i&&i(e))},u=new ResizeObserver(n);return window.addEventListener("resize",n),document.addEventListener("scroll",a,{capture:!0,passive:!0}),u.observe(t),()=>{u.unobserve(t),window.removeEventListener("resize",n),document.removeEventListener("scroll",a,!0)}}}),[t,o,i,n,e])}const Ae=new Map;function we({index:e,isHovered:t,isSelected:n,onClick:i,onMouseEnter:o,onMouseLeave:l,result:s}){const a=(0,r.useRef)(null);return r.createElement("li",{key:s.id,tabIndex:-1,className:u()("item",{selected:n,hovered:t}),ref:a,role:"option","aria-selected":n,id:"typeahead-item-"+e,onMouseEnter:o,onMouseLeave:l,onClick:i},r.createElement(Ce.Z,{alt:s.username,src:s.avatar})," ",s.username)}function $e(e){const t=function(e,t){let n=be.exec(e);if(null===n&&(n=Re.exec(e)),null!==n){const e=n[1],r=n[3];if(r.length>=t)return{leadOffset:n.index+e.length,matchingString:r,replaceableString:n[2]}}return null}(e,1);return null===t?function(e,t){const n=Te.exec(e);if(null!==n){const e=n[1],r=n[2];if(null!=r&&r.length>=t)return{leadOffset:n.index+e.length,matchingString:r,replaceableString:r}}return null}(e,3):t}const ke={root:`${G}-mention-plugin-root`},Pe=(0,i.ZP)((function({close:e,editor:t,resolution:n,className:i=""}){const o=(0,r.useRef)(null),l=n.match,s=function(e){const[t,n]=(0,r.useState)(null);return(0,r.useEffect)((()=>{const t=Ae.get(e);null!==t&&(void 0===t?(Ae.set(e,null),me.Z.request({url:W.Z.UserSearch.url(),method:W.Z.UserSearch.method,params:{user:e,limit:5}}).then((t=>{Ae.set(e,t.data.results),n(t.data.results)}))):n(t))}),[e]),t}(l.matchingString),[a,u]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),g=(0,r.useCallback)((n=>{if(n=n||a,null===s||null===n)return;const r=s[n];e(),function(e,t,n){e.update((()=>{const e=(0,f.$getSelection)();if(!(0,f.$isRangeSelection)(e)||!e.isCollapsed())return;const r=e.anchor;if("text"!==r.type)return;const i=r.getNode();if(!i.isSimpleText())return;const o=r.offset,l=i.getTextContent().slice(0,o),s=n.replaceableString.length,a=o-function(e,t,n){let r=n;for(let i=r;i<=t.length;i++)e.substr(-i)===t.substr(0,i)&&(r=i);return r}(l,t.username,s);if(a<0)return;let u;0===a?[u]=i.splitText(o):[,u]=i.splitText(a,o);const d=O(t);u.replace(d),d.select()}))}(t,r,l)}),[e,l,t,s,a]),h=(0,r.useCallback)((e=>{const n=t.getRootElement();null!==n&&(n.setAttribute("aria-activedescendant","typeahead-item-"+e),u(e))}),[t]);return(0,r.useEffect)((()=>()=>{const e=t.getRootElement();null!==e&&e.removeAttribute("aria-activedescendant")}),[t]),_e((()=>{null===s?u(null):null===a&&h(0)}),[s,a,h]),(0,r.useEffect)((()=>(0,m.mergeRegister)(t.registerCommand(f.KEY_ARROW_DOWN_COMMAND,(e=>{const t=e;return null!==s&&null!==a&&a<4&&a!==s.length-1&&(h(a+1),t.preventDefault(),t.stopImmediatePropagation()),!0}),f.COMMAND_PRIORITY_LOW),t.registerCommand(f.KEY_ARROW_UP_COMMAND,(e=>{const t=e;return null!==s&&null!==a&&0!==a&&(h(a-1),t.preventDefault(),t.stopImmediatePropagation()),!0}),f.COMMAND_PRIORITY_LOW),t.registerCommand(f.KEY_ESCAPE_COMMAND,(t=>{const n=t;return null!==s&&null!==a&&(n.preventDefault(),n.stopImmediatePropagation(),e(),!0)}),f.COMMAND_PRIORITY_LOW),t.registerCommand(f.KEY_TAB_COMMAND,(e=>{const t=e;return null!==s&&null!==a&&(t.preventDefault(),t.stopImmediatePropagation(),g(),!0)}),f.COMMAND_PRIORITY_LOW),t.registerCommand(f.KEY_ENTER_COMMAND,(e=>null!==s&&null!==a&&(null!==e&&(e.preventDefault(),e.stopImmediatePropagation()),g(),!0)),f.COMMAND_PRIORITY_LOW))),[g,e,t,s,a,h]),null===s?null:r.createElement("div",{className:i,"aria-label":"Suggested mentions",ref:o,role:"listbox"},r.createElement("ul",null,s.slice(0,5).map(((e,t)=>r.createElement(we,{index:t,isHovered:t===d,isSelected:t===a,onClick:()=>{g(t)},onMouseEnter:()=>{c(t)},onMouseLeave:()=>{c(null)},key:e.id,result:e})))))}),{name:G,slot:"MentionPluginRoot"})((()=>({})));function Ie(e,t=null){const[n,i]=(0,r.useState)(null),o=function(e,t,n){const[i,o]=(0,r.useState)(null),[l]=(0,p.useLexicalComposerContext)(),s=(0,r.useCallback)((()=>{const t=l.getRootElement(),r=i,s=r.firstChild;if(null!==t&&null!==e){const{left:i,top:l,width:a,height:u}=e.range.getBoundingClientRect();if(r.style.top=`${l+window.scrollY}px`,r.style.left=`${i+window.scrollX}px`,r.style.height=`${u}px`,r.style.width=`${a}px`,null!==s){const e=s.getBoundingClientRect(),n=e.height,o=e.width,a=t.getBoundingClientRect();i+o>a.right&&(r.style.left=`${a.right-o+window.scrollX}px`);const d=10;(l+n>window.innerHeight||l+n>a.bottom)&&l-a.top>n&&(r.style.top=l-n+window.scrollY-(u+d)+"px")}r.isConnected||(null!=n&&(r.className=n),r.setAttribute("aria-label","Typeahead menu"),r.setAttribute("id","typeahead-menu"),r.setAttribute("role","listbox"),r.style.display="block",r.style.position="absolute",document.body.append(r)),o(r),t.setAttribute("aria-controls","typeahead-menu")}}),[i,l,e,n]);(0,r.useEffect)((()=>{e&&!i&&o(document.createElement("div"))}),[e]),(0,r.useEffect)((()=>{const t=l.getRootElement();if(null!==e&&i)return s(),()=>{null!==t&&t.removeAttribute("aria-controls");const e=i;null!==e&&e.isConnected&&e.remove()}}),[i,l,s,e]);const a=(0,r.useCallback)((n=>{null!==e&&(n||t(null))}),[e,t]);return De(e,i,s,a),i}(n,i,t);(0,r.useEffect)((()=>{if(!e.hasNodes([x]))throw new Error("MentionsPlugin: MentionNode not registered on editor")}),[e]),(0,r.useEffect)((()=>{let t=document.createRange(),n=null;const r=e.registerUpdateListener((({prevEditorState:r})=>{if(r.isEmpty())return;const o=t,l=function(e){let t=null;return e.getEditorState().read((()=>{const e=(0,f.$getSelection)();(0,f.$isRangeSelection)(e)&&(t=function(e){const t=e.anchor;if("text"!==t.type)return null;const n=t.getNode();if(!n.isSimpleText())return null;const r=t.offset;return n.getTextContent().slice(0,r)}(e))})),t}(e);if(l===n||null===o)return;if(n=l,null===l)return;const s=$e(l);if(null!==s&&!function(e,t){return 0===t&&e.getEditorState().read((()=>{const e=(0,f.$getSelection)();if((0,f.$isRangeSelection)(e)){const t=e.anchor.getNode().getPreviousSibling();return(0,f.$isTextNode)(t)&&t.isTextEntity()}return!1}))}(e,s.leadOffset)){const e=function(e,t){const n=window.getSelection();if(null===n||!n.isCollapsed)return!1;const r=n.anchorNode,i=e.leadOffset,o=n.anchorOffset;if(null==r||null==o)return!1;try{t.setStart(r,i),t.setEnd(r,o)}catch(l){return!1}return!0}(s,o);if(null!==e)return void i({match:s,range:o})}i(null)}));return()=>{t=null,r()}}),[e]);const l=(0,r.useCallback)((()=>{i(null)}),[n]);return null===n||null===e?null:o?r.createElement(ye.d,{onClickAway:l},r.createElement(Ne.h,{container:o},r.createElement(Pe,{close:l,resolution:n,editor:e,className:ke.root}))):null}function Le(){const[e]=(0,p.useLexicalComposerContext)();return Ie(e)}var Fe=n(69421);const Be=(0,r.forwardRef)(((e,t)=>{const[n]=(0,p.useLexicalComposerContext)();return(0,r.useImperativeHandle)(t,(()=>({focus:()=>{n.focus()}}))),null}));var Ke=n(48082),We=n(89408),ze=n(91058),He=n(94631),Ye=n(34386),Ze=n(25464),Ue=n(18972),Ge=n(33454),je=n(96420);const Je={h1:"format_heading_1",h2:"format_heading_2",h3:"format_heading_3",bullet:"format_list_bulleted",number:"format_list_numbered",quote:"format_quote",paragraph:"format_paragraph"},Ve=["bold","underline","italic","strikethrough","subscript","superscript"],Xe=["left","right","center","justify"];function qe({className:e="",editor:t,blockType:n,disabled:i=!1}){const[l,s]=r.useState(null),a=e=>r=>{switch(e){case"bullet":"bullet"!==n?t.dispatchCommand(g.INSERT_UNORDERED_LIST_COMMAND,void 0):t.dispatchCommand(g.REMOVE_LIST_COMMAND,void 0);break;case"number":"number"!==n?t.dispatchCommand(g.INSERT_ORDERED_LIST_COMMAND,void 0):t.dispatchCommand(g.REMOVE_LIST_COMMAND,void 0);break;case"paragraph":t.update((()=>{const e=(0,f.$getSelection)();((0,f.$isRangeSelection)(e)||(0,f.DEPRECATED_$isGridSelection)(e))&&(0,We.$setBlocksType)(e,(()=>(0,f.$createParagraphNode)()))}));break;case"quote":"quote"!==n&&t.update((()=>{const e=(0,f.$getSelection)();((0,f.$isRangeSelection)(e)||(0,f.DEPRECATED_$isGridSelection)(e))&&(0,We.$setBlocksType)(e,(()=>(0,h.$createQuoteNode)()))}));break;default:n!==(i=e)&&t.update((()=>{const e=(0,f.$getSelection)();((0,f.$isRangeSelection)(e)||(0,f.DEPRECATED_$isGridSelection)(e))&&(0,We.$setBlocksType)(e,(()=>(0,h.$createHeadingNode)(i)))}))}var i;s(null)};return r.createElement(r.Fragment,null,r.createElement(L.Z,{className:e,disabled:i,onClick:e=>{s(e.currentTarget)}},r.createElement(Ye.Z,{title:r.createElement(o.Z,{id:"ui.editor.toolbarPlugin.blockType",defaultMessage:"ui.editor.toolbarPlugin.blockType"})},r.createElement(r.Fragment,null,r.createElement(B.Z,null,Je[n]),r.createElement(B.Z,null,l?"expand_less":"expand_more")))),r.createElement(Ze.Z,{anchorEl:l,open:Boolean(l),onClose:()=>{s(null)}},Object.keys(Je).map((e=>r.createElement(Ue.Z,{key:e,onClick:a(e)},r.createElement(B.Z,null,Je[e]))))))}const Qe={root:`${G}-toolbar-plugin-root`,blockFormat:`${G}-block-format`},et=(0,i.ZP)(l.Z,{name:G,slot:"ToolbarPluginRoot"})((()=>({})));function tt(e){const t=(0,d.Z)({props:e,name:G}),{uploadImage:n=!1}=t,[i]=(0,p.useLexicalComposerContext)(),[l,s]=(0,r.useState)(i),[a,u]=(0,r.useState)("paragraph"),[_,C]=(0,r.useState)("root"),[N,y]=(0,r.useState)(null),[E,v]=(0,r.useState)(!1),[T,S]=(0,r.useState)((()=>i.isEditable())),[x,O]=(0,r.useState)([]),[R,M]=(0,r.useState)(Xe[0]),D=(0,r.useCallback)((()=>{const e=(0,f.$getSelection)();if((0,f.$isRangeSelection)(e)){const t=e.anchor.getNode();let n="root"===t.getKey()?t:(0,m.$findMatchingParent)(t,(e=>{const t=e.getParent();return null!==t&&(0,f.$isRootOrShadowRoot)(t)}));null===n&&(n=t.getTopLevelElementOrThrow());const r=n.getKey(),i=l.getElementByKey(r);O(Ve.filter((t=>e.hasFormat(t)))),M(Xe.find((e=>n.getFormatType()===e))||Xe[0]);const o=(0,He.P)(e),s=o.getParent();(0,c.$isLinkNode)(s)||(0,c.$isLinkNode)(o)?v(!0):v(!1);const a=(0,m.$findMatchingParent)(o,ze.$isTableNode);if((0,ze.$isTableNode)(a)?C("table"):C("root"),null!==i)if(y(r),(0,g.$isListNode)(n)){const e=(0,m.$getNearestNodeOfType)(t,g.ListNode),r=e?e.getListType():n.getListType();u(r)}else{const e=(0,h.$isHeadingNode)(n)?n.getTag():n.getType();e in Je&&u(e)}}}),[l]);(0,r.useEffect)((()=>i.registerCommand(f.SELECTION_CHANGE_COMMAND,((e,t)=>(D(),s(t),!1)),f.COMMAND_PRIORITY_CRITICAL)),[i,D]),(0,r.useEffect)((()=>(0,m.mergeRegister)(i.registerEditableListener((e=>{S(e)})),l.registerUpdateListener((({editorState:e})=>{e.read((()=>{D()}))})))),[D,l,i]);const A=(0,r.useCallback)((()=>{l.update((()=>{const e=(0,f.$getSelection)();if((0,f.$isRangeSelection)(e)){const t=e.anchor,n=e.focus,r=e.getNodes();if(t.key===n.key&&t.offset===n.offset)return;r.forEach(((e,i)=>{(0,f.$isTextNode)(e)?(0===i&&0!==t.offset&&(e=e.splitText(t.offset)[1]||e),i===r.length-1&&(e=e.splitText(n.offset)[0]||e),""!==e.__style&&e.setStyle(""),0!==e.__format&&(e.setFormat(0),(0,m.$getNearestBlockElementAncestorOrThrow)(e).setFormat(""))):(0,h.$isHeadingNode)(e)||(0,h.$isQuoteNode)(e)?e.replace((0,f.$createParagraphNode)(),!0):(0,Ke.$isDecoratorBlockNode)(e)&&e.setFormat("")}))}}))}),[l]),w=(0,r.useCallback)((()=>{E?i.dispatchCommand(c.TOGGLE_LINK_COMMAND,null):i.dispatchCommand(c.TOGGLE_LINK_COMMAND,"https://")}),[i,E]);return r.createElement(et,{className:Qe.root},a in Je&&l===i&&r.createElement(qe,{className:Qe.blockFormat,disabled:!T,blockType:a,editor:i}),r.createElement(L.Z,{disabled:!T,onClick:()=>{l.dispatchCommand(f.FORMAT_ELEMENT_COMMAND,Xe[(Xe.findIndex((e=>R===e))+1)%Xe.length])}},r.createElement(Ye.Z,{title:r.createElement(o.Z,{id:`ui.editor.toolbarPlugin.${R}`,defaultMessage:`ui.editor.toolbarPlugin.${R}`})},r.createElement(B.Z,null,`format_align_${R}`))),r.createElement(Ge.Z,{value:x},Ve.map((e=>r.createElement(je.Z,{key:e,value:e,disabled:!T,onClick:()=>{l.dispatchCommand(f.FORMAT_TEXT_COMMAND,e)}},r.createElement(Ye.Z,{title:r.createElement(o.Z,{id:`ui.editor.toolbarPlugin.${e}`,defaultMessage:`ui.editor.toolbarPlugin.${e}`})},r.createElement(B.Z,null,`format_${e}`)))))),r.createElement(L.Z,{disabled:!T,onClick:A},r.createElement(Ye.Z,{title:r.createElement(o.Z,{id:"ui.editor.toolbarPlugin.clear",defaultMessage:"ui.editor.toolbarPlugin.clear"})},r.createElement(B.Z,null,"format_clear"))),r.createElement(L.Z,{disabled:!T,onClick:()=>{l.dispatchCommand(b.INSERT_HORIZONTAL_RULE_COMMAND,void 0)}},r.createElement(Ye.Z,{title:r.createElement(o.Z,{id:"ui.editor.toolbarPlugin.horizontalRule",defaultMessage:"ui.editor.toolbarPlugin.horizontalRule"})},r.createElement(B.Z,null,"format_horizontal_rule"))),n&&r.createElement(q,null),r.createElement(L.Z,{disabled:!T,onClick:w},r.createElement(Ye.Z,{title:r.createElement(o.Z,{id:"ui.editor.toolbarPlugin.link",defaultMessage:"ui.editor.toolbarPlugin.link"})},r.createElement(B.Z,null,"format_link"))),r.createElement(le,null))}var nt=n(38957),rt=n(79991),it=n(48831),ot=n(90629),lt=n(77931),st=n(87109);const at={root:`${G}-floating-link-plugin-root`},ut=(0,i.ZP)(it.Z,{name:G,slot:"FloatingLinkPluginRoot"})((()=>({})));function dt({editor:e,isLink:t,setIsLink:n}){const[i,o]=(0,r.useState)(null),[l,s]=(0,r.useState)(""),[a,u]=(0,r.useState)(null),[d,g]=(0,r.useState)(null),h=(0,r.useCallback)((()=>{var t;const n=(0,f.$getSelection)();if((0,f.$isRangeSelection)(n)){const e=(0,He.P)(n),t=e.getParent();(0,c.$isLinkNode)(t)?s(t.getURL()):(0,c.$isLinkNode)(e)?s(e.getURL()):s("")}const r=window.getSelection(),i=document.activeElement,l=e.getRootElement();return null!==n&&null!==r&&null!==l&&l.contains(r.anchorNode)&&e.isEditable()?(o(null===(t=r.focusNode)||void 0===t?void 0:t.parentElement),g(n)):i||(o(null),g(null),s("")),!0}),[e]);(0,r.useEffect)((()=>{l!=a&&u(null)}),[l]),(0,r.useEffect)((()=>(0,m.mergeRegister)(e.registerUpdateListener((({editorState:e})=>{e.read((()=>{h()}))})),e.registerCommand(f.SELECTION_CHANGE_COMMAND,(()=>(h(),!0)),f.COMMAND_PRIORITY_LOW),e.registerCommand(f.KEY_ESCAPE_COMMAND,(()=>!!t&&(n(!1),!0)),f.COMMAND_PRIORITY_HIGH))),[e,h,n,t]),(0,r.useEffect)((()=>{e.getEditorState().read((()=>{h()}))}),[e,h]);return t&&l!==a?r.createElement(ut,{className:at.root,open:Boolean(i),anchorEl:i,placement:"right"},r.createElement(ot.Z,null,r.createElement(lt.Z,{size:"small",value:l,variant:"outlined",onChange:e=>{s(e.target.value)},InputProps:{endAdornment:r.createElement(st.Z,{position:"end"},r.createElement(L.Z,{size:"small",tabIndex:0,onClick:()=>{n(!1)}},r.createElement(B.Z,null,"close")),r.createElement(L.Z,{size:"small",tabIndex:1,onClick:()=>{null!==d&&""!==l&&(u(l),e.dispatchCommand(c.TOGGLE_LINK_COMMAND,(0,rt.jv)(l)?l:"https://"))}},r.createElement(B.Z,null,"check")))}}))):null}const ct=()=>{const[e]=(0,p.useLexicalComposerContext)();return function(e){const[t,n]=(0,r.useState)(e),[i,o]=(0,r.useState)(!1),l=(0,r.useCallback)((()=>{const e=(0,f.$getSelection)();if((0,f.$isRangeSelection)(e)){const t=(0,He.P)(e),n=(0,m.$findMatchingParent)(t,c.$isLinkNode),r=(0,m.$findMatchingParent)(t,c.$isAutoLinkNode);o(null!=n&&null==r)}}),[]);return(0,r.useEffect)((()=>(0,m.mergeRegister)(e.registerUpdateListener((({editorState:e})=>{e.read((()=>{l()}))})),e.registerCommand(f.SELECTION_CHANGE_COMMAND,((e,t)=>(l(),n(t),!1)),f.COMMAND_PRIORITY_CRITICAL))),[e,l]),r.createElement(dt,{editor:t,isLink:i,setIsLink:o})}(e)},gt=({onBlur:e})=>{const[t]=(0,p.useLexicalComposerContext)();return(0,r.useEffect)((()=>t.registerCommand(f.BLUR_COMMAND,(t=>(e&&e(t),!0)),f.COMMAND_PRIORITY_EDITOR)),[]),null},ht=({onFocus:e})=>{const[t]=(0,p.useLexicalComposerContext)();return(0,r.useEffect)((()=>t.registerCommand(f.FOCUS_COMMAND,(t=>(e&&e(t),!0)),f.COMMAND_PRIORITY_EDITOR)),[]),null},ft={root:`${G}-root`,focused:`${G}-focused`,toolbar:`${G}-toolbar`,content:`${G}-content`,placeholder:`${G}-placeholder`,actions:`${G}-actions`},pt=(0,i.ZP)(l.Z,{name:G,slot:"Root",overridesResolver:(e,t)=>[t.root,e.className.includes(ft.toolbar)&&t.toolbar]})((({theme:e})=>({}))),_t={heading:{h1:`${G}-h1`,h2:`${G}-h2`,h3:`${G}-h3`,h4:`${G}-h4`,h5:`${G}-h5`,h6:`${G}-h6`},link:`${G}-link`,list:{listitem:`${G}-listItem`,nested:{listitem:`${G}-nestedListItem`},olDepth:[`${G}-ol1`,`${G}-ol2`,`${G}-ol3`,`${G}-ol4`,`${G}-ol5`],ul:`${G}-ul`},ltr:`${G}-ltr`,paragraph:`${G}-paragraph`,image:`${G}-image`,quote:`${G}-quote`,rtl:`${G}-rtl`,text:{bold:`${G}-textBold`,italic:`${G}-textItalic`,strikethrough:`${G}-textStrikethrough`,subscript:`${G}-textSubscript`,superscript:`${G}-textSuperscript`,underline:`${G}-textUnderline`,underlineStrikethrough:`${G}-textUnderlineStrikethrough`}},mt=(0,r.forwardRef)(((e,t)=>{const n=(0,d.Z)({props:e,name:G}),{id:i="editor",className:a=null,defaultValue:c="",toolbar:g=!1,uploadImage:h=!1,editable:f=!0,onChange:p=null,onFocus:_=null,onBlur:m=null}=n,C=(0,r.useRef)(),[N,y]=(0,r.useState)(!1),E=(e,t)=>{console.log(e)},v=(0,r.useCallback)((e=>{y(!0),_&&_(e)}),[_]),T=(0,r.useCallback)((e=>{y(!1),m&&m(e)}),[m]);(0,r.useImperativeHandle)(t,(()=>({focus:()=>{C.current.focus()}})));const S=(0,r.useMemo)((()=>({namespace:"LexicalEditor",editable:f,onError:E,nodes:[...R],theme:_t})),[f]);return r.createElement(pt,{id:i,className:u()(ft.root,a,{[ft.toolbar]:g,[ft.focused]:N})},r.createElement(M.LexicalComposer,{initialConfig:S},g?r.createElement(r.Fragment,null,r.createElement(tt,{uploadImage:h}),r.createElement(nt.ListPlugin,null),r.createElement(P.HorizontalRulePlugin,null)):r.createElement(s.Z,{className:ft.actions,direction:"row"},h&&r.createElement(q,null),r.createElement(le,null)),r.createElement(w.RichTextPlugin,{contentEditable:r.createElement(D.ContentEditable,{className:ft.content}),placeholder:r.createElement(l.Z,{className:ft.placeholder,onClick:()=>{C.current.focus()}},r.createElement(o.Z,{id:"ui.editor.placeholder",defaultMessage:"ui.editor.placeholder"})),ErrorBoundary:k()}),r.createElement(ae,{defaultValue:c}),r.createElement(A.HistoryPlugin,null),r.createElement(de,{onChange:e=>{p&&p(e)}}),r.createElement(gt,{onBlur:T}),r.createElement(ht,{onFocus:v}),r.createElement(pe,null),r.createElement(Le,null),r.createElement(Fe.LinkPlugin,null),r.createElement(ct,null),r.createElement(Be,{ref:C})))}))},63862:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var r=n(97582),i=n(41567),o=n(65001),l=n(24085),s=n(53704),a=n(68689),u=n(26580),d=n(8322),c=n.n(d);var g=n(67294),h=n(86896),f=n(21459);const p=e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{let n=new Image;n.onload=function(e){let r=document.createElement("canvas"),i=1920,o=n.width,l=n.height;o>l?o>i&&(l*=i/o,o=i):l>i&&(o*=i/l,l=i),r.width=o,r.height=l,r.getContext("2d").drawImage(n,0,0,o,l),t((e=>{let t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);let n=e.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([r],{type:n})})(r.toDataURL("image/jpeg")))},n.src=e.target.result},r.onerror=n,r.readAsDataURL(e)}));var _=n(99960),m=n(75459);const C=e=>{const{type:t=null,onSuccess:n=null,onProgress:d=null,onError:C=null}=e,N=(0,g.useRef)(!0),y=g.useRef({chunks:{},setChunk:null,setChunks:null}),[E,v]=(0,g.useState)({});y.current={chunks:E,setChunk:e=>{const t=Object.assign(Object.assign({},y.current.chunks),{[e.id]:Object.assign(Object.assign({},y.current.chunks[e.id]),e)});v(t),y.current.chunks=t},setChunks:e=>{v(e),y.current.chunks=e}};const T=(0,s.RM)(),{refreshSession:S}=(0,a.LD)(),x=(0,h.Z)();return(0,g.useEffect)((()=>{N.current?N.current=!1:d&&d(E)}),[E]),(0,u.J0)((e=>{if(e.file.type.startsWith("image/")){const t=new FileReader;t.onload=t=>{y.current.setChunk({id:e.id,image:t.target.result})},t.readAsDataURL(e.file)}y.current.setChunk({id:e.id,upload_id:null,completed:0,name:e.file.name})})),(0,u.UT)((e=>{y.current.setChunk({id:e.id,completed:e.completed})})),(0,i.h_)((e=>{((e,t,n)=>{t=t||2097152;let r=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,i=Math.ceil(e.size/t),o=0,l=new(c().ArrayBuffer),s=new FileReader;function a(){let n=o*t,i=n+t>=e.size?e.size:n+t;s.readAsArrayBuffer(r.call(e,n,i))}s.onload=function(e){l.append(e.target.result),o++,o<i?a():n(l.end())},s.onerror=function(){console.warn("oops, something went wrong.")},a()})(e.file,2142880,(t=>{const r=new FormData;r.append("upload_id",y.current.chunks[e.id].upload_id),r.append("type",y.current.chunks[e.id].type),r.append("md5",t),o.Z.request({url:l.Z.ComposerChunkUploadMediaComplete.url(),method:l.Z.ComposerChunkUploadMediaComplete.method,data:r,headers:{"Content-Type":"multipart/form-data"}}).then((t=>{setTimeout((()=>{const r=Object.assign({},y.current.chunks);delete r[e.id],y.current.setChunks(r),n(t.data)}),0)})).catch((t=>{console.log(t),C(Object.assign({},y.current.chunks[e.id]),x.formatMessage(f.Z.fileUploadErrorGeneric));const n=Object.assign({},y.current.chunks);delete n[e.id],y.current.setChunks(n)}))}))})),(0,i.A9)((e=>{C(Object.assign({},y.current.chunks[e.id]),x.formatMessage(f.Z.fileUploadErrorGeneric));const t=Object.assign({},y.current.chunks);delete t[e.id],y.current.setChunks(t)})),(0,i.cM)((e=>{const n={url:`${T.settings.portal}${l.Z.ComposerChunkUploadMedia.url()}`,sendOptions:{paramName:"image",method:l.Z.ComposerChunkUploadMedia.method,formatServerResponse:(e,t,n)=>(0,r.mG)(void 0,void 0,void 0,(function*(){return 401===t&&(yield S()),Promise.resolve(JSON.parse(e))}))}};return y.current.chunks[e.item.id].upload_id?n.sendOptions.params={upload_id:y.current.chunks[e.item.id].upload_id}:y.current.setChunk({id:e.item.id,type:t||e.sendOptions.paramName}),n})),(0,i.Rx)((e=>(0,r.mG)(void 0,void 0,void 0,(function*(){const t=yield e.uploadData.response.data;y.current.setChunk({id:e.item.id,upload_id:t.upload_id})})))),(0,i.fc)((({items:e,options:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){const n=["JWT","OAuth"].includes(T.settings.session.type)?{headers:{Authorization:`Bearer ${T.settings.session.authToken.accessToken}`}}:{};return 0==e.length?Promise.resolve({options:t,destination:n}):new Promise((i=>{Promise.all(e.map((e=>(0,r.mG)(void 0,void 0,void 0,(function*(){return Object.assign(Object.assign({},e),{file:e.file.type.startsWith("image/")&&"image/gif"!==e.file.type?yield p(e.file):e.file})}))))).then((e=>{i({items:e,options:{inputFieldName:t.inputFieldName,destination:n}})})).catch((e=>{_.Y.error(e,m.J),i({options:{inputFieldName:t.inputFieldName,destination:n}})}))}))})))),null}},94631:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,P:()=>i});var r=n(89408);function i(e){const t=e.anchor,n=e.focus,i=e.anchor.getNode(),o=e.focus.getNode();if(i===o)return i;return e.isBackward()?(0,r.$isAtNodeEnd)(n)?i:o:(0,r.$isAtNodeEnd)(t)?i:o}function o(e){return Array.from(e.matchAll(/<hashtag id="(?<id>[0-9]+)">#(?<name>[^<>]+)<\/hashtag>/g)).map((e=>e.groups.id))}},32998:(e,t,n)=>{"use strict";const r=n(34556);e.exports=r},34556:(e,t)=>{"use strict";let n={},r={},i={},o={},l={},s={},a={},u={},d={},c={},g={},h={},f={},p={},_={},m={},C={},N={},y={},E={},v={},T={},S={},x={},O={},b={},R={},M={},D={},A={},w={},$={},k={},P={},I={},L={};function F(e){let t=new URLSearchParams;t.append("code",e);for(let n=1;n<arguments.length;n++)t.append("v",arguments[n]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let B="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,K=B&&"documentMode"in document?document.documentMode:null,W=B&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),z=B&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),H=!(!B||!("InputEvent"in window)||K)&&"getTargetRanges"in new window.InputEvent("input"),Y=B&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Z=B&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,U=B&&/Android/.test(navigator.userAgent),G=B&&/^(?=.*Chrome).*/i.test(navigator.userAgent),j=B&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!G,J=Y||Z||j?"\xa0":"\u200b",V=z?"\xa0":J,X=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,q=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,Q={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},ee={directionless:1,unmergeable:2},te={center:2,end:6,justify:4,left:1,right:3,start:5},ne={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},re={normal:0,segmented:2,token:1},ie={0:"normal",2:"segmented",1:"token"},oe=!1,le=0;function se(e){le=e.timeStamp}function ae(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function ue(e,t,n){oe=!0;let r=100<performance.now()-le;try{$r(e,(()=>{let i=lr()||function(e){return e.getEditorState().read((()=>{let e=lr();return null!==e?e.clone():null}))}(e);var o=new Map,l=e.getRootElement(),s=e._editorState,a=e._blockCursorElement;let u=!1,d="";for(var c=0;c<t.length;c++){var g=t[c],h=g.type,f=g.target,p=we(f,s);if(!(null===p&&f!==l||Pr(p)))if("characterData"===h){if(g=r&&wn(p))e:{h=f;var _=p;if(Hn(g=i)){var m=g.anchor.getNode();if(m.is(_)&&g.format!==m.getFormat()){g=!1;break e}}g=3===h.nodeType&&_.isAttached()}g&&(h=g=null,null!==(_=lt(e._window))&&_.anchorNode===f&&(g=_.anchorOffset,h=_.focusOffset),null!==(f=f.nodeValue)&&ze(p,f,g,h,!1))}else if("childList"===h){for(u=!0,h=g.addedNodes,_=0;_<h.length;_++){var C=Ae(m=h[_]),N=m.parentNode;null==N||m===a||null!==C||"BR"===m.nodeName&&ae(m,N,e)||(z&&(C=m.innerText||m.nodeValue)&&(d+=C),N.removeChild(m))}if(0<(h=(g=g.removedNodes).length)){for(_=0,m=0;m<h;m++)("BR"===(N=g[m]).nodeName&&ae(N,f,e)||a===N)&&(f.appendChild(N),_++);h!==_&&(f===l&&(p=s._nodeMap.get("root")),o.set(f,p))}}}if(0<o.size)for(let[t,n]of o)if(Lr(n))for(o=n.getChildrenKeys(),l=t.firstChild,s=0;s<o.length;s++)null!==(a=e.getElementByKey(o[s]))&&(null==l?(t.appendChild(a),l=a):l!==a&&t.replaceChild(a,l),l=l.nextSibling);else wn(n)&&n.markDirty();if(0<(o=n.takeRecords()).length){for(l=0;l<o.length;l++)for(s=(a=o[l]).addedNodes,a=a.target,c=0;c<s.length;c++)null==(f=(p=s[c]).parentNode)||"BR"!==p.nodeName||ae(p,a,e)||f.removeChild(p);n.takeRecords()}null!==i&&(u&&(i.dirty=!0,Ie(i)),z&&Ge(e)&&i.insertRawText(d))}))}finally{oe=!1}}function de(e){let t=e._observer;if(null!==t){ue(e,t.takeRecords(),t)}}function ce(e){0===le&&qe(e).addEventListener("textInput",se,!0),e._observer=new MutationObserver(((t,n)=>{ue(e,t,n)}))}function ge(e,t){let n=e.__mode,r=e.__format;e=e.__style;let i=t.__mode,o=t.__format;return t=t.__style,!(null!==n&&n!==i||null!==r&&r!==o||null!==e&&e!==t)}function he(e,t){let n=e.mergeWithSibling(t),r=Sr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function fe(e){if(""===e.__text&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t;null!==(t=e.getPreviousSibling())&&wn(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){ge(t,e)&&(e=he(t,e));break}t.remove()}for(var n;null!==(n=e.getNextSibling())&&wn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){ge(e,n)&&he(e,n);break}n.remove()}}}function pe(e){return _e(e.anchor),_e(e.focus),e}function _e(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),wn(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}if(!Lr(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}let me=1,Ce="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function Ne(e){let t=document.activeElement;if(null===t)return!1;let n=t.nodeName;return Pr(we(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function ye(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Ne(t)&&Ee(t)===e}catch(i){return!1}}function Ee(e){for(;null!=e;){let t=e.__lexicalEditor;if(null!=t)return t;e=Ve(e)}return null}function ve(e){return e.isToken()||e.isSegmented()}function Te(e){for(;null!=e;){if(3===e.nodeType)return e;e=e.firstChild}return null}function Se(e,t,n){let r=Q[t];return null!==n&&(e&r)==(n&r)||(e^=r,"subscript"===t?e&=~Q.superscript:"superscript"===t&&(e&=~Q.subscript)),e}function xe(e,t){if(null!=t)e.__key=t;else{vr(),99<Nr&&F(14),t=Sr();var n=Tr(),r=""+me++;n._nodeMap.set(r,e),Lr(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function Oe(e){var t=e.getParent();if(null!==t){let i=e.getWritable();t=t.getWritable();var n=e.getPreviousSibling();if(e=e.getNextSibling(),null===n)if(null!==e){var r=e.getWritable();t.__first=e.__key,r.__prev=null}else t.__first=null;else{if(r=n.getWritable(),null!==e){let t=e.getWritable();t.__prev=r.__key,r.__next=t.__key}else r.__next=null;i.__prev=null}null===e?null!==n?(e=n.getWritable(),t.__last=n.__key,e.__next=null):t.__last=null:(e=e.getWritable(),null!==n?((n=n.getWritable()).__next=e.__key,e.__prev=n.__key):e.__prev=null,i.__next=null),t.__size--,i.__parent=null}}function be(e){99<Nr&&F(14);var t=e.getLatest(),n=t.__parent,r=Tr();let i=Sr(),o=r._nodeMap;if(r=i._dirtyElements,null!==n)e:for(;null!==n&&!r.has(n);){let e=o.get(n);if(void 0===e)break;r.set(n,!1),n=e.__parent}t=t.__key,i._dirtyType=1,Lr(e)?r.set(t,!0):i._dirtyLeaves.add(t)}function Re(e){vr();var t=Sr();let n=t._compositionKey;e!==n&&(t._compositionKey=e,null!==n&&(null!==(t=De(n))&&t.getWritable()),null!==e&&(null!==(e=De(e))&&e.getWritable()))}function Me(){return Er()?null:Sr()._compositionKey}function De(e,t){return void 0===(e=(t||Tr())._nodeMap.get(e))?null:e}function Ae(e,t){return void 0!==(e=e[`__lexicalKey_${Sr()._key}`])?De(e,t):null}function we(e,t){for(;null!=e;){let n=Ae(e,t);if(null!==n)return n;e=Ve(e)}return null}function $e(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t}function ke(e){return e.read((()=>Pe().getTextContent()))}function Pe(){return Tr()._nodeMap.get("root")}function Ie(e){vr();let t=Tr();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function Le(e){var t,n=Sr();e:{for(t=e;null!=t;){let e=t[`__lexicalKey_${n._key}`];if(void 0!==e){t=e;break e}t=Ve(t)}t=null}return null===t?e===(n=n.getRootElement())?De("root"):null:De(t)}function Fe(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function Be(e){let t=[];for(;null!==e;)t.push(e),e=e._parentEditor;return t}function Ke(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function We(e,t,n){if(null!==(t=lt(t._window))){var r=t.anchorNode,{anchorOffset:i,focusOffset:o}=t;if(null!==r&&(t=3===r.nodeType?r.nodeValue:null,r=we(r),null!==t&&wn(r))){if(t===J&&n){t=n,o=i=n.length}null!==t&&ze(r,t,i,o,e)}}}function ze(e,t,n,r,i){let o=e;if(o.isAttached()&&(i||!o.isDirty())){let u=o.isComposing(),d=t;if((u||i)&&t[t.length-1]===J&&(d=t.slice(0,-1)),t=o.getTextContent(),i||d!==t)if(""===d)if(Re(null),Y||Z||j)o.remove();else{let e=Sr();setTimeout((()=>{e.update((()=>{o.isAttached()&&o.remove()}))}),20)}else{i=o.getParent(),t=sr();var l=o.getTextContentSize(),s=Me(),a=o.getKey();o.isToken()||null!==s&&a===s&&!u||Hn(t)&&(null!==i&&!i.canInsertTextBefore()&&0===t.anchor.offset||t.anchor.key===e.__key&&0===t.anchor.offset&&!o.canInsertTextBefore()||t.focus.key===e.__key&&t.focus.offset===l&&!o.canInsertTextAfter())?o.markDirty():(Hn(e=lr())&&null!==n&&null!==r&&(e.setTextNodeRange(o,n,o,r),o.isSegmented()&&(n=An(n=o.getTextContent()),o.replace(n),o=n)),o.setTextContent(d))}}}function He(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});let n=e.__lexicalClassNameCache,r=n[t];return void 0!==r?r:"string"==typeof(e=e[t])?(e=e.split(" "),n[t]=e):e}function Ye(e,t,n,r,i){0!==n.size&&(n=r.__type,r=r.__key,void 0===(t=t.get(n))&&F(33,n),n=t.klass,void 0===(t=e.get(n))&&(t=new Map,e.set(n,t)),n="destroyed"===(e=t.get(r))&&"created"===i,(void 0===e||n)&&t.set(r,n?"updated":i))}function Ze(e,t,n){let r=e.getParent(),i=n;return null!==r&&(t&&0===n?(i=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(i=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?i-1:i)}function Ue(e,t){var n=e.offset;return"element"===e.type?Ze(e=e.getNode(),t,n):(e=e.getNode(),t&&0===n||!t&&n===e.getTextContentSize()?null===(n=t?e.getPreviousSibling():e.getNextSibling())?Ze(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n:null)}function Ge(e){return"insertFromPaste"===(e=(e=qe(e).event)&&e.inputType)||"insertFromPasteAsQuotation"===e}function je(e){return!Kr(e)&&!e.isLastChild()&&!e.isInline()}function Je(e,t){return void 0===(e=e._keyToDOMMap.get(t))&&F(75,t),e}function Ve(e){return null!==(e=e.assignedSlot||e.parentElement)&&11===e.nodeType?e.host:e}function Xe(e,t){for(e=e.getParent();null!==e;){if(e.is(t))return!0;e=e.getParent()}return!1}function qe(e){return null===(e=e._window)&&F(78),e}function Qe(e){for(e=e.getParentOrThrow();null!==e&&!et(e);)e=e.getParentOrThrow();return e}function et(e){return Kr(e)||Lr(e)&&e.isShadowRoot()}function tt(e){return xe(e=e.constructor.clone(e),null),e}function nt(e){var t=Sr();let n=e.constructor.getType();return void 0===(t=t._nodes.get(n))&&F(97),null!==(t=t.replace)?((t=t(e))instanceof e.constructor||F(98),t):e}function rt(e,t){!Kr(e=e.getParent())||Lr(t)||Pr(t)||F(99)}function it(e){return(Pr(e)||Lr(e)&&!e.canBeEmpty())&&!e.isInline()}function ot(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,null!==(t=e.parentElement)&&t.removeChild(e)}function lt(e){return B?(e||window).getSelection():null}function st(e,t){for(;e!==Pe()&&null!=e;){if(t(e))return e;e=e.getParent()}return null}function at(e){let t=[],n=[e];for(;0<n.length;){let r=n.pop();void 0===r&&F(112),Lr(r)&&n.unshift(...r.getChildren()),r!==e&&t.push(r)}return t}function ut(e){return 1===e.nodeType}function dt(e){if(Pr(e)&&!e.isInline())return!0;if(!Lr(e)||et(e))return!1;var t=e.getFirstChild();return t=null===t||_n(t)||wn(t)||t.isInline(),!e.isInline()&&!1!==e.canBeEmpty()&&t}function ct(e,t){for(;null!==e&&null!==e.getParent()&&!t(e);)e=e.getParentOrThrow();return t(e)?e:null}function gt(e,t,n,r,i,o){for(e=e.getFirstChild();null!==e;){let l=e.__key;e.__parent===t&&(Lr(e)&&gt(e,l,n,r,i,o),n.has(l)||o.delete(l),i.push(l)),e=e.getNextSibling()}}let ht,ft,pt,_t,mt,Ct,Nt,yt,Et,vt,Tt="",St="",xt="",Ot=!1,bt=!1,Rt=null;function Mt(e,t){let n=Nt.get(e);if(null!==t){let n=Ht(e);n.parentNode===t&&t.removeChild(n)}yt.has(e)||ft._keyToDOMMap.delete(e),Lr(n)&&Dt(e=Bt(n,Nt),0,e.length-1,null),void 0!==n&&Ye(vt,pt,_t,n,"destroyed")}function Dt(e,t,n,r){for(;t<=n;++t){let n=e[t];void 0!==n&&Mt(n,r)}}function At(e,t){e.setProperty("text-align",t)}function wt(e,t){var n=ht.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"40px",e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${n})`)}function $t(e,t){e=e.style,0===t?At(e,""):1===t?At(e,"left"):2===t?At(e,"center"):3===t?At(e,"right"):4===t?At(e,"justify"):5===t?At(e,"start"):6===t&&At(e,"end")}function kt(e,t,n){let r=yt.get(e);void 0===r&&F(60);let i=r.createDOM(ht,ft);var o=ft._keyToDOMMap;if(i["__lexicalKey_"+ft._key]=e,o.set(e,i),wn(r)?i.setAttribute("data-lexical-text","true"):Pr(r)&&i.setAttribute("data-lexical-decorator","true"),Lr(r)){if(e=r.__indent,o=r.__size,0!==e&&wt(i,e),0!==o){--o,e=Bt(r,yt);var l=St;St="",Pt(e,r,0,o,i,null),Ft(r,i),St=l}0!==(e=r.__format)&&$t(i,e),r.isInline()||Lt(null,r,i),je(r)&&(Tt+="\n\n",xt+="\n\n")}else o=r.getTextContent(),Pr(r)?(null!==(l=r.decorate(ft,ht))&&Wt(e,l),i.contentEditable="false"):wn(r)&&(r.isDirectionless()||(St+=o)),Tt+=o,xt+=o;return null!==t&&(null!=n?t.insertBefore(i,n):null!=(n=t.__lexicalLineBreak)?t.insertBefore(i,n):t.appendChild(i)),Ye(vt,pt,_t,r,"created"),i}function Pt(e,t,n,r,i,o){let l=Tt;for(Tt="";n<=r;++n)kt(e[n],i,o);je(t)&&(Tt+="\n\n"),i.__lexicalTextContent=Tt,Tt=l+Tt}function It(e,t){return _n(e=t.get(e))||Pr(e)&&e.isInline()}function Lt(e,t,n){e=null!==e&&(0===e.__size||It(e.__last,Nt)),t=0===t.__size||It(t.__last,yt),e?t||(null!=(t=n.__lexicalLineBreak)&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function Ft(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==St||n!==Rt){let o=""===St;if(o)var r=Rt;else r=St,r=X.test(r)?"rtl":q.test(r)?"ltr":null;if(r!==n){let l=t.classList,s=ht.theme;var i=null!==n?s[n]:void 0;let a=null!==r?s[r]:void 0;void 0!==i&&("string"==typeof i&&(i=i.split(" "),i=s[n]=i),l.remove(...i)),null===r||o&&"ltr"===r?t.removeAttribute("dir"):(void 0!==a&&("string"==typeof a&&(n=a.split(" "),a=s[r]=n),void 0!==a&&l.add(...a)),t.dir=r),bt||(e.getWritable().__dir=r)}Rt=r,t.__lexicalDirTextContent=St,t.__lexicalDir=r}}function Bt(e,t){let n=[];for(e=e.__first;null!==e;){let r=t.get(e);void 0===r&&F(101),n.push(e),e=r.__next}return n}function Kt(e,t){var n=Nt.get(e),r=yt.get(e);void 0!==n&&void 0!==r||F(61);var i=Ot||Ct.has(e)||mt.has(e);let o=Je(ft,e);if(n===r&&!i)return Lr(n)?(void 0!==(r=o.__lexicalTextContent)&&(Tt+=r,xt+=r),void 0!==(r=o.__lexicalDirTextContent)&&(St+=r)):(r=n.getTextContent(),wn(n)&&!n.isDirectionless()&&(St+=r),xt+=r,Tt+=r),o;if(n!==r&&i&&Ye(vt,pt,_t,r,"updated"),r.updateDOM(n,o,ht))return r=kt(e,null,null),null===t&&F(62),t.replaceChild(r,o),Mt(e,null),r;if(Lr(n)&&Lr(r)){if((e=r.__indent)!==n.__indent&&wt(o,e),(e=r.__format)!==n.__format&&$t(o,e),i){e=r,i=St,St="",t=Tt;var l=n.__size,s=e.__size;if(Tt="",1===l&&1===s){var a=n.__first,u=e.__first;if(a===u)Kt(a,o);else{var d=Ht(a);u=kt(u,null,null),o.replaceChild(u,d),Mt(a,null)}}else{u=Bt(n,Nt);var c=Bt(e,yt);if(0===l)0!==s&&Pt(c,e,0,s-1,o,null);else if(0===s)0!==l&&(Dt(u,0,l-1,(a=null==o.__lexicalLineBreak)?null:o),a&&(o.textContent=""));else{var g=u;u=c,c=l-1,l=s-1;let t=o.firstChild,n=0;for(s=0;n<=c&&s<=l;){var h=g[n];let e=u[s];if(h===e)t=zt(Kt(e,o)),n++,s++;else{void 0===a&&(a=new Set(g)),void 0===d&&(d=new Set(u));let r=d.has(h),i=a.has(e);r?(i?((h=Je(ft,e))===t?t=zt(Kt(e,o)):(null!=t?o.insertBefore(h,t):o.appendChild(h),Kt(e,o)),n++):kt(e,o,t),s++):(t=zt(Ht(h)),Mt(h,o),n++)}}d=s>l,(a=n>c)&&!d?Pt(u,e,s,l,o,a=void 0===(a=u[l+1])?null:ft.getElementByKey(a)):d&&!a&&Dt(g,n,c,o)}}je(e)&&(Tt+="\n\n"),o.__lexicalTextContent=Tt,Tt=t+Tt,Ft(e,o),St=i,Kr(r)||r.isInline()||Lt(n,r,o)}je(r)&&(Tt+="\n\n",xt+="\n\n")}else n=r.getTextContent(),Pr(r)?null!==(i=r.decorate(ft,ht))&&Wt(e,i):wn(r)&&!r.isDirectionless()&&(St+=n),Tt+=n,xt+=n;return!bt&&Kr(r)&&r.__cachedText!==xt&&((r=r.getWritable()).__cachedText=xt),o}function Wt(e,t){let n=ft._pendingDecorators,r=ft._decorators;if(null===n){if(r[e]===t)return;n=$e(ft)}n[e]=t}function zt(e){return null!==(e=e.nextSibling)&&e===ft._blockCursorElement&&(e=e.nextSibling),e}function Ht(e){let t=Et.get(e);return void 0===t&&F(75,e),t}let Yt=Object.freeze({}),Zt=[["keydown",function(e,t){if(Ut=e.timeStamp,Gt=e.keyCode,!t.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:l,metaKey:s,altKey:a}=e;if(!Dr(t,p,e)){if(39!==n||l||s||a)if(39!==n||a||r||!l&&!s)if(37!==n||l||s||a)if(37!==n||a||r||!l&&!s)if(38!==n||l||s)if(40!==n||l||s)if(13===n&&r)Qt=!0,Dr(t,v,e);else if(32===n)Dr(t,T,e);else if(W&&l&&79===n)e.preventDefault(),Qt=!0,Dr(t,o,!0);else if(13!==n||r){var u=W?!a&&!s&&(8===n||72===n&&l):!(l||a||s)&&8===n;u?8===n?Dr(t,S,e):(e.preventDefault(),Dr(t,i,!0)):27===n?Dr(t,x,e):(u=W?!(r||a||s)&&(46===n||68===n&&l):!(l||a||s)&&46===n)?46===n?Dr(t,O,e):(e.preventDefault(),Dr(t,i,!1)):8===n&&(W?a:l)?(e.preventDefault(),Dr(t,d,!0)):46===n&&(W?a:l)?(e.preventDefault(),Dr(t,d,!1)):W&&s&&8===n?(e.preventDefault(),Dr(t,c,!0)):W&&s&&46===n?(e.preventDefault(),Dr(t,c,!1)):66===n&&!a&&(W?s:l)?(e.preventDefault(),Dr(t,g,"bold")):85===n&&!a&&(W?s:l)?(e.preventDefault(),Dr(t,g,"underline")):73===n&&!a&&(W?s:l)?(e.preventDefault(),Dr(t,g,"italic")):9!==n||a||l||s?90===n&&!r&&(W?s:l)?(e.preventDefault(),Dr(t,h,void 0)):(u=W?90===n&&s&&r:89===n&&l||90===n&&l&&r)?(e.preventDefault(),Dr(t,f,void 0)):Jn(t._editorState._selection)?(u=!r&&(67===n&&(W?s:l)))?(e.preventDefault(),Dr(t,w,e)):(u=!r&&(88===n&&(W?s:l)))?(e.preventDefault(),Dr(t,$,e)):65===n&&(W?s:l)&&(e.preventDefault(),Dr(t,k,e)):!z&&65===n&&(W?s:l)&&(e.preventDefault(),Dr(t,k,e)):Dr(t,b,e)}else Qt=!1,Dr(t,v,e);else Dr(t,E,e);else Dr(t,y,e);else Dr(t,N,e);else Dr(t,C,e);else Dr(t,m,e);else Dr(t,_,e);(l||r||a||s)&&Dr(t,L,e)}}}],["pointerdown",function(e,t){let n=e.target;e=e.pointerType,n instanceof Node&&"touch"!==e&&$r(t,(()=>{Pr(we(n))||(qt=!0)}))}],["compositionstart",function(e,t){$r(t,(()=>{let n=lr();if(Hn(n)&&!t.isComposing()){let r=n.anchor,i=n.anchor.getNode();Re(r.key),(e.timeStamp<Ut+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&Dr(t,s,V)}}))}],["compositionend",function(e,t){z?en=!0:$r(t,(()=>{sn(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),$r(t,(()=>{var n=lr(),r=e.data,i=ln(e);if(null!=r&&Hn(n)&&nn(n,i,r,e.timeStamp,!1)){en&&(sn(t,r),en=!1);var o=n.anchor,l=o.getNode();if(null===(i=lt(t._window)))return;let a=o.offset;(o=H&&!n.isCollapsed()&&wn(l)&&null!==i.anchorNode)&&(o=(l=l.getTextContent().slice(0,a)+r+l.getTextContent().slice(a+n.focus.offset))===(3===(i=i.anchorNode).nodeType?i.nodeValue:null)),o||Dr(t,s,r),r=r.length,z&&1<r&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=r),Y||Z||j||!t.isComposing()||(Ut=0,Re(null))}else We(!1,t,null!==r?r:void 0),en&&(sn(t,r||void 0),en=!1);vr(),de(n=Sr())})),Jt=null}],["click",function(e,t){$r(t,(()=>{let n=lr();var i=lt(t._window);let o=sr();if(i)if(Hn(n)){let t=n.anchor;var l=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!Kr(l)&&1===Pe().getChildrenSize()&&l.getTopLevelElementOrThrow().isEmpty()&&null!==o&&n.is(o)?(i.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||l!==(i=n.focus.getNode())&&(Lr(l)?l.select(0):l.getParentOrThrow().select(0))}else"touch"===e.pointerType&&(null!==(l=i.anchorNode)&&(1===(l=l.nodeType)||3===l))&&Ie(i=or(o,i,t));Dr(t,r,e)}))}],["cut",Yt],["copy",Yt],["dragstart",Yt],["dragover",Yt],["dragend",Yt],["paste",Yt],["focus",Yt],["blur",Yt],["drop",Yt]];H&&Zt.push(["beforeinput",(e,t)=>function(e,t){let n=e.inputType,r=ln(e);"deleteCompositionText"===n||z&&Ge(t)||"insertCompositionText"!==n&&$r(t,(()=>{let p=lr();if("deleteContentBackward"===n){if(null===p){var _=sr();if(!Hn(_))return;Ie(_.clone())}if(Hn(p))return U&&Re(p.anchor.key),void(229===Gt&&e.timeStamp<Ut+30&&t.isComposing()&&p.anchor.key===p.focus.key?(Re(null),Ut=0,setTimeout((()=>{$r(t,(()=>{Re(null)}))}),30),Hn(p)&&(_=p.anchor.getNode(),_.markDirty(),p.format=_.getFormat(),p.style=_.getStyle()),1>=p.anchor.getNode().getTextContent().length&&(e.preventDefault(),Dr(t,i,!0))):(e.preventDefault(),Dr(t,i,!0)))}if(Hn(p)){_=e.data,null!==Jt&&We(!1,t,Jt),p.dirty&&null===Jt||!p.isCollapsed()||Kr(p.anchor.getNode())||null===r||p.applyDOMRange(r),Jt=null;var m=p.focus,C=p.anchor.getNode();if(m=m.getNode(),"insertText"===n||"insertTranspose"===n)"\n"===_?(e.preventDefault(),Dr(t,o,!1)):"\n\n"===_?(e.preventDefault(),Dr(t,l,void 0)):null==_&&e.dataTransfer?(_=e.dataTransfer.getData("text/plain"),e.preventDefault(),p.insertRawText(_)):null!=_&&nn(p,r,_,e.timeStamp,!0)?(e.preventDefault(),Dr(t,s,_)):Jt=_,jt=e.timeStamp;else switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Dr(t,s,e);break;case"insertFromComposition":Re(null),Dr(t,s,e);break;case"insertLineBreak":Re(null),Dr(t,o,!1);break;case"insertParagraph":Re(null),Qt&&!Z?(Qt=!1,Dr(t,o,!1)):Dr(t,l,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Dr(t,a,e);break;case"deleteByComposition":(function(e,t){return e!==t||Lr(e)||Lr(t)||!e.isToken()||!t.isToken()})(C,m)&&Dr(t,u,e);break;case"deleteByDrag":case"deleteByCut":Dr(t,u,e);break;case"deleteContent":Dr(t,i,!1);break;case"deleteWordBackward":Dr(t,d,!0);break;case"deleteWordForward":Dr(t,d,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Dr(t,c,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Dr(t,c,!1);break;case"formatStrikeThrough":Dr(t,g,"strikethrough");break;case"formatBold":Dr(t,g,"bold");break;case"formatItalic":Dr(t,g,"italic");break;case"formatUnderline":Dr(t,g,"underline");break;case"historyUndo":Dr(t,h,void 0);break;case"historyRedo":Dr(t,f,void 0)}}}))}(e,t)]);let Ut=0,Gt=0,jt=0,Jt=null,Vt=0,Xt=!1,qt=!1,Qt=!1,en=!1,tn=[0,"",0,"root",0];function nn(e,t,n,r,i){let o=e.anchor,l=e.focus,s=o.getNode();var a=Sr();let u=lt(a._window),d=null!==u?u.anchorNode:null,c=o.key;a=a.getElementByKey(c);let g=n.length;return c!==l.key||!wn(s)||(!i&&(!H||jt<r+50)||s.isDirty()&&2>g||Fe(n))&&o.offset!==l.offset&&!s.isComposing()||ve(s)||s.isDirty()&&1<g||(i||!H)&&null!==a&&!s.isComposing()&&d!==Te(a)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;let n=t.getParentOrThrow(),r=t.isToken();return 0===e?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=(wn(t=t.getPreviousSibling())||Lr(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()||r)}(e,s)}function rn(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function on(e,t,r){let{anchorNode:i,anchorOffset:o,focusNode:l,focusOffset:s}=e;Xt&&(Xt=!1,rn(i,o)&&rn(l,s))||$r(t,(()=>{if(r){if(ye(t,i,l)){var o=lr();if(Hn(o)){var s=o.anchor,a=s.getNode();if(o.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(o.dirty=!0);var u=qe(t).event;u=u?u.timeStamp:performance.now();let[n,r,i,l,c]=tn;var d=Pe();d=!1===t.isComposing()&&""===d.getTextContent(),u<c+200&&s.offset===i&&s.key===l?(o.format=n,o.style=r):"text"===s.type?(o.format=a.getFormat(),o.style=a.getStyle()):"element"!==s.type||d||(o.format=0,o.style="")}else{s=255,a=!1,d=(u=o.getNodes()).length;for(let e=0;e<d;e++){let t=u[e];if(wn(t)&&(a=!0,0===(s&=t.getFormat())))break}o.format=a?s:0}}Dr(t,n,void 0)}}else Ie(null)}))}function ln(e){return e.getTargetRanges?0===(e=e.getTargetRanges()).length?null:e[0]:null}function sn(e,t){var n=e._compositionKey;if(Re(null),null!==n&&null!=t){if(""===t)return t=De(n),void(null!==(e=Te(e.getElementByKey(n)))&&null!==e.nodeValue&&wn(t)&&ze(t,e.nodeValue,null,null,!0));if("\n"===t[t.length-1]&&Hn(n=lr()))return t=n.focus,n.anchor.set(t.key,t.offset,t.type),void Dr(e,v,null)}We(!0,e,t)}function an(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}let un=new Map;function dn(e){let t=lt(null==(e=e.target)?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null!==t){var n=Ee(t.anchorNode);if(null!==n){qt&&(qt=!1,$r(n,(()=>{var e=sr(),r=t.anchorNode;null!==r&&(1===(r=r.nodeType)||3===r)&&Ie(e=or(e,t,n))})));var r=(e=(e=Be(n))[e.length-1])._key,i=un.get(r),o=i||e;o!==n&&on(t,o,!1),on(t,n,!0),n!==e?un.set(r,n):i&&un.delete(r)}}}function cn(e,t,n){vr();var r=e.__key;let i=e.getParent();if(null!==i){var o=lr();if(Hn(o)&&Lr(e)){var{anchor:l,focus:s}=o,a=l.getNode(),u=s.getNode();Xe(a,e)&&l.set(e.__key,0,"element"),Xe(u,e)&&s.set(e.__key,0,"element")}if(u=!1,Hn(a=o)&&t){o=a.anchor;let t=a.focus;o.key===r&&(dr(o,e,i,e.getPreviousSibling(),e.getNextSibling()),u=!0),t.key===r&&(dr(t,e,i,e.getPreviousSibling(),e.getNextSibling()),u=!0)}else Jn(a)&&t&&e.isSelected()&&e.selectPrevious();Hn(a)&&t&&!u?(r=e.getIndexWithinParent(),Oe(e),ar(a,i,r,-1)):Oe(e),n||et(i)||i.canBeEmpty()||!i.isEmpty()||cn(i,t),t&&Kr(i)&&i.isEmpty()&&i.selectEnd()}}class gn{static getType(){F(64,this.name)}static clone(){F(65,this.name)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,xe(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;null!==e;){if("root"===e)return!0;if(null===(e=De(e)))break;e=e.__parent}return!1}isSelected(e){if(null==(e=e||lr()))return!1;let t=e.getNodes().some((e=>e.__key===this.__key));return(wn(this)||!Hn(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(null===e)return-1;e=e.getFirstChild();let t=0;for(;null!==e;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return null===e?null:De(e)}getParentOrThrow(){let e=this.getParent();return null===e&&F(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(et(t))return e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&F(67,this.__key),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:De(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(null===t)return e;for(t=t.getFirstChild();null!==t&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:De(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var n=e.getParents();Lr(this)&&t.unshift(this),Lr(e)&&n.unshift(e),e=t.length;var r=n.length;if(0===e||0===r||t[e-1]!==n[r-1])return null;for(n=new Set(n),r=0;r<e;r++){let e=t[r];if(n.has(e))return e}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let n=this;for(;;){var r=n.getParentOrThrow();if(r===t){r=n.getIndexWithinParent();break}n=r}for(n=e;;){if((e=n.getParentOrThrow())===t){t=n.getIndexWithinParent();break}n=e}return r<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;null!==e;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),n=[],r=new Set;for(var i=this;;){var o=i.__key;if(r.has(o)||(r.add(o),n.push(i)),i===e)break;if(null!==(o=Lr(i)?t?i.getFirstChild():i.getLastChild():null))i=o;else if(null!==(o=t?i.getNextSibling():i.getPreviousSibling()))i=o;else{if(i=i.getParentOrThrow(),r.has(i.__key)||n.push(i),i===e)break;o=i;do{null===o&&F(68),i=t?o.getNextSibling():o.getPreviousSibling(),null!==(o=o.getParent())&&(null!==i||r.has(o.__key)||n.push(o))}while(null===i)}}return t||n.reverse(),n}isDirty(){let e=Sr()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=De(this.__key);return null===e&&F(113),e}getWritable(){vr();var e=Tr(),t=Sr();e=e._nodeMap;let n=this.__key,r=this.getLatest(),i=r.__parent;t=t._cloneNotNeeded;var o=lr();return Yn(o)&&o.setCachedNodes(null),t.has(n)?(be(r),r):((o=r.constructor.clone(r)).__parent=i,o.__next=r.__next,o.__prev=r.__prev,Lr(r)&&Lr(o)?(o.__first=r.__first,o.__last=r.__last,o.__size=r.__size,o.__indent=r.__indent,o.__format=r.__format,o.__dir=r.__dir):wn(r)&&wn(o)&&(o.__format=r.__format,o.__style=r.__style,o.__mode=r.__mode,o.__detail=r.__detail),t.add(n),o.__key=n,be(o),e.set(n,o),o)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){F(70)}updateDOM(){F(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){F(72)}static importJSON(){F(18,this.name)}static transform(){return null}remove(e){cn(this,!0,e)}replace(e,t){vr();var n=lr();null!==n&&(n=n.clone()),rt(this,e);let r=this.getLatest(),i=this.__key,o=e.__key,l=e.getWritable(),s=(e=this.getParentOrThrow().getWritable()).__size;Oe(l);let a=r.getPreviousSibling(),u=r.getNextSibling(),d=r.__prev,c=r.__next,g=r.__parent;return cn(r,!1,!0),null===a?e.__first=o:a.getWritable().__next=o,l.__prev=d,null===u?e.__last=o:u.getWritable().__prev=o,l.__next=c,l.__parent=g,e.__size=s,t&&this.getChildren().forEach((e=>{l.append(e)})),Hn(n)&&(Ie(n),t=n.anchor,n=n.focus,t.key===i&&Fn(t,l),n.key===i&&Fn(n,l)),Me()===i&&Re(o),l}insertAfter(e,t=!0){vr(),rt(this,e);var n=this.getWritable();let r=e.getWritable();var i=r.getParent();let o=lr();var l=!1,s=!1;if(null!==i){var a=e.getIndexWithinParent();Oe(r),Hn(o)&&(s=i.__key,l=o.anchor,i=o.focus,l="element"===l.type&&l.key===s&&l.offset===a+1,s="element"===i.type&&i.key===s&&i.offset===a+1)}i=this.getNextSibling(),a=this.getParentOrThrow().getWritable();let u=r.__key,d=n.__next;return null===i?a.__last=u:i.getWritable().__prev=u,a.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&Hn(o)&&(ar(o,a,(t=this.getIndexWithinParent())+1),n=a.__key,l&&o.anchor.set(n,t+2,"element"),s&&o.focus.set(n,t+2,"element")),e}insertBefore(e,t=!0){vr(),rt(this,e);var n=this.getWritable();let r=e.getWritable(),i=r.__key;Oe(r);let o=this.getPreviousSibling(),l=this.getParentOrThrow().getWritable(),s=n.__prev,a=this.getIndexWithinParent();return null===o?l.__first=i:o.getWritable().__next=i,l.__size++,n.__prev=i,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent,n=lr(),t&&Hn(n)&&ar(n,t=this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return Ur()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){vr();let n=this.getPreviousSibling(),r=this.getParentOrThrow();return null===n?r.select(0,0):Lr(n)?n.select():wn(n)?n.select(e,t):(e=n.getIndexWithinParent()+1,r.select(e,e))}selectNext(e,t){vr();let n=this.getNextSibling(),r=this.getParentOrThrow();return null===n?r.select():Lr(n)?n.select(0,0):wn(n)?n.select(e,t):(e=n.getIndexWithinParent(),r.select(e,e))}markDirty(){this.getWritable()}}class hn extends gn{static getType(){return"linebreak"}static clone(e){return new hn(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t,n,r=e.parentElement;return null!==r&&((t=r.firstChild)===e||t.nextSibling===e&&3===t.nodeType&&null!==(t.textContent||"").match(/^( |\t|\r?\n)+$/))&&((n=r.lastChild)===e||n.previousSibling===e&&3===n.nodeType&&null!==(n.textContent||"").match(/^( |\t|\r?\n)+$/))?null:{conversion:fn,priority:0}}}}static importJSON(){return pn()}exportJSON(){return{type:"linebreak",version:1}}}function fn(){return{node:pn()}}function pn(){return nt(new hn)}function _n(e){return e instanceof hn}function mn(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function Cn(e,t){return 1&t?"strong":2&t?"em":"span"}function Nn(e,t,n,r,i){e=r.classList,void 0!==(r=He(i,"base"))&&e.add(...r);let o=!1,l=8&t&&4&t;var s=8&n&&4&n;void 0!==(r=He(i,"underlineStrikethrough"))&&(s?(o=!0,l||e.add(...r)):l&&e.remove(...r));for(let a in Q)s=Q[a],void 0!==(r=He(i,a))&&(n&s&&(!o||"underline"!==a&&"strikethrough"!==a)?(0==(t&s)||l&&"underline"===a||"strikethrough"===a)&&e.add(...r):t&s&&e.remove(...r))}function yn(e,t,n){let r=t.firstChild;if(e+=(n=n.isComposing())?J:"",null==r)t.textContent=e;else if((t=r.nodeValue)!==e)if(n||z){n=t.length;let i=e.length,o=0,l=0;for(;o<n&&o<i&&t[o]===e[o];)o++;for(;l+o<n&&l+o<i&&t[n-l-1]===e[i-l-1];)l++;e=[o,n-o-l,e.slice(o,i-l)];let[s,a,u]=e;0!==a&&r.deleteData(s,a),r.insertData(s,u)}else r.nodeValue=e}function En(e,t){return(t=document.createElement(t)).appendChild(e),t}class vn extends gn{static getType(){return"text"}static clone(e){return new vn(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return ie[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===Me()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return 0!=(1&this.getLatest().__detail)}isUnmergeable(){return 0!=(2&this.getLatest().__detail)}hasFormat(e){return e=Q[e],0!=(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return Se(this.getLatest().__format,e,t)}createDOM(e){var t=this.__format,n=mn(0,t);let r=Cn(0,t),i=document.createElement(null===n?r:n),o=i;return this.hasFormat("code")&&i.setAttribute("spellcheck","false"),null!==n&&(o=document.createElement(r),i.appendChild(o)),n=o,yn(this.__text,n,this),void 0!==(e=e.theme.text)&&Nn(r,0,t,n,e),""!==(t=this.__style)&&(i.style.cssText=t),i}updateDOM(e,t,n){let r=this.__text;var i=e.__format,o=this.__format,l=mn(0,i);let s=mn(0,o);var a=Cn(0,i);let u=Cn(0,o);return(null===l?a:l)!==(null===s?u:s)||(l===s&&a!==u?(null==(i=t.firstChild)&&F(48),yn(r,e=l=document.createElement(u),this),void 0!==(n=n.theme.text)&&Nn(u,0,o,e,n),t.replaceChild(l,i),!1):(a=t,null!==s&&null!==l&&(null==(a=t.firstChild)&&F(49)),yn(r,a,this),void 0!==(n=n.theme.text)&&i!==o&&Nn(u,i,o,a,n),o=this.__style,e.__style!==o&&(t.style.cssText=o),!1))}static importDOM(){return{"#text":()=>({conversion:On,priority:0}),b:()=>({conversion:Sn,priority:0}),code:()=>({conversion:Dn,priority:0}),em:()=>({conversion:Dn,priority:0}),i:()=>({conversion:Dn,priority:0}),s:()=>({conversion:Dn,priority:0}),span:()=>({conversion:Tn,priority:0}),strong:()=>({conversion:Dn,priority:0}),sub:()=>({conversion:Dn,priority:0}),sup:()=>({conversion:Dn,priority:0}),u:()=>({conversion:Dn,priority:0})}}static importJSON(e){let t=An(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return({element:e}=super.exportDOM(e)),null!==e&&ut(e)||F(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=En(e,"b")),this.hasFormat("italic")&&(e=En(e,"i")),this.hasFormat("strikethrough")&&(e=En(e,"s")),this.hasFormat("underline")&&(e=En(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?Q[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?ee[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=Se(this.getFormat(),e,null),this.setFormat(e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=re[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){vr();let n=lr();var r=this.getTextContent();let i=this.__key;return"string"==typeof r?(r=r.length,void 0===e&&(e=r),void 0===t&&(t=r)):t=e=0,Hn(n)?((r=Me())!==n.anchor.key&&r!==n.focus.key||Re(i),n.setTextNodeRange(this,e,this,t),n):rr(i,e,i,t,"text","text")}selectStart(){return this.select(0,0)}selectEnd(){let e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){let i=this.getWritable(),o=i.__text,l=n.length,s=e;0>s&&(s=l+s,0>s&&(s=0));let a=lr();return r&&Hn(a)&&(e+=l,a.setTextNodeRange(i,e,i,e)),t=o.slice(0,s)+n+o.slice(s+t),i.__text=t,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){vr();var t=this.getLatest(),n=t.getTextContent(),r=t.__key,i=Me(),o=new Set(e);e=[];for(var l=n.length,s="",a=0;a<l;a++)""!==s&&o.has(a)&&(e.push(s),s=""),s+=n[a];if(""!==s&&e.push(s),0===(o=e.length))return[];if(e[0]===n)return[t];var u=e[0];n=t.getParentOrThrow(),a=t.getFormat();let d=t.getStyle(),c=t.__detail;l=!1,t.isSegmented()?((s=An(u)).__format=a,s.__style=d,s.__detail=c,l=!0):(s=t.getWritable()).__text=u,t=lr(),s=[s],u=u.length;for(let f=1;f<o;f++){var g=e[f],h=g.length;(g=An(g).getWritable()).__format=a,g.__style=d,g.__detail=c;let n=g.__key;if(h=u+h,Hn(t)){let e=t.anchor,i=t.focus;e.key===r&&"text"===e.type&&e.offset>u&&e.offset<=h&&(e.key=n,e.offset-=u,t.dirty=!0),i.key===r&&"text"===i.type&&i.offset>u&&i.offset<=h&&(i.key=n,i.offset-=u,t.dirty=!0)}i===r&&Re(n),u=h,s.push(g)}return r=this.getPreviousSibling(),i=this.getNextSibling(),null!==r&&be(r),null!==i&&be(i),r=n.getWritable(),i=this.getIndexWithinParent(),l?(r.splice(i,0,s),this.remove()):r.splice(i,1,s),Hn(t)&&ar(t,n,i,o-1),s}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||F(50);var n=this.__key;let r=e.__key,i=this.__text,o=i.length;Me()===r&&Re(n);let l=lr();if(Hn(l)){let i=l.anchor,s=l.focus;null!==i&&i.key===r&&(cr(i,t,n,e,o),l.dirty=!0),null!==s&&s.key===r&&(cr(s,t,n,e,o),l.dirty=!0)}return n=e.__text,this.setTextContent(t?n+i:i+n),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function Tn(e){let t="700"===e.style.fontWeight,n="line-through"===e.style.textDecoration,r="italic"===e.style.fontStyle,i="underline"===e.style.textDecoration,o=e.style.verticalAlign;return{forChild:e=>wn(e)?(t&&e.toggleFormat("bold"),n&&e.toggleFormat("strikethrough"),r&&e.toggleFormat("italic"),i&&e.toggleFormat("underline"),"sub"===o&&e.toggleFormat("subscript"),"super"===o&&e.toggleFormat("superscript"),e):e,node:null}}function Sn(e){let t="normal"===e.style.fontWeight;return{forChild:e=>(wn(e)&&!t&&e.toggleFormat("bold"),e),node:null}}let xn=new WeakMap;function On(e){null===e.parentElement&&F(129);for(var t,n=e.textContent||"",r=e.parentNode,i=[e];null!==r&&void 0===(t=xn.get(r))&&!("PRE"===r.nodeName||1===r.nodeType&&void 0!==r.style&&void 0!==r.style.whiteSpace&&r.style.whiteSpace.startsWith("pre"));)i.push(r),r=r.parentNode;for(t=void 0===t?r:t,r=0;r<i.length;r++)xn.set(i[r],t);if(null!==t){for(e=[],i=(n=n.split(/(\r?\n|\t)/)).length,t=0;t<i;t++)"\n"===(r=n[t])||"\r\n"===r?e.push(pn()):"\t"===r?e.push(kn()):""!==r&&e.push(An(r));return{node:e}}if(""===(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," ")))return{node:null};if(" "===n[0]){for(i=e,t=!0;null!==i&&null!==(i=Rn(i,!1));)if(0<(r=i.textContent||"").length){/[ \t\n]$/.test(r)&&(n=n.slice(1)),t=!1;break}t&&(n=n.slice(1))}if(" "===n[n.length-1]){for(i=!0;null!==e&&null!==(e=Rn(e,!0));)if(0<(e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length){i=!1;break}i&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:An(n)}}let bn=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function Rn(e,t){for(;;){for(var n=void 0;null===(n=t?e.nextSibling:e.previousSibling);)if(null===(e=e.parentElement))return null;if(1===(e=n).nodeType&&(""===(n=e.style.display)&&null===e.nodeName.match(bn)||""!==n&&!n.startsWith("inline")))return null;for(;null!==(n=t?e.firstChild:e.lastChild);)e=n;if(3===e.nodeType)return e;if("BR"===e.nodeName)return null}}let Mn={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Dn(e){let t=Mn[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(wn(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e),node:null}}function An(e=""){return nt(new vn(e))}function wn(e){return e instanceof vn}class $n extends vn{static getType(){return"tab"}static clone(e){let t=new $n(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}static importJSON(e){let t=kn();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(){F(126)}setDetail(){F(127)}setMode(){F(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function kn(){return nt(new $n)}function Pn(e){return e instanceof $n}class In{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode(),r=this.offset;if(e=e.offset,Lr(t)){var i=t.getDescendantByIndex(r);t=null!=i?i:t}return Lr(n)&&(i=n.getDescendantByIndex(e),n=null!=i?i:n),t===n?r<e:t.isBefore(n)}getNode(){let e=De(this.key);return null===e&&F(20),e}set(e,t,n){let r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,Er()||(Me()===i&&Re(e),null!==r&&(r.setCachedNodes(null),r.dirty=!0))}}function Ln(e,t){let n=t.__key,r=e.offset,i="element";if(wn(t))i="text",r>(t=t.getTextContentSize())&&(r=t);else if(!Lr(t)){var o=t.getNextSibling();wn(o)?(n=o.__key,r=0,i="text"):(o=t.getParent())&&(n=o.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,i)}function Fn(e,t){if(Lr(t)){let n=t.getLastDescendant();Lr(n)||wn(n)?Ln(e,n):Ln(e,t)}else Ln(e,t)}function Bn(e,t,n,r){let i=e.getNode(),o=i.getChildAtIndex(e.offset),l=An(),s=Kr(i)?Ur().append(l):l;l.setFormat(n),l.setStyle(r),null===o?i.append(s):o.insertBefore(s),e.is(t)&&t.set(l.__key,0,"text"),e.set(l.__key,0,"text")}function Kn(e,t,n,r){e.key=t,e.offset=n,e.type=r}class Wn{constructor(e,t){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Yn(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus))}isCollapsed(){return!1}extract(){return this.getNodes()}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return Xn(this)}}class zn{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Jn(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new zn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e){let t=this.getNodes(),n=t.length;var r=t[n-1];if(wn(r))r=r.select();else{let e=r.getIndexWithinParent()+1;r=r.getParentOrThrow().select(e,e)}for(r.insertNodes(e),e=0;e<n;e++)t[e].remove()}getNodes(){var e=this._cachedNodes;if(null!==e)return e;var t=this._nodes;e=[];for(let n of t)null!==(t=De(n))&&e.push(t);return Er()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Hn(e){return e instanceof jn}function Yn(e){return e instanceof Wn}function Zn(e){let[t,,n]=hr(e),r=(e=n.getChildren()).length;var i=e[0].getChildren().length;let o=Array(r);for(var l=0;l<r;l++)o[l]=Array(i);for(i=0;i<r;i++){l=e[i].getChildren();let n=0;for(let e=0;e<l.length;e++){for(;o[i][n];)n++;let r=l[e],s=r.__rowSpan||1,a=r.__colSpan||1;for(let e=0;e<s;e++)for(let t=0;t<a;t++)o[i+e][n+t]=r;if(t===r)return{colSpan:a,columnIndex:n,rowIndex:i,rowSpan:s};n+=a}}return null}class Un extends Wn{constructor(e,t,n){super(t,n),this.gridKey=e}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Gn(e)&&(this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus))}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new Un(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e){let t=this.focus.getNode();pe(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){var e=De(this.anchor.key);if(Vr(e)||F(103),null===(e=Zn(e)))throw Error("getCellRect: expected to find AnchorNode");var t=De(this.focus.key);Vr(t)||F(104);let n=Zn(t);if(null===n)throw Error("getCellRect: expected to find focusCellNode");t=Math.min(e.columnIndex,n.columnIndex);let r=Math.max(e.columnIndex,n.columnIndex),i=Math.min(e.rowIndex,n.rowIndex);return e=Math.max(e.rowIndex,n.rowIndex),{fromX:Math.min(t,r),fromY:Math.min(i,e),toX:Math.max(t,r),toY:Math.max(i,e)}}getNodes(){function e(e){let{cell:t,startColumn:n,startRow:r}=e;a=Math.min(a,n),u=Math.min(u,r),d=Math.max(d,n+t.__colSpan-1),c=Math.max(c,r+t.__rowSpan-1)}var t=this._cachedNodes;if(null!==t)return t;var n=this.anchor.getNode();t=this.focus.getNode();var r=st(n,Vr);n=st(t,Vr),Vr(r)||F(103),Vr(n)||F(104),ei(t=r.getParent())||F(105),qr(t=t.getParent())||F(106);var i=n.getParents()[1];if(i!==t){if(t.isParentOf(n)){if(null==(t=i.getParent()))throw Error("Expected focusCellParent to have a parent");this.set(this.gridKey,n.getKey(),t.getKey())}else{if(null==(t=t.getParent()))throw Error("Expected gridParent to have a parent");this.set(this.gridKey,t.getKey(),n.getKey())}return this.getNodes()}let[o,l,s]=gr(t,r,n),a=Math.min(l.startColumn,s.startColumn),u=Math.min(l.startRow,s.startRow),d=Math.max(l.startColumn+l.cell.__colSpan-1,s.startColumn+s.cell.__colSpan-1),c=Math.max(l.startRow+l.cell.__rowSpan-1,s.startRow+s.cell.__rowSpan-1);n=a,r=u,i=a;for(var g=u;a<n||u<r||d>i||c>g;){if(a<n){var h=g-r;--n;for(var f=0;f<=h;f++)e(o[r+f][n])}if(u<r)for(h=i-n,--r,f=0;f<=h;f++)e(o[r][n+f]);if(d>i)for(h=g-r,i+=1,f=0;f<=h;f++)e(o[r+f][i]);if(c>g)for(h=i-n,g+=1,f=0;f<=h;f++)e(o[g][n+f])}for(t=[t],n=null,r=u;r<=c;r++)for(i=a;i<=d;i++)({cell:g}=o[r][i]),ei(h=g.getParent())||F(107),h!==n&&t.push(h),t.push(g,...at(g)),n=h;return Er()||(this._cachedNodes=t),t}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Gn(e){return e instanceof Un}class jn extends Wn{constructor(e,t,n,r){super(e,t),this.format=n,this.style=r}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Hn(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(null!==e)return e;e=this.anchor;var t=this.focus,n=e.isBefore(t),r=n?e:t;n=n?t:e,e=r.getNode(),t=n.getNode();let i=r.offset;return r=n.offset,Lr(e)&&(n=e.getDescendantByIndex(i),e=null!=n?n:e),Lr(t)&&(null!==(n=t.getDescendantByIndex(r))&&n!==e&&t.getChildAtIndex(r)===n&&(n=n.getPreviousSibling()),t=null!=n?n:t),e=e.is(t)?Lr(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(t),Er()||(this._cachedNodes=e),e}setTextNodeRange(e,t,n,r){Kn(this.anchor,e.__key,t,"text"),Kn(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),[l,s]=Xn(this),a="",u=!0;for(let d=0;d<e.length;d++){let c=e[d];if(Lr(c)&&!c.isInline())u||(a+="\n"),u=!c.isEmpty();else if(u=!1,wn(c)){let e=c.getTextContent();c===t?c===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=l<s?e.slice(l,s):e.slice(s,l)):e=o?e.slice(l):e.slice(s):c===n&&(e=o?e.slice(0,s):e.slice(0,l)),a+=e}else!Pr(c)&&!_n(c)||c===n&&this.isCollapsed()||(a+=c.getTextContent())}return a}applyDOMRange(e){let t=Sr(),n=t.getEditorState()._selection;if(null!==(e=nr(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n))){var[r,i]=e;Kn(this.anchor,r.key,r.offset,r.type),Kn(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new jn(new In(e.key,e.offset,e.type),new In(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Se(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return 0!=(this.format&Q[e])}insertRawText(e){let t=[],n=(e=e.split(/(\r?\n|\t)/)).length;for(let r=0;r<n;r++){let n=e[r];"\n"===n||"\r\n"===n?t.push(pn()):"\t"===n?t.push(kn()):t.push(An(n))}this.insertNodes(t)}insertText(e){var t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),i=this.format,o=this.style;r&&"element"===t.type?Bn(t,n,i,o):r||"element"!==n.type||Bn(n,t,i,o);var l=this.getNodes(),s=l.length,a=r?n:t;n=(r?t:n).offset;var u=a.offset;wn(t=l[0])||F(26),r=t.getTextContent().length;var d=t.getParentOrThrow(),c=l[s-1];if(this.isCollapsed()&&n===r&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!d.canInsertTextAfter()&&null===t.getNextSibling())){var g=t.getNextSibling();if(wn(g)&&g.canInsertTextBefore()&&!ve(g)||((g=An()).setFormat(i),d.canInsertTextAfter()?t.insertAfter(g):d.insertAfter(g)),g.select(0,0),t=g,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===n&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!d.canInsertTextBefore()&&null===t.getPreviousSibling())){if(wn(g=t.getPreviousSibling())&&!ve(g)||((g=An()).setFormat(i),d.canInsertTextBefore()?t.insertBefore(g):d.insertBefore(g)),g.select(),t=g,""!==e)return void this.insertText(e)}else if(t.isSegmented()&&n!==r)(d=An(t.getTextContent())).setFormat(i),t.replace(d),t=d;else if(!(this.isCollapsed()||""===e||(g=c.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!Lr(g)||g.canInsertTextBefore()&&g.canInsertTextAfter()))))return this.insertText(""),tr(this.anchor,this.focus,null),void this.insertText(e);if(1===s)if(t.isToken())(e=An(e)).select(),t.replace(e);else{if(l=t.getFormat(),s=t.getStyle(),n!==u||l===i&&s===o){if(Pn(t))return(e=An(e)).setFormat(i),e.setStyle(o),e.select(),void t.replace(e)}else{if(""!==t.getTextContent())return(l=An(e)).setFormat(i),l.setStyle(o),l.select(),0===n?t.insertBefore(l,!1):([s]=t.splitText(n),s.insertAfter(l,!1)),void(l.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));t.setFormat(i),t.setStyle(o)}""===(t=t.spliceText(n,u-n,e,!0)).getTextContent()?t.remove():"text"===this.anchor.type&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=l,this.style=s))}else{if(i=new Set([...t.getParentKeys(),...c.getParentKeys()]),g=Lr(t)?t:t.getParentOrThrow(),o=Lr(c)?c:c.getParentOrThrow(),d=c,!g.is(o)&&o.isInline())do{d=o,o=o.getParentOrThrow()}while(o.isInline());if("text"===a.type&&(0!==u||""===c.getTextContent())||"element"===a.type&&c.getIndexWithinParent()<u)if(wn(c)&&!c.isToken()&&u!==c.getTextContentSize()){if(c.isSegmented()){var h=An(c.getTextContent());c.replace(h),c=h}Kr(a.getNode())||"text"!==a.type||(c=c.spliceText(0,u,"")),i.add(c.__key)}else(a=c.getParentOrThrow()).canBeEmpty()||1!==a.getChildrenSize()?c.remove():a.remove();else i.add(c.__key);for(a=o.getChildren(),u=new Set(l),c=g.is(o),g=g.isInline()&&null===t.getNextSibling()?g:t,h=a.length-1;0<=h;h--){let e=a[h];if(e.is(t)||Lr(e)&&e.isParentOf(t))break;e.isAttached()&&(!u.has(e)||e.is(d)?c||g.insertAfter(e,!1):e.remove())}if(!c)for(a=o,o=null;null!==a;)(0===(c=(u=a.getChildren()).length)||u[c-1].is(o))&&(i.delete(a.__key),o=a),a=a.getParent();for(t.isToken()?n===r?t.select():((e=An(e)).select(),t.replace(e)):""===(t=t.spliceText(n,r-n,e,!0)).getTextContent()?t.remove():t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length),e=1;e<s;e++)t=l[e],i.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),Re(null);else{var t=this.getNodes(),n=[];for(var r of t)wn(r)&&n.push(r);var i=n.length;if(0===i)this.toggleFormat(e),Re(null);else{r=this.anchor;var o=this.focus,l=this.isBackward();t=l?o:r,r=l?r:o;var s=0,a=n[0];if(o="element"===t.type?0:t.offset,"text"===t.type&&o===a.getTextContentSize()&&(s=1,a=n[1],o=0),null!=a){l=a.getFormatFlags(e,null);var u=i-1,d=n[u];if(i="text"===r.type?r.offset:d.getTextContentSize(),a.is(d))o!==i&&(0===o&&i===a.getTextContentSize()?a.setFormat(l):(e=a.splitText(o,i),(e=0===o?e[0]:e[1]).setFormat(l),"text"===t.type&&t.set(e.__key,0,"text"),"text"===r.type&&r.set(e.__key,i-o,"text")),this.format=l);else{0!==o&&([,a]=a.splitText(o),o=0),a.setFormat(l);var c=d.getFormatFlags(e,l);for(0<i&&(i!==d.getTextContentSize()&&([d]=d.splitText(i)),d.setFormat(c)),s+=1;s<u;s++){let t=n[s];if(!t.isToken()){let n=t.getFormatFlags(e,c);t.setFormat(n)}}"text"===t.type&&t.set(a.__key,o,"text"),"text"===r.type&&r.set(d.__key,i,"text"),this.format=l|c}}}}}insertNodes(e){if(0!==e.length){if("root"===this.anchor.key){this.insertParagraph();var t=lr();if(!Hn(t))throw Error("Expected RangeSelection after insertParagraph");return t.insertNodes(e)}var n=ct(this.anchor.getNode(),dt);if(t=e[e.length-1],"__language"in n)if("__language"in e[0])this.insertText(e[0].getTextContent());else{var r=fr(this);n.splice(r,0,e),t.selectEnd()}else if(e.some((e=>(Lr(e)||Pr(e))&&!e.isInline()))){t=function(e){let t=Ur(),n=null;for(let r=0;r<e.length;r++){let i=e[r],o=_n(i);if(o||Pr(i)&&i.isInline()||Lr(i)&&i.isInline()||wn(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),t.append(n),o))continue;null!==n&&n.append(i)}else t.append(i),n=null}return t}(e),e=t.getLastDescendant();var i=t.getChildren();t=Lr(n)&&n.isEmpty()?null:this.insertParagraph(),r=i[i.length-1];var o=i[0];Lr(l=o)&&dt(l)&&!l.isEmpty()&&Lr(n)&&(!n.isEmpty()||"__value"in n&&"__checked"in n)&&(n.append(...o.getChildren()),o=i[1]),o&&function(e,t,n){n=n||t.getParentOrThrow().getLastChild();let r=t;for(t=[t];r!==n;){if(!r.getNextSibling())throw Error("insertRangeAfter: lastToInsert must be a later sibling of firstToInsert");r=r.getNextSibling(),t.push(r)}for(let i of t)e=e.insertAfter(i)}(n,o),i=ct(e,dt),t&&Lr(i)&&("__value"in t&&"__checked"in t||dt(r))&&(i.append(...t.getChildren()),t.remove()),Lr(n)&&n.isEmpty()&&n.remove(),e.selectEnd(),_n(e=Lr(n)?n.getLastChild():null)&&i!==n&&e.remove()}else r=fr(this),n.splice(r,0,e),t.selectEnd()}var l}insertParagraph(){if("root"===this.anchor.key){var e=Ur();return Pe().splice(this.anchor.offset,0,[e]),e.select(),e}var t=fr(this);return t=(t=(e=ct(this.anchor.getNode(),dt)).getChildAtIndex(t))?[t,...t.getNextSiblings()]:[],(e=e.insertNewAfter(this,!1))?(e.append(...t),e.selectStart(),e):null}insertLineBreak(e){var t=pn();this.insertNodes([t]),e&&(e=t.getParentOrThrow(),t=t.getIndexWithinParent(),e.select(t,t))}extract(){var e=this.getNodes(),t=e.length,n=t-1,r=this.anchor;let i=this.focus;var o=e[0];let l=e[n],[s,a]=Xn(this);return 0===t?[]:1===t?wn(o)&&!this.isCollapsed()?(e=s>a?a:s,n=o.splitText(e,s>a?s:a),null!=(e=0===e?n[0]:n[1])?[e]:[]):[o]:(t=r.isBefore(i),wn(o)&&((r=t?s:a)===o.getTextContentSize()?e.shift():0!==r&&([,o]=o.splitText(r),e[0]=o)),wn(l)&&(o=l.getTextContent().length,0===(t=t?a:s)?e.pop():t!==o&&([l]=l.splitText(t),e[n]=l)),e)}modify(e,t,n){var r=this.focus,i=this.anchor,o="move"===e,l=Ue(r,t);if(Pr(l)&&!l.isIsolated())o&&l.isKeyboardSelectable()?((t=ir()).add(l.__key),Ie(t)):wn(e=t?l.getPreviousSibling():l.getNextSibling())?(l=e.__key,t=t?e.getTextContent().length:0,r.set(l,t,"text"),o&&i.set(l,t,"text")):(n=l.getParentOrThrow(),Lr(e)?(n=e.__key,l=t?e.getChildrenSize():0):(l=l.getIndexWithinParent(),n=n.__key,t||l++),r.set(n,l,"element"),o&&i.set(n,l,"element"));else if(r=lt((i=Sr())._window)){var s=i._blockCursorElement,a=i._rootElement;if(null===a||null===s||!Lr(l)||l.isInline()||l.canBeEmpty()||ot(s,i,a),r.modify(e,t?"backward":"forward",n),0<r.rangeCount&&(l=r.getRangeAt(0),i=Kr(i=this.anchor.getNode())?i:Qe(i),this.applyDOMRange(l),this.dirty=!0,!o)){for(o=this.getNodes(),e=[],n=!1,s=0;s<o.length;s++)Xe(a=o[s],i)?e.push(a):n=!0;n&&0<e.length&&(t?Lr(t=e[0])?t.selectStart():t.getParentOrThrow().selectStart():Lr(t=e[e.length-1])?t.selectEnd():t.getParentOrThrow().selectEnd()),r.anchorNode===l.startContainer&&r.anchorOffset===l.startOffset||(t=this.focus,r=(o=this.anchor).key,l=o.offset,i=o.type,Kn(o,t.key,t.offset,t.type),Kn(t,r,l,i),this._cachedNodes=null)}}}deleteCharacter(e){let t=this.isCollapsed();if(this.isCollapsed()){var r=this.anchor,i=this.focus,o=r.getNode();if(!e&&("element"===r.type&&Lr(o)&&r.offset===o.getChildrenSize()||"text"===r.type&&r.offset===o.getTextContentSize())){var l=o.getParent();if(Lr(l=o.getNextSibling()||(null===l?null:l.getNextSibling()))&&l.isShadowRoot())return}if(Pr(l=Ue(i,e))&&!l.isIsolated())return void(l.isKeyboardSelectable()&&Lr(o)&&0===o.getChildrenSize()?(o.remove(),e=ir(),e.add(l.__key),Ie(e)):(l.remove(),Sr().dispatchCommand(n,void 0)));if(!e&&Lr(l)&&Lr(o)&&o.isEmpty())return o.remove(),void l.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===r.offset&&("element"===r.type?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(l="text"===i.type?i.getNode():null,o="text"===r.type?r.getNode():null,null!==l&&l.isSegmented()){if(r=i.offset,i=l.getTextContentSize(),l.is(o)||e&&r!==i||!e&&0!==r)return void qn(l,e,r)}else if(null!==o&&o.isSegmented()&&(r=r.offset,i=o.getTextContentSize(),o.is(l)||e&&0!==r||!e&&r!==i))return void qn(o,e,r);if(o=this.anchor,l=this.focus,(r=o.getNode())===(i=l.getNode())&&"text"===o.type&&"text"===l.type){var s=o.offset,a=l.offset;let t=s<a;(i=t?s:a)!==(s=(a=t?a:s)-1)&&(Fe(r=r.getTextContent().slice(i,a))||(e?l.offset=s:o.offset=s))}}}this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&((e=this.anchor.getNode()).isEmpty()&&Kr(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function Jn(e){return e instanceof zn}function Vn(e){let t=e.offset;return"text"===e.type?t:t===(e=e.getNode()).getChildrenSize()?e.getTextContent().length:0}function Xn(e){let t=e.anchor;return e=e.focus,"element"===t.type&&"element"===e.type&&t.key===e.key&&t.offset===e.offset?[0,0]:[Vn(t),Vn(e)]}function qn(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),i=r.length,o=0,l=0;for(let s=0;s<i;s++){let e=s===i-1;if(l=o,o+=r[s].length,t&&o===n||o>n||e){r.splice(s,1),e&&(l=void 0);break}}""===(t=r.join("").trim())?e.remove():(e.setTextContent(t),e.select(l,l))}function Qn(e,t,n,r){var i=t;if(1===e.nodeType){let s=!1;var o=e.childNodes,l=o.length;i===l&&(s=!0,i=l-1);let a=o[i];if(l=!1,a===r._blockCursorElement?(a=o[i+1],l=!0):null!==r._blockCursorElement&&i--,wn(r=Le(a)))i=s?r.getTextContentSize():0;else{if(null===(o=Le(e)))return null;if(Lr(o)?((t=Lr(e=o.getChildAtIndex(i)))&&(t=e.getParent(),t=null===n||null===t||!t.canBeEmpty()||t!==n.getNode()),t&&(null===(n=s?e.getLastDescendant():e.getFirstDescendant())?(o=e,i=0):o=Lr(e=n)?e:e.getParentOrThrow()),wn(e)?(r=e,o=null,i=s?e.getTextContentSize():0):e!==o&&s&&!l&&i++):(i=o.getIndexWithinParent(),i=0===t&&Pr(o)&&Le(e)===o?i:i+1,o=o.getParentOrThrow()),Lr(o))return new In(o.__key,i,"element")}}else r=Le(e);return wn(r)?new In(r.__key,i,"text"):null}function er(e,t,n){var r=e.offset,i=e.getNode();0===r?(r=i.getPreviousSibling(),i=i.getParent(),t?(n||!t)&&null===r&&Lr(i)&&i.isInline()&&(wn(t=i.getPreviousSibling())&&(e.key=t.__key,e.offset=t.getTextContent().length)):Lr(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):wn(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),t&&Lr(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&null===r&&Lr(i)&&i.isInline()&&!i.canInsertTextAfter()&&(wn(t=i.getNextSibling())&&(e.key=t.__key,e.offset=0)))}function tr(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t);let i=e.is(t);er(e,r,i),er(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type),(r=Sr()).isComposing()&&r._compositionKey!==e.key&&Hn(n)&&(r=n.anchor,n=n.focus,Kn(e,r.key,r.offset,r.type),Kn(t,n.key,n.offset,n.type))}}function nr(e,t,n,r,i,o){return null!==e&&null!==n&&ye(i,e,n)?null===(t=Qn(e,t,Hn(o)?o.anchor:null,i))||null===(r=Qn(n,r,Hn(o)?o.focus:null,i))||"element"===t.type&&"element"===r.type&&(e=Le(e),n=Le(n),Pr(e)&&Pr(n))?null:(tr(t,r,o),[t,r]):null}function rr(e,t,n,r,i,o){let l=Tr();return(e=new jn(new In(e,t,i),new In(n,r,o),0,"")).dirty=!0,l._selection=e}function ir(){return new zn(new Set)}function or(e,t,n){var r=n._window;if(null===r)return null;var i=r.event,o=i?i.type:void 0;let l;if(r="selectionchange"===o,i=!oe&&(r||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&i&&3===i.detail||"drop"===o||void 0===o),Hn(e)&&!i)return e.clone();if(null===t)return null;if(i=t.anchorNode,o=t.focusNode,l=t.anchorOffset,t=t.focusOffset,r&&Hn(e)&&!ye(n,i,o))return e.clone();if(null===(n=nr(i,l,o,t,n,e)))return null;let[s,a]=n;return new jn(s,a,Hn(e)?e.format:0,Hn(e)?e.style:"")}function lr(){return Tr()._selection}function sr(){return Sr()._editorState._selection}function ar(e,t,n,r=1){var i=e.anchor,o=e.focus,l=i.getNode(),s=o.getNode();if(t.is(l)||t.is(s)){if(l=t.__key,e.isCollapsed())(n<=(t=i.offset)&&0<r||n<t&&0>r)&&(n=Math.max(0,t+r),i.set(l,n,"element"),o.set(l,n,"element"),ur(e));else{let u=e.isBackward();var a=(s=u?o:i).getNode();o=(i=u?i:o).getNode(),t.is(a)&&((n<=(a=s.offset)&&0<r||n<a&&0>r)&&s.set(l,Math.max(0,a+r),"element")),t.is(o)&&((n<=(t=i.offset)&&0<r||n<t&&0>r)&&i.set(l,Math.max(0,t+r),"element"))}ur(e)}}function ur(e){var t=e.anchor,n=t.offset;let r=e.focus;var i=r.offset,o=t.getNode(),l=r.getNode();if(e.isCollapsed())Lr(o)&&(wn(l=(i=n>=(l=o.getChildrenSize()))?o.getChildAtIndex(l-1):o.getChildAtIndex(n))&&(n=0,i&&(n=l.getTextContentSize()),t.set(l.__key,n,"text"),r.set(l.__key,n,"text")));else{if(Lr(o)){let r=o.getChildrenSize();wn(n=(e=n>=r)?o.getChildAtIndex(r-1):o.getChildAtIndex(n))&&(o=0,e&&(o=n.getTextContentSize()),t.set(n.__key,o,"text"))}Lr(l)&&(wn(i=(t=i>=(n=l.getChildrenSize()))?l.getChildAtIndex(n-1):l.getChildAtIndex(i))&&(l=0,t&&(l=i.getTextContentSize()),r.set(i.__key,l,"text")))}}function dr(e,t,n,r,i){let o=null,l=0,s=null;null!==r?(o=r.__key,wn(r)?(l=r.getTextContentSize(),s="text"):Lr(r)&&(l=r.getChildrenSize(),s="element")):null!==i&&(o=i.__key,wn(i)?s="text":Lr(i)&&(s="element")),null!==o&&null!==s?e.set(o,l,s):(l=t.getIndexWithinParent(),-1===l&&(l=n.getChildrenSize()),e.set(n.__key,l,"element"))}function cr(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&--e.offset}function gr(e,t,n){let r=[],i=null,o=null;e=e.getChildren();for(let d=0;d<e.length;d++){var l=e[d];ei(l)||F(108);var s=l.getChildren();l=0;for(let e of s){for(Vr(e)||F(109);void 0!==r[d]&&void 0!==r[d][l];)l++;var a=l,u=e;let c={cell:u,startColumn:a,startRow:s=d},g=u.__rowSpan,h=u.__colSpan;for(let e=0;e<g;e++){void 0===r[s+e]&&(r[s+e]=[]);for(let t=0;t<h;t++)r[s+e][a+t]=c}t.is(u)&&(i=c),n.is(u)&&(o=c),l+=e.__colSpan}}return null===i&&F(110),null===o&&F(111),[r,i,o]}function hr(e){e instanceof Jr||(e instanceof gn?Vr(e=st(e,Vr))||F(114):Vr(e=st(e.getNode(),Vr))||F(114));let t=e.getParent();ei(t)||F(115);let n=t.getParent();return qr(n)||F(116),[e,t,n]}function fr(e){e.isCollapsed()||e.removeText();var t=e.anchor,n=t.getNode();if(!wn(n))return t.offset;let r=n.getParent();return r?0===(n=n.splitText(t.offset)).length?0:(t=0===t.offset?0:1,n=n[0].getIndexWithinParent()+t,r.isInline()&&0!==n?((n=r.getChildAtIndex(n))&&r.insertNewAfter(e).append(n,...n.getNextSiblings()),r.getIndexWithinParent()+t):n):(e=Ur(),Pe().append(e),e.select(),0)}let pr=null,_r=null,mr=!1,Cr=!1,Nr=0,yr={characterData:!0,childList:!0,subtree:!0};function Er(){return mr||null!==pr&&pr._readOnly}function vr(){mr&&F(13)}function Tr(){return null===pr&&F(15),pr}function Sr(){return null===_r&&F(16),_r}function xr(e,t,n){var r=t.__type;let i=e._nodes.get(r);for(void 0===i&&F(30,r),void 0===(e=n.get(r))&&(e=Array.from(i.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function Or(e,t){var n=e.type,r=t.get(n);if(void 0===r&&F(17,n),n=r.klass,e.type!==n.getType()&&F(18,n.name),n=n.importJSON(e),e=e.children,Lr(n)&&Array.isArray(e))for(r=0;r<e.length;r++){let i=Or(e[r],t);n.append(i)}return n}function br(e,t){let n=pr,r=mr,i=_r;pr=e,mr=!0,_r=null;try{return t()}finally{pr=n,mr=r,_r=i}}function Rr(e,t){let r=e._pendingEditorState,i=e._rootElement,o=e._headless||null===i;if(null!==r){var l=e._editorState,s=l._selection,a=r._selection,u=0!==e._dirtyType,d=pr,c=mr,g=_r,h=e._updating,f=e._observer,p=null;if(e._pendingEditorState=null,e._editorState=r,!o&&u&&null!==f){_r=e,pr=r,mr=!1,e._updating=!0;try{let t=e._dirtyType,n=e._dirtyElements,i=e._dirtyLeaves;f.disconnect();var _=n,m=i;St=xt=Tt="",Ot=2===t,Rt=null,ft=e,ht=e._config,pt=e._nodes,_t=ft._listeners.mutation,mt=_,Ct=m,Nt=l._nodeMap,yt=r._nodeMap,bt=r._readOnly,Et=new Map(e._keyToDOMMap);let o=new Map;vt=o,Kt("root",null),vt=Et=ht=yt=Nt=Ct=mt=pt=ft=void 0,p=o}catch(Q){if(Q instanceof Error&&e._onError(Q),Cr)throw Q;return Gr(e,null,i,r),ce(e),e._dirtyType=2,Cr=!0,Rr(e,l),void(Cr=!1)}finally{f.observe(i,yr),e._updating=h,pr=d,mr=c,_r=g}}r._readOnly||(r._readOnly=!0);var C=e._dirtyLeaves,N=e._dirtyElements,y=e._normalizedNodes,E=e._updateTags,v=e._deferred;u&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set);var T,S=e._decorators,x=e._pendingDecorators||S,O=r._nodeMap;for(T in x)O.has(T)||(x===S&&(x=$e(e)),delete x[T]);var b=o?null:lt(e._window);if(e._editable&&null!==b&&(u||null===a||a.dirty)){_r=e,pr=r;try{if(null!==f&&f.disconnect(),u||null===a||a.dirty){let t=e._blockCursorElement;null!==t&&ot(t,e,i);e:{let t=b.anchorNode,n=b.focusNode,r=b.anchorOffset,o=b.focusOffset,l=document.activeElement;if(!(E.has("collaboration")&&l!==i||null!==l&&Ne(l)))if(Hn(a)){var R=a.anchor,M=a.focus,D=R.key,A=M.key,w=Je(e,D),$=Je(e,A),k=R.offset,P=M.offset,I=a.format,L=a.style,F=a.isCollapsed(),B=w,K=$,W=!1;if("text"===R.type){B=Te(w);let e=R.getNode();W=e.getFormat()!==I||e.getStyle()!==L}else Hn(s)&&"text"===s.anchor.type&&(W=!0);if("text"===M.type&&(K=Te($)),null!==B&&null!==K){if(F&&(null===s||W||Hn(s)&&(s.format!==I||s.style!==L))){var z=performance.now();tn=[I,L,k,D,z]}if(r===k&&o===P&&t===B&&n===K&&("Range"!==b.type||!F)&&(null!==l&&i.contains(l)||i.focus({preventScroll:!0}),"element"!==R.type))break e;try{b.setBaseAndExtent(B,k,K,P)}catch(ee){}if(!E.has("skip-scroll-into-view")&&a.isCollapsed()&&null!==i&&i===document.activeElement){let t=a instanceof jn&&"element"===a.anchor.type?B.childNodes[k]||null:0<b.rangeCount?b.getRangeAt(0):null;if(null!==t){let n;if(t instanceof Text){let e=document.createRange();e.selectNode(t),n=e.getBoundingClientRect()}else n=t.getBoundingClientRect();let r=i.ownerDocument,o=r.defaultView;if(null!==o)for(var H,Y,{top:Z,bottom:U}=n,G=i;null!==G;){let t=G===r.body;if(t)H=0,Y=qe(e).innerHeight;else{let e=G.getBoundingClientRect();H=e.top,Y=e.bottom}let n=0;if(Z<H?n=-(H-Z):U>Y&&(n=U-Y),0!==n)if(t)o.scrollBy(0,n);else{let e=G.scrollTop;G.scrollTop+=n;let t=G.scrollTop-e;Z-=t,U-=t}if(t)break;G=Ve(G)}}}Xt=!0}}else null!==s&&ye(e,t,n)&&b.removeAllRanges()}}e:{let t=e._blockCursorElement;if(Hn(a)&&a.isCollapsed()&&"element"===a.anchor.type&&i.contains(document.activeElement)){let n=a.anchor,r=n.getNode(),o=n.offset,l=r.getChildrenSize(),s=!1,u=null;if(o===l){it(r.getChildAtIndex(o-1))&&(s=!0)}else{let t=r.getChildAtIndex(o);if(it(t)){let n=t.getPreviousSibling();(null===n||it(n))&&(s=!0,u=e.getElementByKey(t.__key))}}if(s){let n=e.getElementByKey(r.__key);if(null===t){let n=e._config.theme,r=document.createElement("div");r.contentEditable="false",r.setAttribute("data-lexical-cursor","true");let i=n.blockCursor;if(void 0!==i){if("string"==typeof i){let e=i.split(" ");i=n.blockCursor=e}void 0!==i&&r.classList.add(...i)}e._blockCursorElement=t=r}i.style.caretColor="transparent",null===u?n.appendChild(t):n.insertBefore(t,u);break e}}null!==t&&ot(t,e,i)}null!==f&&f.observe(i,yr)}finally{_r=g,pr=d}}if(null!==p){var j=p;let t=Array.from(e._listeners.mutation),n=t.length;for(let e=0;e<n;e++){let[n,r]=t[e],i=j.get(r);void 0!==i&&n(i,{dirtyLeaves:C,prevEditorState:l,updateTags:E})}}Hn(a)||null===a||null!==s&&s.is(a)||e.dispatchCommand(n,void 0);var J=e._pendingDecorators;null!==J&&(e._decorators=J,e._pendingDecorators=null,Mr("decorator",e,!0,J));var V=ke(t||l),X=ke(r);if(V!==X&&Mr("textcontent",e,!0,X),Mr("update",e,!0,{dirtyElements:N,dirtyLeaves:C,editorState:r,normalizedNodes:y,prevEditorState:t||l,tags:E}),e._deferred=[],0!==v.length){let t=e._updating;e._updating=!0;try{for(let e=0;e<v.length;e++)v[e]()}finally{e._updating=t}}var q=e._updates;if(0!==q.length){let t=q.shift();if(t){let[n,r]=t;wr(e,n,r)}}}}function Mr(e,t,n,...r){let i=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function Dr(e,t,n){if(!1===e._updating||_r!==e){let r=!1;return e.update((()=>{r=Dr(e,t,n)})),r}let r=Be(e);for(let o=4;0<=o;o--)for(let l=0;l<r.length;l++){var i=r[l]._commands.get(t);if(void 0!==i&&void 0!==(i=i[o])){let t=(i=Array.from(i)).length;for(let r=0;r<t;r++)if(!0===i[r](n,e))return!0}}return!1}function Ar(e,t){let n=e._updates;for(t=t||!1;0!==n.length;){var r=n.shift();if(r){let n,[i,o]=r;void 0!==o&&(r=o.onUpdate,n=o.tag,o.skipTransforms&&(t=!0),r&&e._deferred.push(r),n&&e._updateTags.add(n)),i()}}return t}function wr(e,t,n){let r=e._updateTags;var i,o=i=!1;if(void 0!==n){var l=n.onUpdate;null!=(i=n.tag)&&r.add(i),i=n.skipTransforms||!1,o=n.discrete||!1}l&&e._deferred.push(l),n=e._editorState;let s=!1;(null===(l=e._pendingEditorState)||l._readOnly)&&(l=e._pendingEditorState=new Hr(new Map((l||n)._nodeMap)),s=!0),l._flushSync=o,o=pr;let a=mr,u=_r,d=e._updating;pr=l,mr=!1,e._updating=!0,_r=e;try{s&&(e._headless?null!=n._selection&&(l._selection=n._selection.clone()):l._selection=function(e){let t=e.getEditorState()._selection,n=lt(e._window);return Hn(t)||null==t?or(t,n,e):t.clone()}(e));let r=e._compositionKey;t(),i=Ar(e,i),function(e,t){if(t=t.getEditorState()._selection,Hn(e=e._selection)){var n=e.anchor;let r,i=e.focus;"text"===n.type&&(r=n.getNode(),r.selectionTransform(t,e)),"text"===i.type&&r!==(n=i.getNode())&&n.selectionTransform(t,e)}}(l,e),0!==e._dirtyType&&(i?function(e,t){t=t._dirtyLeaves,e=e._nodeMap;for(let n of t)wn(t=e.get(n))&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&fe(t)}(l,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;let i=Me(),o=new Map;var l=n;let s=l.size;for(var a=r,u=a.size;0<s||0<u;){if(0<s){t._dirtyLeaves=new Set;for(let r of l)wn(l=e.get(r))&&l.isAttached()&&l.isSimpleText()&&!l.isUnmergeable()&&fe(l),void 0!==l&&void 0!==l&&l.__key!==i&&l.isAttached()&&xr(t,l,o),n.add(r);if(s=(l=t._dirtyLeaves).size,0<s){Nr++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(let n of a)a=n[0],u=n[1],("root"===a||u)&&(void 0!==(l=e.get(a))&&void 0!==l&&l.__key!==i&&l.isAttached()&&xr(t,l,o),r.set(a,u));s=(l=t._dirtyLeaves).size,u=(a=t._dirtyElements).size,Nr++}t._dirtyLeaves=n,t._dirtyElements=r}(l,e),Ar(e),function(e,t,n,r){e=e._nodeMap,t=t._nodeMap;let i=[];for(let[o]of r){let n=t.get(o);void 0===n||n.isAttached()||(Lr(n)&&gt(n,o,e,t,i,r),e.has(o)||r.delete(o),i.push(o))}for(let o of i)t.delete(o);for(let o of n)void 0===(r=t.get(o))||r.isAttached()||(e.has(o)||n.delete(o),t.delete(o))}(n,l,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(l._flushSync=!0);let o=l._selection;if(Hn(o)){let e=l._nodeMap,t=o.focus.key;void 0!==e.get(o.anchor.key)&&void 0!==e.get(t)||F(19)}else Jn(o)&&0===o._nodes.size&&(l._selection=null)}catch(c){return c instanceof Error&&e._onError(c),e._pendingEditorState=n,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Rr(e)}finally{pr=o,mr=a,_r=u,e._updating=d,Nr=0}0!==e._dirtyType||function(e,t){if(t=t.getEditorState()._selection,e=e._selection,null!==e){if(e.dirty||!e.is(t))return!0}else if(null!==t)return!0;return!1}(l,e)?l._flushSync?(l._flushSync=!1,Rr(e)):s&&Ce((()=>{Rr(e)})):(l._flushSync=!1,s&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function $r(e,t,n){e._updating?e._updates.push([t,n]):wr(e,t,n)}class kr extends gn{constructor(e){super(e)}decorate(){F(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Pr(e){return e instanceof kr}class Ir extends gn{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return ne[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=Sr()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(wn(t)&&e.push(t),Lr(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(Lr(e)){let t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(Lr(e)){let t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;return e>=n?Lr(e=t[n-1])&&e.getLastDescendant()||e||null:Lr(e=t[e])&&e.getFirstDescendant()||e||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:De(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&F(45,this.__key),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:De(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&F(96,this.__key),e}getChildAtIndex(e){var t=this.getChildrenSize();let n;if(e<t/2){for(n=this.getFirstChild(),t=0;null!==n&&t<=e;){if(t===e)return n;n=n.getNextSibling(),t++}return null}for(n=this.getLastChild(),--t;null!==n&&t>=e;){if(t===e)return n;n=n.getPreviousSibling(),t--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContent(),Lr(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}getTextContentSize(){let e=0,t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContentSize(),Lr(i)&&r!==n-1&&!i.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return""!==e&&(e=te[e],0!=(this.getFormat()&e))}select(e,t){vr();let n=lr(),r=e,i=t;var o=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){if(wn(e=this.getFirstChild())||Lr(e))return e.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)&&(wn(e=this.getLastChild())||Lr(e)))return e.select();return void 0===r&&(r=o),void 0===i&&(i=o),o=this.__key,Hn(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):rr(o,r,o,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){let e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?te[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){let r=n.length,i=this.getChildrenSize(),o=this.getWritable(),l=o.__key;var s=[],a=[];let u=this.getChildAtIndex(e+t),d=null,c=i-t+r;if(0!==e)if(e===i)d=this.getLastChild();else{var g=this.getChildAtIndex(e);null!==g&&(d=g.getPreviousSibling())}if(0<t){var h=null===d?this.getFirstChild():d.getNextSibling();for(g=0;g<t;g++){null===h&&F(100);var f=h.getNextSibling(),p=h.__key;Oe(h=h.getWritable()),a.push(p),h=f}}for(g=d,f=0;f<r;f++){p=n[f],null!==g&&p.is(g)&&(d=g=g.getPreviousSibling()),(h=p.getWritable()).__parent===l&&c--,Oe(h);let e=p.__key;null===g?(o.__first=e,h.__prev=null):((g=g.getWritable()).__next=e,h.__prev=g.__key),p.__key===l&&F(76),h.__parent=l,s.push(e),g=p}if(e+t===i?null!==g&&(g.getWritable().__next=null,o.__last=g.__key):null!==u&&(e=u.getWritable(),null!==g?(t=g.getWritable(),e.__prev=g.__key,t.__next=u.__key):e.__prev=null),o.__size=c,a.length&&Hn(e=lr())){a=new Set(a),s=new Set(s);let{anchor:t,focus:n}=e;Fr(t,a,s)&&dr(t,t.getNode(),this,d,u),Fr(n,a,s)&&dr(n,n.getNode(),this,d,u),0!==c||this.canBeEmpty()||et(this)||this.remove()}return o}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function Lr(e){return e instanceof Ir}function Fr(e,t,n){for(e=e.getNode();e;){let r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}class Br extends Ir{static getType(){return"root"}static clone(){return new Br}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){F(51)}getTextContent(){let e=this.__cachedText;return!Er()&&0!==Sr()._dirtyType||null===e?super.getTextContent():e}remove(){F(52)}replace(){F(53)}insertBefore(){F(54)}insertAfter(){F(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let n=e[t];Lr(n)||Pr(n)||F(56)}return super.append(...e)}static importJSON(e){let t=Pe();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Kr(e){return e instanceof Br}function Wr(){return new Hr(new Map([["root",new Br]]))}function zr(e){let t=e.exportJSON();var n=e.constructor;t.type!==n.getType()&&F(130,n.name);let r=t.children;if(Lr(e))for(Array.isArray(r)||F(59,n.name),e=e.getChildren(),n=0;n<e.length;n++){let t=zr(e[n]);r.push(t)}return t}class Hr{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return br(this,e)}clone(e){return(e=new Hr(this._nodeMap,void 0===e?this._selection:e))._readOnly=!0,e}toJSON(){return br(this,(()=>({root:zr(Pe())})))}}class Yr extends Ir{static getType(){return"paragraph"}static clone(e){return new Yr(e.__key)}createDOM(e){let t=document.createElement("p");return void 0!==(e=He(e.theme,"paragraph"))&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Zr,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&ut(e)){this.isEmpty()&&e.append(document.createElement("br"));var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),0<(t=this.getIndent())&&(e.style.textIndent=20*t+"px")}return{element:e}}static importJSON(e){let t=Ur();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=Ur();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(0===e.length||wn(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function Zr(e){let t=Ur();return e.style&&(t.setFormat(e.style.textAlign),0<(e=parseInt(e.style.textIndent,10)/20)&&t.setIndent(e)),{node:t}}function Ur(){return nt(new Yr)}function Gr(e,t,n,r){let i=e._keyToDOMMap;i.clear(),e._editorState=Wr(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,null!==(r=e._observer)&&(r.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}class jr{constructor(e,t,n,r,i,o,l){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Ke(),this._onError=i,this._htmlConversions=o,this._editable=l,this._headless=null!==t&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&F(35);let r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);let i=r.get(e);void 0===i&&F(36,String(e));let o=i[n];return o.add(t),()=>{o.delete(t),i.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t){void 0===this._nodes.get(e.getType())&&F(37,e.name);let n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransformToKlass(e,t){var n=e.getType();return void 0===(n=this._nodes.get(n))&&F(37,e.name),n.transforms.add(t),n}registerNodeTransform(e,t){var n=this.registerNodeTransformToKlass(e,t);let r=[n];return null!=(n=n.replaceWithKlass)&&(n=this.registerNodeTransformToKlass(n,t),r.push(n)),function(e,t){$r(e,(()=>{var e=Tr();if(!e.isEmpty())if("root"===t)Pe().markDirty();else{e=e._nodeMap;for(let[,t]of e)t.markDirty()}}),null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,e.getType()),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return Dr(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let o=He(this._config.theme,"root");var n=this._pendingEditorState||this._editorState;if(this._rootElement=e,Gr(this,t,e,n),null!==t){if(!this._config.disableEvents){0!==Vt&&(Vt--,0===Vt&&t.ownerDocument.removeEventListener("selectionchange",dn));var r=t.__lexicalEditor;if(null!=r){if(null!==r._parentEditor){var i=Be(r);i=i[i.length-1]._key,un.get(i)===r&&un.delete(i)}else un.delete(r._key);t.__lexicalEditor=null}for(r=an(t),i=0;i<r.length;i++)r[i]();t.__lexicalEventHandles=[]}null!=o&&t.classList.remove(...o)}null!==e?(n=(n=e.ownerDocument)&&n.defaultView||null,(r=e.style).userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=n,this._dirtyType=2,ce(this),this._updateTags.add("history-merge"),Rr(this),this._config.disableEvents||function(e,t){0===Vt&&e.ownerDocument.addEventListener("selectionchange",dn),Vt++,e.__lexicalEditor=t;let n=an(e);for(let r=0;r<Zt.length;r++){let[i,o]=Zt[r],l="function"==typeof o?e=>{!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()&&o(e,t))}:e=>{if(!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()))switch(i){case"cut":return Dr(t,$,e);case"copy":return Dr(t,w,e);case"paste":return Dr(t,a,e);case"dragstart":return Dr(t,M,e);case"dragover":return Dr(t,D,e);case"dragend":return Dr(t,A,e);case"focus":return Dr(t,P,e);case"blur":return Dr(t,I,e);case"drop":return Dr(t,R,e)}};e.addEventListener(i,l),n.push((()=>{e.removeEventListener(i,l)}))}}(e,this),null!=o&&e.classList.add(...o)):(this._editorState=n,this._window=this._pendingEditorState=null),Mr("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&F(38),de(this);let n=this._pendingEditorState,r=this._updateTags;t=void 0!==t?t.tag:null,null===n||n.isEmpty()||(null!=t&&r.add(t),Rr(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=t&&r.add(t),Rr(this)}parseEditorState(e,t){e="string"==typeof e?JSON.parse(e):e;let n=Wr(),r=pr,i=mr,o=_r,l=this._dirtyElements,s=this._dirtyLeaves,a=this._cloneNotNeeded,u=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,pr=n,mr=!1,_r=this;try{Or(e.root,this._nodes),t&&t(),n._readOnly=!0}catch(d){d instanceof Error&&this._onError(d)}finally{this._dirtyElements=l,this._dirtyLeaves=s,this._cloneNotNeeded=a,this._dirtyType=u,pr=r,mr=i,_r=o}return n}update(e,t){$r(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),$r(this,(()=>{let e=lr(),n=Pe();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;null!==e&&e.blur(),null!==(e=lt(this._window))&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Mr("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class Jr extends Ir{constructor(e,t){super(t),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan,rowSpan:this.__rowSpan}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function Vr(e){return e instanceof Jr}class Xr extends Ir{}function qr(e){return e instanceof Xr}class Qr extends Ir{}function ei(e){return e instanceof Qr}t.$INTERNAL_isPointSelection=Yn,t.$addUpdateTag=function(e){vr(),Sr()._updateTags.add(e)},t.$applyNodeReplacement=nt,t.$copyNode=tt,t.$createLineBreakNode=pn,t.$createNodeSelection=ir,t.$createParagraphNode=Ur,t.$createRangeSelection=function(){let e=new In("root",0,"element"),t=new In("root",0,"element");return new jn(e,t,0,"")},t.$createTabNode=kn,t.$createTextNode=An,t.$getAdjacentNode=Ue,t.$getNearestNodeFromDOMNode=we,t.$getNearestRootOrShadowRoot=Qe,t.$getNodeByKey=De,t.$getPreviousSelection=sr,t.$getRoot=Pe,t.$getSelection=lr,t.$getTextContent=function(){let e=lr();return null===e?"":e.getTextContent()},t.$hasAncestor=Xe,t.$hasUpdateTag=function(e){return Sr()._updateTags.has(e)},t.$insertNodes=function(e){let t=lr()||sr();null===t&&(t=Pe().selectEnd()),t.insertNodes(e)},t.$isBlockElementNode=function(e){return Lr(e)&&!e.isInline()},t.$isDecoratorNode=Pr,t.$isElementNode=Lr,t.$isInlineElementOrDecoratorNode=function(e){return Lr(e)&&e.isInline()||Pr(e)&&e.isInline()},t.$isLeafNode=function(e){return wn(e)||_n(e)||Pr(e)},t.$isLineBreakNode=_n,t.$isNodeSelection=Jn,t.$isParagraphNode=function(e){return e instanceof Yr},t.$isRangeSelection=Hn,t.$isRootNode=Kr,t.$isRootOrShadowRoot=et,t.$isTabNode=Pn,t.$isTextNode=wn,t.$nodesOfType=function(e){var t=Tr();let n=t._readOnly,r=e.getType();t=t._nodeMap;let i=[];for(let[,o]of t)o instanceof e&&o.__type===r&&(n||o.isAttached())&&i.push(o);return i},t.$normalizeSelection__EXPERIMENTAL=pe,t.$parseSerializedNode=function(e){return Or(e,Sr()._nodes)},t.$selectAll=function(){var e=Pe();Ie(pe(e=e.select(0,e.getChildrenSize())))},t.$setCompositionKey=Re,t.$setSelection=Ie,t.$splitNode=function(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),et(e)&&F(102);let r=e=>{const t=e.getParentOrThrow(),i=et(t),o=e!==n||i?tt(e):e;if(i)return e.insertAfter(o),[e,o,o];const[l,s,a]=r(t);return e=e.getNextSiblings(),a.append(o,...e),[l,s,o]},[i,o]=r(n);return[i,o]},t.BLUR_COMMAND=I,t.CAN_REDO_COMMAND={},t.CAN_UNDO_COMMAND={},t.CLEAR_EDITOR_COMMAND={},t.CLEAR_HISTORY_COMMAND={},t.CLICK_COMMAND=r,t.COMMAND_PRIORITY_CRITICAL=4,t.COMMAND_PRIORITY_EDITOR=0,t.COMMAND_PRIORITY_HIGH=3,t.COMMAND_PRIORITY_LOW=1,t.COMMAND_PRIORITY_NORMAL=2,t.CONTROLLED_TEXT_INSERTION_COMMAND=s,t.COPY_COMMAND=w,t.CUT_COMMAND=$,t.DELETE_CHARACTER_COMMAND=i,t.DELETE_LINE_COMMAND=c,t.DELETE_WORD_COMMAND=d,t.DEPRECATED_$computeGridMap=gr,t.DEPRECATED_$createGridSelection=function(){let e=new In("root",0,"element"),t=new In("root",0,"element");return new Un("root",e,t)},t.DEPRECATED_$getGridCellNodeRect=Zn,t.DEPRECATED_$getNodeTriplet=hr,t.DEPRECATED_$isGridCellNode=Vr,t.DEPRECATED_$isGridNode=qr,t.DEPRECATED_$isGridRowNode=ei,t.DEPRECATED_$isGridSelection=Gn,t.DEPRECATED_GridCellNode=Jr,t.DEPRECATED_GridNode=Xr,t.DEPRECATED_GridRowNode=Qr,t.DRAGEND_COMMAND=A,t.DRAGOVER_COMMAND=D,t.DRAGSTART_COMMAND=M,t.DROP_COMMAND=R,t.DecoratorNode=kr,t.ElementNode=Ir,t.FOCUS_COMMAND=P,t.FORMAT_ELEMENT_COMMAND={},t.FORMAT_TEXT_COMMAND=g,t.INDENT_CONTENT_COMMAND={},t.INSERT_LINE_BREAK_COMMAND=o,t.INSERT_PARAGRAPH_COMMAND=l,t.INSERT_TAB_COMMAND={},t.KEY_ARROW_DOWN_COMMAND=E,t.KEY_ARROW_LEFT_COMMAND=C,t.KEY_ARROW_RIGHT_COMMAND=_,t.KEY_ARROW_UP_COMMAND=y,t.KEY_BACKSPACE_COMMAND=S,t.KEY_DELETE_COMMAND=O,t.KEY_DOWN_COMMAND=p,t.KEY_ENTER_COMMAND=v,t.KEY_ESCAPE_COMMAND=x,t.KEY_MODIFIER_COMMAND=L,t.KEY_SPACE_COMMAND=T,t.KEY_TAB_COMMAND=b,t.LineBreakNode=hn,t.MOVE_TO_END=m,t.MOVE_TO_START=N,t.OUTDENT_CONTENT_COMMAND={},t.PASTE_COMMAND=a,t.ParagraphNode=Yr,t.REDO_COMMAND=f,t.REMOVE_TEXT_COMMAND=u,t.RootNode=Br,t.SELECTION_CHANGE_COMMAND=n,t.SELECT_ALL_COMMAND=k,t.TabNode=$n,t.TextNode=vn,t.UNDO_COMMAND=h,t.createCommand=function(){return{}},t.createEditor=function(e){var t=e||{},n=_r,r=t.theme||{};let i=void 0===e?n:t.parentEditor||null,o=t.disableEvents||!1,l=Wr(),s=t.namespace||(null!==i?i._config.namespace:Ke()),a=t.editorState,u=[Br,vn,hn,$n,Yr,...t.nodes||[]],{onError:d,html:c}=t;if(t=void 0===t.editable||t.editable,void 0===e&&null!==n)e=n._nodes;else for(e=new Map,n=0;n<u.length;n++){let t=u[n],r=null;var g=null;"function"!=typeof t&&(t=(g=t).replace,r=g.with,g=g.withKlass||null);let i=t.getType(),o=t.transform(),l=new Set;null!==o&&l.add(o),e.set(i,{exportDOM:c&&c.export?c.export.get(t):void 0,klass:t,replace:r,replaceWithKlass:g,transforms:l})}return r=new jr(l,i,e,{disableEvents:o,namespace:s,theme:r},d||console.error,function(e,t){let n=new Map,r=new Set,i=e=>{Object.keys(e).forEach((t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((e=>{null==(e=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null)||r.has(e)||(r.add(e),null!==(e=e())&&i(e))})),t&&i(t),n}(e,c?c.import:void 0),t),void 0!==a&&(r._pendingEditorState=a,r._dirtyType=2),r},t.getNearestEditorFromDOMNode=Ee,t.isHTMLAnchorElement=function(e){return ut(e)&&"A"===e.tagName},t.isHTMLElement=ut,t.isSelectionCapturedInDecoratorInput=Ne,t.isSelectionWithinEditor=ye},8322:e=>{e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,l,s,a,u=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(d,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return l=(l=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(l[2],16),a=parseInt(l[1],16)||0,o[14]=s,o[15]=a,n(d,o),d}function l(e){var t,r,o,l,s,a,u=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=u;t+=64)n(d,i(e.subarray(t-64,t)));for(r=(e=t-64<u?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return l=(l=8*u).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(l[2],16),a=parseInt(l[1],16)||0,o[14]=s,o[15]=a,n(d,o),d}function s(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function d(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return t?o:i}function c(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function g(e,t,n){var r=new Uint8Array(e.byteLength+t.byteLength);return r.set(new Uint8Array(e)),r.set(new Uint8Array(t),e.byteLength),n?r:r.buffer}function h(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,r){var i,o,l,s,a=this.byteLength,u=t(n,a),d=a;return r!==e&&(d=t(r,a)),u>d?new ArrayBuffer(0):(i=d-u,o=new ArrayBuffer(i),l=new Uint8Array(o),s=new Uint8Array(this,u,i),l.set(s),o)}}(),f.prototype.append=function(e){return this.appendBinary(u(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=h(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var r,i,o,l=t;if(e[l>>2]|=128<<(l%4<<3),l>55)for(n(this._hash,e),l=0;l<16;l+=1)e[l]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},f.hash=function(e,t){return f.hashBinary(u(e),t)},f.hashBinary=function(e,t){var n=a(o(e));return t?h(n):n},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,r=g(this._buff.buffer,e,!0),o=r.length;for(this._length+=e.byteLength,t=64;t<=o;t+=64)n(this._hash,i(r.subarray(t-64,t)));return this._buff=t-64<o?new Uint8Array(r.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=a(this._hash),e&&(n=h(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e=f.prototype.getState.call(this);return e.buff=c(e.buff),e},f.ArrayBuffer.prototype.setState=function(e){return e.buff=d(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var n=a(l(new Uint8Array(e)));return t?h(n):n},f}()}}]);