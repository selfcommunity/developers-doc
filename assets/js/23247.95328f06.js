"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[23247],{9771:e=>{var t=function(){};e.exports=t},22373:(e,t,n)=>{n.d(t,{__:()=>s});var r=n(96540),o=n(75753);function a(e,t){const{preferences:n}=(0,o.Sw)();return(0,r.useMemo)((()=>{if(!n||!(e in n))return t;return n[e].value}),[n,e,t])}function s(e,t=!1){const n=a(e,t);return null!=n?n:t}},38441:(e,t,n)=>{n.d(t,{A:()=>Un});var r=n(31635),o=n(74848),a=n(6279),s=n(11848),i=n(50236),c=n(44675),l=n(15327),u=n(18653),d=n(40059),p=n(47859),f=n(66848),m=n(45284),g=n(2877),y=n(94844),h=n(25418),b=n(40221),v=n(8393),A=n(19546),x=n.n(A),P=n(96540),w=n(58065),E=n(48875),O=n(29251),j=n(99042),S=n(67733),R=n(80766),C=n(26060),T=n(39840);const _="SCPaywalls";var k=n(1489),N=n(73797);const L={root:`${_}-skeleton-root`,products:`${_}-products`},D=(0,s.Ay)(S.A,{name:_,slot:"SkeletonRoot"})((()=>({overflow:"hidden"})));function I(e){const{className:t,PaymentProductSkeletonProps:n={}}=e,a=(0,r.__rest)(e,["className","PaymentProductSkeletonProps"]),s=(0,c.A)(),i=(0,l.A)(s.breakpoints.down("md"));return(0,o.jsx)(D,Object.assign({className:x()(L.root,t)},a,{children:(0,o.jsx)(k.Ay,Object.assign({container:!0,spacing:{xs:3},className:L.products},{children:[...Array(i?1:2)].map(((e,t)=>(0,o.jsx)(k.Ay,Object.assign({item:!0,xs:12},{children:(0,o.jsx)(N.A,Object.assign({elevation:0,variant:"outlined"},n))}),t)))}))}))}var $=n(94520),M=n(15906);const B="SCPaymentProducts",F={root:`${B}-skeleton-root`,products:`${B}-products`},U=(0,s.Ay)(S.A,{name:B,slot:"SkeletonRoot"})((()=>({overflow:"hidden"})));function V(e){const{className:t,PaymentProductSkeletonProps:n={}}=e,a=(0,r.__rest)(e,["className","PaymentProductSkeletonProps"]),s=(0,c.A)(),i=(0,l.A)(s.breakpoints.down("md"));return(0,o.jsx)(U,Object.assign({className:x()(F.root,t)},a,{children:(0,o.jsx)(k.Ay,Object.assign({container:!0,spacing:{xs:3},className:F.products},{children:[...Array(i?1:2)].map(((e,t)=>(0,o.jsx)(k.Ay,Object.assign({item:!0,xs:12},{children:(0,o.jsx)(N.A,Object.assign({elevation:0,variant:"outlined"},n))}),t)))}))}))}var G=n(25292),H=n(13550),W=n(29368),q=n(28692),z=n(62645),K=n(86354),J=n(42269);var Y=n(76817),X=n(4863),Z=n(42942),Q=n(29352),ee=n(63034),te=n(6442),ne=n(20411),re=n(3341),oe=n(88352),ae=n(52959),se=n(4555);const ie={root:`${Q.H}-root`,primary:`${Q.H}-primary`,secondary:`${Q.H}-secondary`,purchasedAt:`${Q.H}-purchased-at`,button:`${Q.H}-button`,buttonPurchased:`${Q.H}-button-purchased`,action:`${Q.H}-action`},ce=(0,s.Ay)(ae.A,{slot:"Root",name:Q.H})((({theme:e})=>({})));const le=function(e){const t=(0,f.A)({props:e,name:Q.H}),{className:n,id:a,price:s,contentType:i,contentId:u,content:m,actions:g,onHandleActionBuy:y,paymentOrder:h,returnUrlParams:b}=t,v=(0,r.__rest)(t,["className","id","price","contentType","contentId","content","actions","onHandleActionBuy","paymentOrder","returnUrlParams"]),A=(0,ne.I$)(),E=(0,c.A)(),O=(0,l.A)(E.breakpoints.down("sm")),R=(0,te.A)(),{isPaymentsEnabled:C}=(0,j.A)(),T=(0,P.useCallback)((e=>{e.preventDefault(),e.stopPropagation(),y&&y(s,i,u)}),[y,s,i,u]);return C?s?(0,o.jsx)(ce,Object.assign({disableTypography:!0,className:ie.root,primary:(0,o.jsx)(p.A,Object.assign({variant:"body1",className:ie.primary},{children:(0,o.jsx)("b",{children:(0,se._s)(s,R)})})),secondary:(0,o.jsxs)(o.Fragment,{children:[!O&&(0,o.jsx)(p.A,Object.assign({component:"p",variant:"body2",className:ie.secondary},{children:s.description})),(0,o.jsx)(o.Fragment,{children:!O&&h&&h.payment_price.id===s.id&&(0,o.jsx)(p.A,Object.assign({component:"p",variant:"body2",className:x()(ie.secondary,ie.purchasedAt)},{children:(0,o.jsx)(w.A,{defaultMessage:"ui.paymentProduct.action.purchasedAt",id:"ui.paymentProduct.action.purchasedAt",values:{purchasedAt:R.formatDate(new Date(h.created_at),{day:"numeric",year:"numeric",month:"long"})}})}))})]}),actions:null!=g?g:(0,o.jsx)(S.A,Object.assign({className:ie.action},{children:(0,o.jsx)(X.A,Object.assign({in:!0,style:{transitionDelay:"200ms"}},{children:(0,o.jsx)(Z.A,Object.assign({size:"small",color:h&&h.payment_price.id===s.id?"secondary":"primary",className:x()(ie.button,{[ie.buttonPurchased]:h&&h.payment_price.id===s.id})},h&&{disabled:!0},{variant:"contained",component:re.A,startIcon:(0,o.jsx)(d.A,{children:"dredit-card"})},y&&{onClick:T},{to:`${A.url(oe.CHECKOUT_PAYMENT,{content_type:null==i?void 0:i.toLowerCase(),content_id:m?m.id:u,price_id:s.id})}?${b?new URLSearchParams(b):""}`},{children:h&&h.payment_price.id===s.id?(0,o.jsx)(o.Fragment,{children:h.payment_price.recurring_interval?(0,o.jsx)(w.A,{defaultMessage:"ui.paymentProduct.action.subscribed",id:"ui.paymentProduct.action.subscribed"}):(0,o.jsx)(w.A,{defaultMessage:"ui.paymentProduct.action.purchased",id:"ui.paymentProduct.action.purchased"})}):(0,o.jsx)(o.Fragment,{children:s.recurring_interval?(0,o.jsx)(w.A,{defaultMessage:"ui.paymentProduct.action.subscribe",id:"ui.paymentProduct.action.subscribe"}):(0,o.jsx)(w.A,{defaultMessage:"ui.paymentProduct.action.buy",id:"ui.paymentProduct.action.buy"})})}))}))}))},v)):(0,o.jsx)(ee.A,{}):null};var ue=n(86857);const de={root:`${Y.H}-root`},pe=(0,s.Ay)(ue.A,{slot:"Root",name:Y.H})((({theme:e})=>({})));const fe=function(e){const t=(0,f.A)({props:e,name:Y.H}),{className:n,paymentProductId:a,paymentProduct:s,contentType:i,contentId:c,content:l,paymentOrder:u,onUpdatePaymentOrder:d,hideDescription:m=!1,hidePaymentProductPrices:y=!1,PaymentProductPriceComponentProps:h={}}=t,b=(0,r.__rest)(t,["className","paymentProductId","paymentProduct","contentType","contentId","content","paymentOrder","onUpdatePaymentOrder","hideDescription","hidePaymentProductPrices","PaymentProductPriceComponentProps"]),{isPaymentsEnabled:v}=(0,j.A)(),{scPaymentProduct:A}=function({id:e=null,paymentProduct:t=null,cacheStrategy:n=q.So.NETWORK_ONLY}){const r=(0,P.useMemo)((()=>(null==t?void 0:t.id)||e),[t,e]),o=(0,g.X1)(),a=(0,P.useMemo)((()=>{var e;return(null===(e=o.user)||void 0===e?void 0:e.id)||null}),[o.user]),s=(0,P.useMemo)((()=>(0,K.E3)(r)),[r]),[i,c]=(0,P.useState)(n!==q.So.NETWORK_ONLY?q.Ay.get(s,t):null),[l,u]=(0,P.useState)(null),d=(0,P.useCallback)((e=>{c(e),q.Ay.set(s,e)}),[c,s]),p=(0,P.useMemo)((()=>e=>H.A.request({url:W.A.GetPaymentProduct.url({id:e}),method:W.A.GetPaymentProduct.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[]);return(0,P.useEffect)((()=>{null==e||t||p(e).then((e=>{d(e)})).catch((e=>{q.Ay.delete(s),$.V.error(J.K,e.message)}))}),[e,t,a]),(0,z.ho)((()=>{t&&d(t)}),[t,a]),{scPaymentProduct:i,setSCPaymentProduct:d,error:l}}({id:a,paymentProduct:s}),w=(0,P.useMemo)((()=>A&&A.payment_prices?A.payment_prices.map((e=>e.id)):[]),[A]);return v?A?(0,o.jsx)(pe,Object.assign({disabled:!w.length,className:x()(de.root,n)},b,{children:(0,o.jsxs)(G.A,{children:[(0,o.jsx)(p.A,Object.assign({variant:"h5",component:"div"},{children:(0,o.jsx)("b",{children:A.name&&A.name})})),A.description&&!m&&(0,o.jsx)(p.A,Object.assign({variant:"body1",component:"div"},{children:A.description})),!y&&A.payment_prices&&A.payment_prices.map(((e,t)=>(0,o.jsx)(le,Object.assign({price:e},h,i&&{contentType:i},l?{content:l}:{contentId:c},u&&{paymentOrder:u,onHandleActionBuy:d}),t)))]})})):(0,o.jsx)(N.A,{}):null},me={root:`${B}-root`},ge=(0,s.Ay)(S.A,{slot:"Root",name:B})((({theme:e})=>({})));const ye=function(e){const t=(0,f.A)({props:e,name:B}),{className:n,contentId:a,contentType:s,content:i,prefetchedProducts:c=[],paymentOrder:l,onUpdatePaymentOrder:u}=t,d=(0,r.__rest)(t,["className","contentId","contentType","content","prefetchedProducts","paymentOrder","onUpdatePaymentOrder"]),p=c.map((e=>e.id)),[m,g]=(0,P.useState)([]),[y,h]=(0,P.useState)(!0),{isPaymentsEnabled:b}=(0,j.A)(),v=(0,T.A)(),A=e=>(0,r.__awaiter)(this,void 0,void 0,(function*(){const t=yield C.A.getPaymentProducts({content_id:a,content_type:s},Object.assign({},e&&{url:e}));return t.next?t.results.concat(yield A(t.next)):t.results}));return(0,z.Ay)((()=>{c.length?(g(c),h(!1)):void 0!==a&&s?A().then((e=>{v.current&&(g(e),h(!1))})).catch((e=>{$.V.error(M.d,e)})):i&&s&&(g(i.paywalls||[]),h(!1))}),[p,a,s]),b?(0,o.jsx)(ge,Object.assign({className:x()(me.root,n)},d,{children:y?(0,o.jsx)(V,{}):(0,o.jsx)(o.Fragment,{children:m.map(((e,t)=>(0,o.jsx)(fe,Object.assign({paymentProduct:e,contentType:s},i?{content:i}:{contentId:a},l&&{paymentOrder:l,onUpdatePaymentOrder:u}),t)))})})):null},he={root:`${_}-root`,error:`${_}-error`},be=(0,s.Ay)(S.A,{slot:"Root",name:_})((({theme:e})=>({})));const ve=function(e){const t=(0,f.A)({props:e,name:_}),{className:n,contentId:a,contentType:s,content:i,prefetchedPaymentContentStatus:c,onUpdatePaymentOrder:l}=t,u=(0,r.__rest)(t,["className","contentId","contentType","content","prefetchedPaymentContentStatus","onUpdatePaymentOrder"]),[d,m]=(0,P.useState)([]),[g,y]=(0,P.useState)(null),[h,b]=(0,P.useState)(!0),{isPaymentsEnabled:v}=(0,j.A)(),A=(0,T.A)(),E=(0,te.A)(),O=(0,P.useMemo)((()=>{let e=!1;return!d.length||!g||(d.map((t=>{if(t.payment_prices){t.payment_prices.map((e=>e.id)).indexOf(g.payment_price.id)>-1&&(e=e||!0)}})),e)}),[d,g]);return(0,P.useEffect)((()=>{c?(m(c.paywalls),y(c.payment_order),b(!1)):i&&s?(m(i.paywalls||[]),y(i.payment_order||null),b(!1)):void 0!==a&&s&&C.i.getPaymentContentStatus({content_id:a,content_type:s}).then((e=>{A.current&&(m(e.paywalls.map((e=>e.payment_product))),y(e.payment_order),b(!1))})).catch((e=>{$.V.error(M.d,e)}))}),[c,a,s]),v?(0,o.jsx)(be,Object.assign({className:x()(he.root,n)},u,{children:h?(0,o.jsx)(I,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ye,Object.assign({contentType:s},i?{content:i}:{contentId:a},{prefetchedProducts:d,paymentOrder:g},g&&{paymentOrder:g,onUpdatePaymentOrder:l})),g&&!O&&(0,o.jsxs)(R.A,Object.assign({severity:"error",className:he.error},{children:[(0,o.jsx)(p.A,Object.assign({component:"p",variant:"body2"},{children:(0,o.jsx)(w.A,{id:"ui.paywalls.priceNotIncluded",defaultMessage:"ui.paywalls.priceNotIncluded"})})),(0,o.jsx)(p.A,Object.assign({component:"p",variant:"body2"},{children:(0,o.jsx)(w.A,{defaultMessage:"ui.paywalls.contentPurchasedAt",id:"ui.paywalls.contentPurchasedAt",values:{purchasedAt:E.formatDate(new Date(g.created_at),{day:"numeric",year:"numeric",month:"long"}),price:(0,se.Te)(g.payment_price)}})})),(0,o.jsx)(fe,Object.assign({paymentProduct:g.payment_price.payment_product,contentType:s},i?{content:i}:{contentId:a}))]}))]})})):null},Ae="SCPaywallsDialog",xe={root:`${Ae}-root`},Pe=(0,s.Ay)(O.A,{slot:"Root",name:Ae})((({theme:e})=>({}))),we=P.forwardRef((function(e,t){return(0,o.jsx)(E.A,Object.assign({direction:"up",ref:t},e))})),Ee=P.forwardRef((function(e,t){return(0,o.jsxs)(P.Fragment,{children:[" ",e.children," "]})}));const Oe=function(e){var t;const n=(0,f.A)({props:e,name:Ae}),{className:a,PaywallsComponentProps:s,disableInitialTransition:i=!1}=n,c=(0,r.__rest)(n,["className","PaywallsComponentProps","disableInitialTransition"]),{isPaymentsEnabled:l}=(0,j.A)();return l?(0,o.jsx)(Pe,Object.assign({maxWidth:"sm",fullWidth:!0,title:s&&(null===(t=s.prefetchedPaymentContentStatus)||void 0===t?void 0:t.payment_order)||s.content&&s.content.payment_order?(0,o.jsx)(w.A,{id:"ui.paywallsDialog.title.purchased",defaultMessage:"ui.paywallsDialog.title.purchased"}):(0,o.jsx)(w.A,{id:"ui.paywallsDialog.title",defaultMessage:"ui.paywallsDialog.title"}),scroll:"paper",open:!0},i?{TransitionComponent:Ee}:{TransitionComponent:we},{className:x()(xe.root,a),TransitionComponent:we,DialogContentProps:{dividers:!1}},c,{children:(0,o.jsx)(ve,Object.assign({},s))})):null};var je=n(34846),Se=n(27202),Re=n(88929),Ce=n(23007),Te=n(60921);var _e=n(85486),ke=n(59703),Ne=n(54533),Le=n(75659),De=n(25669),Ie=n(28466),$e=n(57416),Me=n(38413),Be=n(31609);function Fe(e){return(0,Be.Ay)("MuiAppBar",e)}(0,Me.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Ue=["className","color","enableColorOnDark","position"],Ve=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,Ge=(0,s.Ay)($e.A,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${(0,Ie.A)(n.position)}`],t[`color${(0,Ie.A)(n.color)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900];return(0,ke.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===t.position&&{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===t.position&&{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===t.position&&{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0},"static"===t.position&&{position:"static"},"relative"===t.position&&{position:"relative"},!e.vars&&(0,ke.A)({},"default"===t.color&&{backgroundColor:n,color:e.palette.getContrastText(n)},t.color&&"default"!==t.color&&"inherit"!==t.color&&"transparent"!==t.color&&{backgroundColor:e.palette[t.color].main,color:e.palette[t.color].contrastText},"inherit"===t.color&&{color:"inherit"},"dark"===e.palette.mode&&!t.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===t.color&&(0,ke.A)({backgroundColor:"transparent",color:"inherit"},"dark"===e.palette.mode&&{backgroundImage:"none"})),e.vars&&(0,ke.A)({},"default"===t.color&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette.AppBar.defaultBg:Ve(e.vars.palette.AppBar.darkBg,e.vars.palette.AppBar.defaultBg),"--AppBar-color":t.enableColorOnDark?e.vars.palette.text.primary:Ve(e.vars.palette.AppBar.darkColor,e.vars.palette.text.primary)},t.color&&!t.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":t.enableColorOnDark?e.vars.palette[t.color].main:Ve(e.vars.palette.AppBar.darkBg,e.vars.palette[t.color].main),"--AppBar-color":t.enableColorOnDark?e.vars.palette[t.color].contrastText:Ve(e.vars.palette.AppBar.darkColor,e.vars.palette[t.color].contrastText)},!["inherit","transparent"].includes(t.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===t.color?"inherit":"var(--AppBar-color)"},"transparent"===t.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),He=P.forwardRef((function(e,t){const n=(0,De.b)({props:e,name:"MuiAppBar"}),{className:r,color:a="primary",enableColorOnDark:s=!1,position:i="fixed"}=n,c=(0,_e.A)(n,Ue),l=(0,ke.A)({},n,{color:a,position:i,enableColorOnDark:s}),u=(e=>{const{color:t,position:n,classes:r}=e,o={root:["root",`color${(0,Ie.A)(t)}`,`position${(0,Ie.A)(n)}`]};return(0,Le.A)(o,Fe,r)})(l);return(0,o.jsx)(Ge,(0,ke.A)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,Ne.A)(u.root,r,"fixed"===i&&"mui-fixed"),ref:t},c))})),We=He;var qe=n(44676),ze=n(4671),Ke=n(80748);const Je=Ke;var Ye=n(5556),Xe=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},Ze=Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe(Xe([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Qe(e,t){var n={};return Ze.forEach((function(r){var o=e[r];o&&(n[r]=t?function(e){return o(e,t(r))}:o)})),n}function et(e){var t=!1;return{promise:new Promise((function(n,r){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&r(e)}))})),cancel:function(){t=!0}}}function tt(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=tt(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const nt=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=tt(e))&&(r&&(r+=" "),r+=t);return r};var rt=!0,ot="Invariant failed";function at(e,t){if(!e){if(rt)throw new Error(ot);var n="function"==typeof t?t():t,r=n?"".concat(ot,": ").concat(n):ot;throw new Error(r)}}var st=n(9771),it=n(38460);const ct=(0,P.createContext)(null);function lt({children:e,type:t}){return P.createElement("div",{className:`react-pdf__message react-pdf__message--${t}`},e)}class ut{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return at(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(e){at(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{at(this.pdfDocument,"PDF document not loaded."),at(e,"Destination is not specified."),"string"==typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{at(Array.isArray(e),`"${e}" is not a valid destination array.`);const t=e[0];new Promise((e=>{at(this.pdfDocument,"PDF document not loaded."),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{at(!1,`"${t}" is not a valid page reference.`)})):"number"==typeof t?e(t):at(!1,`"${t}" is not a valid destination reference.`)})).then((t=>{const n=t+1;at(this.pdfViewer,"PDF viewer is not initialized."),at(n>=1&&n<=this.pagesCount,`"${n}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;at(this.pdfViewer,"PDF viewer is not initialized."),at(e>=1&&e<=this.pagesCount,`"${e}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const dt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},pt="undefined"!=typeof document,ft=pt&&"file:"===window.location.protocol;function mt(e){return void 0!==e}function gt(e){return mt(e)&&null!==e}function yt(e){return function(e){return"string"==typeof e}(e)&&/^data:/.test(e)}function ht(e){at(yt(e),"Invalid data URI.");const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function bt(){return pt&&window.devicePixelRatio||1}const vt="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function At(){st(!ft,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${vt}`)}function xt(e){e&&e.cancel&&e.cancel()}function Pt(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function wt(e){return"RenderingCancelledException"===e.name}function Et(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function Ot(){return(0,P.useReducer)(Et,{value:void 0,error:void 0})}const{PDFDataRangeTransport:jt}=Je,St=(()=>{const e={};return Ze.forEach((t=>{e[t]=Ye.func})),e})(),Rt=Ye.oneOfType([Ye.instanceOf(Int8Array),Ye.instanceOf(Uint8Array),Ye.instanceOf(Uint8ClampedArray),Ye.instanceOf(Int16Array),Ye.instanceOf(Uint16Array),Ye.instanceOf(Int32Array),Ye.instanceOf(Uint32Array),Ye.instanceOf(Float32Array),Ye.instanceOf(Float64Array)]),Ct=[Ye.string,Ye.instanceOf(ArrayBuffer),Ye.shape({data:Ye.oneOfType([Ye.string,Ye.instanceOf(ArrayBuffer),Ye.arrayOf(Ye.number.isRequired),Rt]).isRequired}),Ye.shape({range:Ye.instanceOf(jt).isRequired}),Ye.shape({url:Ye.string.isRequired})];"undefined"!=typeof Blob&&Ct.push(Ye.instanceOf(Blob));const Tt=Ye.oneOfType([Ye.string,Ye.arrayOf(Ye.string)]),_t=Ye.oneOfType(Ct),kt=(Ye.instanceOf(ut),Ye.oneOf(["_self","_blank","_parent","_top"]),Ye.shape({commonObjs:Ye.shape({}).isRequired,getAnnotations:Ye.func.isRequired,getTextContent:Ye.func.isRequired,getViewport:Ye.func.isRequired,render:Ye.func.isRequired}),Ye.oneOfType([Ye.any,Ye.oneOf([!1])])),Nt=Ye.oneOfType([Ye.func,Ye.exact({current:Ye.any})]),Lt=Ye.oneOf(["canvas","custom","none","svg"]),Dt=Ye.oneOf([0,90,180,270]);var It=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function s(e){try{c(r.next(e))}catch(t){a(t)}}function i(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((r=r.apply(e,t||[])).next())}))},$t=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const{PDFDataRangeTransport:Mt}=Je,Bt=(e,t)=>{switch(t){case dt.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case dt.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function Ft(e){return"object"==typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const Ut=(0,P.forwardRef)((function(e,t){var{children:n,className:r,error:o="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:s,file:i,inputRef:c,imageResourcesPath:l,loading:u="Loading PDF\u2026",noData:d="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:m,onLoadSuccess:g,onPassword:y=Bt,onSourceError:h,onSourceSuccess:b,options:v,renderMode:A,rotate:x}=e,w=$t(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[E,O]=Ot(),{value:j,error:S}=E,[R,C]=Ot(),{value:T,error:_}=R,k=(0,P.useRef)(new ut),N=(0,P.useRef)([]),L=(0,P.useRef)(),D=(0,P.useRef)();(0,P.useEffect)((()=>{i&&i!==L.current&&Ft(i)&&(st(!(0,it.j)(i,L.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),L.current=i)}),[i]),(0,P.useEffect)((()=>{v&&v!==D.current&&(st(!(0,it.j)(v,D.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),D.current=v)}),[v]);const I=(0,P.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:r=n-1}=e;if(p)return void p({dest:t,pageIndex:r,pageNumber:n});const o=N.current[r];o?o.scrollIntoView():st(!1,`An internal link leading to page ${n} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});(0,P.useImperativeHandle)(t,(()=>({linkService:k,pages:N,viewer:I})),[]),(0,P.useEffect)((function(){O({type:"RESET"})}),[i,O]);const $=(0,P.useCallback)((()=>It(this,void 0,void 0,(function*(){if(!i)return null;if("string"==typeof i){if(yt(i)){return{data:ht(i)}}return At(),{url:i}}if(i instanceof Mt)return{range:i};if(i instanceof ArrayBuffer)return{data:i};if(pt&&function(e){return at(pt,"isBlob can only be used in a browser environment"),e instanceof Blob}(i)){const e=yield function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));t(r.result)},r.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e)}))}(i);return{data:e}}if(at("object"==typeof i,"Invalid parameter in file, need either Uint8Array, string or a parameter object"),at(Ft(i),"Invalid parameter object: need either .data, .range or .url"),"url"in i&&"string"==typeof i.url){if(yt(i.url)){const{url:e}=i,t=$t(i,["url"]),n=ht(e);return Object.assign({data:n},t)}At()}return i}))),[i]);function M(e,t){N.current[e]=t}function B(e){delete N.current[e]}(0,P.useEffect)((()=>{const e=et($());return e.promise.then((e=>{O({type:"RESOLVE",value:e})})).catch((e=>{O({type:"REJECT",error:e})})),()=>{xt(e)}}),[$,O]),(0,P.useEffect)((()=>{void 0!==j&&(!1!==j?b&&b():S&&(st(!1,S.toString()),h&&h(S)))}),[j]),(0,P.useEffect)((function(){C({type:"RESET"})}),[C,j]),(0,P.useEffect)((function(){if(!j)return;const e=Object.assign(Object.assign({},v),{isEvalSupported:!1}),t=Object.assign(Object.assign({},j),e),n=Je.getDocument(t);m&&(n.onProgress=m),y&&(n.onPassword=y);const r=n;return r.promise.then((e=>{C({type:"RESOLVE",value:e})})).catch((e=>{r.destroyed||C({type:"REJECT",error:e})})),()=>{r.destroy()}}),[v,C,j]),(0,P.useEffect)((()=>{void 0!==T&&(!1!==T?T&&(g&&g(T),N.current=new Array(T.numPages),k.current.setDocument(T)):_&&(st(!1,_.toString()),f&&f(_)))}),[T]),(0,P.useEffect)((function(){k.current.setViewer(I.current),k.current.setExternalLinkRel(a),k.current.setExternalLinkTarget(s)}),[a,s]);const F=(0,P.useMemo)((()=>({imageResourcesPath:l,linkService:k.current,onItemClick:p,pdf:T,registerPage:M,renderMode:A,rotate:x,unregisterPage:B})),[l,p,T,A,x]),U=(0,P.useMemo)((()=>Qe(w,(()=>T))),[w,T]);return P.createElement("div",Object.assign({className:nt("react-pdf__Document",r),ref:c,style:{"--scale-factor":"1"}},U),i?null==T?P.createElement(lt,{type:"loading"},"function"==typeof u?u():u):!1===T?P.createElement(lt,{type:"error"},"function"==typeof o?o():o):P.createElement(ct.Provider,{value:F},n):P.createElement(lt,{type:"no-data"},"function"==typeof d?d():d))})),Vt=Ye.oneOfType([Ye.func,Ye.node]);Ut.propTypes=Object.assign(Object.assign({},St),{children:Ye.node,className:Tt,error:Vt,externalLinkRel:Ye.string,externalLinkTarget:Ye.oneOf(["_self","_blank","_parent","_top"]),file:_t,imageResourcesPath:Ye.string,inputRef:Nt,loading:Vt,noData:Vt,onItemClick:Ye.func,onLoadError:Ye.func,onLoadProgress:Ye.func,onLoadSuccess:Ye.func,onPassword:Ye.func,onSourceError:Ye.func,onSourceSuccess:Ye.func,options:Ye.shape({canvasFactory:Ye.any,canvasMaxAreaInBytes:Ye.number,cMapPacked:Ye.bool,CMapReaderFactory:Ye.any,cMapUrl:Ye.string,disableAutoFetch:Ye.bool,disableFontFace:Ye.bool,disableRange:Ye.bool,disableStream:Ye.bool,docBaseUrl:Ye.string,enableXfa:Ye.bool,filterFactory:Ye.any,fontExtraProperties:Ye.bool,httpHeaders:Ye.object,isEvalSupported:Ye.bool,isOffscreenCanvasSupported:Ye.bool,length:Ye.number,maxImageSize:Ye.number,ownerDocument:Ye.any,password:Ye.string,pdfBug:Ye.bool,rangeChunkSize:Ye.number,StandardFontDataFactory:Ye.any,standardFontDataUrl:Ye.string,stopAtErrors:Ye.bool,useSystemFonts:Ye.bool,useWorkerFetch:Ye.bool,verbosity:Ye.number,withCredentials:Ye.bool,worker:Ye.any}),rotate:Ye.number});const Gt=Ut;function Ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"==typeof t?t(e):t&&(t.current=e)}))}}const Wt=(0,P.createContext)(null),qt={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},zt=/^H(\d+)$/;function Kt(e){return"children"in e}function Jt(e){return!!Kt(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function Yt(e){const t={};if(Kt(e)){const{role:n}=e,r=n.match(zt);if(r)t.role="heading",t["aria-level"]=Number(r[1]);else if(function(e){return e in qt}(n)){const e=qt[n];e&&(t.role=e)}}return t}function Xt(e){const t={};if(Kt(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),Jt(e)){const[n]=e.children;if(n){const e=Xt(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function Zt(e){return e?Object.assign(Object.assign({},Yt(e)),Xt(e)):null}function Qt({className:e,node:t}){const n=(0,P.useMemo)((()=>Zt(t)),[t]),r=(0,P.useMemo)((()=>Kt(t)?Jt(t)?null:t.children.map(((e,t)=>P.createElement(Qt,{key:t,node:e}))):null),[t]);return P.createElement("span",Object.assign({className:e},n),r)}function en(){return(0,P.useContext)(Wt)}function tn(){const e=en();at(e,"Unable to find Page context.");const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[r,o]=Ot(),{value:a,error:s}=r,{customTextRenderer:i,page:c}=e;return(0,P.useEffect)((function(){o({type:"RESET"})}),[o,c]),(0,P.useEffect)((function(){if(i)return;if(!c)return;const e=et(c.getStructTree()),t=e;return e.promise.then((e=>{o({type:"RESOLVE",value:e})})).catch((e=>{o({type:"REJECT",error:e})})),()=>xt(t)}),[i,c,o]),(0,P.useEffect)((()=>{void 0!==a&&(!1!==a?a&&n&&n(a):s&&(st(!1,s.toString()),t&&t(s)))}),[a]),a?P.createElement(Qt,{className:"react-pdf__Page__structTree structTree",node:a}):null}const nn=Je.AnnotationMode;function rn(e){const t=en();at(t,"Unable to find Page context.");const n=Object.assign(Object.assign({},t),e),{_className:r,canvasBackground:o,devicePixelRatio:a=bt(),onRenderError:s,onRenderSuccess:i,page:c,renderForms:l,renderTextLayer:u,rotate:d,scale:p}=n,{canvasRef:f}=e;at(c,"Attempted to render page canvas, but no page was specified.");const m=(0,P.useRef)(null);function g(e){wt(e)||(st(!1,e.toString()),s&&s(e))}const y=(0,P.useMemo)((()=>c.getViewport({scale:p*a,rotation:d})),[a,c,d,p]),h=(0,P.useMemo)((()=>c.getViewport({scale:p,rotation:d})),[c,d,p]);(0,P.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=m;if(!e)return;e.width=y.width,e.height=y.height,e.style.width=`${Math.floor(h.width)}px`,e.style.height=`${Math.floor(h.height)}px`,e.style.visibility="hidden";const t={annotationMode:l?nn.ENABLE_FORMS:nn.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:y};o&&(t.background=o);const n=c.render(t),r=n;return n.promise.then((()=>{e.style.visibility="",c&&i&&i(Pt(c,p))})).catch(g),()=>xt(r)}),[o,m,a,c,l,y,h]);const b=(0,P.useCallback)((()=>{const{current:e}=m;e&&(e.width=0,e.height=0)}),[m]);return(0,P.useEffect)((()=>b),[b]),P.createElement("canvas",{className:`${r}__canvas`,dir:"ltr",ref:Ht(f,m),style:{display:"block",userSelect:"none"}},u?P.createElement(tn,null):null)}function on(){const e=en();at(e,"Unable to find Page context.");const{_className:t,onRenderSuccess:n,onRenderError:r,page:o,rotate:a,scale:s}=e;at(o,"Attempted to render page SVG, but no page was specified.");const[i,c]=Ot(),{value:l,error:u}=i;const d=(0,P.useMemo)((()=>o.getViewport({scale:s,rotation:a})),[o,a,s]);(0,P.useEffect)((function(){c({type:"RESET"})}),[o,c,d]),(0,P.useEffect)((function(){if(!o)return;const e=et(o.getOperatorList());return e.promise.then((e=>{new Je.SVGGraphics(o.commonObjs,o.objs).getSVG(e,d).then((e=>{if(!(e instanceof SVGElement))throw new Error("getSVG returned unexpected result.");c({type:"RESOLVE",value:e})})).catch((e=>{c({type:"REJECT",error:e})}))})).catch((e=>{c({type:"REJECT",error:e})})),()=>xt(e)}),[o,c,d]),(0,P.useEffect)((()=>{void 0!==l&&(!1!==l?o&&n&&n(Pt(o,s)):u&&(wt(u)||(st(!1,u.toString()),r&&r(u))))}),[l]);const{width:p,height:f}=d;return P.createElement("div",{className:`${t}__svg`,ref:e=>function(e){if(!e||!l)return;e.firstElementChild||e.appendChild(l);const{width:t,height:n}=d;l.setAttribute("width",`${t}`),l.setAttribute("height",`${n}`)}(e),style:{display:"block",backgroundColor:"white",overflow:"hidden",width:p,height:f,userSelect:"none"}})}function an(){const e=en();at(e,"Unable to find Page context.");const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:o,onRenderTextLayerSuccess:a,page:s,pageIndex:i,pageNumber:c,rotate:l,scale:u}=e;at(s,"Attempted to load page text content, but no page was specified.");const[d,p]=Ot(),{value:f,error:m}=d,g=(0,P.useRef)(null),y=(0,P.useRef)();st(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,P.useEffect)((function(){p({type:"RESET"})}),[s,p]),(0,P.useEffect)((function(){if(!s)return;const e=et(s.getTextContent()),t=e;return e.promise.then((e=>{p({type:"RESOLVE",value:e})})).catch((e=>{p({type:"REJECT",error:e})})),()=>xt(t)}),[s,p]),(0,P.useEffect)((()=>{void 0!==f&&(!1!==f?f&&r&&r(f):m&&(st(!1,m.toString()),n&&n(m)))}),[f]);const h=(0,P.useCallback)((()=>{a&&a()}),[a]),b=(0,P.useCallback)((e=>{st(!1,e.toString()),o&&o(e)}),[o]);const v=(0,P.useMemo)((()=>s.getViewport({scale:u,rotation:l})),[s,l,u]);return(0,P.useLayoutEffect)((function(){if(!s||!f)return;const{current:e}=g;if(!e)return;e.innerHTML="";const n=s.streamTextContent({includeMarkedContent:!0}),r={container:e,textContentSource:n,viewport:v},o=Je.renderTextLayer(r),a=o;return o.promise.then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n),y.current=n;const r=e.querySelectorAll('[role="presentation"]');if(t){let e=0;f.items.forEach(((n,o)=>{if(!function(e){return"str"in e}(n))return;const a=r[e];if(!a)return;const s=t(Object.assign({pageIndex:i,pageNumber:c,itemIndex:o},n));a.innerHTML=s,e+=n.str&&n.hasEOL?2:1}))}h()})).catch(b),()=>xt(a)}),[t,b,h,s,i,c,f,v]),P.createElement("div",{className:nt("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=y.current;e&&e.classList.remove("active")},onMouseDown:function(){const e=y.current;e&&e.classList.add("active")},ref:g})}function sn(){return(0,P.useContext)(ct)}function cn(){const e=sn(),t=en();at(t,"Unable to find Page context.");const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:r,linkService:o,onGetAnnotationsError:a,onGetAnnotationsSuccess:s,onRenderAnnotationLayerError:i,onRenderAnnotationLayerSuccess:c,page:l,pdf:u,renderForms:d,rotate:p,scale:f=1}=n;at(u,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),at(l,"Attempted to load page annotations, but no page was specified."),at(o,"Attempted to load page annotations, but no linkService was specified.");const[m,g]=Ot(),{value:y,error:h}=m,b=(0,P.useRef)(null);st(1===parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,P.useEffect)((function(){g({type:"RESET"})}),[g,l]),(0,P.useEffect)((function(){if(!l)return;const e=et(l.getAnnotations()),t=e;return e.promise.then((e=>{g({type:"RESOLVE",value:e})})).catch((e=>{g({type:"REJECT",error:e})})),()=>{xt(t)}}),[g,l,d]),(0,P.useEffect)((()=>{void 0!==y&&(!1!==y?y&&s&&s(y):h&&(st(!1,h.toString()),a&&a(h)))}),[y]);const v=(0,P.useMemo)((()=>l.getViewport({scale:f,rotation:p})),[l,p,f]);return(0,P.useEffect)((function(){if(!(u&&l&&o&&y))return;const{current:e}=b;if(!e)return;const t=v.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,div:e,l10n:null,page:l,viewport:t},a={annotations:y,annotationStorage:u.annotationStorage,div:e,downloadManager:null,imageResourcesPath:r,linkService:o,page:l,renderForms:d,viewport:t};e.innerHTML="";try{new Je.AnnotationLayer(n).render(a),c&&c()}catch(s){!function(e){st(!1,`${e}`),i&&i(e)}(s)}return()=>{}}),[y,r,o,l,d,v]),P.createElement("div",{className:nt("react-pdf__Page__annotations","annotationLayer"),ref:b})}var ln=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const un=1,dn=function(e){const t=sn(),n=Object.assign(Object.assign({},t),e),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:o=!0,canvasBackground:a,canvasRef:s,children:i,className:c,customRenderer:l,customTextRenderer:u,devicePixelRatio:d,error:p="Failed to load the page.",height:f,inputRef:m,loading:g="Loading page\u2026",noData:y="No page specified.",onGetAnnotationsError:h,onGetAnnotationsSuccess:b,onGetStructTreeError:v,onGetStructTreeSuccess:A,onGetTextError:x,onGetTextSuccess:w,onLoadError:E,onLoadSuccess:O,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:S,onRenderError:R,onRenderSuccess:C,onRenderTextLayerError:T,onRenderTextLayerSuccess:_,pageIndex:k,pageNumber:N,pdf:L,registerPage:D,renderAnnotationLayer:I=!0,renderForms:$=!1,renderMode:M="canvas",renderTextLayer:B=!0,rotate:F,scale:U=un,unregisterPage:V,width:G}=n,H=ln(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[W,q]=Ot(),{value:z,error:K}=W,J=(0,P.useRef)(null);at(L,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const Y=gt(N)?N-1:null!=k?k:null,X=null!=N?N:gt(k)?k+1:null,Z=null!=F?F:z?z.rotate:null,Q=(0,P.useMemo)((()=>{if(!z)return null;let e=1;const t=null!=U?U:un;if(G||f){const t=z.getViewport({scale:1,rotation:Z});G?e=G/t.width:f&&(e=f/t.height)}return t*e}),[f,z,Z,U,G]);(0,P.useEffect)((function(){return()=>{gt(Y)&&o&&V&&V(Y)}}),[o,L,Y,V]),(0,P.useEffect)((function(){q({type:"RESET"})}),[q,L,Y]),(0,P.useEffect)((function(){if(!L||!X)return;const e=et(L.getPage(X)),t=e;return e.promise.then((e=>{q({type:"RESOLVE",value:e})})).catch((e=>{q({type:"REJECT",error:e})})),()=>xt(t)}),[q,L,Y,X,D]),(0,P.useEffect)((()=>{void 0!==z&&(!1!==z?function(){if(O){if(!z||!Q)return;O(Pt(z,Q))}if(o&&D){if(!gt(Y)||!J.current)return;D(Y,J.current)}}():K&&(st(!1,K.toString()),E&&E(K)))}),[z,Q]);const ee=(0,P.useMemo)((()=>z&&gt(Y)&&X&&gt(Z)&&gt(Q)?{_className:r,canvasBackground:a,customTextRenderer:u,devicePixelRatio:d,onGetAnnotationsError:h,onGetAnnotationsSuccess:b,onGetStructTreeError:v,onGetStructTreeSuccess:A,onGetTextError:x,onGetTextSuccess:w,onRenderAnnotationLayerError:j,onRenderAnnotationLayerSuccess:S,onRenderError:R,onRenderSuccess:C,onRenderTextLayerError:T,onRenderTextLayerSuccess:_,page:z,pageIndex:Y,pageNumber:X,renderForms:$,renderTextLayer:B,rotate:Z,scale:Q}:null),[r,a,u,d,h,b,v,A,x,w,j,S,R,C,T,_,z,Y,X,$,B,Z,Q]),te=(0,P.useMemo)((()=>Qe(H,(()=>z?Q?Pt(z,Q):void 0:z))),[H,z,Q]),ne=`${Y}@${Q}/${Z}`,re=`${Y}/${Z}`;function oe(){return P.createElement(Wt.Provider,{value:ee},function(){switch(M){case"custom":return at(l,'renderMode was set to "custom", but no customRenderer was passed.'),P.createElement(l,{key:`${ne}_custom`});case"none":return null;case"svg":return P.createElement(on,{key:`${re}_svg`});default:return P.createElement(rn,{key:`${ne}_canvas`,canvasRef:s})}}(),B?P.createElement(an,{key:`${ne}_text`}):null,I?P.createElement(cn,{key:`${ne}_annotations`}):null,i)}return P.createElement("div",Object.assign({className:nt(r,c),"data-page-number":X,ref:Ht(m,J),style:{"--scale-factor":`${Q}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te),X?null===L||null==z?P.createElement(lt,{type:"loading"},"function"==typeof g?g():g):!1===L||!1===z?P.createElement(lt,{type:"error"},"function"==typeof p?p():p):oe():P.createElement(lt,{type:"no-data"},"function"==typeof y?y():y))},pn=Ye.oneOfType([Ye.func,Ye.node]);dn.propTypes=Object.assign(Object.assign({},St),{canvasBackground:Ye.string,canvasRef:Nt,children:Ye.node,className:Tt,customRenderer:Ye.func,customTextRenderer:Ye.func,devicePixelRatio:Ye.number,error:pn,height:Ye.number,imageResourcesPath:Ye.string,inputRef:Nt,loading:pn,noData:pn,onGetTextError:Ye.func,onGetTextSuccess:Ye.func,onLoadError:Ye.func,onLoadSuccess:Ye.func,onRenderError:Ye.func,onRenderSuccess:Ye.func,onRenderTextLayerError:Ye.func,onRenderTextLayerSuccess:Ye.func,pageIndex:function(e,t,n){const{[t]:r,pageNumber:o,pdf:a}=e;if(!mt(a))return null;if(mt(r)){if("number"!=typeof r)return new Error(`\`${t}\` of type \`${typeof r}\` supplied to \`${n}\`, expected \`number\`.`);if(r<0)return new Error(`Expected \`${t}\` to be greater or equal to 0.`);const{numPages:e}=a;if(r+1>e)return new Error(`Expected \`${t}\` to be less or equal to ${e-1}.`)}else if(!mt(o))return new Error(`\`${t}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${n}\`.`);return null},pageNumber:function(e,t,n){const{[t]:r,pageIndex:o,pdf:a}=e;if(!mt(a))return null;if(mt(r)){if("number"!=typeof r)return new Error(`\`${t}\` of type \`${typeof r}\` supplied to \`${n}\`, expected \`number\`.`);if(r<1)return new Error(`Expected \`${t}\` to be greater or equal to 1.`);const{numPages:e}=a;if(r>e)return new Error(`Expected \`${t}\` to be less or equal to ${e}.`)}else if(!mt(o))return new Error(`\`${t}\` not supplied. Either pageIndex or pageNumber must be supplied to \`${n}\`.`);return null},pdf:kt,renderAnnotationLayer:Ye.bool,renderForms:Ye.bool,renderMode:Lt,renderTextLayer:Ye.bool,rotate:Dt,scale:Ye.number,width:Ye.number});const fn=dn;var mn=n(73785),gn=n(3246);const yn="PdfPreviewSkeleton",hn={root:`${yn}-root`,circularProgress:`${yn}-circular-progress`},bn=(0,s.Ay)(S.A,{name:yn,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",minHeight:400,[`& .${hn.circularProgress}`]:{position:"absolute"}})));function vn(e){const t=(0,f.A)({props:e,name:yn}),{className:n,maxWidth:a=En}=t,s=(0,r.__rest)(t,["className","maxWidth"]);return(0,o.jsxs)(bn,Object.assign({className:x()(hn.root,n),sx:{width:a}},s,{children:[a<1024&&(0,o.jsx)(mn.A,{variant:"rounded",sx:{height:3.508*a/2.48,width:a}}),(0,o.jsx)(gn.A,{color:"primary",className:hn.circularProgress})]}))}Je.GlobalWorkerOptions.workerSrc=new URL(n(82569),n.b).toString();const An="SCPdfPreview",xn={root:`${An}-root`,documentPdfWrapper:`${An}-document-pdf-wrapper`,documentPdfLink:`${An}-document-pdf-link`,documentPdf:`${An}-document-pdf`,documentPdfPage:`${An}-document-pdf-page`},Pn=(0,s.Ay)(S.A,{name:An,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({}))),wn={cMapUrl:"/cmaps/",standardFontDataUrl:"/standard_fonts/",externalLinkTarget:"_blank",loading:(0,o.jsx)(vn,{})},En=1280,On={};const jn=function(e){const t=(0,f.A)({props:e,name:An}),{className:n,pdfUrl:a,maxWidth:s=En}=t,i=(0,r.__rest)(t,["className","pdfUrl","maxWidth"]),[u,d]=(0,P.useState)(!0),[p,m]=(0,P.useState)(null),[y,h]=(0,P.useState)(),[b,v]=(0,P.useState)(null),[A,w]=(0,P.useState)(s),E=(0,c.A)(),O=(0,l.A)(E.breakpoints.down("md")),j=(0,g.X1)(),R=(0,P.useCallback)((e=>{const[t]=e;t&&w(t.contentRect.width)}),[]);function C({numPages:e}){h(e),d(!1)}!function(e,t,n){(0,P.useEffect)((()=>{if(!e||!("ResizeObserver"in window))return;const r=new ResizeObserver(n);return r.observe(e,t),()=>{r.disconnect()}}),[e,t,n])}(b,On,R);const T=(0,P.useCallback)((e=>(0,r.__awaiter)(this,void 0,void 0,(function*(){return(yield H.A.request({url:e,responseType:"blob"})).data}))),[j.user,j.session]);return(0,P.useEffect)((()=>{a&&T(a).then((e=>{const t=new Blob([e],{type:"application/pdf"}),n=URL.createObjectURL(t);m(n),d(!1)})).catch((e=>{$.V.error(M.d,e)}))}),[j.user,j.session]),(0,o.jsx)(Pn,Object.assign({className:x()(xn.root,n)},i,{children:(0,o.jsx)(S.A,Object.assign({className:xn.documentPdfWrapper,ref:v},{children:u||!a?(0,o.jsx)(S.A,Object.assign({className:xn.documentPdfPage},{children:(0,o.jsx)(vn,{maxWidth:s})})):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(Gt,Object.assign({onLoadSuccess:C,loading:(0,o.jsx)(vn,{}),file:p,className:xn.documentPdf,options:wn},{children:Array.from({length:y},((e,t)=>(0,o.jsx)(fn,{className:xn.documentPdfPage,pageNumber:t+1,width:A?Math.min(A,s):s,renderTextLayer:!1,scale:O?void 0:.7},`page_${t+1}`)))}))})}))}))},Sn="SCPdfPreviewDialog",Rn={root:`${Sn}-root`,content:`${Sn}-content`},Cn=(0,s.Ay)(O.A,{slot:"Root",name:Sn})((()=>({}))),Tn=P.forwardRef((function(e,t){return(0,o.jsx)(E.A,Object.assign({direction:"up",ref:t},e))})),_n=function(e){return(0,o.jsx)(P.Fragment,{children:e.children})};const kn=function(e){const t=(0,f.A)({props:e,name:Sn}),{className:n,title:a,pdfUrl:s,disableInitialTransition:i=!1,onClose:c,PdfPreviewComponentProps:l={}}=t,u=(0,r.__rest)(t,["className","title","pdfUrl","disableInitialTransition","onClose","PdfPreviewComponentProps"]),{isPaymentsEnabled:m}=(0,j.A)();return m?(0,o.jsxs)(Cn,Object.assign({fullScreen:!0,scroll:"paper",open:!0,maxWidth:"md"},i?{TransitionComponent:_n}:{TransitionComponent:Tn},{className:x()(Rn.root,n),TransitionComponent:Tn,DialogContentProps:{sx:{overflow:"hidden"}}},u,{children:[(0,o.jsx)(We,Object.assign({sx:{position:"fixed",top:0}},{children:(0,o.jsxs)(qe.A,{children:[(0,o.jsx)(p.A,Object.assign({variant:"h6",component:"div",sx:{flexGrow:1}},{children:a})),s&&(0,o.jsx)(ze.A,Object.assign({edge:"end",color:"inherit",onClick:()=>(0,r.__awaiter)(this,void 0,void 0,(function*(){try{const e=yield H.A.request({url:s,responseType:"blob"}),t=new Blob([e.data],{type:"application/pdf"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="order.pdf",r.click(),window.URL.revokeObjectURL(n)}catch(e){$.V.error(M.d,e)}})),"aria-label":"close"},{children:(0,o.jsx)(d.A,{children:"download"})})),(0,o.jsx)(ze.A,Object.assign({edge:"end",color:"inherit",onClick:c,"aria-label":"close",sx:{ml:2}},{children:(0,o.jsx)(d.A,{children:"close"})}))]})})),(0,o.jsx)(k.Ay,Object.assign({container:!0,className:Rn.content},{children:(0,o.jsx)(k.Ay,Object.assign({item:!0,xs:12,justifyContent:"center",alignContent:"center"},{children:(0,o.jsx)(jn,Object.assign({},l,{pdfUrl:s}))}))}))]})):null},Nn="SCPaymentOrderPdfButton",Ln={root:`${Nn}-root`},Dn=(0,s.Ay)(Z.A,{name:Nn,slot:"root"})((()=>({})));const In=function(e){const t=(0,f.A)({props:e,name:Nn}),{className:n,paymentOrderId:a,paymentOrder:s,handleClick:i,PdfPreviewDialogComponentProps:c={},label:l}=t,p=(0,r.__rest)(t,["className","paymentOrderId","paymentOrder","handleClick","PdfPreviewDialogComponentProps","label"]),[y,h]=(0,P.useState)(!1),b=(0,m.J_)(),v=(0,g.X1)(),{isPaymentsEnabled:A}=(0,j.A)(),{scPaymentOrder:E}=function({id:e=null,paymentOrder:t=null,cacheStrategy:n=q.So.NETWORK_ONLY}){const r=(0,P.useMemo)((()=>(null==t?void 0:t.id)||e),[t,e]),o=(0,g.X1)(),a=(0,P.useMemo)((()=>{var e;return(null===(e=o.user)||void 0===e?void 0:e.id)||null}),[o.user]),s=(0,P.useMemo)((()=>(0,K.X_)(r)),[r]),[i,c]=(0,P.useState)(n!==q.So.NETWORK_ONLY?q.Ay.get(s,t):null),[l,u]=(0,P.useState)(null),d=(0,P.useCallback)((e=>{c(e),q.Ay.set(s,e)}),[c,s]),p=(0,P.useMemo)((()=>e=>H.A.request({url:W.A.GetPaymentOrder.url({id:e}),method:W.A.GetPaymentOrder.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[]);return(0,P.useEffect)((()=>{null==e||t||p(e).then((e=>{d(e)})).catch((e=>{q.Ay.delete(s),$.V.error(J.K,e.message)}))}),[e,t,a]),(0,z.ho)((()=>{t&&d(t)}),[t,a]),{scPaymentOrder:i,setSCPaymentOrder:d,error:l}}({id:a,paymentOrder:s}),O=(0,P.useCallback)((()=>{h(!1)}),[y]),S=(0,P.useCallback)((e=>{i?i():y||h(!0)}),[y,i]);return v.user&&A&&E?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.A,Object.assign({title:E?(0,o.jsx)(w.A,{id:"ui.paymentOrder.ticket.view",defaultMessage:"ui.paymentOrder.ticket.view"}):(0,o.jsx)(w.A,{id:"ui.paymentOrderPdfButton.disabled",defaultMessage:"ui.paymentOrderPdfButton.disabled"})},{children:(0,o.jsx)(Dn,Object.assign({className:x()(Ln.root,n),variant:"contained",onClick:S},p,{children:l||(0,o.jsx)(d.A,{children:"picture_as_pdf"})}))})),y&&(0,o.jsx)(kn,Object.assign({open:!0,onClose:O},c,{pdfUrl:`${new URL(b.settings.portal)}${W.A.GetPaymentOrderPdf.url({id:E.id})}`}))]}):null},$n="SCBuyButton",Mn={requestRoot:`${$n}-request-root`,selectRoot:`${$n}-select-root`,drawerRoot:`${$n}-drawer-root`,menuRoot:`${$n}-menu-root`,paper:`${$n}-paper`,item:`${$n}-item`,going:`${$n}-going`,notGoing:`${$n}-not-going`},Bn=(0,s.Ay)(a.A,{name:$n,slot:"RequestRoot"})((()=>({}))),Fn=(0,s.Ay)(i.A,{name:$n,slot:"DrawerRoot"})((()=>({})));const Un=function(e){const t=(0,f.A)({props:e,name:$n}),{className:n,contentId:a,contentType:s,content:i,disabled:A,onPurchase:E,showTicket:O=!1,PaymentOrderPdfButtonComponentProps:j={},label:S}=t,R=(0,r.__rest)(t,["className","contentId","contentType","content","disabled","onPurchase","showTicket","PaymentOrderPdfButtonComponentProps","label"]),[C,T]=(0,P.useState)(!1),_=(0,m.J_)(),k=(0,g.X1)(),N=(0,c.A)(),L=(0,l.A)(N.breakpoints.down("md")),[D,I]=(0,P.useState)(null),[$,M]=(0,P.useState)([]),[B,F]=(0,P.useState)(null),[U,V]=(0,P.useState)(null!=S?S:(0,o.jsx)(w.A,{defaultMessage:`ui.buyButton.buy${s}`,id:`ui.buyButton.buy${(0,Te.ZH)(s)}`})),G=(0,P.useCallback)((()=>{T(!1)}),[C]),H=(0,P.useCallback)((e=>{C||(k.user?T(!0):_.settings.handleAnonymousAction())}),[k.user,C,_.settings]),W=(0,P.useCallback)((e=>{}),[B,D]);return(0,P.useEffect)((()=>{(a||i)&&s&&k.user?(()=>{switch(s){case y.AV.EVENT:je.s.getSpecificEventInfo(a||i.id).then((e=>{var t;k.user&&(null===(t=null==e?void 0:e.managed_by)||void 0===t?void 0:t.id)!==k.user.id&&(e.subscription_status===h.Yg.GOING&&V((0,o.jsx)(w.A,{defaultMessage:"ui.buyButton.purchased",id:"ui.buyButton.purchased"})),e.paywalls&&M(e.paywalls),e.payment_order&&F(e.payment_order),I(e.subscription_status===h.Yg.GOING))}));break;case y.AV.CATEGORY:Se.K.getSpecificCategory(a||i.id).then((e=>{(e.followed||e.payment_order)&&V((0,o.jsx)(w.A,{defaultMessage:"ui.buyButton.purchased",id:"ui.buyButton.purchased"})),e.paywalls&&M(e.paywalls),e.payment_order&&F(e.payment_order),I(Boolean(e.followed||e.payment_order))}));break;case y.AV.GROUP:Re.J.getSpecificGroupInfo(a||i.id).then((e=>{var t;k.user&&(null===(t=null==e?void 0:e.managed_by)||void 0===t?void 0:t.id)!==k.user.id&&(e.subscription_status===b.D.SUBSCRIBED&&V((0,o.jsx)(w.A,{defaultMessage:"ui.buyButton.subscribed",id:"ui.buyButton.subscribed"})),e.paywalls&&M(e.paywalls),e.payment_order&&F(e.payment_order),I(e.subscription_status===b.D.SUBSCRIBED))}));break;case y.AV.COURSE:Ce.H.getSpecificCourseInfo(a||i.id).then((e=>{var t;k.user&&(null===(t=null==e?void 0:e.created_by)||void 0===t?void 0:t.id)!==k.user.id&&(e.join_status===v.ac.JOINED&&V((0,o.jsx)(w.A,{defaultMessage:"ui.buyButton.purchased",id:"ui.buyButton.purchased"})),e.paywalls&&M(e.paywalls),e.payment_order&&F(e.payment_order),I(e.join_status===v.ac.JOINED||e.join_status===v.ac.MANAGER))}))}})():null===k.user&&I(!1)}),[a,i,s,k.user]),a||i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.A,Object.assign({title:A?(0,o.jsx)(w.A,{id:"ui.buyButton.disabled",defaultMessage:"ui.buyButton.disabled"}):""},{children:(0,o.jsx)(Bn,Object.assign({className:x()(Mn.requestRoot,n),variant:"contained",color:D?"inherit":"secondary",size:"small",startIcon:(0,o.jsx)(d.A,{children:"dredit-card"}),loading:void 0===k.user||null===D,onClick:H,disabled:A||!B&&D},R,{children:!B&&D?(0,o.jsx)(w.A,{id:"ui.buyButton.free",defaultMessage:"ui.buyButton.free"}):U}))})),B&&O&&(0,o.jsx)(In,Object.assign({},j,{paymentOrder:B})),C&&(0,o.jsx)(o.Fragment,{children:L?(0,o.jsx)(Fn,Object.assign({className:Mn.drawerRoot,PaperProps:{className:Mn.paper},open:!0,onClose:G,onOpen:H,anchor:"bottom",disableSwipeToOpen:!0},{children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.A,Object.assign({variant:"h5",component:"div",marginBottom:2},{children:(0,o.jsx)("b",{children:B?(0,o.jsx)(w.A,{id:"ui.paywallsDialog.title.purchased",defaultMessage:"ui.paywallsDialog.title.purchased"}):(0,o.jsx)(w.A,{id:"ui.paywallsDialog.title",defaultMessage:"ui.paywallsDialog.title"})})})),(0,o.jsx)(ve,Object.assign({contentType:s},i?{content:i}:{contentId:a},{prefetchedPaymentContentStatus:{paywalls:$,payment_order:B},onUpdatePaymentOrder:W}))]})})):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(Oe,{open:!0,onClose:G,PaywallsComponentProps:Object.assign(Object.assign({contentType:s},i?{content:i}:{contentId:a}),{prefetchedPaymentContentStatus:{paywalls:$,payment_order:B},onUpdatePaymentOrder:W})})})})]}):null}},44676:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(85486),o=n(59703),a=n(96540),s=n(54533),i=n(75659),c=n(25669),l=n(11848),u=n(38413),d=n(31609);function p(e){return(0,d.Ay)("MuiToolbar",e)}(0,u.A)("MuiToolbar",["root","gutters","regular","dense"]);var f=n(74848);const m=["className","component","disableGutters","variant"],g=(0,l.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,o.A)({position:"relative",display:"flex",alignItems:"center"},!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===t.variant&&{minHeight:48})),(({theme:e,ownerState:t})=>"regular"===t.variant&&e.mixins.toolbar)),y=a.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiToolbar"}),{className:a,component:l="div",disableGutters:u=!1,variant:d="regular"}=n,y=(0,r.A)(n,m),h=(0,o.A)({},n,{component:l,disableGutters:u,variant:d}),b=(e=>{const{classes:t,disableGutters:n,variant:r}=e,o={root:["root",!n&&"gutters",r]};return(0,i.A)(o,p,t)})(h);return(0,f.jsx)(g,(0,o.A)({as:l,className:(0,s.A)(b.root,a),ref:t,ownerState:h},y))}))},65846:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(96540),o=n(42269),a=n(13550),s=n(29368),i=n(28692),c=n(27375),l=n(94520),u=n(86354),d=n(62645),p=n(2877);function f({id:e=null,category:t=null,cacheStrategy:n=i.So.CACHE_FIRST}){const f=t?t.id:e,m=(0,p.X1)(),g=m.user?m.user.id:null,y=(0,u.fL)(f),h=g?t:(0,c.$i)(t,["followed"]),[b,v]=(0,r.useState)(n!==i.So.NETWORK_ONLY?i.Ay.get(y,h):null),[A,x]=(0,r.useState)(null),P=(0,r.useMemo)((()=>()=>a.A.request({url:s.A.Category.url({id:f}),method:s.A.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[f]),w=(0,r.useMemo)((()=>()=>{P().then((e=>{const t=g?e:(0,c.$i)(e,["followed"]);v(t),i.Ay.set(y,t)})).catch((t=>{i.Ay.delete(y),x(`Error on refresh category with id ${e}`),l.V.error(o.K,`Error on refresh category with id ${e}`),l.V.error(o.K,t.message)}))}),[f,v,y]);return(0,r.useEffect)((()=>{f&&(!b||b&&f!==b.id)&&P().then((e=>{const t=g?e:(0,c.$i)(e,["followed"]);v(t),i.Ay.set(y,t)})).catch((t=>{i.Ay.delete(y),x(`Category with id ${e} not found`),l.V.error(o.K,`Category with id ${e} not found`),l.V.error(o.K,t.message)}))}),[f]),(0,d.ho)((()=>{if(t){const e=g?t:(0,c.$i)(t,["followed"]);v(e),i.Ay.set(y,e)}}),[t]),{scCategory:b,setSCCategory:v,error:A,refreshCategory:w}}},67115:(e,t,n)=>{n.d(t,{A:()=>S});var r=n(31635),o=n(74848),a=n(96540),s=n(11848),i=n(28692),c=n(94520),l=n(45284),u=n(2877),d=n(75753),p=n(99042),f=n(65846),m=n(3338),g=n(90420),y=n(94844),h=n(15906),b=n(6279),v=n(58065),A=n(19546),x=n.n(A),P=n(66848),w=n(38441);const E="SCCategoryFollowButton",O={root:`${E}-root`},j=(0,s.Ay)(b.A,{name:E,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const S=function(e){var t;const n=(0,P.A)({props:e,name:E}),{className:s,categoryId:b,category:A,onFollow:S,disableBuyContentIfPaidContent:R,disabled:C}=n,T=(0,r.__rest)(n,["className","categoryId","category","onFollow","disableBuyContentIfPaidContent","disabled"]),_=(0,l.J_)(),k=(0,u.X1)(),N=k.managers.categories,L=k.user?k.user.id:null,{preferences:D}=(0,d.Sw)(),{isPaymentsEnabled:I}=(0,p.A)(),{scCategory:$}=(0,f.A)({id:b,category:A,cacheStrategy:L?i.So.CACHE_FIRST:i.So.STALE_WHILE_REVALIDATE}),[M,B]=(0,a.useState)(null),F=(0,a.useMemo)((()=>{var e;return C||$&&k.user&&I&&(null===(e=$.paywalls)||void 0===e?void 0:e.length)>0&&!$.payment_order}),[C,$,k.user,I]),U=(0,a.useMemo)((()=>m.DE in D&&D[m.DE].value),[D]);return(0,a.useEffect)((()=>{L&&B(N.isFollowed($))}),[L,N.isFollowed]),!$||!U||$&&M&&$.auto_follow===g.f.FORCED?null:k.user&&(N.isLoading($)||null===M)?(0,o.jsx)(j,Object.assign({size:"small",variant:"outlined",loading:!0,className:x()(O.root,s)},{children:(0,o.jsx)(v.A,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"})})):$&&k.user&&I&&(null===(t=$.paywalls)||void 0===t?void 0:t.length)>0&&!$.payment_order&&(!M||N.isLoading($))?(0,o.jsx)(w.A,{contentType:y.AV.CATEGORY,content:$,disabled:R}):(0,o.jsx)(j,Object.assign({size:"small",variant:"outlined",onClick:()=>{k.user?N.follow($).then((()=>{S&&S($,!M)})).catch((e=>{c.V.error(h.d,e)})):_.settings.handleAnonymousAction()},loading:k.user?N.isLoading($):null,className:x()(O.root,s),disabled:F},T,{children:M&&k.user?(0,o.jsx)(v.A,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):(0,o.jsx)(v.A,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"})}))}},82569:(e,t,n)=>{e.exports=n.p+"163aea40fdd543e5.js"},90420:(e,t,n)=>{var r;n.d(t,{f:()=>r}),function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(r||(r={}))}}]);