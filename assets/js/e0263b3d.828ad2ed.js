"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[56043],{92991:(e,t,s)=>{s.d(t,{Z:()=>g});var n=s(67294),o=s(27331),i=s(5730);function r(e,t){void 0===e&&(e=""),void 0===t&&(t={});const s=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:s})}function a(){if((0,i.Z)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:o.r.user.client_id,grant_type:"refresh_token"};return r(`${o.r.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function c(){const e=(0,i.Z)(),[t,s]=(0,n.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,n.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?r(`${o.r.portal}/oauth/token/`,o.r.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{s(e)})):e&&s(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,n.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var u=s(62254),l=s(38733),d=s(19666),b=s(85893);function g(e){let{children:t}=e;const s=c(),n={portal:o.r.portal,locale:{default:"en"},session:{type:"OAuth",clientId:o.r.user.client_id,authToken:s,handleRefreshToken:a},theme:l.ZP,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,b.jsx)(d.Z,{children:()=>(0,b.jsx)(u.ZP,{conf:n,children:t})})}},27331:(e,t,s)=>{s.d(t,{r:()=>n});const n={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://api.fashionista.community"}},10067:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>de,contentTitle:()=>ue,default:()=>me,frontMatter:()=>ce,metadata:()=>le,toc:()=>be});var n=s(85893),o=s(11151),i=s(92991),r=s(97582),a=s(67294),c=s(90948),u=s(2734),l=s(37292),d=s(44267),b=s(94253),g=s(15861),m=s(93946),h=s(67564),p=s(14564),j=s(78462),f=s(97212),x=s(25662),I=s(91705),Z=s(24085),S=s(66821);class k{static getAllIncubators(e,t){const s=(0,S.B)(e);return(0,I.N)(Object.assign(Object.assign({},t),{url:`${Z.Z.GetAllIncubators.url({})}?${s.toString()}`,method:Z.Z.GetAllIncubators.method}))}static searchIncubators(e,t){const s=(0,S.B)(e);return(0,I.N)(Object.assign(Object.assign({},t),{url:`${Z.Z.SearchIncubators.url({})}?${s.toString()}`,method:Z.Z.SearchIncubators.method}))}static getSpecificIncubator(e,t){return(0,I.N)(Object.assign(Object.assign({},t),{url:Z.Z.GetASpecificIncubator.url({id:e}),method:Z.Z.GetASpecificIncubator.method}))}static createIncubator(e,t){return(0,I.N)(Object.assign(Object.assign({},t),{url:Z.Z.CreateAnIncubator.url({}),method:Z.Z.CreateAnIncubator.method,data:e}))}static getIncubatorSubscribers(e,t){return(0,I.N)(Object.assign(Object.assign({},t),{url:Z.Z.GetIncubatorSubscribers.url({id:e}),method:Z.Z.GetIncubatorSubscribers.method}))}static subscribeToIncubator(e,t){return(0,I.N)(Object.assign(Object.assign({},t),{url:Z.Z.SubscribeToIncubator.url({id:e}),method:Z.Z.SubscribeToIncubator.method}))}static checkIncubatorSubscription(e,t){return(0,I.N)(Object.assign(Object.assign({},t),{url:Z.Z.CheckIncubatorSubscription.url({id:e}),method:Z.Z.CheckIncubatorSubscription.method}))}}class v{static getAllIncubators(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return k.getAllIncubators(e,t)}))}static searchIncubators(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return k.searchIncubators(e,t)}))}static getSpecificIncubator(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return k.getSpecificIncubator(e,t)}))}static createIncubator(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return k.createIncubator(e,t)}))}static getIncubatorSubscribers(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return k.getIncubatorSubscribers(e,t)}))}static subscribeToIncubator(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return k.subscribeToIncubator(e,t)}))}static checkIncubatorSubscription(e,t){return(0,r.mG)(this,void 0,void 0,(function*(){return k.checkIncubatorSubscription(e,t)}))}}var L=s(24243),C=s(59219),N=s(99960),O=s(61137),y=s(63902);const _="SCIncubatorListWidget",T={root:`${_}-skeleton-root`,list:`${_}-list`},w=(0,c.ZP)(y.Z,{name:_,slot:"SkeletonRoot"})((()=>({})));function A(e){return(0,n.jsx)(w,Object.assign({className:T.root},e,{children:(0,n.jsx)(d.Z,{children:(0,n.jsx)(j.Z,Object.assign({className:T.list},{children:[...Array(4)].map(((e,t)=>(0,n.jsx)(O.Z,{elevation:0},t)))}))})}))}var M=s(75459),D=s(44012),P=s(20819),W=s.n(P),E=s(39154),$=s(79558),R=s(94586),G=s(29360),B=s(54490),U=s(86896),K=s(53457),z=s(61903),X=s(22607),F=s(96828);const J=(0,B.vU)({name:{id:"ui.incubatorListWidget.createIncubatorDialog.formPlaceholder.name",defaultMessage:"ui.incubatorListWidget.createIncubatorDialog.formPlaceholder.name"},slogan:{id:"ui.incubatorListWidget.createIncubatorDialog.formPlaceholder.slogan",defaultMessage:"ui.incubatorListWidget.createIncubatorDialog.formPlaceholder.slogan"}}),q={root:`${_}-create-dialog-root`,form:`${_}-form`,name:`${_}-name`,slogan:`${_}-slogan`,intro:`${_}-intro`,submittedMessage:`${_}-submitted-message`},H=(0,c.ZP)(E.Z,{name:_,slot:"CreateDialogRoot"})((()=>({})));const Y=function(e){const{className:t,open:s,onClose:o}=e,i=(0,r._T)(e,["className","open","onClose"]),c=(0,X.LD)(),u=(0,U.Z)(),[l,d]=(0,a.useState)(""),[b,m]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),[j,f]=(0,a.useState)(!1),[x,I]=(0,a.useState)(""),S=e=>{e.preventDefault(),p(!0),L.Z.request({url:Z.Z.CreateAnIncubator.url(),method:Z.Z.CreateAnIncubator.method,data:{name:l,slogan:b}}).then((e=>{p(!1),f(!0)})).catch((e=>{I(e),p(!1),N.Y.error(M.J,e)}))};if(!c.user)return null;let k;return k=j?(0,n.jsx)(g.Z,Object.assign({variant:"subtitle2",className:q.submittedMessage},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.createIncubatorDialog.propose.success",defaultMessage:"ui.incubatorListWidget.createIncubatorDialog.propose.success"})})):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,Object.assign({component:"span",className:q.intro},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorsListDialog.createIncubatorDialog.intro",defaultMessage:"ui.incubatorsListDialog.createIncubatorDialog.intro"})})),(0,n.jsxs)(K.Z,Object.assign({className:q.form},{children:[(0,n.jsx)(z.Z,{required:!0,error:Boolean(x),className:q.name,placeholder:`${u.formatMessage(J.name)}`,margin:"normal",value:l,onChange:e=>d(e.target.value)}),(0,n.jsx)(z.Z,{multiline:!0,error:Boolean(x),className:q.slogan,placeholder:`${u.formatMessage(J.slogan)}`,margin:"normal",value:b,onChange:e=>m(e.target.value)})]})),(0,n.jsx)(F.Z,Object.assign({loading:h,disabled:!l||Boolean(x),variant:"contained",onClick:S},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.createIncubatorDialog.button",defaultMessage:"ui.incubatorListWidget.createIncubatorDialog.button"})}))]}),(0,n.jsx)(H,Object.assign({title:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.createIncubatorDialog.title",defaultMessage:"ui.incubatorListWidget.createIncubatorDialog.title"}),open:s,onClose:o,className:W()(q.root,t)},i,{children:k}))};var Q=s(82213),V=s(15927),ee=s(8860),te=s(12918),se=s(69721),ne=s(54545);const oe={root:`${_}-root`,header:`${_}-header`,title:`${_}-title`,noResults:`${_}-no-results`,showMore:`${_}-show-more`,actions:`${_}-actions`,helpPopover:`${_}-help-popover`,dialogRoot:`${_}-dialog-root`,endMessage:`${_}-end-message`,createDialog:`${_}-create-dialog`},ie=(0,c.ZP)(y.Z,{name:_,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),re=(0,c.ZP)(E.Z,{name:_,slot:"DialogRoot"})((({theme:e})=>({})));const ae=function(e){const t=(0,G.Z)({props:e,name:_}),{autoHide:s=!0,limit:o=3,className:i,IncubatorProps:c={},cacheStrategy:I=C.n2.CACHE_FIRST,onHeightChange:S,onStateChange:k,DialogProps:y={}}=t,T=(0,r._T)(t,["autoHide","limit","className","IncubatorProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),w=(0,a.useContext)(X.K8),P=(0,a.useContext)(ee.Tt),E=te.Ao in P.preferences&&P.preferences[te.Ao].value,[B,U]=(0,a.useReducer)(V.Xi,{isLoadingNext:!1,next:null,cacheKey:se.hu(se.wp),cacheStrategy:I,visibleItems:o},V.Mv),[K,z]=(0,a.useState)(!1),[F,J]=(0,a.useState)(!1),[q,H]=(0,a.useState)(!1),[ae,ce]=a.useState(null),ue=Boolean(ae),[le,de]=(0,a.useState)(null),be=(0,u.Z)(),ge=(0,l.Z)(be.breakpoints.down("md")),me=(0,a.useMemo)((()=>()=>{B.initialized||B.isLoadingNext||(U({type:V.dK.LOADING_NEXT}),v.getAllIncubators({limit:o}).then((e=>{U({type:V.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{U({type:V.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(M.J,e)})))}),[B.isLoadingNext,B.initialized,o,U]);(0,a.useEffect)((()=>{let e;if(void 0!==w.user)return e=setTimeout(me),()=>{e&&clearTimeout(e)}}),[w.user]),(0,a.useEffect)((()=>{K&&B.next&&B.initialized&&B.results.length===o&&(U({type:V.dK.LOADING_NEXT}),v.getAllIncubators({offset:o,limit:10}).then((e=>{U({type:V.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{U({type:V.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(M.J,e)})))}),[K,B.next,B.initialized,B.results.length,o]),(0,a.useEffect)((()=>{S&&S()}),[B.results]),(0,a.useEffect)((()=>{(E||w.user)&&I===C.n2.NETWORK_ONLY&&k&&k({cacheStrategy:C.n2.CACHE_FIRST})}),[E,w.user]);const he=(0,a.useMemo)((()=>()=>{ce(null)}),[ce]),pe=(0,a.useMemo)((()=>()=>{J(!1)}),[J]),je=(0,a.useMemo)((()=>e=>{H(!0),z(!1),de(e)}),[H,z,de]),fe=(0,a.useMemo)((()=>()=>{H(!1)}),[H]),xe=(0,a.useMemo)((()=>()=>{z((e=>!e))}),[z]),Ie=e=>{const t=[...B.results],s=t.findIndex((t=>t.id===e.id));-1!==s&&(e.subscribed?(t[s].subscribers_count=e.subscribers_count-1,t[s].subscribed=!e.subscribed):(t[s].subscribers_count=e.subscribers_count+1,t[s].subscribed=!e.subscribed),U({type:V.dK.SET_RESULTS,payload:{results:t}}))},Ze=(0,a.useMemo)((()=>()=>{U({type:V.dK.LOADING_NEXT}),L.Z.request({url:B.next,method:Z.Z.GetAllIncubators.method}).then((e=>{U({type:V.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[U,B.next,B.isLoadingNext,B.initialized]);if(!E&&!w.user||B.initialized&&s&&!B.count)return(0,n.jsx)(ne.Z,{});if(!B.initialized)return(0,n.jsx)(A,{});const Se=(0,n.jsxs)(d.Z,{children:[(0,n.jsxs)(b.Z,Object.assign({className:oe.header},{children:[(0,n.jsx)(g.Z,Object.assign({className:oe.title,variant:"h5"},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.title",defaultMessage:"ui.incubatorListWidget.title"})})),(0,n.jsx)(m.Z,Object.assign({className:oe.helpPopover,color:"primary","aria-label":"info",component:"span",onClick:e=>{ce(e.currentTarget)}},{children:(0,n.jsx)(h.Z,{children:"help_outline"})})),ue&&(0,n.jsx)(p.ZP,Object.assign({open:ue,anchorEl:ae,onClose:he,anchorOrigin:{vertical:"bottom",horizontal:"right"}},{children:(0,n.jsx)(b.Z,Object.assign({sx:{p:"10px"}},{children:(0,n.jsx)(g.Z,Object.assign({component:"span",sx:{whiteSpace:"pre-line"}},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.popover",defaultMessage:"ui.incubatorListWidget.popover"})}))}))}))]})),B.count?(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)(j.Z,{children:B.results.slice(0,B.visibleItems).map((e=>(0,n.jsx)(f.ZP,{children:(0,n.jsx)(R.Z,Object.assign({elevation:0,incubator:e,subscribeButtonProps:{onSubscribe:Ie},ButtonProps:{onClick:()=>je(e)}},c))},e.id)))}),(0,n.jsxs)(b.Z,Object.assign({className:oe.actions},{children:[B.count>B.visibleItems&&(0,n.jsx)(x.Z,Object.assign({className:oe.showMore,onClick:xe},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.ShowAll",defaultMessage:"ui.incubatorListWidget.ShowAll"})})),(0,n.jsx)(x.Z,Object.assign({size:"small",onClick:()=>J(!0)},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.SuggestNewTopic",defaultMessage:"ui.incubatorListWidget.SuggestNewTopic"})}))]}))]}):(0,n.jsx)(g.Z,Object.assign({className:oe.noResults,variant:"body2"},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.noResults",defaultMessage:"ui.incubatorListWidget.noResults"})})),K&&(0,n.jsx)(re,Object.assign({className:oe.dialogRoot,title:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.title",defaultMessage:"ui.incubatorListWidget.title"}),onClose:xe,open:K},y,{children:(0,n.jsx)($.Z,Object.assign({dataLength:B.results.length,next:Ze,hasMoreNext:Boolean(B.next),loaderNext:(0,n.jsx)(O.Z,Object.assign({elevation:0},c)),height:ge?"100vh":400,endMessage:(0,n.jsx)(g.Z,Object.assign({className:oe.endMessage},{children:(0,n.jsx)(D.Z,{id:"ui.incubatorListWidget.noMoreIncubators",defaultMessage:"ui.incubatorListWidget.noMoreIncubators"})}))},{children:(0,n.jsx)(j.Z,{children:B.results.map((e=>(0,n.jsx)(f.ZP,{children:(0,n.jsx)(R.Z,Object.assign({elevation:0,incubator:e,subscribeButtonProps:{onSubscribe:Ie},ButtonProps:{onClick:()=>je(e)}},c))},e.id)))})}))})),F&&(0,n.jsx)(Y,{className:oe.createDialog,open:F,onClose:pe}),q&&(0,n.jsx)(Q.Z,{open:q,onClose:fe,incubator:le,onSubscriptionsUpdate:Ie})]});return(0,n.jsx)(ie,Object.assign({className:W()(oe.root,i)},T,{children:Se}))},ce={sidebar_label:"Incubators List",sidebar_position:1,title:"Incubators List"},ue=void 0,le={id:"sdk/community-js/react-ui/Components/IncubatorsList",title:"Incubators List",description:"The Incubators List component renders a list of incubators.",source:"@site/docs/sdk/community-js/react-ui/Components/IncubatorsList.mdx",sourceDirName:"sdk/community-js/react-ui/Components",slug:"/sdk/community-js/react-ui/Components/IncubatorsList",permalink:"/docs/sdk/community-js/react-ui/Components/IncubatorsList",draft:!1,unlisted:!1,editUrl:"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/IncubatorsList.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Incubators List",sidebar_position:1,title:"Incubators List"},sidebar:"sdkSidebar",previous:{title:"Incubator Suggestion",permalink:"/docs/sdk/community-js/react-ui/Components/IncubatorSuggestion"},next:{title:"Inline Composer",permalink:"/docs/sdk/community-js/react-ui/Components/InlineComposer"}},de={},be=[{value:"Usage",id:"usage",level:4}];function ge(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["The Incubators List component renders a list of incubators.",(0,n.jsx)("br",{}),"\nThis list is composed of items containing incubator's title, info, a subscription status bar and a subscribe button that allows users to subscribe/unsubscribe to an incubator.",(0,n.jsx)("br",{}),"\nBy clicking the incubator title it is possible to open a modal card showing the incubators details and a section where it is possible to share the item on social networks.",(0,n.jsx)("br",{}),'\nThe incubators are shown in an orderly manner: few items are shown in the main card while the others can be displayed in a modal card by clicking on the "show all" button.\nAt the card bottom there is also a "suggest a new topic" button that opens a modal composed of a form that allows users to propose a new interests.']}),"\n"]}),"\n","\n","\n",(0,n.jsx)(i.Z,{children:(0,n.jsx)(ae,{})}),"\n",(0,n.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {IncubatorListWidget} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><IncubatorListWidget /></SCContextProvider>\n   );\n }\n"})})]})}function me(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(ge,{...e})}):ge(e)}}}]);