"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[30642],{31924:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(97582),s=o(91705),n=o(24085),r=o(66821);class l{static getCategorySuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.CategoriesSuggestion.url({}),method:n.Z.CategoriesSuggestion.method,params:e}))}static getIncubatorSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.GetIncubatorSuggestion.url({}),method:n.Z.GetIncubatorSuggestion.method,params:e}))}static getPollSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.PollSuggestion.url({}),method:n.Z.PollSuggestion.method,params:e}))}static getUserSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.UserSuggestion.url({}),method:n.Z.UserSuggestion.method,params:e}))}static getSearchSuggestion(e,t,o){const a=(0,r.B)({search:e});return(0,s.N)(Object.assign(Object.assign({},o),{url:`${n.Z.SearchSuggestion.url({})}?${a.toString()}`,method:n.Z.UserSuggestion.method,params:t}))}}class i{static getCategorySuggestion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return l.getCategorySuggestion(e,t)}))}static getIncubatorSuggestion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return l.getIncubatorSuggestion(e,t)}))}static getPollSuggestion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return l.getPollSuggestion(e,t)}))}static getUserSuggestion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return l.getUserSuggestion(e,t)}))}static getSearchSuggestion(e,t,o){return(0,a.mG)(this,void 0,void 0,(function*(){return l.getSearchSuggestion(e,t,o)}))}}},98365:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(67294),s=o(74482),n=o(24243),r=o(24085),l=o(59219),i=o(96570),c=o(99960),u=o(69721),g=o(87620),d=o(13391);function m({id:e=null,category:t=null,cacheStrategy:o=l.n2.CACHE_FIRST}){const m=t?t.id:e,y=(0,d.LD)(),E=y.user?y.user.id:null,S=(0,u.u5)(m),h=E?t:(0,i.Kd)(t,["followed"]),[Z,p]=(0,a.useState)(o!==l.n2.NETWORK_ONLY?l.ZP.get(S,h):null),[_,N]=(0,a.useState)(null),O=(0,a.useMemo)((()=>()=>n.Z.request({url:r.Z.Category.url({id:m}),method:r.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[m]);return(0,a.useEffect)((()=>{m&&(!Z||Z&&m!==Z.id)&&O().then((e=>{const t=E?e:(0,i.Kd)(e,["followed"]);p(t),l.ZP.set(S,t)})).catch((t=>{l.ZP.delete(S),N(`Category with id ${e} not found`),c.Y.error(s.h,`Category with id ${e} not found`),c.Y.error(s.h,t.message)}))}),[m]),(0,g.F_)((()=>{if(t){const e=E?t:(0,i.Kd)(t,["followed"]);p(e),l.ZP.set(S,e)}}),[t]),{scCategory:Z,setSCCategory:p,error:_}}},95475:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(67294),s=o(78462),n=o(90948),r=o(74808),l=o(63902),i=o(44267),c=o(97212),u=o(3928);const g={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},d=(0,n.ZP)(l.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return a.createElement(d,Object.assign({className:g.root},e),a.createElement(i.Z,null,a.createElement(s.Z,{className:g.list},[...Array(4)].map(((e,t)=>a.createElement(c.ZP,{key:t},a.createElement(r.Z,{elevation:0})))))))}},3928:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCCategoriesSuggestionWidget"},30642:(e,t,o)=>{o.d(t,{Z:()=>x});var a=o(97582),s=o(67294),n=o(90948),r=o(2734),l=o(37292),i=o(44267),c=o(15861),u=o(78462),g=o(97212),d=o(25662),m=o(31924),y=o(24243),E=o(24085),S=o(13391),h=o(69721),Z=o(95475),p=o(42623),_=o(74808),N=o(44012),O=o(94184),f=o.n(O),b=o(63902),v=o(29360),w=o(54545),L=o(59219),C=o(99960),I=o(15927),B=o(39154),P=o(75459),R=o(79558),T=o(3928);const j={root:`${T.B}-root`,title:`${T.B}-title`,noResults:`${T.B}-no-results`,showMore:`${T.B}-show-more`,dialogRoot:`${T.B}-dialog-root`,endMessage:`${T.B}-end-message`},F=(0,n.ZP)(b.Z,{name:T.B,slot:"Root"})((()=>({}))),A=(0,n.ZP)(B.Z,{name:T.B,slot:"DialogRoot"})((()=>({})));const x=function(e){const t=(0,v.Z)({props:e,name:T.B}),{autoHide:o=!0,limit:n=3,className:O,CategoryProps:b={},cacheStrategy:B=L.n2.NETWORK_ONLY,onHeightChange:x,onStateChange:D,DialogProps:M={},categoryId:U}=t,$=(0,a._T)(t,["autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","categoryId"]),K=(0,S.LD)(),[k,z]=(0,s.useReducer)(I.Xi,{isLoadingNext:!1,next:null,cacheKey:h.hu(h.DC),cacheStrategy:B,visibleItems:n},I.Mv),[W,X]=(0,s.useState)(!1),G=(0,r.Z)(),H=(0,l.Z)(G.breakpoints.down("md")),Y=(0,s.useMemo)((()=>()=>{k.initialized||k.isLoadingNext||(z({type:I.dK.LOADING_NEXT}),m.Z.getCategorySuggestion({limit:n}).then((e=>{z({type:I.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{z({type:I.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),C.Y.error(P.J,e)})))}),[k.isLoadingNext,k.initialized,n,z]);(0,s.useEffect)((()=>{let e;if(K.user)return e=setTimeout(Y),()=>{e&&clearTimeout(e)}}),[K.user]),(0,s.useEffect)((()=>{W&&k.next&&k.results.length<=n&&k.initialized&&(z({type:I.dK.LOADING_NEXT}),m.Z.getCategorySuggestion({offset:n,limit:10}).then((e=>{z({type:I.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{z({type:I.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),C.Y.error(P.J,e)})))}),[W,k.next,k.results.length,k.initialized,n]),(0,s.useEffect)((()=>{x&&x()}),[k.results]),(0,s.useEffect)((()=>{K.user&&B===L.n2.NETWORK_ONLY&&D&&D({cacheStrategy:L.n2.CACHE_FIRST})}),[K.user]);const V=(0,s.useMemo)((()=>e=>{const t=[...k.results],o=t.findIndex((t=>t.id===e.id));-1!==o&&(e.followed?(t[o].followers_counter=e.followers_counter-1,t[o].followed=!e.followed):(t[o].followers_counter=e.followers_counter+1,t[o].followed=!e.followed),z({type:I.dK.SET_RESULTS,payload:{results:t}}))}),[z,k.count,k.results]),q=(0,s.useMemo)((()=>()=>{z({type:I.dK.LOADING_NEXT}),y.Z.request({url:k.next,method:E.Z.CategoriesSuggestion.method}).then((e=>{z({type:I.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[z,k.next,k.isLoadingNext,k.initialized]),J=()=>{X((e=>!e))};if(o&&!k.count&&k.initialized||!K.user)return s.createElement(w.Z,null);if(!k.initialized)return s.createElement(Z.Z,null);const Q=s.createElement(i.Z,null,s.createElement(c.Z,{className:j.title,variant:"h5"},s.createElement(N.Z,{id:"ui.categoriesSuggestionWidget.title",defaultMessage:"ui.categoriesSuggestionWidget.title"})),k.count?s.createElement(s.Fragment,null,s.createElement(u.Z,null,k.results.slice(0,k.visibleItems).map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(p.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:V}},b)))))),k.count>k.visibleItems&&s.createElement(d.Z,{className:j.showMore,onClick:J},s.createElement(N.Z,{id:"ui.categoriesSuggestionWidget.button.showAll",defaultMessage:"ui.categoriesSuggestionWidget.button.showAll"}))):s.createElement(c.Z,{className:j.noResults,variant:"body2"},s.createElement(N.Z,{id:"ui.categoriesSuggestionWidget.noResults",defaultMessage:"ui.categoriesSuggestionWidget.noResults"})),W&&s.createElement(A,Object.assign({className:j.dialogRoot,title:s.createElement(N.Z,{defaultMessage:"ui.categoriesSuggestionWidget.title",id:"ui.categoriesSuggestionWidget.title"}),onClose:J,open:W},M),s.createElement(R.Z,{dataLength:k.results.length,next:q,hasMoreNext:Boolean(k.next),loaderNext:s.createElement(_.Z,Object.assign({elevation:0},b)),height:H?"100%":400,endMessage:s.createElement(c.Z,{className:j.endMessage},s.createElement(N.Z,{id:"ui.categoriesSuggestionWidget.noMoreResults",defaultMessage:"ui.categoriesSuggestionWidget.noMoreResults"}))},s.createElement(u.Z,null,k.results.map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(p.Z,Object.assign({elevation:0,category:e},b,{categoryFollowButtonProps:{onFollow:V}})))))))));return s.createElement(F,Object.assign({className:f()(j.root,O)},$),Q)}},74808:(e,t,o)=>{o.d(t,{Z:()=>d});var a=o(67294),s=o(90948),n=o(88078),r=o(2734),l=o(25662),i=o(115),c=o(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},g=(0,s.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function d(e){const t=(0,r.Z)();return a.createElement(g,Object.assign({className:u.root},e,{image:a.createElement(n.Z,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:a.createElement(n.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:a.createElement(n.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:a.createElement(l.Z,{size:"small",variant:"outlined",disabled:!0,className:u.button},a.createElement(n.Z,{animation:"wave",height:10,width:50,className:u.action}))}))}},40092:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCCategory"},42623:(e,t,o)=>{o.d(t,{Z:()=>w});var a=o(97582),s=o(67294),n=o(90948),r=o(87952),l=o(34386),i=o(15861),c=o(41538),u=o(98365),g=o(97265),d=o(12132),m=o(29409),y=o(74808),E=o(28145),S=o(54490),h=o(86896),Z=o(94184),p=o.n(Z),_=o(29360),N=o(75427),O=o(40092);const f=(0,S.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),b={root:`${O.B}-root`,categoryImage:`${O.B}-category-image`,primary:`${O.B}-primary`,secondary:`${O.B}-secondary`,title:`${O.B}-title`,followed:`${O.B}-followed`,autoFollowed:`${O.B}-auto-followed`,actions:`${O.B}-actions`},v=(0,n.ZP)(N.Z,{name:O.B,slot:"Root"})((()=>({})));const w=function(e){const t=(0,_.Z)({props:e,name:O.B}),{categoryId:o=null,category:n=null,className:S=null,elevation:Z,autoHide:N=!1,categoryFollowButtonProps:w={},showFollowers:L=!0,showTooltip:C=!1,ButtonBaseProps:I=null}=t,B=(0,a._T)(t,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","showTooltip","ButtonBaseProps"]),P=(0,c.sy)(),{scCategory:R,setSCCategory:T}=(0,u.Z)({id:o,category:n}),j=(0,s.useMemo)((()=>I||{component:g.Z,to:P.url(d.CATEGORY_ROUTE_NAME,R)}),[I,P,R]),F=(0,h.Z)();return R?N?null:s.createElement(v,Object.assign({disableTypography:C,elevation:Z,className:p()(b.root,S,{[b.followed]:R.followed},{[b.autoFollowed]:R.auto_follow===m.i.FORCED}),ButtonBaseProps:j,image:s.createElement(r.Z,{alt:R.name,src:R.image_medium,variant:"square",className:b.categoryImage}),primary:s.createElement(s.Fragment,null,C?s.createElement(l.Z,{title:R.name},s.createElement(i.Z,{className:b.primary,component:"span",variant:"body1"},R.name)):R.name),secondary:s.createElement(s.Fragment,null,C?s.createElement(i.Z,{className:b.secondary,component:"p",variant:"body2"},L?`${F.formatMessage(f.categoryFollowers,{total:R.followers_counter})}`:R.slogan):s.createElement(s.Fragment,null,L?`${F.formatMessage(f.categoryFollowers,{total:R.followers_counter})}`:R.slogan)),actions:s.createElement(E.Z,Object.assign({category:R},w))},B)):s.createElement(y.Z,{elevation:Z})}},28145:(e,t,o)=>{o.d(t,{Z:()=>N});var a=o(97582),s=o(67294),n=o(90948),r=o(59219),l=o(99960),i=o(76171),c=o(13391),u=o(98365),g=o(75459),d=o(66090),m=o(44012),y=o(94184),E=o.n(y),S=o(29360),h=o(29409);const Z="SCCategoryFollowButton",p={root:`${Z}-root`},_=(0,n.ZP)(d.Z,{name:Z,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const N=function(e){const t=(0,S.Z)({props:e,name:Z}),{className:o,categoryId:n,category:d,onFollow:y}=t,N=(0,a._T)(t,["className","categoryId","category","onFollow"]),O=(0,i.RM)(),f=(0,c.LD)(),b=f.managers.categories,v=f.user?f.user.id:null,{scCategory:w,setSCCategory:L}=(0,u.Z)({id:n,category:d,cacheStrategy:v?r.n2.CACHE_FIRST:r.n2.STALE_WHILE_REVALIDATE}),[C,I]=(0,s.useState)(null);return(0,s.useEffect)((()=>{v&&I(b.isFollowed(w))}),[v,b.isFollowed]),!w||w&&C&&w.auto_follow===h.i.FORCED?null:s.createElement(_,Object.assign({size:"small",variant:"outlined",onClick:()=>{f.user?b.follow(w).then((()=>{y&&y(w,!C)})).catch((e=>{l.Y.error(g.J,e)})):O.settings.handleAnonymousAction()},loading:f.user?null===C||b.isLoading(w):null,className:E()(p.root,o)},N),C&&f.user?s.createElement(m.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):s.createElement(m.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},15927:(e,t,o)=>{o.d(t,{Mv:()=>r,Xi:()=>n,dK:()=>s});var a=o(59219);const s={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function n(e,t){var o;let n=Object.assign({},e);switch(t.type){case s.LOADING_NEXT:n=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case s.LOADING_PREVIOUS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case s.LOAD_NEXT_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(o=t.payload)||void 0===o?void 0:o.initialized)||!0});break;case s.LOAD_PREVIOUS_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case s.SET_RESULTS:n=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case s.SET_VISIBLE_ITEMS:n=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case s.LOAD_NEXT_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case s.LOAD_PREVIOUS_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case s.RESET:n={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return a.ZP.set(n.cacheKey,n),n}function r(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&a.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==a.n2.NETWORK_ONLY){const e=a.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},29409:(e,t,o)=>{var a;o.d(t,{i:()=>a}),function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(a||(a={}))}}]);