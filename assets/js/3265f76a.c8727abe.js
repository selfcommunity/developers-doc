(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[11341],{1935:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(74705).A},9063:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var o=s(74848);const a=(0,s(11848).Ay)("div",{name:"SCHiddenPlaceholder",slot:"Root",overridesResolver:(e,t)=>[t.root]})((()=>({height:1,width:"100%",display:"none"})));function n(e){return(0,o.jsx)(a,Object.assign({},e))}},13004:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var o=s(96540),a=s(45384),n=s(46916);function r(e,t){void 0===e&&(e=""),void 0===t&&(t={});const s=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:s})}function i(){if((0,n.A)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:a.F.user.client_id,grant_type:"refresh_token"};return r(`${a.F.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function l(){const e=(0,n.A)(),[t,s]=(0,o.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,o.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?r(`${a.F.portal}/oauth/token/`,a.F.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{s(e)})):e&&s(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,o.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var c=s(45284),d=s(15227),u=s(7351),g=s(74848);function m(e){let{children:t}=e;const s=l(),o={portal:a.F.portal,locale:{default:"en"},session:{type:"OAuth",clientId:a.F.user.client_id,authToken:s,handleRefreshToken:i},theme:d.Ay,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,g.jsx)(u.A,{children:()=>(0,g.jsx)(c.Ay,{conf:o,children:t})})}},15327:(e,t,s)=>{"use strict";var o;s.d(t,{A:()=>u});var a=s(96540),n=s(21529),r=s(37340),i=s(53951);function l(e,t,s,o,r){const[i,l]=a.useState((()=>r&&s?s(e).matches:o?o(e).matches:t));return(0,n.A)((()=>{let t=!0;if(!s)return;const o=s(e),a=()=>{t&&l(o.matches)};return a(),o.addListener(a),()=>{t=!1,o.removeListener(a)}}),[e,s]),i}const c=(o||(o=s.t(a,2))).useSyncExternalStore;function d(e,t,s,o,n){const r=a.useCallback((()=>t),[t]),i=a.useMemo((()=>{if(n&&s)return()=>s(e).matches;if(null!==o){const{matches:t}=o(e);return()=>t}return r}),[r,e,o,n,s]),[l,d]=a.useMemo((()=>{if(null===s)return[r,()=>()=>{}];const t=s(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[r,s,e]);return c(d,l,i)}function u(e,t={}){const s=(0,i.A)(),o="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:a=!1,matchMedia:n=(o?window.matchMedia:null),ssrMatchMedia:u=null,noSsr:g=!1}=(0,r.A)({name:"MuiUseMediaQuery",props:t,theme:s});let m="function"==typeof e?e(s):e;m=m.replace(/^@media( ?)/m,"");return(void 0!==c?d:l)(m,a,n,u,g)}},21810:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var o=s(74848),a=s(44806),n=s(86857),r=s(11848),i=s(25292),l=s(28820),c=s(36870),d=s(29440);const u={root:`${d.H}-skeleton-root`,list:`${d.H}-list`},g=(0,r.Ay)(n.A,{name:d.H,slot:"SkeletonRoot"})((()=>({})));function m(e){return(0,o.jsx)(g,Object.assign({className:u.root},e,{children:(0,o.jsx)(i.A,{children:(0,o.jsx)(l.A,Object.assign({className:u.list},{children:[...Array(4)].map(((e,t)=>(0,o.jsx)(c.Ay,{children:(0,o.jsx)(a.A,{elevation:0})},t)))}))})}))}},23237:()=>{},25028:(e,t,s)=>{"use strict";s.d(t,{H:()=>o});const o="SCCategory"},25292:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var o=s(59703),a=s(85486),n=s(96540),r=s(54533),i=s(75659),l=s(11848),c=s(25669),d=s(38413),u=s(31609);function g(e){return(0,u.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var m=s(74848);const p=["className","component"],y=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),h=n.forwardRef((function(e,t){const s=(0,c.b)({props:e,name:"MuiCardContent"}),{className:n,component:l="div"}=s,d=(0,a.A)(s,p),u=(0,o.A)({},s,{component:l}),h=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},g,t)})(u);return(0,m.jsx)(y,(0,o.A)({as:l,className:(0,r.A)(h.root,n),ownerState:u,ref:t},d))}))},28820:(e,t,s)=>{"use strict";s.d(t,{A:()=>A});var o=s(85486),a=s(59703),n=s(96540),r=s(54533),i=s(75659),l=s(11848),c=s(25669),d=s(32850),u=s(38413),g=s(31609);function m(e){return(0,g.Ay)("MuiList",e)}(0,u.A)("MuiList",["root","padding","dense","subheader"]);var p=s(74848);const y=["children","className","component","dense","disablePadding","subheader"],h=(0,l.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disablePadding&&t.padding,s.dense&&t.dense,s.subheader&&t.subheader]}})((({ownerState:e})=>(0,a.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0}))),A=n.forwardRef((function(e,t){const s=(0,c.b)({props:e,name:"MuiList"}),{children:l,className:u,component:g="ul",dense:A=!1,disablePadding:j=!1,subheader:f}=s,b=(0,o.A)(s,y),w=n.useMemo((()=>({dense:A})),[A]),x=(0,a.A)({},s,{component:g,dense:A,disablePadding:j}),v=(e=>{const{classes:t,disablePadding:s,dense:o,subheader:a}=e,n={root:["root",!s&&"padding",o&&"dense",a&&"subheader"]};return(0,i.A)(n,m,t)})(x);return(0,p.jsx)(d.A.Provider,{value:w,children:(0,p.jsxs)(h,(0,a.A)({as:g,className:(0,r.A)(v.root,u),ref:t,ownerState:x},b,{children:[f,l]}))})}))},29440:(e,t,s)=>{"use strict";s.d(t,{H:()=>o});const o="SCCategoriesSuggestionWidget"},31815:()=>{},41992:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var o=s(31635),a=s(74848),n=s(11848),r=s(49433),i=s(67733),l=s(47859),c=s(19546),d=s.n(c),u=s(86857),g=s(66848);const m="SCBaseItemButton",p={root:`${m}-root`,withActions:`${m}-with-actions`,content:`${m}-content`,image:`${m}-image`,text:`${m}-text`,primary:`${m}-primary`,secondary:`${m}-secondary`,actions:`${m}-actions`},y=(0,n.Ay)(u.A,{name:m,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const h=function(e){const t=(0,g.A)({props:e,name:m}),{id:s=null,className:n=null,ButtonBaseProps:c={},image:u=null,disableTypography:h=!1,primary:A=null,primaryTypographyProps:j={component:"span",variant:"body1"},secondary:f=null,secondaryTypographyProps:b={component:"p",variant:"body2"},actions:w=null}=t,x=(0,o.__rest)(t,["id","className","ButtonBaseProps","image","disableTypography","primary","primaryTypographyProps","secondary","secondaryTypographyProps","actions"]);return(0,a.jsxs)(y,Object.assign({id:s},x,{className:d()(p.root,n,{[p.withActions]:Boolean(w)})},{children:[(0,a.jsxs)(r.A,Object.assign({className:p.content},c,{children:[u&&(0,a.jsx)(i.A,Object.assign({className:p.image},{children:u})),(0,a.jsxs)(i.A,Object.assign({className:p.text},{children:[A&&(h?A:(0,a.jsx)(l.A,Object.assign({className:p.primary},j,{children:A}))),f&&(h?f:(0,a.jsx)(l.A,Object.assign({className:p.secondary},b,{children:f})))]}))]})),w&&(0,a.jsx)(i.A,Object.assign({className:p.actions},{children:w}))]}))}},44806:(e,t,s)=>{"use strict";s.d(t,{A:()=>g});var o=s(74848),a=s(11848),n=s(44675),r=s(73785),i=s(42942),l=s(52959),c=s(25028);const d={root:`${c.H}-skeleton-root`,image:`${c.H}-image`,primary:`${c.H}-primary`,secondary:`${c.H}-secondary`,button:`${c.H}-button`,action:`${c.H}-action`},u=(0,a.Ay)(l.A,{name:c.H,slot:"SkeletonRoot"})((()=>({})));function g(e){const t=(0,n.A)();return(0,o.jsx)(u,Object.assign({className:d.root},e,{image:(0,o.jsx)(r.A,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:d.image}),primary:(0,o.jsx)(r.A,{animation:"wave",height:10,width:120,className:d.primary}),secondary:(0,o.jsx)(r.A,{animation:"wave",height:10,width:70,className:d.secondary}),actions:void 0!==e.actions?e.actions:(0,o.jsx)(i.A,Object.assign({size:"small",variant:"outlined",disabled:!0,className:d.button},{children:(0,o.jsx)(r.A,{animation:"wave",height:10,width:50,className:d.action})}))}))}},45384:(e,t,s)=>{"use strict";s.d(t,{F:()=>o});const o={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://internal.selfcommunity.io/mkg2zxd0"}},45949:(e,t,s)=>{"use strict";s.d(t,{Ox:()=>r,Qd:()=>a,r6:()=>n});var o=s(28692);const a={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",INITIALIZE:"_initialize",RESET:"_reset"};function n(e,t){var s;let n=Object.assign({},e);switch(t.type){case a.LOADING_NEXT:n=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case a.LOADING_PREVIOUS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case a.LOAD_NEXT_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(s=t.payload)||void 0===s?void 0:s.initialized)||!0});break;case a.LOAD_PREVIOUS_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case a.SET_RESULTS:n=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case a.SET_VISIBLE_ITEMS:n=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case a.LOAD_NEXT_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case a.LOAD_PREVIOUS_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case a.RESET:n={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1};break;case a.INITIALIZE:n={cacheKey:t.payload.cacheKey?t.payload.cacheKey:null,count:t.payload.count?t.payload.count:0,results:t.payload.results?t.payload.results:[],next:t.payload.next?t.payload.next:null,previous:t.payload.previous?t.payload.previous:null,isLoadingNext:!!t.payload.isLoadingNext&&t.payload.isLoadingNext,isLoadingPrevious:!!t.payload.isLoadingPrevious&&t.payload.isLoadingPrevious,visibleItems:t.payload.visibleItems?t.payload.visibleItems:null,initialized:!1}}return o.Ay.set(n.cacheKey,n),n}function r(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&o.Ay.hasKey(t.cacheKey)&&e.cacheStrategy!==o.So.NETWORK_ONLY){const e=o.Ay.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},54374:(e,t,s)=>{"use strict";s.d(t,{A:()=>k});var o=s(31635),a=s(74848),n=s(96540),r=s(11848),i=s(27365),l=s(18653),c=s(47859),d=s(20411),u=s(65846),g=s(3341),m=s(88352),p=s(22373),y=s(3338),h=s(90420),A=s(44806),j=s(67115),f=s(27885),b=s(58065),w=s(19546),x=s.n(w),v=s(66848),_=s(41992),N=s(25028);const S=(0,f.YK)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),O={root:`${N.H}-root`,categoryImage:`${N.H}-category-image`,primary:`${N.H}-primary`,secondary:`${N.H}-secondary`,title:`${N.H}-title`,followed:`${N.H}-followed`,autoFollowed:`${N.H}-auto-followed`,actions:`${N.H}-actions`},C=(0,r.Ay)(_.A,{name:N.H,slot:"Root"})((()=>({})));const k=function(e){const t=(0,v.A)({props:e,name:N.H}),{categoryId:s=null,category:r=null,className:f=null,elevation:w,variant:_,autoHide:k=!1,categoryFollowButtonProps:L={},showFollowers:F=!0,showTooltip:E=!1,ButtonBaseProps:I=null,cacheStrategy:T}=t,R=(0,o.__rest)(t,["categoryId","category","className","elevation","variant","autoHide","categoryFollowButtonProps","showFollowers","showTooltip","ButtonBaseProps","cacheStrategy"]),P=(0,d.I$)(),{scCategory:U}=(0,u.A)(Object.assign({id:s,category:r},T&&{cacheStrategy:T})),M=(0,n.useMemo)((()=>I||{component:g.A,to:U?P.url(m.CATEGORY_ROUTE_NAME,U):""}),[I,P,U]),$=(0,p.__)(y.DE);return U?k?null:(0,a.jsx)(C,Object.assign({disableTypography:E,elevation:w},_&&{variant:_},{className:x()(O.root,f,{[O.followed]:U.followed},{[O.autoFollowed]:U.auto_follow===h.f.FORCED}),ButtonBaseProps:M,image:(0,a.jsx)(i.A,{alt:U.name,src:U.image_medium,variant:"square",className:O.categoryImage}),primary:(0,a.jsx)(a.Fragment,{children:E?(0,a.jsx)(l.A,Object.assign({title:U.name},{children:(0,a.jsx)(c.A,Object.assign({className:O.primary,component:"span",variant:"body1"},{children:U.name}))})):U.name}),secondary:(0,a.jsx)(a.Fragment,{children:E&&F&&$?(0,a.jsx)(c.A,Object.assign({className:O.secondary,component:"p",variant:"body2"},{children:(0,a.jsx)(b.A,Object.assign({},S.categoryFollowers,{values:{total:U.followers_counter}}))})):F&&$&&(0,a.jsx)(b.A,Object.assign({},S.categoryFollowers,{values:{total:U.followers_counter}}))}),actions:(0,a.jsx)(j.A,Object.assign({category:U},L))},R)):(0,a.jsx)(A.A,Object.assign({elevation:w},_&&{variant:_}))}},55157:(e,t,s)=>{"use strict";function o(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}s.d(t,{F:()=>o})},66671:()=>{},74705:(e,t,s)=>{"use strict";function o(e,t=166){let s;function o(...o){clearTimeout(s),s=setTimeout((()=>{e.apply(this,o)}),t)}return o.clear=()=>{clearTimeout(s)},o}s.d(t,{A:()=>o})},79658:(e,t,s)=>{"use strict";s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>l,metadata:()=>o,toc:()=>u});const o=JSON.parse('{"id":"sdk/community-js/react-ui/Components/UserFollowedCategories","title":"User Followed Categories Widget","description":"The User Followed Categories Widget renders the list of categories followed by the user.","source":"@site/docs/sdk/community-js/react-ui/Components/UserFollowedCategories.mdx","sourceDirName":"sdk/community-js/react-ui/Components","slug":"/sdk/community-js/react-ui/Components/UserFollowedCategories","permalink":"/docs/sdk/community-js/react-ui/Components/UserFollowedCategories","draft":false,"unlisted":false,"editUrl":"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/UserFollowedCategories.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"User Followed Categories Widget","sidebar_position":1,"title":"User Followed Categories Widget"},"sidebar":"sdkSidebar","previous":{"title":"User","permalink":"/docs/sdk/community-js/react-ui/Components/User"},"next":{"title":"User Followers Widget","permalink":"/docs/sdk/community-js/react-ui/Components/UserFollowers"}}');var a=s(74848),n=s(28453),r=s(13004),i=s(93516);const l={sidebar_label:"User Followed Categories Widget",sidebar_position:1,title:"User Followed Categories Widget"},c=void 0,d={},u=[{value:"Usage",id:"usage",level:4}];function g(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["The User Followed Categories Widget renders the list of categories followed by the user.",(0,a.jsx)("br",{}),"\nThis list is composed of items containing category's image, title, info and a follow button, that allows users to follow/unfollow a category.",(0,a.jsx)("br",{}),'\nThe categories are shown in an orderly manner: few items are shown in the main card while the others can be displayed in a modal card by clicking on the "show all" button.']}),"\n"]}),"\n","\n",(0,a.jsx)(r.A,{children:(0,a.jsx)(i.A,{userId:7})}),"\n",(0,a.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {UserFollowedCategoriesWidget} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><UserFollowedCategoriesWidget /></SCContextProvider>\n   );\n }\n"})})]})}function m(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(g,{...e})}):g(e)}},82787:()=>{},93516:(e,t,s)=>{"use strict";s.d(t,{A:()=>H});var o=s(31635),a=s(74848),n=s(96540),r=s(11848),i=s(25292),l=s(47859),c=s(28820),d=s(36870),u=s(42942),g=s(72081),m=s(28692),p=s(94520),y=s(55157),h=s(2877),A=s(75753),j=s(3338),f=s(86354),b=s(45949),w=s(54374),x=s(44806),v=s(15906),_=s(58065),N=s(21810);const S="SCUserFollowedCategoriesWidgetSkeleton",O={root:`${S}-skeleton-root`},C=(0,r.Ay)(N.A,{name:S,slot:"SkeletonRoot"})((()=>({})));function k(e){return(0,a.jsx)(C,Object.assign({className:O.root},e))}var L=s(19546),F=s.n(L),E=s(29251),I=s(86857),T=s(66848),R=s(9063);const P="SCUserCategoriesFollowedWidget",U={root:`${P}-root`,title:`${P}-title`,noResults:`${P}-no-results`,showMore:`${P}-show-more`,dialogRoot:`${P}-dialog-root`,endMessage:`${P}-end-message`},M=(0,r.Ay)(I.A,{name:P,slot:"Root"})((()=>({}))),$=(0,r.Ay)(E.A,{name:P,slot:"DialogRoot"})((()=>({})));const H=function(e){const t=(0,T.A)({props:e,name:P}),{userId:s,autoHide:r,limit:N=3,className:S,CategoryProps:O={},cacheStrategy:C=m.So.NETWORK_ONLY,onHeightChange:L,onStateChange:E,DialogProps:I={}}=t,H=(0,o.__rest)(t,["userId","autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),W=(0,h.X1)(),B=(0,n.useMemo)((()=>W.user&&s===W.user.id),[W.user,s]),{preferences:D}=(0,A.Sw)(),K=(0,n.useMemo)((()=>j.g4 in D&&D[j.g4].value),[D]),z=(0,n.useMemo)((()=>j.DE in D&&D[j.DE].value),[D]),[X,V]=(0,n.useReducer)(b.r6,{isLoadingNext:!1,next:null,cacheKey:f.j3(f.Gb,s),cacheStrategy:C},b.Ox),[G,J]=(0,n.useState)(!1),q=(0,n.useMemo)((()=>()=>{X.initialized||X.isLoadingNext||g.A.getUserFollowedCategories(s,null).then((e=>{V({type:b.Qd.LOAD_NEXT_SUCCESS,payload:{count:e.length,results:e,initialized:!0}})})).catch((e=>{V({type:b.Qd.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),p.V.error(v.d,e)}))}),[X.isLoadingNext,X.initialized,s,V]);(0,n.useEffect)((()=>{var e;let t;if((K||!K&&(null===(e=W.user)||void 0===e?void 0:e.id))&&(0,y.F)(s)&&void 0!==W.user&&z)return t=setTimeout(q),()=>{t&&clearTimeout(t)}}),[W.user,K,s,z]),(0,n.useEffect)((()=>{L&&L()}),[X.results.length]),(0,n.useEffect)((()=>{(K||W.user)&&(0,y.F)(s)&&C===m.So.NETWORK_ONLY&&E&&E({cacheStrategy:m.So.CACHE_FIRST})}),[K,C,W.user,s]);const Q=e=>{if(B){const t=[...X.results],s=t.findIndex((t=>t.id===e.id));-1!==s&&(e.followed?(t[s].followers_counter=e.followers_counter-1,t[s].followed=!e.followed):(t[s].followers_counter=e.followers_counter+1,t[s].followed=!e.followed),V({type:b.Qd.SET_RESULTS,payload:{results:t}}))}},Y=()=>{J((e=>!e))};if(r&&!X.count&&X.initialized||!s||!z)return(0,a.jsx)(R.A,{});if(!X.initialized)return(0,a.jsx)(k,{});const Z=(0,a.jsxs)(i.A,{children:[(0,a.jsx)(l.A,Object.assign({className:U.title,variant:"h5"},{children:(0,a.jsx)(_.A,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:B?X.results.filter((e=>e.followed)).length:X.count}})})),X.count?(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(c.A,{children:X.results.slice(0,N).map((e=>(0,a.jsx)(d.Ay,{children:(0,a.jsx)(w.A,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:Q}},O))},e.id)))}),N<X.count&&(0,a.jsx)(u.A,Object.assign({className:U.showMore,onClick:Y},{children:(0,a.jsx)(_.A,{id:"ui.userFollowedCategoriesWidget.button.showAll",defaultMessage:"ui.userFollowedCategoriesWidget.button.showAll"})})),G&&(0,a.jsxs)($,Object.assign({className:U.dialogRoot,title:(0,a.jsx)(_.A,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:X.count}}),onClose:Y,open:G,scroll:"paper"},I,{children:[(0,a.jsxs)(c.A,{children:[X.results.map((e=>(0,a.jsx)(d.Ay,{children:(0,a.jsx)(w.A,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:Q}},O))},e.id))),X.isLoadingNext&&(0,a.jsx)(d.Ay,{children:(0,a.jsx)(x.A,Object.assign({elevation:0},O))})]}),(0,a.jsx)(l.A,Object.assign({className:U.endMessage},{children:(0,a.jsx)(_.A,{id:"ui.userFollowedCategoriesWidget.noMoreResults",defaultMessage:"ui.userFollowedCategoriesWidget.noMoreResults"})}))]}))]}):(0,a.jsx)(l.A,Object.assign({className:U.noResults,variant:"body2"},{children:(0,a.jsx)(_.A,{id:"ui.userFollowedCategoriesWidget.subtitle.noResults",defaultMessage:"ui.userFollowedCategoriesWidget.subtitle.noResults"})}))]});return(0,a.jsx)(M,Object.assign({className:F()(U.root,S)},H,{children:Z}))}},93749:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(44877).A},96248:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(32325).A},97492:()=>{}}]);