"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[31416],{98365:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(67294),n=a(74482),s=a(24243),r=a(24085),l=a(59219),i=a(96570),c=a(99960),u=a(69721),d=a(87620),g=a(68787);function m({id:e=null,category:t=null,cacheStrategy:a=l.n2.CACHE_FIRST}){const m=t?t.id:e,E=(0,g.LD)(),y=E.user?E.user.id:null,Z=(0,u.u5)(m),p=y?t:(0,i.Kd)(t,["followed"]),[N,f]=(0,o.useState)(a!==l.n2.NETWORK_ONLY?l.ZP.get(Z,p):null),[O,v]=(0,o.useState)(null),b=(0,o.useMemo)((()=>()=>s.Z.request({url:r.Z.Category.url({id:m}),method:r.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[m]);return(0,o.useEffect)((()=>{m&&(!N||N&&m!==N.id)&&b().then((e=>{const t=y?e:(0,i.Kd)(e,["followed"]);f(t),l.ZP.set(Z,t)})).catch((t=>{l.ZP.delete(Z),v(`Category with id ${e} not found`),c.Y.error(n.h,`Category with id ${e} not found`),c.Y.error(n.h,t.message)}))}),[m]),(0,d.F_)((()=>{if(t){const e=y?t:(0,i.Kd)(t,["followed"]);f(e),l.ZP.set(Z,e)}}),[t]),{scCategory:N,setSCCategory:f,error:O}}},31416:(e,t,a)=>{a.d(t,{Z:()=>_});var o=a(67294),n=a(90948),s=a(5616),r=a(89587),l=a(14027),i=a(98365),c=a(69641),u=a(88078),d=a(75249);const g={root:`${d.B}-skeleton-root`,cover:`${d.B}-skeleton-cover`},m=(0,n.ZP)(s.Z,{name:d.B,slot:"SkeletonRoot"})((()=>({})));function E(){return o.createElement(m,{className:g.root},o.createElement(u.Z,{sx:{height:230},animation:"wave",variant:"rectangular",className:g.cover}),o.createElement(s.Z,null,o.createElement(u.Z,{animation:"wave",sx:{height:20,maxWidth:300,width:"100%",margin:"0 auto"}})),o.createElement(s.Z,null,o.createElement(u.Z,{animation:"wave",sx:{height:20,maxWidth:300,width:"100%",margin:"0 auto"}})))}const y="SCCategoryTemplate",Z={root:`${y}-skeleton-root`},p=(0,n.ZP)(s.Z,{name:y,slot:"SkeletonRoot"})((()=>({})));function N(){return o.createElement(p,{className:Z.root},o.createElement(E,null),o.createElement(c.Z,null))}var f=a(29628),O=a(94184),v=a.n(O);const b={root:`${y}-root`,feed:`${y}-feed`},h=(0,n.ZP)(s.Z,{name:y,slot:"Root"})((()=>({})));const _=function(e){const t=(0,f.Z)({props:e,name:y}),{id:a="category",className:n,category:s,categoryId:c,widgets:u,FeedObjectProps:d,FeedSidebarProps:g,CategoryFeedProps:m={}}=t,{scCategory:E}=(0,i.Z)({id:c,category:s});return E?o.createElement(h,{id:a,className:v()(b.root,n)},o.createElement(r.Z,{category:E}),o.createElement(l.Z,Object.assign({className:b.feed,category:E,widgets:u,FeedObjectProps:d,FeedSidebarProps:g},m))):o.createElement(N,null)}},69641:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(67294),n=a(90948),s=a(40506),r=a(24176),l=a(24540),i=a(12805),c=a(37024),u=a(74731);const d={root:`${u.B}-skeleton-root`},g=(0,n.ZP)(s.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(){return o.createElement(g,{className:d.root,sidebar:o.createElement(o.Fragment,null,o.createElement(r.Z,{sx:{mb:2}}),o.createElement(r.Z,{sx:{mb:2}}))},o.createElement(l.Z,null),Array.from({length:5}).map(((e,t)=>o.createElement(i.Z,{key:t,template:c.r.DETAIL}))))}},74731:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCCategoryFeedTemplate"},14027:(e,t,a)=>{a.d(t,{Z:()=>L});var o=a(67294),n=a(90948),s=a(58069),r=a(12673),l=a(81820),i=a(70050),c=a(52693),u=a(12805),d=a(37024),g=a(93132),m=a(24085),E=a(41538),y=a(98365),Z=a(97265),p=a(12132),N=a(9774),f=a(83781),O=a(69641),v=a(29628),b=a(94184),h=a.n(b),_=a(44012),C=a(20377),S=a(74731);const T={root:`${S.B}-root`},I=(0,n.ZP)(s.Z,{name:S.B,slot:"Root"})((()=>({}))),B=[{type:"widget",component:r.Z,componentProps:{},column:"right",position:0},{type:"widget",component:l.Z,componentProps:{},column:"right",position:1}];const L=function(e){const t=(0,v.Z)({props:e,name:S.B}),{id:a="category_feed",className:n,category:s,categoryId:r,widgets:l=B,FeedObjectProps:b={},FeedSidebarProps:L=null,FeedProps:R={}}=t,P=(0,E.sy)(),{enqueueSnackbar:F}=(0,C.Ds)(),w=(0,o.useRef)(),{scCategory:j}=(0,y.Z)({id:r,category:s}),A=(0,o.useMemo)((()=>l.map((e=>j?Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{categoryId:j.id})}):e))),[l,j]);return j?o.createElement(I,Object.assign({id:a,className:h()(T.root,n),ref:w,endpoint:Object.assign(Object.assign({},m.Z.CategoryFeed),{url:()=>m.Z.CategoryFeed.url({id:j.id})}),widgets:A,ItemComponent:c.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:b,ItemSkeleton:u.Z,ItemSkeletonProps:{template:d.r.PREVIEW},FeedSidebarProps:L,HeaderComponent:o.createElement(g.Z,{onSuccess:e=>{if(-1===e.categories.findIndex((e=>e.id===j.id)))return void F(o.createElement(_.Z,{id:"ui.composerIconButton.composer.success",defaultMessage:"ui.composerIconButton.composer.success"}),{action:t=>o.createElement(Z.Z,{to:P.url(p[`${e.type.toUpperCase()}_ROUTE_NAME`],i.p3(e))},o.createElement(_.Z,{id:"ui.composerIconButton.composer.viewContribute",defaultMessage:"ui.composerIconButton.composer.viewContribute"})),variant:"success",autoHideDuration:7e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};w&&w.current&&w.current.addFeedData(t,!0)},defaultValue:{categories:[j]},feedType:N.a.CATEGORY}),CustomAdvProps:{categoriesId:[j.id]},enabledCustomAdvPositions:[f.n.POSITION_FEED_SIDEBAR,f.n.POSITION_FEED,f.n.POSITION_BELOW_TOPBAR]},R)):o.createElement(O.Z,null)}},75802:(e,t,a)=>{a.d(t,{Z:()=>v});var o,n=a(97582),s=a(67294),r=a(90948),l=a(59219),i=a(99960),c=a(53704),u=a(68787),d=a(98365),g=a(75459),m=a(31812),E=a(44012),y=a(94184),Z=a.n(y),p=a(29628);!function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(o||(o={}));const N="SCCategoryFollowButton",f={root:`${N}-root`},O=(0,r.ZP)(m.Z,{name:N,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const v=function(e){const t=(0,p.Z)({props:e,name:N}),{className:a,categoryId:r,category:m,onFollow:y}=t,v=(0,n._T)(t,["className","categoryId","category","onFollow"]),b=(0,c.RM)(),h=(0,u.LD)(),_=h.managers.categories,C=h.user?h.user.id:null,{scCategory:S,setSCCategory:T}=(0,d.Z)({id:r,category:m,cacheStrategy:C?l.n2.CACHE_FIRST:l.n2.STALE_WHILE_REVALIDATE}),[I,B]=(0,s.useState)(null);return(0,s.useEffect)((()=>{C&&B(_.isFollowed(S))}),[C,_.isFollowed]),!S||S&&I&&S.auto_follow===o.FORCED?null:s.createElement(O,Object.assign({size:"small",variant:"outlined",onClick:()=>{h.user?_.follow(S).then((()=>{y&&y(S,!I)})).catch((e=>{i.Y.error(g.J,e)})):b.settings.handleAnonymousAction()},loading:h.user?null===I||_.isLoading(S):null,className:Z()(f.root,a)},v),I&&h.user?s.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):s.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},75249:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCCategoryHeader"},89587:(e,t,a)=>{a.d(t,{Z:()=>U});var o=a(97582),n=a(67294),s=a(90948),r=a(5616),l=a(90629),i=a(15861),c=a(75802),u=a(44012),d=a(98365),g=a(94184),m=a.n(g),E=a(29628),y=a(25662),Z=a(2734),p=a(51107),N=a(87952),f=a(78462),O=a(97212),v=a(39154),b=a(79558),h=a(50353),_=a(37089),C=a(98704),S=a(24243),T=a(24085),I=a(59107),B=a(61730),L=a(99960),R=a(75459),P=a(87620);const F="SCCategoryFollowersButton",w={root:`${F}-root`,dialogRoot:`${F}-dialog-root`,endMessage:`${F}-end-message`},j=(0,s.ZP)(y.Z,{name:F,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({}))),A=(0,s.ZP)(v.Z,{name:F,slot:"Root",overridesResolver:(e,t)=>t.dialogRoot})((()=>({})));const x=function(e){const t=(0,E.Z)({props:e,name:F}),{className:a,categoryId:s,category:r,DialogProps:l={}}=t,c=(0,o._T)(t,["className","categoryId","category","DialogProps"]),[g,y]=(0,n.useState)(!0),[v,x]=(0,n.useState)(null),[M,D]=(0,n.useState)(null),[k,U]=(0,n.useState)([]),[$,W]=(0,n.useState)(!1),{scCategory:K}=(0,d.Z)({id:s,category:r});(0,P.F_)((()=>{K&&(0===k.length?C.Z.getCategoryFollowers(K.id,{limit:3}).then((e=>{U([...e.results]),D(3),y(!1)})):D(0))}),[K]),(0,n.useEffect)((()=>{$&&null!==M&&(y(!0),C.Z.getCategoryFollowers(K.id,{offset:M,limit:20}).then((e=>{U([...0===M?[]:k,...e.results]),x(e.next),y(!1),D(null)})))}),[$,k,M]);const X=(0,n.useMemo)((()=>()=>{v&&S.Z.request({url:v,method:T.Z.CategoryFollowers.method}).then((e=>{U([...k,...e.data.results]),x(e.data.next)})).catch((e=>L.Y.error(R.J,e))).then((()=>y(!1)))}),[k,K,v]),H=(0,n.useMemo)((()=>()=>{W((e=>!e))}),[W]),z=(0,Z.Z)(),G=(0,B.Z)(z.breakpoints.down("md"));return n.createElement(n.Fragment,null,n.createElement(j,Object.assign({className:m()(w.root,a),onClick:H,disabled:g||!K||0===K.followers_counter},c),g||!K?n.createElement(I.Z,Object.assign({},c)):n.createElement(p.Z,{total:K.followers_counter},k.map((e=>n.createElement(N.Z,{key:e.id,alt:e.username,src:e.avatar}))))),$&&n.createElement(A,Object.assign({className:w.dialogRoot,title:n.createElement(u.Z,{defaultMessage:"ui.categoryFollowersButton.dialogTitle",id:"ui.categoryFollowersButton.dialogTitle",values:{total:K.followers_counter}}),onClose:H,open:$},l),n.createElement(b.Z,{dataLength:k.length,next:X,hasMoreNext:null!==v||g,loaderNext:n.createElement(h.Z,{elevation:0}),height:G?"100%":400,endMessage:n.createElement(i.Z,{className:w.endMessage},n.createElement(u.Z,{id:"ui.categoryFollowersButton.noOtherFollowers",defaultMessage:"ui.categoryFollowersButton.noOtherFollowers"}))},n.createElement(f.Z,null,k.map((e=>n.createElement(O.ZP,{key:e.id},n.createElement(_.Z,{elevation:0,user:e}))))))))};var M=a(75249);const D={root:`${M.B}-root`,cover:`${M.B}-cover`,name:`${M.B}-name`,slogan:`${M.B}-slogan`,info:`${M.B}-info`,followedCounter:`${M.B}-followed-counter`,followed:`${M.B}-followed`,action:`${M.B}-action`},k=(0,s.ZP)(r.Z,{name:M.B,slot:"Root"})((()=>({})));const U=function(e){const t=(0,E.Z)({props:e,name:M.B}),{className:a,categoryId:s,category:g,CategoryFollowButtonProps:y={},CategoryFollowersButtonProps:Z={}}=t,p=(0,o._T)(t,["className","categoryId","category","CategoryFollowButtonProps","CategoryFollowersButtonProps"]),{scCategory:N,setSCCategory:f}=(0,d.Z)({id:s,category:g}),O=(0,n.useMemo)((()=>Object.assign({},N?{background:`url('${N.emotional_image_original}') center / cover`}:{})),[N]);return N?n.createElement(k,Object.assign({className:m()(D.root,a)},p),n.createElement(l.Z,{style:O,classes:{root:D.cover}}),n.createElement(r.Z,{className:D.info},n.createElement(i.Z,{variant:"h3",className:D.name,gutterBottom:!0},N.name),N.slogan&&n.createElement(i.Z,{variant:"h5",className:D.slogan},N.slogan),n.createElement(r.Z,{className:D.followed},n.createElement(i.Z,{className:D.followedCounter,component:"div"},n.createElement(u.Z,{id:"ui.categoryHeader.followedBy",defaultMessage:"ui.categoryHeader.followedBy",values:{total:N.followers_counter}})),n.createElement(x,Object.assign({category:N,categoryId:null==N?void 0:N.id},Z))),n.createElement(r.Z,{className:D.action},n.createElement(c.Z,Object.assign({category:N,onFollow:(e,t)=>{f(Object.assign(Object.assign({},e),{followers_counter:e.followers_counter+(t?1:-1)}))}},y))))):null}},45431:(e,t,a)=>{a.d(t,{Z:()=>g});var o=a(67294),n=a(63902),s=a(78462),r=a(90948),l=a(12805),i=a(44267),c=a(89546);const u={root:`${c.B}-skeleton-root`,list:`${c.B}-list`},d=(0,r.ZP)(n.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return o.createElement(d,Object.assign({className:u.root},e),o.createElement(i.Z,null,o.createElement(s.Z,{className:u.list},[...Array(4)].map(((e,t)=>o.createElement(l.Z,{key:t,elevation:0}))))))}},89546:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCCategoryTrendingFeedWidget"},81820:(e,t,a)=>{a.d(t,{Z:()=>X});var o=a(97582),n=a(67294),s=a(90948),r=a(78462),l=a(2734),i=a(61730),c=a(44267),u=a(15861),d=a(97212),g=a(25662),m=a(63902),E=a(98704),y=a(24243),Z=a(24085),p=a(59219),N=a(99960),f=a(5840),O=a(75459),v=a(52693),b=a(12805),h=a(44012),_=a(37024),C=a(94184),S=a.n(C),T=a(39154),I=a(79558),B=a(45431),L=a(29628),R=a(54545),P=a(69721),F=a(68787),w=a(66380),j=a(41538),A=a(85472),x=a(98365),M=a(97265),D=a(12132),k=a(15927),U=a(89546);const $={root:`${U.B}-root`,title:`${U.B}-title`,noResults:`${U.B}-no-results`,showMore:`${U.B}-show-more`,dialogRoot:`${U.B}-dialog-root`,endMessage:`${U.B}-end-message`},W=(0,s.ZP)(m.Z,{name:U.B,slot:"Root"})((()=>({}))),K=(0,s.ZP)(T.Z,{name:U.B,slot:"DialogRoot"})((()=>({})));const X=function(e){const t=(0,L.Z)({props:e,name:U.B}),{className:a=null,categoryId:s=null,autoHide:m=null,limit:C=3,FeedObjectProps:T={template:_.r.SNIPPET},cacheStrategy:X=p.n2.CACHE_FIRST,onHeightChange:H,onStateChange:z,DialogProps:G={}}=t,V=(0,o._T)(t,["className","categoryId","autoHide","limit","FeedObjectProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[Y,q]=(0,n.useReducer)(k.Xi,{isLoadingNext:!1,next:null,cacheKey:P.hu(P.ol,s),cacheStrategy:X,visibleItems:C},k.Mv),[J,Q]=(0,n.useState)(!1),ee=(0,F.LD)(),te=(0,w.ko)(),ae=(0,j.sy)(),oe=(0,n.useMemo)((()=>A.Ao in te.preferences&&te.preferences[A.Ao].value),[te]),ne=(0,l.Z)(),se=(0,i.Z)(ne.breakpoints.down("md")),{scCategory:re}=(0,x.Z)({id:s}),le=re?re.id:null,ie=(0,n.useMemo)((()=>()=>{Y.initialized||Y.isLoadingNext||(q({type:k.dK.LOADING_NEXT}),E.Z.getCategoryTrendingFeed(le,{limit:C}).then((e=>{q({type:k.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{q({type:k.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(O.J,e)})))}),[le,Y.isLoadingNext,Y.initialized,C,q]);(0,n.useEffect)((()=>{var e;let t;if(void 0!==ee.user&&le&&(oe||!oe&&(null===(e=ee.user)||void 0===e?void 0:e.id)))return t=setTimeout(ie),()=>{t&&clearTimeout(t)}}),[le,ee.user,oe]),(0,n.useEffect)((()=>{J&&Y.next&&Y.results.length===C&&Y.initialized&&(q({type:k.dK.LOADING_NEXT}),E.Z.getCategoryTrendingFeed(le,{offset:C,limit:10}).then((e=>{q({type:k.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{q({type:k.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(O.J,e)})))}),[J,C,Y.next,Y.results.length,Y.initialized,le]),(0,n.useEffect)((()=>{H&&H()}),[Y.results]),(0,n.useEffect)((()=>{(oe||ee.user)&&(0,f.U)(le)&&X===p.n2.NETWORK_ONLY&&z&&z({cacheStrategy:p.n2.CACHE_FIRST})}),[oe,X,le,ee.user]);const ce=(0,n.useMemo)((()=>()=>{q({type:k.dK.LOADING_NEXT}),y.Z.request({url:Y.next,method:Z.Z.CategoryTrendingFeed.method}).then((e=>{q({type:k.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[q,Y.next]),ue=()=>{Q((e=>!e))};if(!oe&&!ee.user||m&&!Y.count&&Y.initialized)return n.createElement(R.Z,null);if(!Y.initialized)return n.createElement(B.Z,null);const de=n.createElement(c.Z,null,n.createElement(u.Z,{className:$.title,variant:"h5"},n.createElement(h.Z,{id:"ui.categoryTrendingFeedWidget.title",defaultMessage:"ui.categoryTrendingFeedWidget.title"})),Y.count?n.createElement(n.Fragment,null,n.createElement(r.Z,null,Y.results.slice(0,Y.visibleItems).map((e=>n.createElement(d.ZP,{key:e[e.type].id},n.createElement(v.Z,Object.assign({elevation:0,feedObject:e[e.type]},T)))))),Y.count>Y.visibleItems&&n.createElement(g.Z,Object.assign({className:$.showMore},se?{onClick:ue}:{component:M.Z,to:ae.url(D.CATEGORY_TRENDING_FEED_ROUTE_NAME,re)}),n.createElement(h.Z,{id:"ui.categoryTrendingFeedWidget.button.showAll",defaultMessage:"ui.categoryTrendingFeedWidget.button.showAll"}))):n.createElement(u.Z,{className:$.noResults,variant:"body2"},n.createElement(h.Z,{id:"ui.categoryTrendingFeedWidget.noResults",defaultMessage:"ui.categoryTrendingFeedWidget.noResults"})),J&&n.createElement(K,Object.assign({className:$.dialogRoot,title:n.createElement(h.Z,{defaultMessage:"ui.categoryTrendingFeedWidget.title",id:"ui.categoryTrendingFeedWidget.title",values:{total:Y.count}}),onClose:ue,open:J},G),n.createElement(I.Z,{dataLength:Y.results.length,next:ce,hasMoreNext:Boolean(Y.next),loaderNext:n.createElement(b.Z,Object.assign({elevation:0},T)),height:se?"100%":400,endMessage:n.createElement(u.Z,{className:$.endMessage},n.createElement(h.Z,{id:"ui.categoryTrendingFeedWidget.noMoreResults",defaultMessage:"ui.categoryTrendingFeedWidget.noMoreResults"}))},n.createElement(r.Z,null,Y.results.map((e=>n.createElement(d.ZP,{key:e[e.type].id},n.createElement(v.Z,Object.assign({elevation:0,feedObject:e[e.type]},T)))))))));return n.createElement(W,Object.assign({className:S()($.root,a)},V),de)}},14459:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(67294),n=a(63902),s=a(78462),r=a(90948),l=a(50353),i=a(44267),c=a(97212),u=a(33584);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},g=(0,r.ZP)(n.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return o.createElement(g,Object.assign({className:d.root},e),o.createElement(i.Z,null,o.createElement(s.Z,{className:d.list},[...Array(4)].map(((e,t)=>o.createElement(c.ZP,{key:t},o.createElement(l.Z,{elevation:0})))))))}},33584:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCCategoryTrendingUsersWidget"},12673:(e,t,a)=>{a.d(t,{Z:()=>U});var o=a(97582),n=a(67294),s=a(90948),r=a(78462),l=a(2734),i=a(61730),c=a(44267),u=a(15861),d=a(97212),g=a(25662),m=a(63902),E=a(98704),y=a(24243),Z=a(24085),p=a(69721),N=a(68787),f=a(66380),O=a(85472),v=a(98365),b=a(44012),h=a(37089),_=a(50353),C=a(94184),S=a.n(C),T=a(39154),I=a(79558),B=a(14459),L=a(29628),R=a(54545),P=a(59219),F=a(99960),w=a(5840),j=a(15927),A=a(75459),x=a(33584);const M={root:`${x.B}-root`,title:`${x.B}-title`,noResults:`${x.B}-no-results`,showMore:`${x.B}-show-more`,dialogRoot:`${x.B}-dialog-root`,endMessage:`${x.B}-end-message`},D=(0,s.ZP)(m.Z,{name:x.B,slot:"Root"})((()=>({}))),k=(0,s.ZP)(T.Z,{name:x.B,slot:"DialogRoot"})((()=>({})));const U=function(e){const t=(0,L.Z)({props:e,name:x.B}),{className:a=null,categoryId:s=null,autoHide:m=null,limit:C=3,UserProps:T={},cacheStrategy:U=P.n2.CACHE_FIRST,onHeightChange:$,onStateChange:W,DialogProps:K={}}=t,X=(0,o._T)(t,["className","categoryId","autoHide","limit","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,z]=(0,n.useReducer)(j.Xi,{isLoadingNext:!1,next:null,cacheKey:p.hu(p.zj,s),cacheStrategy:U,visibleItems:C},j.Mv),[G,V]=(0,n.useState)(!1),Y=(0,N.LD)(),q=(0,f.ko)(),J=(0,n.useMemo)((()=>O.Ao in q.preferences&&q.preferences[O.Ao].value),[q]),Q=(0,l.Z)(),ee=(0,i.Z)(Q.breakpoints.down("md")),{scCategory:te}=(0,v.Z)({id:s}),ae=te?te.id:null,oe=(0,n.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(z({type:j.dK.LOADING_NEXT}),E.Z.getCategoryTrendingFollowers(ae,{limit:C}).then((e=>{z({type:j.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{z({type:j.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),F.Y.error(A.J,e)})))}),[ae,H.isLoadingNext,H.initialized,C,z]);(0,n.useEffect)((()=>{var e;let t;if(void 0!==Y.user&&ae&&(J||!J&&(null===(e=Y.user)||void 0===e?void 0:e.id)))return t=setTimeout(oe),()=>{t&&clearTimeout(t)}}),[ae,Y.user,J]),(0,n.useEffect)((()=>{G&&H.next&&H.results.length===C&&H.initialized&&(z({type:j.dK.LOADING_NEXT}),E.Z.getCategoryTrendingFollowers(ae,{offset:C,limit:10}).then((e=>{z({type:j.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{z({type:j.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),F.Y.error(A.J,e)})))}),[G,C,H.next,H.initialized,H.results.length,ae]),(0,n.useEffect)((()=>{$&&$()}),[H.results]),(0,n.useEffect)((()=>{(J||Y.user)&&(0,w.U)(ae)&&U===P.n2.NETWORK_ONLY&&W&&W({cacheStrategy:P.n2.CACHE_FIRST})}),[J,U,ae,Y.user]);const ne=(0,n.useMemo)((()=>()=>{z({type:j.dK.LOADING_NEXT}),y.Z.request({url:H.next,method:Z.Z.CategoryTrendingPeople.method}).then((e=>{z({type:j.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[z,H.next]),se=()=>{V((e=>!e))};if(!J&&!Y.user||m&&!H.count&&H.initialized)return n.createElement(R.Z,null);if(!H.initialized)return n.createElement(B.Z,null);const re=n.createElement(c.Z,null,n.createElement(u.Z,{className:M.title,variant:"h5"},n.createElement(b.Z,{id:"ui.categoryTrendingUsersWidget.title",defaultMessage:"ui.categoryTrendingUsersWidget.title"})),H.count?n.createElement(n.Fragment,null,n.createElement(r.Z,null,H.results.slice(0,H.visibleItems).map((e=>n.createElement(d.ZP,{key:e.id},n.createElement(h.Z,Object.assign({elevation:0,user:e},T)))))),H.count>H.visibleItems&&n.createElement(g.Z,{className:M.showMore,onClick:se},n.createElement(b.Z,{id:"ui.categoryTrendingUsersWidget.button.showAll",defaultMessage:"ui.categoryTrendingUsersWidget.button.showAll"}))):n.createElement(u.Z,{className:M.noResults,variant:"body2"},n.createElement(b.Z,{id:"ui.categoryTrendingUsersWidget.noResults",defaultMessage:"ui.categoryTrendingUsersWidget.noResults"})),G&&n.createElement(k,Object.assign({className:M.dialogRoot,title:n.createElement(b.Z,{defaultMessage:"ui.categoryTrendingUsersWidget.title",id:"ui.categoryTrendingUsersWidget.title",values:{total:H.count}}),onClose:se,open:G},K),n.createElement(I.Z,{dataLength:H.results.length,next:ne,hasMoreNext:Boolean(H.next),loaderNext:n.createElement(_.Z,Object.assign({elevation:0},T)),height:ee?"100%":400,endMessage:n.createElement(u.Z,{className:M.endMessage},n.createElement(b.Z,{id:"ui.categoryTrendingUsersWidget.noMoreResults",defaultMessage:"ui.categoryTrendingUsersWidget.noMoreResults"}))},n.createElement(r.Z,null,H.results.map((e=>n.createElement(d.ZP,{key:e.id},n.createElement(h.Z,Object.assign({elevation:0,user:e},T)))))))));return n.createElement(D,Object.assign({className:S()(M.root,a)},X),re)}},24540:(e,t,a)=>{a.d(t,{Z:()=>g});var o=a(67294),n=a(90948),s=a(88078),r=a(44267),l=a(5616),i=a(63902),c=a(31717);const u={root:`${c.B}-skeleton-root`,content:`${c.B}-content`,input:`${c.B}-input`,avatar:`${c.B}-avatar`},d=(0,n.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function g(){return o.createElement(d,{className:u.root},o.createElement(r.Z,{className:u.content},o.createElement(l.Z,{className:u.input},o.createElement(s.Z,{animation:"wave",variant:"text"})),o.createElement(l.Z,{className:u.avatar},o.createElement(s.Z,{className:u.avatar,animation:"wave",variant:"circular"}))))}},31717:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCInlineComposerWidget"},93132:(e,t,a)=>{a.d(t,{Z:()=>L});var o=a(97582),n=a(67294),s=a(9774),r=a(53704),l=a(68787),i=a(41538),c=a(66380),u=a(85472),d=a(65580),g=a(97265),m=a(12132),E=a(44267),y=a(5616),Z=a(25662),p=a(87952),N=a(90948),f=a(44012),O=a(20377),v=a(63902),b=a(29628),h=a(91290),_=a(22461),C=a(70815),S=a(31717),T=a(54545);const I={root:`${S.B}-root`,content:`${S.B}-content`,input:`${S.B}-input`,avatar:`${S.B}-avatar`},B=(0,N.ZP)(v.Z,{name:S.B,slot:"Root"})((()=>({})));const L=function(e){const t=(0,b.Z)({props:e,name:S.B}),{mediaObjectTypes:a=[_.Z,C.Z],defaultValue:N,onSuccess:v=null,label:L,feedType:R=s.a.HOME}=t,P=(0,o._T)(t,["mediaObjectTypes","defaultValue","onSuccess","label","feedType"]),F=(0,r.RM)(),w=(0,l.LD)(),j=(0,i.sy)(),{enqueueSnackbar:A}=(0,O.Ds)(),x=(0,c.ko)(),M=(0,n.useMemo)((()=>x.preferences[u.Kq].value),[x.preferences]),[D,k]=(0,n.useState)(!1),U=(0,n.useCallback)((()=>{w.user?d.IT(w.user)?A(n.createElement(f.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):k(!0):F.settings.handleAnonymousAction()}),[w.user,F.settings]),$=(0,n.useCallback)((()=>{k(!1)}),[]);return!d.B2(w.user)&&M?n.createElement(T.Z,null):n.createElement(n.Fragment,null,n.createElement(B,Object.assign({className:I.root},P),n.createElement(E.Z,{className:I.content},n.createElement(y.Z,{className:I.input},n.createElement(Z.Z,{variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:U,fullWidth:!0,color:"inherit"},null!=L?L:n.createElement(f.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"}))),n.createElement(y.Z,{className:I.avatar},w.user?n.createElement(g.Z,{to:j.url(m.USER_PROFILE_ROUTE_NAME,w.user)},n.createElement(p.Z,{alt:w.user.username,variant:"circular",src:w.user.avatar})):n.createElement(p.Z,{variant:"circular"})))),n.createElement(h.Z,{open:D,mediaObjectTypes:a,defaultValue:N,fullWidth:!0,onClose:$,onSuccess:e=>{v?v(e):A(n.createElement(f.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),k(!1)},feedType:R}))}},15927:(e,t,a)=>{a.d(t,{Mv:()=>r,Xi:()=>s,dK:()=>n});var o=a(59219);const n={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function s(e,t){var a;let s=Object.assign({},e);switch(t.type){case n.LOADING_NEXT:s=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case n.LOADING_PREVIOUS:s=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case n.LOAD_NEXT_SUCCESS:s=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(a=t.payload)||void 0===a?void 0:a.initialized)||!0});break;case n.LOAD_PREVIOUS_SUCCESS:s=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case n.SET_RESULTS:s=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case n.SET_VISIBLE_ITEMS:s=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case n.LOAD_NEXT_FAILURE:s=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case n.LOAD_PREVIOUS_FAILURE:s=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case n.RESET:s={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return o.ZP.set(s.cacheKey,s),s}function r(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&o.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==o.n2.NETWORK_ONLY){const e=o.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},5840:(e,t,a)=>{function o(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}a.d(t,{U:()=>o})}}]);