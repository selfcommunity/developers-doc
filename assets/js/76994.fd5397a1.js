"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[76994],{98365:(e,t,o)=>{o.d(t,{Z:()=>g});var s=o(67294),a=o(74482),l=o(65001),n=o(24085),r=o(59219),i=o(96570),c=o(99960),u=o(69721),d=o(87620),m=o(68689);function g({id:e=null,category:t=null,cacheStrategy:o=r.n2.CACHE_FIRST}){const g=t?t.id:e,E=(0,m.LD)(),p=E.user?E.user.id:null,Z=(0,u.u5)(g),y=p?t:(0,i.Kd)(t,["followed"]),[f,N]=(0,s.useState)(o!==r.n2.NETWORK_ONLY?r.ZP.get(Z,y):null),[h,v]=(0,s.useState)(null),w=(0,s.useMemo)((()=>()=>l.Z.request({url:n.Z.Category.url({id:g}),method:n.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[g]);return(0,s.useEffect)((()=>{g&&(!f||f&&g!==f.id)&&w().then((e=>{const t=p?e:(0,i.Kd)(e,["followed"]);N(t),r.ZP.set(Z,t)})).catch((t=>{r.ZP.delete(Z),v(`Category with id ${e} not found`),c.Y.error(a.h,`Category with id ${e} not found`),c.Y.error(a.h,t.message)}))}),[g]),(0,d.F_)((()=>{if(t){const e=p?t:(0,i.Kd)(t,["followed"]);N(e),r.ZP.set(Z,e)}}),[t]),{scCategory:f,setSCCategory:N,error:h}}},34388:(e,t,o)=>{o.d(t,{Z:()=>g});var s=o(67294),a=o(90948),l=o(40506),n=o(24176),r=o(24540),i=o(12805),c=o(37024),u=o(45503);const d={root:`${u.B}-skeleton-root`},m=(0,a.ZP)(l.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(){return s.createElement(m,{className:d.root,sidebar:s.createElement(s.Fragment,null,s.createElement(n.Z,{sx:{mb:2}}),s.createElement(n.Z,{sx:{mb:2}}))},s.createElement(r.Z,null),Array.from({length:5}).map(((e,t)=>s.createElement(i.Z,{key:t,template:c.r.DETAIL}))))}},45503:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCUserFeedTemplate"},76994:(e,t,o)=>{o.d(t,{Z:()=>b});var s=o(67294),a=o(90948),l=o(24085),n=o(68689),r=o(45412),i=o(58069),c=o(43076),u=o(61504),d=o(5757),m=o(38509),g=o(12805),E=o(37024),p=o(93132),Z=o(34388),y=o(29628),f=o(94184),N=o.n(f),h=o(44012),v=o(20377),w=o(45503);const S={root:`${w.B}-root`},_=(0,a.ZP)(i.Z,{name:w.B,slot:"Root"})((()=>({}))),O=[{type:"widget",component:c.Z,componentProps:{},column:"right",position:0},{type:"widget",component:u.Z,componentProps:{},column:"right",position:1},{type:"widget",component:d.Z,componentProps:{},column:"right",position:2}];const b=function(e){const t=(0,y.Z)({props:e,name:w.B}),{id:o="user_feed",className:a,userId:i,user:c,widgets:u=O,FeedObjectProps:d={},FeedSidebarProps:f=null,FeedProps:b={}}=t,C=(0,n.LD)(),{enqueueSnackbar:L}=(0,v.Ds)(),{scUser:F}=(0,r.Z)({id:i,user:c}),R=(0,s.useRef)(),P=(0,s.useMemo)((()=>u.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:F?F.id:i})})))),[F,u]);return null===F?s.createElement(Z.Z,null):s.createElement(_,Object.assign({id:o,className:N()(S.root,a),ref:R,endpoint:Object.assign(Object.assign({},l.Z.UserFeed),{url:()=>l.Z.UserFeed.url({id:F.id})}),widgets:P,ItemComponent:m.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null}),itemIdGenerator:e=>e[e.type].id,ItemProps:d,ItemSkeleton:g.Z,ItemSkeletonProps:{template:E.r.PREVIEW}},C.user?{HeaderComponent:s.createElement(p.Z,{onSuccess:e=>{L(s.createElement(h.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};R&&R.current&&R.current.addFeedData(t,!0)}})}:{},{FeedSidebarProps:f},b))}},95475:(e,t,o)=>{o.d(t,{Z:()=>g});var s=o(67294),a=o(78462),l=o(90948),n=o(74808),r=o(63902),i=o(44267),c=o(97212),u=o(3928);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},m=(0,l.ZP)(r.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return s.createElement(m,Object.assign({className:d.root},e),s.createElement(i.Z,null,s.createElement(a.Z,{className:d.list},[...Array(4)].map(((e,t)=>s.createElement(c.ZP,{key:t},s.createElement(n.Z,{elevation:0})))))))}},3928:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCCategoriesSuggestionWidget"},74808:(e,t,o)=>{o.d(t,{Z:()=>m});var s=o(67294),a=o(90948),l=o(88078),n=o(2734),r=o(69417),i=o(115),c=o(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},d=(0,a.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function m(e){const t=(0,n.Z)();return s.createElement(d,Object.assign({className:u.root},e,{image:s.createElement(l.Z,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:s.createElement(l.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:s.createElement(l.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:s.createElement(r.Z,{size:"small",variant:"outlined",disabled:!0,className:u.button},s.createElement(l.Z,{animation:"wave",height:10,width:50,className:u.action}))}))}},40092:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCCategory"},42623:(e,t,o)=>{o.d(t,{Z:()=>S});var s=o(97582),a=o(67294),l=o(90948),n=o(87952),r=o(41538),i=o(98365),c=o(97265),u=o(12132),d=o(74808),m=o(75802),g=o(54490),E=o(86896),p=o(94184),Z=o.n(p),y=o(29628),f=o(75427),N=o(40092);const h=(0,g.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),v={root:`${N.B}-root`,categoryImage:`${N.B}-category-image`,title:`${N.B}-title`,actions:`${N.B}-actions`},w=(0,l.ZP)(f.Z,{name:N.B,slot:"Root"})((()=>({})));const S=function(e){const t=(0,y.Z)({props:e,name:N.B}),{categoryId:o=null,category:l=null,className:g=null,elevation:p,autoHide:f=!1,categoryFollowButtonProps:S={},showFollowers:_=!0,ButtonBaseProps:O=null}=t,b=(0,s._T)(t,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","ButtonBaseProps"]),C=(0,r.sy)(),{scCategory:L,setSCCategory:F}=(0,i.Z)({id:o,category:l}),R=(0,a.useMemo)((()=>O||{component:c.Z,to:C.url(u.CATEGORY_ROUTE_NAME,L)}),[O,C,L]),P=(0,E.Z)();return L?f?null:a.createElement(w,Object.assign({elevation:p,className:Z()(v.root,g),ButtonBaseProps:R,image:a.createElement(n.Z,{alt:L.name,src:L.image_medium,variant:"square",className:v.categoryImage}),primary:L.name,secondary:_?`${P.formatMessage(h.categoryFollowers,{total:L.followers_counter})}`:L.slogan,actions:a.createElement(m.Z,Object.assign({category:L},S))},b)):a.createElement(d.Z,{elevation:p})}},75802:(e,t,o)=>{o.d(t,{Z:()=>v});var s,a=o(97582),l=o(67294),n=o(90948),r=o(59219),i=o(99960),c=o(53704),u=o(68689),d=o(98365),m=o(75459),g=o(31812),E=o(44012),p=o(94184),Z=o.n(p),y=o(29628);!function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(s||(s={}));const f="SCCategoryFollowButton",N={root:`${f}-root`},h=(0,n.ZP)(g.Z,{name:f,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const v=function(e){const t=(0,y.Z)({props:e,name:f}),{className:o,categoryId:n,category:g,onFollow:p}=t,v=(0,a._T)(t,["className","categoryId","category","onFollow"]),w=(0,c.RM)(),S=(0,u.LD)(),_=S.managers.categories,O=S.user?S.user.id:null,{scCategory:b,setSCCategory:C}=(0,d.Z)({id:n,category:g,cacheStrategy:O?r.n2.CACHE_FIRST:r.n2.STALE_WHILE_REVALIDATE}),[L,F]=(0,l.useState)(null);return(0,l.useEffect)((()=>{O&&F(_.isFollowed(b))}),[O,_.isFollowed]),!b||b&&L&&b.auto_follow===s.FORCED?null:l.createElement(h,Object.assign({size:"small",variant:"outlined",onClick:()=>{S.user?_.follow(b).then((()=>{p&&p(b,!L)})).catch((e=>{i.Y.error(m.J,e)})):w.settings.handleAnonymousAction()},loading:S.user?null===L||_.isLoading(b):null,className:Z()(N.root,o)},v),L&&S.user?l.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):l.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},14459:(e,t,o)=>{o.d(t,{Z:()=>g});var s=o(67294),a=o(63902),l=o(78462),n=o(90948),r=o(50353),i=o(44267),c=o(97212),u=o(33584);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},m=(0,n.ZP)(a.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return s.createElement(m,Object.assign({className:d.root},e),s.createElement(i.Z,null,s.createElement(l.Z,{className:d.list},[...Array(4)].map(((e,t)=>s.createElement(c.ZP,{key:t},s.createElement(r.Z,{elevation:0})))))))}},33584:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCCategoryTrendingUsersWidget"},24540:(e,t,o)=>{o.d(t,{Z:()=>m});var s=o(67294),a=o(90948),l=o(88078),n=o(44267),r=o(5616),i=o(63902),c=o(31717);const u={root:`${c.B}-skeleton-root`,content:`${c.B}-content`,input:`${c.B}-input`,avatar:`${c.B}-avatar`},d=(0,a.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function m(){return s.createElement(d,{className:u.root},s.createElement(n.Z,{className:u.content},s.createElement(r.Z,{className:u.input},s.createElement(l.Z,{animation:"wave",variant:"text"})),s.createElement(r.Z,{className:u.avatar},s.createElement(l.Z,{className:u.avatar,animation:"wave",variant:"circular"}))))}},31717:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCInlineComposerWidget"},93132:(e,t,o)=>{o.d(t,{Z:()=>b});var s=o(97582),a=o(67294),l=o(53704),n=o(68689),r=o(41538),i=o(65580),c=o(97265),u=o(12132),d=o(44267),m=o(5616),g=o(69417),E=o(87952),p=o(90948),Z=o(44012),y=o(20377),f=o(63902),N=o(29628),h=o(9181),v=o(22461),w=o(70815),S=o(31717);const _={root:`${S.B}-root`,content:`${S.B}-content`,input:`${S.B}-input`,avatar:`${S.B}-avatar`},O=(0,p.ZP)(f.Z,{name:S.B,slot:"Root"})((()=>({})));const b=function(e){const t=(0,N.Z)({props:e,name:S.B}),{mediaObjectTypes:o=[v.Z,w.Z],defaultValue:p,onSuccess:f=null}=t,b=(0,s._T)(t,["mediaObjectTypes","defaultValue","onSuccess"]),C=(0,l.RM)(),L=(0,n.LD)(),F=(0,r.sy)(),{enqueueSnackbar:R}=(0,y.Ds)(),[P,I]=(0,a.useState)(!1),T=(0,a.useCallback)((()=>{L.user?i.IT(L.user)?R(a.createElement(Z.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):I(!0):C.settings.handleAnonymousAction()}),[L.user,C.settings]),M=(0,a.useCallback)((()=>{I(!1)}),[]);return a.createElement(a.Fragment,null,a.createElement(O,Object.assign({className:_.root},b),a.createElement(d.Z,{className:_.content},a.createElement(m.Z,{className:_.input},a.createElement(g.Z,{variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:T,fullWidth:!0,color:"inherit"},a.createElement(Z.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"}))),a.createElement(m.Z,{className:_.avatar},L.user?a.createElement(c.Z,{to:F.url(u.USER_PROFILE_ROUTE_NAME,L.user)},a.createElement(E.Z,{alt:L.user.username,variant:"circular",src:L.user.avatar})):a.createElement(E.Z,{variant:"circular"})))),a.createElement(h.Z,{open:P,mediaObjectTypes:o,defaultValue:p,fullWidth:!0,onClose:M,onSuccess:e=>{f?f(e):R(a.createElement(Z.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),I(!1)}}))}},43076:(e,t,o)=>{o.d(t,{Z:()=>B});var s=o(97582),a=o(67294),l=o(90948),n=o(78462),r=o(44267),i=o(15861),c=o(97212),u=o(69417),d=o(49877),m=o(59219),g=o(99960),E=o(5840),p=o(68689),Z=o(66380),y=o(85472),f=o(69721),N=o(15927),h=o(42623),v=o(74808),w=o(75459),S=o(44012),_=o(95475);const O="SCUserFollowedCategoriesWidgetSkeleton",b={root:`${O}-skeleton-root`},C=(0,l.ZP)(_.Z,{name:O,slot:"SkeletonRoot"})((()=>({})));function L(e){return a.createElement(C,Object.assign({className:b.root},e))}var F=o(94184),R=o.n(F),P=o(39154),I=o(63902),T=o(29628),M=o(54545);const A="SCUserCategoriesFollowedWidget",U={root:`${A}-root`,title:`${A}-title`,noResults:`${A}-no-results`,showMore:`${A}-show-more`,dialogRoot:`${A}-dialog-root`,endMessage:`${A}-end-message`},j=(0,l.ZP)(I.Z,{name:A,slot:"Root"})((()=>({}))),x=(0,l.ZP)(P.Z,{name:A,slot:"DialogRoot"})((()=>({})));const B=function(e){const t=(0,T.Z)({props:e,name:A}),{userId:o,autoHide:l,limit:_=3,className:O,CategoryProps:b={},cacheStrategy:C=m.n2.NETWORK_ONLY,onHeightChange:F,onStateChange:P,DialogProps:I={}}=t,B=(0,s._T)(t,["userId","autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),D=(0,p.LD)(),k=(0,a.useMemo)((()=>D.user&&o===D.user.id),[D.user,o]),$=(0,a.useContext)(Z.Tt),W=(0,a.useMemo)((()=>y.Ao in $.preferences&&$.preferences[y.Ao].value),[$]),[K,z]=(0,a.useReducer)(N.Xi,{isLoadingNext:!1,next:null,cacheKey:f.hu(f.X5,o),cacheStrategy:C},N.Mv),[X,H]=(0,a.useState)(!1),Y=(0,a.useMemo)((()=>()=>{K.initialized||K.isLoadingNext||d.Z.getUserFollowedCategories(o,null).then((e=>{z({type:N.dK.LOAD_NEXT_SUCCESS,payload:{count:e.length,results:e,initialized:!0}})})).catch((e=>{z({type:N.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),g.Y.error(w.J,e)}))}),[K.isLoadingNext,K.initialized,o,z]);(0,a.useEffect)((()=>{var e;let t;if((W||!W&&(null===(e=D.user)||void 0===e?void 0:e.id))&&(0,E.U)(o)&&void 0!==D.user)return t=setTimeout(Y),()=>{t&&clearTimeout(t)}}),[D.user,W,o]),(0,a.useEffect)((()=>{F&&F()}),[K.results.length]),(0,a.useEffect)((()=>{(W||D.user)&&(0,E.U)(o)&&C===m.n2.NETWORK_ONLY&&P&&P({cacheStrategy:m.n2.CACHE_FIRST})}),[W,C,D.user,o]);const G=e=>{if(k){const t=[...K.results],o=t.findIndex((t=>t.id===e.id));-1!==o&&(e.followed?(t[o].followers_counter=e.followers_counter-1,t[o].followed=!e.followed):(t[o].followers_counter=e.followers_counter+1,t[o].followed=!e.followed),z({type:N.dK.SET_RESULTS,payload:{results:t}}))}},V=()=>{H((e=>!e))};if(l&&!K.count&&K.initialized||!o)return a.createElement(M.Z,null);if(!K.initialized)return a.createElement(L,null);const q=a.createElement(r.Z,null,a.createElement(i.Z,{className:U.title,variant:"h5"},a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:k?K.results.filter((e=>e.followed)).length:K.count}})),K.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,K.results.slice(0,_).map((e=>a.createElement(c.ZP,{key:e.id},a.createElement(h.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:G}},b)))))),_<K.count&&a.createElement(u.Z,{className:U.showMore,onClick:V},a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.button.showAll",defaultMessage:"ui.userFollowedCategoriesWidget.button.showAll"})),X&&a.createElement(x,Object.assign({className:U.dialogRoot,title:a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:K.count}}),onClose:V,open:X,scroll:"paper"},I),a.createElement(n.Z,null,K.results.map((e=>a.createElement(c.ZP,{key:e.id},a.createElement(h.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:G}},b))))),K.isLoadingNext&&a.createElement(c.ZP,null,a.createElement(v.Z,Object.assign({elevation:0},b)))),a.createElement(i.Z,{className:U.endMessage},a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.noMoreResults",defaultMessage:"ui.userFollowedCategoriesWidget.noMoreResults"})))):a.createElement(i.Z,{className:U.noResults,variant:"body2"},a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.subtitle.noResults",defaultMessage:"ui.userFollowedCategoriesWidget.subtitle.noResults"})));return a.createElement(j,Object.assign({className:R()(U.root,O)},B),q)}},61504:(e,t,o)=>{o.d(t,{Z:()=>K});var s=o(97582),a=o(67294),l=o(90948),n=o(78462),r=o(2734),i=o(98396),c=o(44267),u=o(15861),d=o(97212),m=o(69417),g=o(63902),E=o(49877),p=o(65001),Z=o(24085),y=o(59219),f=o(5840),N=o(99960),h=o(69721),v=o(68689),w=o(66380),S=o(45412),_=o(85472),O=o(14459);const b="SCUserFollowedUsersWidget",C={root:`${b}-skeleton-root`},L=(0,l.ZP)(O.Z,{name:b,slot:"SkeletonRoot"})((()=>({})));function F(e){return a.createElement(L,Object.assign({className:C.root},e))}var R=o(37089),P=o(50353),I=o(44012),T=o(94184),M=o.n(T),A=o(75459),U=o(39154),j=o(79558),x=o(29628),B=o(54545),D=o(15927);const k={root:`${b}-root`,title:`${b}-title`,noResults:`${b}-no-results`,showMore:`${b}-show-more`,dialogRoot:`${b}-dialog-root`,endMessage:`${b}-end-message`},$=(0,l.ZP)(g.Z,{name:b,slot:"Root"})((()=>({}))),W=(0,l.ZP)(U.Z,{name:b,slot:"DialogRoot"})((()=>({})));const K=function(e){const t=(0,x.Z)({props:e,name:b}),{userId:o,user:l,autoHide:g=!1,limit:O=3,className:C,UserProps:L={},cacheStrategy:T=y.n2.NETWORK_ONLY,onHeightChange:U,onStateChange:K,DialogProps:z={}}=t,X=(0,s._T)(t,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,Y]=(0,a.useReducer)(D.Xi,{isLoadingNext:!1,next:null,cacheKey:h.hu(h.Nj,(0,f.U)(o)?o:l.id),cacheStrategy:T,visibleItems:O},D.Mv),[G,V]=(0,a.useState)(!1),q=(0,v.LD)(),J=(0,w.ko)(),{scUser:Q,refresh:ee}=(0,S.Z)({id:o,user:l}),te=(0,a.useMemo)((()=>q.user&&(null==Q?void 0:Q.id)===q.user.id),[q.user,Q]),oe=(0,a.useMemo)((()=>_.Ao in J.preferences&&J.preferences[_.Ao].value),[J.preferences]),se=(0,a.useMemo)((()=>_.$0 in J.preferences&&J.preferences[_.$0].value),[J.preferences]),ae=(0,r.Z)(),le=(0,i.Z)(ae.breakpoints.down("md")),ne=(0,a.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(Y({type:D.dK.LOADING_NEXT}),E.Z.getUserFollowings(Q.id,{limit:O}).then((e=>{Y({type:D.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{Y({type:D.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(A.J,e)})))}),[H.isLoadingNext,H.initialized,Q,O,Y]);(0,a.useEffect)((()=>{var e;let t;if((oe||!oe&&(null===(e=q.user)||void 0===e?void 0:e.id))&&se&&Q&&void 0!==q.user)return t=setTimeout(ne),()=>{t&&clearTimeout(t)}}),[q.user,oe,Q]),(0,a.useEffect)((()=>{G&&H.next&&H.results.length===O&&H.initialized&&(Y({type:D.dK.LOADING_NEXT}),E.Z.getUserFollowings(Q.id,{offset:O,limit:10}).then((e=>{Y({type:D.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{Y({type:D.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(A.J,e)})))}),[G,H.next,H.results.length,H.initialized,O]),(0,a.useEffect)((()=>{U&&U()}),[H.results]),(0,a.useEffect)((()=>{Q&&se&&(oe||q.user)&&T===y.n2.NETWORK_ONLY&&K&&K({cacheStrategy:y.n2.CACHE_FIRST})}),[q.user,Q,oe]),(0,a.useEffect)((()=>{Q&&se&&q.user&&H.initialized&&te&&ee().catch((()=>{}))}),[te,q.managers.followed.followed.length]);const re=(0,a.useMemo)((()=>()=>{Y({type:D.dK.LOADING_NEXT}),p.Z.request({url:H.next,method:Z.Z.UserFollowings.method}).then((e=>{Y({type:D.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[Y,H.next,H.isLoadingNext,H.initialized]),ie=()=>{V((e=>!e))};if(!se||g&&!H.count&&H.initialized||!oe&&!q.user||!Q)return a.createElement(B.Z,null);if(!H.initialized)return a.createElement(F,null);const ce=a.createElement(c.Z,null,a.createElement(u.Z,{className:k.title,variant:"h5"},a.createElement(I.Z,{id:"ui.userFollowedUsersWidget.title",defaultMessage:"ui.userFollowedUsersWidget.title",values:{total:Q.followings_counter}})),H.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,H.results.slice(0,H.visibleItems).map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(R.Z,Object.assign({elevation:0,user:e},L)))))),H.count>H.visibleItems&&a.createElement(m.Z,{className:k.showMore,onClick:ie},a.createElement(I.Z,{id:"ui.userFollowedUsersWidget.button.showAll",defaultMessage:"ui.userFollowedUsersWidget.button.showAll"}))):a.createElement(u.Z,{className:k.noResults,variant:"body2"},a.createElement(I.Z,{id:"ui.userFollowedUsersWidget.subtitle.noResults",defaultMessage:""})),G&&a.createElement(W,Object.assign({className:k.dialogRoot,title:a.createElement(I.Z,{defaultMessage:"ui.userFollowedUsersWidget.title",id:"ui.userFollowedUsersWidget.title",values:{total:Q.followings_counter}}),onClose:ie,open:G},z),a.createElement(j.Z,{dataLength:H.results.length,next:re,hasMoreNext:Boolean(H.next),loaderNext:a.createElement(P.Z,Object.assign({elevation:0},L)),height:le?"100%":400,endMessage:a.createElement(u.Z,{className:k.endMessage},a.createElement(I.Z,{id:"ui.userFollowedUsersWidget.noMoreResults",defaultMessage:"ui.userFollowedUsersWidget.noMoreResults"}))},a.createElement(n.Z,null,H.results.map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(R.Z,Object.assign({elevation:0,user:e},L)))))))));return a.createElement($,Object.assign({className:M()(k.root,C)},X),ce)}},5757:(e,t,o)=>{o.d(t,{Z:()=>K});var s=o(97582),a=o(67294),l=o(90948),n=o(78462),r=o(2734),i=o(98396),c=o(44267),u=o(15861),d=o(97212),m=o(69417),g=o(63902),E=o(49877),p=o(65001),Z=o(24085),y=o(59219),f=o(5840),N=o(99960),h=o(69721),v=o(68689),w=o(66380),S=o(45412),_=o(85472),O=o(15927),b=o(14459);const C="SCUserFollowersWidget",L={root:`${C}-skeleton-root`},F=(0,l.ZP)(b.Z,{name:C,slot:"SkeletonRoot"})((()=>({})));function R(e){return a.createElement(F,Object.assign({className:L.root},e))}var P=o(37089),I=o(50353),T=o(44012),M=o(94184),A=o.n(M),U=o(75459),j=o(39154),x=o(79558),B=o(29628),D=o(54545);const k={root:`${C}-root`,title:`${C}-title`,noResults:`${C}-no-results`,showMore:`${C}-show-more`,dialogRoot:`${C}-dialog-root`,endMessage:`${C}-end-message`},$=(0,l.ZP)(g.Z,{name:C,slot:"Root"})((()=>({}))),W=(0,l.ZP)(j.Z,{name:C,slot:"DialogRoot"})((()=>({})));const K=function(e){const t=(0,B.Z)({props:e,name:C}),{userId:o,user:l,autoHide:g=!1,limit:b=3,className:L,UserProps:F={},cacheStrategy:M=y.n2.NETWORK_ONLY,onHeightChange:j,onStateChange:K,DialogProps:z={}}=t,X=(0,s._T)(t,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,Y]=(0,a.useReducer)(O.Xi,{isLoadingNext:!1,next:null,cacheKey:h.hu(h.I$,(0,f.U)(o)?o:l.id),cacheStrategy:M,visibleItems:b},O.Mv),[G,V]=(0,a.useState)(!1),q=(0,v.LD)(),J=(0,w.ko)(),{scUser:Q,refresh:ee}=(0,S.Z)({id:o,user:l}),te=(0,a.useMemo)((()=>q.user&&(null==Q?void 0:Q.id)===q.user.id),[q.user,Q]),oe=(0,a.useMemo)((()=>_.Ao in J.preferences&&J.preferences[_.Ao].value),[J.preferences]),se=(0,a.useMemo)((()=>_.$0 in J.preferences&&J.preferences[_.$0].value),[J.preferences]),ae=(0,r.Z)(),le=(0,i.Z)(ae.breakpoints.down("md")),ne=(0,a.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(Y({type:O.dK.LOADING_NEXT}),E.Z.getUserFollowers(Q.id,{limit:b}).then((e=>{Y({type:O.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{Y({type:O.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(U.J,e)})))}),[H.isLoadingNext,H.initialized,Q,b,Y]);(0,a.useEffect)((()=>{var e;let t;if((oe||!oe&&(null===(e=q.user)||void 0===e?void 0:e.id))&&se&&Q&&void 0!==q.user)return t=setTimeout(ne),()=>{t&&clearTimeout(t)}}),[q.user,oe,Q]),(0,a.useEffect)((()=>{G&&H.next&&H.results.length===b&&H.initialized&&(Y({type:O.dK.LOADING_NEXT}),E.Z.getUserFollowers(Q.id,{offset:b,limit:10}).then((e=>{Y({type:O.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{Y({type:O.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(U.J,e)})))}),[G,H.next,H.results.length,H.initialized,b]),(0,a.useEffect)((()=>{j&&j()}),[H.results]),(0,a.useEffect)((()=>{Q&&se&&(oe||q.user)&&M===y.n2.NETWORK_ONLY&&K&&K({cacheStrategy:y.n2.CACHE_FIRST})}),[q.user,Q,oe]),(0,a.useEffect)((()=>{Q&&se&&q.user&&H.initialized&&!te&&ee().catch((()=>{}))}),[te,q.managers.followed.followed.length]);const re=(0,a.useMemo)((()=>()=>{Y({type:O.dK.LOADING_NEXT}),p.Z.request({url:H.next,method:Z.Z.UserFollowers.method}).then((e=>{Y({type:O.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[Y,H.next,H.isLoadingNext,H.initialized]),ie=()=>{V((e=>!e))};if(!se||g&&!H.count&&H.initialized||!oe&&!q.user||!Q)return a.createElement(D.Z,null);if(!H.initialized)return a.createElement(R,null);const ce=a.createElement(c.Z,null,a.createElement(u.Z,{className:k.title,variant:"h5"},a.createElement(T.Z,{id:"ui.userFollowersWidget.title",defaultMessage:"ui.userFollowersWidget.title",values:{total:Q.followers_counter}})),H.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,H.results.slice(0,H.visibleItems).map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(P.Z,Object.assign({elevation:0,user:e},F)))))),H.count>H.visibleItems&&a.createElement(m.Z,{className:k.showMore,onClick:ie},a.createElement(T.Z,{id:"ui.userFollowersWidget.button.showAll",defaultMessage:"ui.userFollowersWidget.button.showAll"}))):a.createElement(u.Z,{className:k.noResults,variant:"body2"},a.createElement(T.Z,{id:"ui.userFollowersWidget.subtitle.noResults",defaultMessage:""})),G&&a.createElement(W,Object.assign({className:k.dialogRoot,title:a.createElement(T.Z,{defaultMessage:"ui.userFollowersWidget.title",id:"ui.userFollowersWidget.title",values:{total:Q.followers_counter}}),onClose:ie,open:G},z),a.createElement(x.Z,{dataLength:H.results.length,next:re,hasMoreNext:Boolean(H.next),loaderNext:a.createElement(I.Z,Object.assign({elevation:0},F)),height:le?"100%":400,endMessage:a.createElement(u.Z,{className:k.endMessage},a.createElement(T.Z,{id:"ui.userFollowersWidget.noMoreResults",defaultMessage:"ui.userFollowersWidget.noMoreResults"}))},a.createElement(n.Z,null,H.results.map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(P.Z,Object.assign({elevation:0,user:e},F)))))))));return a.createElement($,Object.assign({className:A()(k.root,L)},X),ce)}},15927:(e,t,o)=>{o.d(t,{Mv:()=>n,Xi:()=>l,dK:()=>a});var s=o(59219);const a={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function l(e,t){var o;let l=Object.assign({},e);switch(t.type){case a.LOADING_NEXT:l=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case a.LOADING_PREVIOUS:l=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case a.LOAD_NEXT_SUCCESS:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(o=t.payload)||void 0===o?void 0:o.initialized)||!0});break;case a.LOAD_PREVIOUS_SUCCESS:l=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case a.SET_RESULTS:l=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case a.SET_VISIBLE_ITEMS:l=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case a.LOAD_NEXT_FAILURE:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case a.LOAD_PREVIOUS_FAILURE:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case a.RESET:l={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return s.ZP.set(l.cacheKey,l),l}function n(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&s.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==s.n2.NETWORK_ONLY){const e=s.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},5840:(e,t,o)=>{function s(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}o.d(t,{U:()=>s})}}]);