"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[61410],{53404:(e,s,t)=>{t.d(s,{Z:()=>u});var o=t(97582),n=t(91705),r=t(24085),i=t(66821);class a{static getUserGroups(e,s){const t=(0,i.B)(e);return(0,n.N)(Object.assign(Object.assign({},s),{url:`${r.Z.GetUserGroups.url({})}?${t.toString()}`,method:r.Z.GetUserGroups.method}))}static getUserSubscribedGroups(e,s,t){const o=(0,i.B)(s);return(0,n.N)(Object.assign(Object.assign({},t),{url:`${r.Z.GetUserSubscribedGroups.url({id:e})}?${o.toString()}`,method:r.Z.GetUserSubscribedGroups.method}))}static searchGroups(e,s){const t=(0,i.B)(e);return(0,n.N)(Object.assign(Object.assign({},s),{url:`${r.Z.SearchGroups.url({})}?${t.toString()}`,method:r.Z.SearchGroups.method}))}static getSpecificGroupInfo(e,s){return(0,n.N)(Object.assign(Object.assign({},s),{url:r.Z.GetGroupInfo.url({id:e}),method:r.Z.GetGroupInfo.method}))}static getGroupFeed(e,s,t){const o=(0,i.B)(s);return(0,n.N)(Object.assign(Object.assign({},t),{url:`${r.Z.GetGroupFeed.url({id:e})}?${o.toString()}`,method:r.Z.GetGroupFeed.method}))}static createGroup(e,s){return(0,n.N)(Object.assign(Object.assign({},s),{url:r.Z.CreateGroup.url({}),method:r.Z.CreateGroup.method,data:e}))}static updateGroup(e,s,t){return(0,n.N)(Object.assign(Object.assign({},t),{url:r.Z.UpdateGroup.url({id:e}),method:r.Z.UpdateGroup.method,data:s}))}static patchGroup(e,s,t){return(0,n.N)(Object.assign(Object.assign({},t),{url:r.Z.PatchGroup.url({id:e}),method:r.Z.PatchGroup.method,data:s}))}static deleteGroup(e,s){return(0,n.N)(Object.assign(Object.assign({},s),{url:r.Z.DeleteGroup.url({id:e}),method:r.Z.DeleteGroup.method}))}static changeGroupAvatarOrCover(e,s,t){return(0,n.N)(Object.assign({url:r.Z.PatchGroup.url({id:e}),method:r.Z.PatchGroup.method,data:s},t))}static getGroupMembers(e,s,t){const o=(0,i.B)(s);return(0,n.N)(Object.assign(Object.assign({},t),{url:`${r.Z.GetGroupSubscribers.url({id:e})}?${o.toString()}`,method:r.Z.GetGroupSubscribers.method}))}static getGroupSuggestedUsers(e,s,t){return(0,n.N)(Object.assign(Object.assign({},t),{url:r.Z.GetGroupSuggestedUsers.url({id:e,search:s}),method:r.Z.GetGroupSuggestedUsers.method}))}static getGroupsSuggestedUsers(e,s){return(0,n.N)(Object.assign(Object.assign({},s),{url:r.Z.GetGroupsSuggestedUsers.url({search:e}),method:r.Z.GetGroupsSuggestedUsers.method}))}static removeUserFromGroup(e,s,t){return(0,n.N)(Object.assign(Object.assign({},t),{url:r.Z.RemoveUserFromGroup.url({id:e,user:s}),method:r.Z.RemoveUserFromGroup.method}))}static getGroupInvitedUsers(e,s,t){const o=(0,i.B)(s);return(0,n.N)(Object.assign(Object.assign({},t),{url:`${r.Z.GetGroupInvitedUsers.url({id:e})}?${o.toString()}`,method:r.Z.GetGroupInvitedUsers.method}))}static subscribeToGroup(e,s){return(0,n.N)(Object.assign(Object.assign({},s),{url:r.Z.SubscribeToGroup.url({id:e}),method:r.Z.SubscribeToGroup.method}))}static unsubscribeFromGroup(e,s){return(0,n.N)(Object.assign(Object.assign({},s),{url:r.Z.UnsubscribeFromGroup.url({id:e}),method:r.Z.UnsubscribeFromGroup.method}))}static inviteOrAcceptGroupRequest(e,s,t){return(0,n.N)(Object.assign(Object.assign({},t),{url:r.Z.InviteOrAcceptGroupRequest.url({id:e}),method:r.Z.InviteOrAcceptGroupRequest.method,data:s}))}static getGroupSubscriptionStatus(e,s){return(0,n.N)(Object.assign(Object.assign({},s),{url:r.Z.GetGroupSubscriptionStatus.url({id:e}),method:r.Z.GetGroupSubscriptionStatus.method}))}static getGroupWaitingApprovalSubscribers(e,s,t){const o=(0,i.B)(s);return(0,n.N)(Object.assign(Object.assign({},t),{url:`${r.Z.GetGroupWaitingApprovalSubscribers.url({id:e})}?${o.toString()}`,method:r.Z.GetGroupWaitingApprovalSubscribers.method}))}}class u{static getUserGroups(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getUserGroups(e,s)}))}static getUserSubscribedGroups(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getUserSubscribedGroups(e,s,t)}))}static searchGroups(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.searchGroups(e,s)}))}static getSpecificGroupInfo(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getSpecificGroupInfo(e,s)}))}static getGroupFeed(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getGroupFeed(e,s,t)}))}static createGroup(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.createGroup(e,s)}))}static updateGroup(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.updateGroup(e,s,t)}))}static patchGroup(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.patchGroup(e,s,t)}))}static deleteGroup(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.deleteGroup(e,s)}))}static changeGroupAvatarOrCover(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.changeGroupAvatarOrCover(e,s,t)}))}static getGroupMembers(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getGroupMembers(e,s,t)}))}static getGroupSuggestedUsers(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getGroupSuggestedUsers(e,s,t)}))}static getGroupsSuggestedUsers(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getGroupsSuggestedUsers(e,s)}))}static removeUserFromGroup(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.removeUserFromGroup(e,s,t)}))}static getGroupInvitedUsers(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getGroupInvitedUsers(e,s,t)}))}static subscribeToGroup(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.subscribeToGroup(e,s)}))}static unsubscribeFromGroup(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.unsubscribeFromGroup(e,s)}))}static inviteOrAcceptGroupRequest(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.inviteOrAcceptGroupRequest(e,s,t)}))}static getGroupSubscriptionStatus(e,s){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getGroupSubscriptionStatus(e,s)}))}static getGroupWaitingApprovalSubscribers(e,s,t){return(0,o.mG)(this,void 0,void 0,(function*(){return a.getGroupWaitingApprovalSubscribers(e,s,t)}))}}},26677:(e,s,t)=>{t.d(s,{Z:()=>p});var o=t(67294),n=t(74482),r=t(24243),i=t(24085),a=t(59219),u=t(96570),l=t(99960),c=t(69721),d=t(87620),g=t(22607);function p({id:e=null,group:s=null,cacheStrategy:t=a.n2.CACHE_FIRST}){const p=s?s.id:e,m=(0,g.LD)(),h=m.user?m.user.id:null,j=(0,c.b0)(p),b=h?s:(0,u.Kd)(s,["subscription_status"]),[Z,v]=(0,o.useState)(t!==a.n2.NETWORK_ONLY?a.ZP.get(j,b):null),[f,x]=(0,o.useState)(null),O=e=>{const s=h?e:(0,u.Kd)(e,["subscription_status"]);v(s),a.ZP.set(j,s)},S=(0,o.useMemo)((()=>()=>r.Z.request({url:i.Z.GetGroupInfo.url({id:p}),method:i.Z.GetGroupInfo.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[p]);return(0,o.useEffect)((()=>{p&&(!Z||Z&&p!==Z.id)&&S().then((e=>{O(e)})).catch((s=>{a.ZP.delete(j),x(`Group with id ${e} not found`),l.Y.error(n.h,`Group with id ${e} not found`),l.Y.error(n.h,s.message)}))}),[p,h]),(0,d.F_)((()=>{s&&O(s)}),[s,h]),{scGroup:Z,setSCGroup:O,error:f}}},61410:(e,s,t)=>{t.d(s,{Z:()=>_t});var o=t(85893),n=t(67294),r=t(90948),i=t(94253),a=t(16216),u=t(25662),l=t(15861),c=t(67564),d=t(3553),g=t(43076),p=t(61504),m=t(5757),h=t(97582),j=t(44267),b=t(78462),Z=t(97212),v=t(53404),f=t(59219),x=t(99960),O=t(5840),S=t(22607),N=t(8860),E=t(12918),C=t(69721),_=t(15927),R=t(72951),P=t(26462),I=t(75459),y=t(44012),M=t(63902),w=t(2734),G=t(88078),A=t(115);const U="SCGroup",B={root:`${U}-skeleton-root`},T=(0,r.ZP)(A.Z,{name:U,slot:"SkeletonRoot"})((()=>({})));function $(e){const s=(0,w.Z)();return(0,o.jsx)(T,Object.assign({className:B.root},e,{image:(0,o.jsx)(G.Z,{animation:"wave",variant:"circular",width:s.selfcommunity.group.avatar.sizeSmall,height:s.selfcommunity.group.avatar.sizeSmall}),primary:(0,o.jsx)(G.Z,{animation:"wave",height:10,width:120,style:{marginBottom:10}}),secondary:(0,o.jsx)(G.Z,{animation:"wave",height:10,width:70,style:{marginBottom:10}}),actions:(0,o.jsx)(u.Z,Object.assign({size:"small",variant:"outlined",disabled:!0},{children:(0,o.jsx)(G.Z,{animation:"wave",height:10,width:30,style:{marginTop:5,marginBottom:5}})}))}))}const k="SCUserSubscribedGroupsWidgetSkeleton",L={root:`${k}-skeleton-root`,list:`${k}-list`},D=(0,r.ZP)(M.Z,{name:k,slot:"SkeletonRoot"})((()=>({})));function W(e){return(0,o.jsxs)(D,Object.assign({className:L.root},e,{children:[(0,o.jsx)(j.Z,{children:(0,o.jsx)(b.Z,Object.assign({className:L.list},{children:[...Array(3)].map(((e,s)=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)($,{elevation:0})},s)))}))}),");"]}))}var F=t(20819),K=t.n(F),z=t(39154),q=t(29360),H=t(54545);const Y="SCUserSubscribedGroupsWidget";var X=t(37292),J=t(87952),V=t(26677),Q=t(41538),ee=t(97265),se=t(12132),te=t(54490),oe=t(86896),ne=t(75427),re=t(42879),ie=t(62254),ae=t(96828),ue=t(32120),le=t(1798),ce=t.n(le);const de="SCGroupSubscribeButton",ge={root:`${de}-root`},pe=(0,r.ZP)(ae.Z,{name:de,slot:"Root",overridesResolver:(e,s)=>s.root})((({theme:e})=>({})));const me=function(e){var s;const t=(0,q.Z)({props:e,name:de}),{className:r,groupId:i,group:a,user:u,onSubscribe:l}=t,c=(0,h._T)(t,["className","groupId","group","user","onSubscribe"]),[d,g]=(0,n.useState)(null),p=(0,ie.RM)(),m=(0,S.LD)(),j=m.managers.groups,b=m.user?m.user.id:null,{scGroup:Z}=(0,V.Z)({id:i,group:a,cacheStrategy:b?f.n2.CACHE_FIRST:f.n2.STALE_WHILE_REVALIDATE}),v=(0,n.useMemo)((()=>{var e;return m.user&&(null===(e=null==Z?void 0:Z.managed_by)||void 0===e?void 0:e.id)===m.user.id}),[m.user,null===(s=null==Z?void 0:Z.managed_by)||void 0===s?void 0:s.id]);(0,n.useEffect)((()=>{b&&g(j.subscriptionStatus(Z))}),[b,j.subscriptionStatus,Z]);const O=e=>{j.subscribe(Z,null==e?void 0:e.id).then((()=>{const s=Z.privacy===P.f.PRIVATE&&Z.subscription_status!==P.v.INVITED?P.v.REQUESTED:P.v.SUBSCRIBED;!function(e,s){e&&s&&ce().publish(`${ue.fd.GROUP}.${ue.dR.ADD_MEMBER}`,{group:e,user:s})}(Z,e),l&&l(Z,s)})).catch((e=>{x.Y.error(I.J,e)}))},N=(0,n.useMemo)((()=>{let e;switch(d){case P.v.REQUESTED:e=(0,o.jsx)(y.Z,{defaultMessage:"ui.groupSubscribeButton.waitingApproval",id:"ui.groupSubscribeButton.waitingApproval"});break;case P.v.SUBSCRIBED:e=(0,o.jsx)(y.Z,{defaultMessage:"ui.groupSubscribeButton.exit",id:"ui.groupSubscribeButton.exit"});break;case P.v.INVITED:e=(0,o.jsx)(y.Z,{defaultMessage:"ui.groupSubscribeButton.accept",id:"ui.groupSubscribeButton.accept"});break;default:e=Z.privacy===P.f.PUBLIC?(0,o.jsx)(y.Z,{defaultMessage:"ui.groupSubscribeButton.enter",id:"ui.groupSubscribeButton.enter"}):(0,o.jsx)(y.Z,{defaultMessage:"ui.groupSubscribeButton.requestAccess",id:"ui.groupSubscribeButton.requestAccess"})}return e}),[d,Z]);return!Z||v&&(null==u?void 0:u.id)===m.user.id||v&&!(null==u?void 0:u.id)?null:(0,o.jsx)(pe,Object.assign({size:"small",variant:"outlined",onClick:()=>{m.user?d!==P.v.SUBSCRIBED||(null==u?void 0:u.id)?(null==u?void 0:u.id)?O(u):O():j.unsubscribe(Z).then((()=>{l&&l(Z,null)})).catch((e=>{x.Y.error(I.J,e)})):p.settings.handleAnonymousAction()},loading:m.user?j.isLoading(Z):null,disabled:d===P.v.REQUESTED,className:K()(ge.root,r)},c,{children:v?(0,o.jsx)(y.Z,{defaultMessage:"ui.groupSubscribeButton.accept",id:"ui.groupSubscribeButton.accept"}):N}))},he=(e,s)=>e.length<=s?e:e.substring(0,s)+"...";var je=t(74580);const be=(0,te.vU)({groupMembers:{id:"ui.group.members",defaultMessage:"ui.group.members"}}),Ze={root:`${U}-root`,avatar:`${U}-avatar`,actions:`${U}-actions`,icon:`${U}-icon`},ve=(0,r.ZP)(ne.Z,{name:U,slot:"Root",overridesResolver:(e,s)=>s.root})((({theme:e})=>({})));const fe=function(e){var s;const t=(0,q.Z)({props:e,name:U}),{groupId:r=null,group:i=null,className:l=null,elevation:d,hideActions:g=!1,actionRedirect:p=!1,groupSubscribeButtonProps:m={}}=t,j=(0,h._T)(t,["groupId","group","className","elevation","hideActions","actionRedirect","groupSubscribeButtonProps"]),{scGroup:b}=(0,V.Z)({id:r,group:i}),Z=(0,Q.sy)(),v=(0,S.LD)(),f=(0,n.useMemo)((()=>{var e;return v.user&&(null===(e=null==b?void 0:b.managed_by)||void 0===e?void 0:e.id)===v.user.id}),[v.user,null===(s=null==b?void 0:b.managed_by)||void 0===s?void 0:s.id]),[x,O]=(0,n.useState)(!1),N=(0,oe.Z)(),E=(0,w.Z)(),C=(0,X.Z)(E.breakpoints.down("md"));return b?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ve,Object.assign({elevation:d},j,{className:K()(Ze.root,l),ButtonBaseProps:{component:ee.Z,to:Z.url(se.GROUP_ROUTE_NAME,b)},image:(0,o.jsx)(J.Z,{alt:b.name,src:b.image_medium,className:Ze.avatar}),primary:(0,o.jsxs)(o.Fragment,{children:[he(b.name,C?je.H8:je.KS)," ",(0,o.jsx)(c.Z,Object.assign({className:Ze.icon},{children:(null==i?void 0:i.privacy)===P.f.PRIVATE?"private":"public"}))]}),secondary:`${N.formatMessage(be.groupMembers,{total:b.subscribers_counter})}`,actions:g?null:(0,o.jsxs)(a.Z,Object.assign({className:Ze.actions,direction:"row",alignItems:"center",justifyContent:"center",spacing:2},{children:[f&&(0,o.jsx)(c.Z,{children:"face"}),p?(0,o.jsx)(u.Z,Object.assign({size:"small",variant:"outlined",component:ee.Z,to:Z.url(se.GROUP_ROUTE_NAME,b)},{children:b.subscription_status===P.v.SUBSCRIBED?(0,o.jsx)(y.Z,{defaultMessage:"ui.group.status.enter",id:"ui.group.status.enter"}):(0,o.jsx)(y.Z,{defaultMessage:"ui.group.status.discover",id:"ui.group.status.discover"})})):(0,o.jsx)(me,Object.assign({group:i,groupId:r},m))]}))})),x&&(0,o.jsx)(re.Z,{open:x,handleClose:()=>O(!1)})]}):(0,o.jsx)($,{elevation:d})},xe={root:`${Y}-root`,title:`${Y}-title`,noResults:`${Y}-no-results`,showMore:`${Y}-show-more`,dialogRoot:`${Y}-dialog-root`,endMessage:`${Y}-end-message`},Oe=(0,r.ZP)(M.Z,{name:Y,slot:"Root"})((()=>({}))),Se=(0,r.ZP)(z.Z,{name:Y,slot:"DialogRoot"})((()=>({})));const Ne=function(e){const s=(0,q.Z)({props:e,name:Y}),{userId:t,autoHide:r,limit:i=3,className:a,GroupProps:c={},cacheStrategy:d=f.n2.NETWORK_ONLY,onHeightChange:g,onStateChange:p,DialogProps:m={}}=s,M=(0,h._T)(s,["userId","autoHide","limit","className","GroupProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),w=(0,S.LD)(),G=(0,n.useMemo)((()=>w.user&&t===w.user.id),[w.user,t]),{preferences:A,features:U}=(0,N.ko)(),B=(0,n.useMemo)((()=>A&&U&&U.includes(R.$.TAGGING)&&U.includes(R.$.GROUPING)&&E.$T in A&&A[E.$T].value),[A,U]),[T,k]=(0,n.useReducer)(_.Xi,{isLoadingNext:!1,next:null,cacheKey:C.hu(C.zL,t),cacheStrategy:d},_.Mv),[L,D]=(0,n.useState)(!1),F=(0,n.useMemo)((()=>()=>{T.initialized||T.isLoadingNext||v.Z.getUserSubscribedGroups(t).then((e=>{k({type:_.dK.LOAD_NEXT_SUCCESS,payload:{count:e.count,results:e.results,initialized:!0}})})).catch((e=>{k({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(I.J,e)}))}),[T.isLoadingNext,T.initialized,t,k]);(0,n.useEffect)((()=>{let e;if(B&&(0,O.U)(t)&&void 0!==w.user)return e=setTimeout(F),()=>{e&&clearTimeout(e)}}),[w.user,B,t]),(0,n.useEffect)((()=>{g&&g()}),[T.results.length]),(0,n.useEffect)((()=>{(B||w.user||(0,O.U)(t))&&d===f.n2.NETWORK_ONLY&&p&&p({cacheStrategy:f.n2.CACHE_FIRST})}),[B,d,w.user,t]);const z=e=>{if(G){const s=[...T.results],t=s.findIndex((s=>s.id===e.id));-1!==t&&(e.subscription_status===P.v.SUBSCRIBED?(s[t].subscribers_counter=e.subscribers_counter-1,s[t].subscription_status=null):(s[t].subscribers_counter=e.privacy===P.f.PUBLIC?e.subscribers_counter+1:e.subscribers_counter,s[t].subscription_status=e.privacy===P.f.PUBLIC?P.v.SUBSCRIBED:P.v.REQUESTED),k({type:_.dK.SET_RESULTS,payload:{results:s}}))}},X=()=>{D((e=>!e))};if(!B||r&&!T.count&&T.initialized||!t)return(0,o.jsx)(H.Z,{});if(!T.initialized)return(0,o.jsx)(W,{});const J=(0,o.jsxs)(j.Z,{children:[(0,o.jsx)(l.Z,Object.assign({className:xe.title,variant:"h5"},{children:(0,o.jsx)(y.Z,{id:"ui.userSubscribedGroupsWidget.title",defaultMessage:"ui.userSubscribedGroupsWidget.title",values:{total:G?T.results.filter((e=>e.subscription_status===P.v.SUBSCRIBED)).length:T.count}})})),T.count?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(b.Z,{children:T.results.slice(0,i).map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(fe,Object.assign({elevation:0,group:e,groupSubscribeButtonProps:{onSubscribe:z}},c))},e.id)))}),i<T.count&&(0,o.jsx)(u.Z,Object.assign({className:xe.showMore,onClick:X},{children:(0,o.jsx)(y.Z,{id:"ui.userSubscribedGroupsWidget.button.showAll",defaultMessage:"ui.userSubscribedGroupsWidget.button.showAll"})})),L&&(0,o.jsxs)(Se,Object.assign({className:xe.dialogRoot,title:(0,o.jsx)(y.Z,{id:"ui.userSubscribedGroupsWidget.title",defaultMessage:"ui.userSubscribedGroupsWidget.title",values:{total:T.count}}),onClose:X,open:L,scroll:"paper"},m,{children:[(0,o.jsxs)(b.Z,{children:[T.results.map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(fe,Object.assign({elevation:0,group:e,groupSubscribeButtonProps:{onSubscribe:z}},c))},e.id))),T.isLoadingNext&&(0,o.jsx)(Z.ZP,{children:(0,o.jsx)($,Object.assign({elevation:0},c))})]}),(0,o.jsx)(l.Z,Object.assign({className:xe.endMessage},{children:(0,o.jsx)(y.Z,{id:"ui.userSubscribedGroupsWidget.noMoreResults",defaultMessage:"ui.userSubscribedGroupsWidget.noMoreResults"})}))]}))]}):(0,o.jsx)(l.Z,Object.assign({className:xe.noResults,variant:"body2"},{children:(0,o.jsx)(y.Z,{id:"ui.userSubscribedGroupsWidget.subtitle.noResults",defaultMessage:"ui.userSubscribedGroupsWidget.subtitle.noResults"})}))]});return(0,o.jsx)(Oe,Object.assign({className:K()(xe.root,a)},M,{children:J}))};var Ee=t(19577),Ce=t(49184),_e=t(76541),Re=t(63511);const Pe="SCUserCreatedCoursesWidgetSkeleton",Ie={root:`${Pe}-skeleton-root`,list:`${Pe}-list`},ye=(0,r.ZP)(M.Z,{name:Pe,slot:"SkeletonRoot"})((()=>({})));function Me(e){return(0,o.jsx)(ye,Object.assign({className:Ie.root},e,{children:(0,o.jsx)(j.Z,{children:(0,o.jsx)(b.Z,Object.assign({className:Ie.list},{children:[...Array(3)].map(((e,s)=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(_e.Z,{template:Re.f8.SNIPPET,CourseProps:{userProfileSnippet:!0},elevation:0})},s)))}))})}))}const we="SCUserCreatedCoursesWidget";var Ge=t(42875);const Ae={root:`${we}-root`,title:`${we}-title`,noResults:`${we}-no-results`,showMore:`${we}-show-more`,dialogRoot:`${we}-dialog-root`,endMessage:`${we}-end-message`},Ue=(0,r.ZP)(M.Z,{name:we,slot:"Root"})((()=>({}))),Be=(0,r.ZP)(z.Z,{name:we,slot:"DialogRoot"})((()=>({})));const Te=function(e){const s=(0,q.Z)({props:e,name:we}),{userId:t,limit:r=3,className:i,CourseProps:a={},cacheStrategy:c=f.n2.NETWORK_ONLY,onHeightChange:d,onStateChange:g,DialogProps:p={}}=s,m=(0,h._T)(s,["userId","limit","className","CourseProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),v=(0,S.LD)(),{preferences:P,features:M}=(0,N.ko)(),w=(0,n.useMemo)((()=>P&&M&&M.includes(R.$.COURSE)&&E.jo in P&&P[E.jo].value),[P,M]),[G,A]=(0,n.useReducer)(_.Xi,{isLoadingNext:!1,next:null,cacheKey:C.hu(C.Ap,t),cacheStrategy:c},_.Mv),[U,B]=(0,n.useState)(!1),T=(0,n.useMemo)((()=>()=>{G.initialized||G.isLoadingNext||Ee.Z.getUserJoinedCourses(t,{statuses:Ce.Nl.CREATOR}).then((e=>{A({type:_.dK.LOAD_NEXT_SUCCESS,payload:{count:e.count,results:e.results,initialized:!0}})})).catch((e=>{A({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(I.J,e)}))}),[G.isLoadingNext,G.initialized,t,A]);(0,n.useEffect)((()=>{let e;if(w&&(0,O.U)(t)&&void 0!==v.user)return e=setTimeout(T),()=>{e&&clearTimeout(e)}}),[v.user,w,t]),(0,n.useEffect)((()=>{d&&d()}),[G.results.length]),(0,n.useEffect)((()=>{(w||v.user||(0,O.U)(t))&&c===f.n2.NETWORK_ONLY&&g&&g({cacheStrategy:f.n2.CACHE_FIRST})}),[w,c,v.user,t]);const $=()=>{B((e=>!e))};if(!w||!G.count&&G.initialized||!t)return(0,o.jsx)(H.Z,{});if(!G.initialized)return(0,o.jsx)(Me,{});const k=(0,o.jsxs)(j.Z,{children:[(0,o.jsx)(l.Z,Object.assign({className:Ae.title,variant:"h5"},{children:(0,o.jsx)(y.Z,{id:"ui.userCreatedCoursesWidget.title",defaultMessage:"ui.userCreatedCoursesWidget.title",values:{total:G.count}})})),G.count?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(b.Z,{children:G.results.slice(0,r).map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ge.Z,Object.assign({elevation:0,template:Re.f8.SNIPPET,course:e,userProfileSnippet:!0},a))},e.id)))}),r<G.count&&(0,o.jsx)(u.Z,Object.assign({className:Ae.showMore,onClick:$},{children:(0,o.jsx)(y.Z,{id:"ui.userCreatedCoursesWidget.button.showAll",defaultMessage:"ui.userCreatedCoursesWidget.button.showAll"})})),U&&(0,o.jsxs)(Be,Object.assign({className:Ae.dialogRoot,title:(0,o.jsx)(y.Z,{id:"ui.userCreatedCoursesWidget.title",defaultMessage:"ui.userCreatedCoursesWidget.title",values:{total:G.count}}),onClose:$,open:U,scroll:"paper"},p,{children:[(0,o.jsxs)(b.Z,{children:[G.results.map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ge.Z,Object.assign({elevation:0,template:Re.f8.SNIPPET,course:e,userProfileSnippet:!0},a))},e.id))),G.isLoadingNext&&(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(_e.Z,{template:Re.f8.SNIPPET,elevation:0,CourseProps:{userProfileSnippet:!0}})})]}),(0,o.jsx)(l.Z,Object.assign({className:Ae.endMessage},{children:(0,o.jsx)(y.Z,{id:"ui.userCreatedCoursesWidget.noMoreResults",defaultMessage:"ui.userCreatedCoursesWidget.noMoreResults"})}))]}))]}):(0,o.jsx)(l.Z,Object.assign({className:Ae.noResults,variant:"body2"},{children:(0,o.jsx)(y.Z,{id:"ui.userCreatedCoursesWidget.subtitle.noResults",defaultMessage:"ui.userCreatedCoursesWidget.subtitle.noResults"})}))]});return(0,o.jsx)(Ue,Object.assign({className:K()(Ae.root,i)},m,{children:k}))};var $e=t(19326),ke=t(49877),Le=t(24243),De=t(24085),We=t(45412),Fe=t(14459);const Ke="SCUserConnectionsWidget",ze={root:`${Ke}-skeleton-root`},qe=(0,r.ZP)(Fe.Z,{name:Ke,slot:"Root",overridesResolver:(e,s)=>s.root})((({theme:e})=>({})));function He(e){return(0,o.jsx)(qe,Object.assign({className:ze.root},e))}var Ye=t(37089),Xe=t(50353),Je=t(79558);const Ve={root:`${Ke}-root`,title:`${Ke}-title`,noResults:`${Ke}-no-results`,showMore:`${Ke}-show-more`,dialogRoot:`${Ke}-dialog-root`,endMessage:`${Ke}-end-message`},Qe=(0,r.ZP)(M.Z,{name:Ke,slot:"Root"})((()=>({}))),es=(0,r.ZP)(z.Z,{name:Ke,slot:"DialogRoot"})((()=>({})));const ss=function(e){const s=(0,q.Z)({props:e,name:Ke}),{userId:t,user:r,autoHide:i=!1,limit:a=3,className:c,UserProps:d={},cacheStrategy:g=f.n2.NETWORK_ONLY,onHeightChange:p,onStateChange:m,DialogProps:v={}}=s,R=(0,h._T)(s,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[P,M]=(0,n.useReducer)(_.Xi,{isLoadingNext:!1,next:null,cacheKey:C.hu(C.wv,(0,O.U)(t)?t:r.id),cacheStrategy:g,visibleItems:a},_.Mv),[G,A]=(0,n.useState)(!1),U=(0,S.LD)(),B=(0,N.ko)(),{scUser:T,refresh:$}=(0,We.Z)({id:t,user:r}),k=(0,n.useMemo)((()=>E.Ao in B.preferences&&B.preferences[E.Ao].value),[B.preferences]),L=(0,n.useMemo)((()=>E.$0 in B.preferences&&B.preferences[E.$0].value),[B.preferences]),D=(0,w.Z)(),W=(0,X.Z)(D.breakpoints.down("md")),F=(0,n.useMemo)((()=>()=>{P.initialized||P.isLoadingNext||(M({type:_.dK.LOADING_NEXT}),ke.Z.getUserConnections(T.id,{limit:a}).then((e=>{M({type:_.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{M({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(I.J,e)})))}),[P.isLoadingNext,P.initialized,T,a,M]);(0,n.useEffect)((()=>{var e;let s;if((k||!k&&(null===(e=U.user)||void 0===e?void 0:e.id))&&!L&&T&&void 0!==U.user)return s=setTimeout(F),()=>{s&&clearTimeout(s)}}),[U.user,U.loading,k,T]),(0,n.useEffect)((()=>{G&&P.next&&P.results.length===a&&P.initialized&&(M({type:_.dK.LOADING_NEXT}),ke.Z.getUserConnections(T.id,{offset:a,limit:10}).then((e=>{M({type:_.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{M({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(I.J,e)})))}),[G,P.next,P.results.length,P.initialized,a]),(0,n.useEffect)((()=>{p&&p()}),[P.results]),(0,n.useEffect)((()=>{T&&!L&&(k||U.user)&&g===f.n2.NETWORK_ONLY&&m&&m({cacheStrategy:f.n2.CACHE_FIRST})}),[U.user,T,k]);const z=(0,n.useMemo)((()=>()=>{M({type:_.dK.LOADING_NEXT}),Le.Z.request({url:P.next,method:De.Z.UserConnections.method}).then((e=>{M({type:_.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[M,P.next,P.isLoadingNext,P.initialized]),Y=(0,n.useMemo)((()=>()=>{$()}),[$]),J=()=>{A((e=>!e))};if(L||i&&!P.count&&P.initialized||!k&&!U.user||!T)return(0,o.jsx)(H.Z,{});if(!P.initialized)return(0,o.jsx)(He,{});const V=(0,o.jsxs)(j.Z,{children:[(0,o.jsx)(l.Z,Object.assign({className:Ve.title,variant:"h5"},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsWidget.title",defaultMessage:"ui.userConnectionsWidget.title",values:{total:T.connections_counter}})})),P.count?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(b.Z,{children:P.results.slice(0,P.visibleItems).map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ye.Z,Object.assign({elevation:0,user:e,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:Y}}},d))},e.id)))}),P.count>P.visibleItems&&(0,o.jsx)(u.Z,Object.assign({className:Ve.showMore,onClick:J},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsWidget.button.showAll",defaultMessage:"ui.userConnectionsWidget.button.showAll"})}))]}):(0,o.jsx)(l.Z,Object.assign({className:Ve.noResults,variant:"body2"},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsWidget.subtitle.noResults",defaultMessage:""})})),G&&(0,o.jsx)(es,Object.assign({className:Ve.dialogRoot,title:(0,o.jsx)(y.Z,{defaultMessage:"ui.userConnectionsWidget.title",id:"ui.userConnectionsWidget.title",values:{total:T.connections_counter}}),onClose:J,open:G},v,{children:(0,o.jsx)(Je.Z,Object.assign({dataLength:P.results.length,next:z,hasMoreNext:Boolean(P.next),loaderNext:(0,o.jsx)(Xe.Z,Object.assign({elevation:0},d)),height:W?"100%":400,endMessage:(0,o.jsx)(l.Z,Object.assign({className:Ve.endMessage},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsWidget.noMoreResults",defaultMessage:"ui.userConnectionsWidget.noMoreResults"})}))},{children:(0,o.jsx)(b.Z,{children:P.results.map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ye.Z,Object.assign({elevation:0,user:e,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:Y}}},d))},e.id)))})}))}))]});return(0,o.jsx)(Qe,Object.assign({className:K()(Ve.root,c)},R,{children:V}))},ts="SCUserConnectionsRequestsWidget",os={root:`${ts}-skeleton-root`},ns=(0,r.ZP)(Fe.Z,{name:ts,slot:"SkeletonRoot"})((()=>({})));function rs(e){return(0,o.jsx)(ns,Object.assign({className:os.root},e))}const is={root:`${ts}-root`,title:`${ts}-title`,noResults:`${ts}-no-results`,showMore:`${ts}-show-more`,dialogRoot:`${ts}-dialog-root`,endMessage:`${ts}-end-message`},as=(0,r.ZP)(M.Z,{name:ts,slot:"Root"})((()=>({}))),us=(0,r.ZP)(z.Z,{name:ts,slot:"DialogRoot"})((()=>({})));const ls=function(e){const s=(0,q.Z)({props:e,name:ts}),{autoHide:t=!1,limit:r=3,className:i,UserProps:a={},cacheStrategy:c=f.n2.NETWORK_ONLY,onHeightChange:d,onStateChange:g,DialogProps:p={},userId:m}=s,v=(0,h._T)(s,["autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","userId"]),O=(0,S.LD)(),R=(0,N.ko)(),[P,M]=(0,n.useReducer)(_.Xi,{isLoadingNext:!1,next:null,cacheKey:C.hu(C.R4,m),cacheStrategy:c,visibleItems:r},_.Mv),[G,A]=(0,n.useState)(!1),U=(0,n.useMemo)((()=>E.Ao in R.preferences&&R.preferences[E.Ao].value),[R.preferences]),B=(0,n.useMemo)((()=>E.$0 in R.preferences&&R.preferences[E.$0].value),[R.preferences]),T=(0,w.Z)(),$=(0,X.Z)(T.breakpoints.down("md")),k=(0,n.useMemo)((()=>()=>{P.initialized||P.isLoadingNext||(M({type:_.dK.LOADING_NEXT}),ke.Z.getUserConnectionRequests({limit:r}).then((e=>{M({type:_.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{M({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(I.J,e)})))}),[P.isLoadingNext,P.initialized,r,M]);(0,n.useEffect)((()=>{let e;if(O.user&&!B)return e=setTimeout(k),()=>{e&&clearTimeout(e)}}),[O.user,U]),(0,n.useEffect)((()=>{G&&P.next&&P.results.length===r&&P.initialized&&(M({type:_.dK.LOADING_NEXT}),ke.Z.getUserConnectionRequests({offset:r,limit:10}).then((e=>{M({type:_.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{M({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(I.J,e)})))}),[G,P.next,P.results.length,P.initialized,r]),(0,n.useEffect)((()=>{d&&d()}),[P.results]),(0,n.useEffect)((()=>{B||!U&&!O.user||c===f.n2.NETWORK_ONLY&&g&&g({cacheStrategy:f.n2.CACHE_FIRST})}),[O.user,U]);const L=(0,n.useMemo)((()=>()=>{M({type:_.dK.LOADING_NEXT}),Le.Z.request({url:P.next,method:De.Z.UserConnectionsRequests.method}).then((e=>{M({type:_.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[M,P.next,P.isLoadingNext,P.initialized]),D=(0,n.useMemo)((()=>()=>{O.refreshCounters()}),[O.refreshCounters]),W=()=>{A((e=>!e))};if(B||t&&!P.count&&P.initialized||!U&&!O.user)return(0,o.jsx)(H.Z,{});if(!P.initialized)return(0,o.jsx)(rs,{});const F=(0,o.jsxs)(j.Z,{children:[(0,o.jsx)(l.Z,Object.assign({className:is.title,variant:"h5"},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsRequestsWidget.title",defaultMessage:"ui.userConnectionsRequestsWidget.title",values:{total:O.user.connection_requests_received_counter}})})),P.count?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(b.Z,{children:P.results.slice(0,P.visibleItems).map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ye.Z,Object.assign({elevation:0,user:e.from_user,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:D}}},a))},e.from_user.id)))}),P.count>P.visibleItems&&(0,o.jsx)(u.Z,Object.assign({className:is.showMore,onClick:W},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsRequestsWidget.button.showAll",defaultMessage:"ui.userConnectionsRequestsWidget.button.showAll"})}))]}):(0,o.jsx)(l.Z,Object.assign({className:is.noResults,variant:"body2"},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsRequestsWidget.subtitle.noResults",defaultMessage:""})})),G&&(0,o.jsx)(us,Object.assign({className:is.dialogRoot,title:(0,o.jsx)(y.Z,{defaultMessage:"ui.userConnectionsRequestsWidget.title",id:"ui.userConnectionsRequestsWidget.title",values:{total:O.user.connection_requests_received_counter}}),onClose:W,open:G},p,{children:(0,o.jsx)(Je.Z,Object.assign({dataLength:P.results.length,next:L,hasMoreNext:Boolean(P.next),loaderNext:(0,o.jsx)(Xe.Z,Object.assign({elevation:0},a)),height:$?"100%":400,endMessage:(0,o.jsx)(l.Z,Object.assign({className:is.endMessage},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsRequestsWidget.noMoreResults",defaultMessage:"ui.userConnectionsRequestsWidget.noMoreResults"})}))},{children:(0,o.jsx)(b.Z,{children:P.results.map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ye.Z,Object.assign({elevation:0,user:e.from_user,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:D}}},a))},e.from_user.id)))})}))}))]});return(0,o.jsx)(as,Object.assign({className:K()(is.root,i)},v,{children:F}))},cs="SCUserConnectionsRequestsSentWidget",ds={root:`${cs}-skeleton-root`},gs=(0,r.ZP)(Fe.Z,{name:cs,slot:"SkeletonRoot"})((()=>({})));function ps(e){return(0,o.jsx)(gs,Object.assign({className:ds.root},e))}const ms={root:`${cs}-root`,title:`${cs}-title`,noResults:`${cs}-no-results`,showMore:`${cs}-show-more`,dialogRoot:`${cs}-dialog-root`,endMessage:`${cs}-end-message`},hs=(0,r.ZP)(M.Z,{name:cs,slot:"Root"})((()=>({}))),js=(0,r.ZP)(z.Z,{name:cs,slot:"DialogRoot"})((()=>({})));const bs=function(e){const s=(0,q.Z)({props:e,name:cs}),{autoHide:t=!1,limit:r=3,className:i,UserProps:a={},cacheStrategy:c=f.n2.NETWORK_ONLY,onHeightChange:d,onStateChange:g,DialogProps:p={},userId:m}=s,v=(0,h._T)(s,["autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","userId"]),[R,P]=(0,n.useReducer)(_.Xi,{isLoadingNext:!1,next:null,cacheKey:C.hu(C.Gp,m),cacheStrategy:c,visibleItems:r},_.Mv),[M,G]=(0,n.useState)(!1),A=(0,S.LD)(),U=(0,N.ko)(),B=(0,n.useMemo)((()=>E.Ao in U.preferences&&U.preferences[E.Ao].value),[U.preferences]),T=(0,n.useMemo)((()=>E.$0 in U.preferences&&U.preferences[E.$0].value),[U.preferences]),$=(0,w.Z)(),k=(0,X.Z)($.breakpoints.down("md")),L=(0,n.useMemo)((()=>()=>{R.initialized||R.isLoadingNext||(P({type:_.dK.LOADING_NEXT}),ke.Z.getUserRequestConnectionsSent({limit:r}).then((e=>{P({type:_.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{P({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(I.J,e)})))}),[R.isLoadingNext,R.initialized,m,r,P]);(0,n.useEffect)((()=>{let e;if(!T&&A.user)return e=setTimeout(L),()=>{e&&clearTimeout(e)}}),[A.user,B,m]),(0,n.useEffect)((()=>{M&&R.next&&R.results.length===r&&R.initialized&&(P({type:_.dK.LOADING_NEXT}),ke.Z.getUserRequestConnectionsSent({offset:r,limit:10}).then((e=>{P({type:_.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{P({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(I.J,e)})))}),[M,R.next,R.results.length,R.initialized,r]),(0,n.useEffect)((()=>{d&&d()}),[R.results]),(0,n.useEffect)((()=>{(0,O.U)(m)&&!T&&(B||A.user)&&c===f.n2.NETWORK_ONLY&&g&&g({cacheStrategy:f.n2.CACHE_FIRST})}),[A.user,m,B]);const D=(0,n.useMemo)((()=>()=>{P({type:_.dK.LOADING_NEXT}),Le.Z.request({url:R.next,method:De.Z.UserRequestConnectionsSent.method}).then((e=>{P({type:_.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[P,R.next,R.isLoadingNext,R.initialized]),W=(0,n.useMemo)((()=>()=>{A.refreshCounters()}),[A.refreshCounters]),F=()=>{G((e=>!e))};if(T||t&&!R.count&&R.initialized||!B&&!A.user||!m)return(0,o.jsx)(H.Z,{});if(!R.initialized)return(0,o.jsx)(ps,{});const z=(0,o.jsxs)(j.Z,{children:[(0,o.jsx)(l.Z,Object.assign({className:ms.title,variant:"h5"},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsRequestsSentWidget.title",defaultMessage:"ui.userConnectionsRequestsSentWidget.title",values:{total:A.user.connection_requests_sent_counter}})})),R.count?(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(b.Z,{children:R.results.slice(0,R.visibleItems).map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ye.Z,Object.assign({elevation:0,user:e.to_user,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:W}}},a))},e.to_user.id)))}),R.count>R.visibleItems&&(0,o.jsx)(u.Z,Object.assign({className:ms.showMore,onClick:F},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsRequestsSentWidget.button.showAll",defaultMessage:"ui.userConnectionsRequestsSentWidget.button.showAll"})}))]}):(0,o.jsx)(l.Z,Object.assign({className:ms.noResults,variant:"body2"},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsRequestsSentWidget.subtitle.noResults",defaultMessage:""})})),M&&(0,o.jsx)(js,Object.assign({className:ms.dialogRoot,title:(0,o.jsx)(y.Z,{defaultMessage:"ui.userConnectionsRequestsSentWidget.title",id:"ui.userConnectionsRequestsSentWidget.title",values:{total:A.user.connection_requests_sent_counter}}),onClose:F,open:M},p,{children:(0,o.jsx)(Je.Z,Object.assign({dataLength:R.results.length,next:D,hasMoreNext:Boolean(R.next),loaderNext:(0,o.jsx)(Xe.Z,Object.assign({elevation:0},a)),height:k?"100%":400,endMessage:(0,o.jsx)(l.Z,Object.assign({className:ms.endMessage},{children:(0,o.jsx)(y.Z,{id:"ui.userConnectionsRequestsSentWidget.noMoreResults",defaultMessage:"ui.userConnectionsRequestsSentWidget.noMoreResults"})}))},{children:(0,o.jsx)(b.Z,{children:R.results.map((e=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ye.Z,Object.assign({elevation:0,user:e.to_user,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:W}}},a))},e.to_user.id)))})}))}))]});return(0,o.jsx)(hs,Object.assign({className:K()(ms.root,i)},v,{children:z}))};var Zs=t(49901),vs=t(5101),fs=t(93946),xs=t(44652),Os=t(25464),Ss=t(54776),Ns=t(98619),Es=t(59334),Cs=t(67720),_s=t(18972),Rs=t(65580),Ps=t(77488),Is=t(78518);const ys="SCUserInfo",Ms={root:`${ys}-skeleton-root`,field:`${ys}-field`},ws=(0,r.ZP)(i.Z,{name:ys,slot:"SkeletonRoot"})((()=>({})));const Gs=function(){return(0,o.jsx)(ws,Object.assign({className:Ms.root},{children:Array.from({length:3}).map(((e,s)=>(0,o.jsxs)(i.Z,Object.assign({className:Ms.field},{children:[(0,o.jsx)(l.Z,Object.assign({variant:"h6"},{children:(0,o.jsx)(G.Z,{animation:"wave",sx:{height:20,width:"50%"}})})),(0,o.jsx)(l.Z,Object.assign({variant:"body2"},{children:(0,o.jsx)(G.Z,{animation:"wave",sx:{height:20,width:"80%"}})}))]}),s)))}))};var As=t(42980),Us=t(86558);const Bs=(0,te.vU)({realName:{id:"ui.userInfo.realName",defaultMessage:"ui.userInfo.realName"},dateJoined:{id:"ui.userInfo.dateJoined",defaultMessage:"ui.userInfo.dateJoined"},bio:{id:"ui.userInfo.bio",defaultMessage:"ui.userInfo.bio"},location:{id:"ui.userInfo.location",defaultMessage:"ui.userInfo.location"},dateOfBirth:{id:"ui.userInfo.dateOfBirth",defaultMessage:"ui.userInfo.dateOfBirth"},description:{id:"ui.userInfo.description",defaultMessage:"ui.userInfo.description"},gender:{id:"ui.userInfo.gender",defaultMessage:"ui.userInfo.gender"},website:{id:"ui.userInfo.website",defaultMessage:"ui.userInfo.website"},tags:{id:"ui.userInfo.website",defaultMessage:"ui.userInfo.website"},fieldLink:{id:"ui.userInfo.fieldLink",defaultMessage:"ui.userInfo.fieldLink"}}),Ts={root:`${ys}-root`,field:`${ys}-field`},$s=(0,r.ZP)(i.Z,{name:ys,slot:"Root"})((()=>({})));const ks=function(e){const s=(0,q.Z)({props:e,name:ys}),{className:t=null,userId:r=null,user:a=null,fields:u=[...Is.t]}=s,c=(0,h._T)(s,["className","userId","user","fields"]),{scUser:d}=(0,We.Z)({id:r,user:a}),g=(0,oe.Z)(),p=(0,N.ko)(),m=(0,n.useMemo)((()=>{if(p.preferences&&E.kK in p.preferences)try{return JSON.parse(p.preferences[E.kK].value)}catch(e){return x.Y.error(I.J,"Error on parse user metadata."),{}}return null}),[p.preferences]),j=[...u,...Object.keys(m)],b=(e,s)=>{switch(s){case As._V.DATE_JOINED:case As._V.DATE_OF_BIRTH:return`${g.formatDate(e[s],{year:"numeric",month:"numeric",day:"numeric"})}`;case As._V.TAGS:return(0,o.jsx)(Us.Z,{tags:e.tags.filter((e=>e.visible)),type:Us.x.LIST,direction:"row",TagChipProps:{clickable:!1,disposable:!1}});case As._V.WEBSITE:return(0,o.jsx)("a",Object.assign({href:e[s],target:"_blank"},{children:e[s]}));default:return e[s]}};return d&&m?0===j.length?null:(0,o.jsx)($s,Object.assign({className:K()(Ts.root,t)},c,{children:j.map((e=>d[e]?e===As._V.TAGS?d[e].length>0?(0,o.jsx)(i.Z,Object.assign({className:Ts.field},{children:b(d,e)}),e):null:(0,o.jsxs)(i.Z,Object.assign({className:Ts.field},{children:[(0,o.jsx)(l.Z,Object.assign({variant:"h6"},{children:m[e]?m[e].label:g.formatMessage(Bs[(0,Ps.eV)(e)])})),(0,o.jsx)(l.Z,Object.assign({variant:"body2"},{children:b(d,e)}))]}),e):null))})):(0,o.jsx)(Gs,{})},Ls={root:`${ys}-dialog-root`,caption:`${ys}-caption`,avatar:`${ys}-avatar`,username:`${ys}-username`},Ds=(0,r.ZP)(z.Z,{name:ys,slot:"DialogRoot"})((()=>({})));const Ws=function(e){const s=(0,q.Z)({props:e,name:ys}),{className:t,userId:n=null,user:r=null,UserInfoProps:a={}}=s,u=(0,h._T)(s,["className","userId","user","UserInfoProps"]),{scUser:c}=(0,We.Z)({id:n,user:r}),d=(0,o.jsxs)(i.Z,Object.assign({className:Ls.caption},{children:[(0,o.jsx)(J.Z,{className:Ls.avatar,src:null==c?void 0:c.avatar}),(0,o.jsx)(l.Z,Object.assign({className:Ls.username,variant:"h6"},{children:(null==c?void 0:c.real_name)?null==c?void 0:c.real_name:null==c?void 0:c.username}))]}));return(0,o.jsx)(Ds,Object.assign({title:(0,o.jsx)(y.Z,{id:"ui.userInfoDialog.title",defaultMessage:"ui.userInfoDialog.title"}),subtitle:d,className:K()(Ls.root,t)},u,{children:c?(0,o.jsx)(ks,Object.assign({},a,{userId:n,user:c})):(0,o.jsx)(Gs,{})}))};var Fs=t(27560),Ks=t(20377);const zs="SCUserActionIconButton",qs={root:`${zs}-root`,drawerRoot:`${zs}-drawer-root`,menuRoot:`${zs}-menu-root`},Hs=(0,r.ZP)(fs.Z,{name:zs,slot:"Root",overridesResolver:(e,s)=>s.root})((({theme:e})=>({}))),Ys=(0,r.ZP)(xs.Z,{name:zs,slot:"Root",overridesResolver:(e,s)=>s.drawerRoot})((({theme:e})=>({}))),Xs=(0,r.ZP)(Os.Z,{name:zs,slot:"Root",overridesResolver:(e,s)=>s.menuRoot})((({theme:e})=>({}))),Js=n.forwardRef((function(e,s){return(0,o.jsx)(Ss.Z,Object.assign({direction:"up",ref:s},e))}));const Vs=function(e){const s=(0,q.Z)({props:e,name:zs}),{className:t=null,userId:r=null,user:i=null,items:a=[]}=s,u=(0,h._T)(s,["className","userId","user","items"]),l=(0,S.LD)(),[d,g]=((0,ie.RM)(),(0,n.useState)(null)),[p,m]=(0,n.useState)(!1),[j,v]=(0,n.useState)(!1),[f,x]=(0,n.useState)(null),[O,N]=(0,n.useState)(!1),{scUser:E}=(0,We.Z)({id:r,user:i}),C=(0,w.Z)(),_=(0,X.Z)(C.breakpoints.down("md")),{enqueueSnackbar:R}=(0,Ks.Ds)(),P=e=>{g(e.currentTarget)},I=()=>{g(null)},M=()=>{m(!0),g(null)},G=()=>{v(!0),l.managers.blockedUsers.block(E).then((e=>{x(e)})).then((()=>v(!1))).catch((()=>{R((0,o.jsx)(y.Z,{id:"ui.common.action.notPermitted",defaultMessage:"ui.common.action.notPermitted"}),{variant:"warning",autoHideDuration:7e3}),v(!1),A()}))},A=(0,n.useMemo)((()=>()=>{N((e=>!e)),I()}),[N,I]),U=l.user&&E.id===l.user.id,B=(0,n.useMemo)((()=>l.user&&(null==l?void 0:l.user.role)),[l.user]),T=(0,n.useMemo)((()=>B&&(B.includes("admin")||B.includes("moderator"))&&!U),[B,U]);function $(e){Le.Z.request({url:De.Z.Platform.url(),method:De.Z.Platform.method,params:{next:e}}).then((e=>{I();const s=e.data.platform_url;window.open(s,"_blank").focus()})).catch((e=>{console.log(e)}))}if((0,n.useEffect)((()=>{d&&null===f&&E&&x(l.managers.blockedUsers.isBlocked(E))}),[d,E]),!l.user)return null;const k=()=>_?[...a.map(((e,s)=>(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ns.Z,Object.assign({component:ee.Z,to:e.to},{children:(0,o.jsx)(Es.Z,{primary:e.label})}))},s))),(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ns.Z,Object.assign({onClick:M},{children:(0,o.jsx)(Es.Z,{primary:(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.information",id:"ui.userActionIconButton.information"})})}))},"info"),...U?[]:[(0,o.jsx)(Cs.Z,{},"divider"),(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ns.Z,Object.assign({onClick:G,disabled:j||E.community_badge||!f&&Rs.B2(E)},{children:(0,o.jsx)(Es.Z,{primary:f?(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.show",id:"ui.userActionIconButton.show"}):(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.hide",id:"ui.userActionIconButton.hide"})})}))},"hide"),...T?[(0,o.jsx)(Cs.Z,{},"divider_moderate"),(0,o.jsx)(Z.ZP,{children:(0,o.jsx)(Ns.Z,Object.assign({component:ee.Z,onClick:()=>$(`/moderation/user/?username=${E.username}`)},{children:(0,o.jsx)(Es.Z,{primary:(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.moderate",id:"ui.userActionIconButton.moderate"})})}))},"moderate")]:[]]]:[...a.map(((e,s)=>(0,o.jsx)(_s.Z,Object.assign({component:ee.Z,to:e.to,onClick:I},{children:e.label}),s))),(0,o.jsx)(_s.Z,Object.assign({onClick:M},{children:(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.information",id:"ui.userActionIconButton.information"})}),"info"),...U?[]:[(0,o.jsx)(Cs.Z,{},"divider"),(0,o.jsx)(_s.Z,Object.assign({onClick:A,disabled:j||E.community_badge},{children:f?(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.show",id:"ui.userActionIconButton.show"}):(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.hide",id:"ui.userActionIconButton.hide"})}),"hide"),...T?[(0,o.jsx)(Cs.Z,{},"divider_moderate"),(0,o.jsx)(_s.Z,Object.assign({component:ee.Z,onClick:()=>$(`/moderation/user/?username=${E.username}`)},{children:(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.moderate",id:"ui.userActionIconButton.moderate"})}),"moderate")]:[]]];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Hs,Object.assign({className:K()(qs.root,t)},u,{onClick:P},{children:(0,o.jsx)(c.Z,{children:"more_vert"})})),Boolean(d)&&(0,o.jsx)(o.Fragment,{children:_?(0,o.jsx)(Ys,Object.assign({className:qs.drawerRoot,anchor:"bottom",open:!0,onClose:I,onOpen:P,disableSwipeToOpen:!0},{children:(0,o.jsx)(b.Z,{children:k()})})):(0,o.jsx)(Xs,Object.assign({className:qs.menuRoot,anchorEl:d,open:!0,onClose:I},{children:k()}))}),(0,o.jsx)(Ws,{userId:r,user:E,open:p,onClose:()=>{m(!1)}}),O&&(0,o.jsx)(Fs.Z,{open:O,isUpdating:j,TransitionComponent:Js,keepMounted:!0,title:f?(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.show",id:"ui.userActionIconButton.show"}):(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.hide",id:"ui.userActionIconButton.hide"}),content:f?(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.dialogShowAction",id:"ui.userActionIconButton.dialogShowAction"}):(0,o.jsx)(y.Z,{defaultMessage:"ui.userActionIconButton.dialogHideAction",id:"ui.userActionIconButton.dialogHideAction"}),onConfirm:G,onClose:()=>N(!1)})]})};var Qs=t(74482);function et({user:e=null,blockedByUser:s=null,sync:t=!0}){const[o,r]=(0,n.useState)(null),[i,a]=(0,n.useState)(!0),[u,l]=(0,n.useState)(null),c=(0,S.LD)(),d=(0,n.useMemo)((()=>(e,s=!0)=>(s&&a(!0),ke.Z.checkUserHiddenBy(e.id).then((e=>(s&&a(!1),r(e.is_hidden_by),Promise.resolve(e.is_hidden_by)))).catch((e=>{s&&a(!1),x.Y.error(Qs.h,"Unable to load user blocked by."),x.Y.error(Qs.h,e),l(e)})))),[i,r]);return(0,n.useEffect)((()=>{e&&null===o&&(c.user?c.user.id!==e.id?d(e):(r(!1),a(!1)):null===c.user&&(r(s),a(!1)))}),[c.user,e,d,o,i]),(0,n.useEffect)((()=>{c.user||null===o||r(s)}),[c.user,o,s]),(0,n.useEffect)((()=>{let s;if(c.user&&c.user.id!==(null==e?void 0:e.id)&&null!==o&&t)return s=setInterval((()=>{d(e,!1)}),5e3),()=>{s&&clearInterval(s)}}),[c.user,e,d,o]),{blockedBy:o,loading:i,error:u}}const st="SCUserProfileBlocked",tt={root:`${st}-root`,info:`${st}-info`,button:`${st}-button`},ot=(0,r.ZP)(i.Z,{name:st,slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({textAlign:"center"})));const nt=function(e){const s=(0,q.Z)({props:e,name:st}),{className:t=null,userId:r=null,user:i=null,blockedByUser:a=null,syncBlockedByUserStatus:u=!1}=s,c=(0,h._T)(s,["className","userId","user","blockedByUser","syncBlockedByUserStatus"]),d=(0,S.LD)(),{enqueueSnackbar:g}=(0,Ks.Ds)(),{scUser:p}=(0,We.Z)({id:r,user:i}),{blockedBy:m,loading:j}=et({user:p,blockedByUser:a,sync:u}),b=(0,n.useMemo)((()=>d.user&&(null==p?void 0:p.id)===d.user.id),[d.user,p]),Z=(0,n.useMemo)((()=>()=>{d.managers.blockedUsers.block(p).catch((e=>{x.Y.error(I.J,e),g((0,o.jsx)(y.Z,{id:"ui.common.error.action",defaultMessage:"ui.common.error.action"}),{variant:"error",autoHideDuration:3e3})}))}),[d.managers.blockedUsers,p]);return p&&d.user&&!j?(0,o.jsxs)(ot,Object.assign({className:K()(tt.root,t)},c,{children:[(0,o.jsx)(Cs.Z,{}),!b&&m&&(0,o.jsx)(l.Z,Object.assign({variant:"body1",className:tt.info},{children:(0,o.jsx)(y.Z,{id:"ui.userProfileBlocked.blockedUserBy",defaultMessage:"ui.userProfileBlocked.blockedUserBy"})})),!b&&d.managers.blockedUsers.isBlocked(p)&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.Z,Object.assign({variant:"body1",className:tt.info},{children:(0,o.jsx)(y.Z,{id:"ui.userProfileBlocked.blockedUser",defaultMessage:"ui.userProfileBlocked.blockedUser"})})),(0,o.jsx)(ae.Z,Object.assign({variant:"contained",className:tt.button,loading:d.managers.blockedUsers.loading,disabled:d.managers.blockedUsers.loading,onClick:Z},{children:(0,o.jsx)(y.Z,{id:"ui.userProfileBlocked.unBlockUser",defaultMessage:"ui.userProfileBlocked.unBlockUser"})}))]})]})):null};var rt=t(87620),it=t(51575);const at="SCUserCounters",ut={root:`${at}-root`,button:`${at}-button`},lt=(0,r.ZP)(i.Z,{name:at,slot:"Root",overridesResolver:(e,s)=>s.root})((({theme:e})=>({})));const ct=function(e){const s=(0,q.Z)({props:e,name:at}),{className:t=null,userId:r=null,user:i=null}=s,a=(0,h._T)(s,["className","userId","user"]),l=(0,Q.sy)(),c=(0,n.useContext)(N.Tt),d=E.$0 in c.preferences&&c.preferences[E.$0].value,g=(0,S.LD)(),{scUser:p,refresh:m,refreshing:j}=(0,We.Z)({id:r,user:i}),b=(0,n.useMemo)((()=>g.user&&(null==p?void 0:p.id)===g.user.id),[g.user,p]),Z=p?p.id:null;return(0,rt.F_)((()=>{!Z||!g.user||g.managers.followed.isLoading(p)||g.managers.connections.isLoading(p)||j||m().catch((()=>{}))}),[Z,g.user,g.managers.connections.connections,g.managers.followed.followed.length]),(0,rt.F_)((()=>{b&&m().catch((()=>{}))}),[b,g.managers.categories.categories.length]),void 0!==g.user&&p?(0,o.jsxs)(lt,Object.assign({className:K()(ut.root,t)},a,{children:[d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,Object.assign({className:ut.button,variant:"text",component:ee.Z,to:l.url(se.USER_PROFILE_FOLLOWINGS_ROUTE_NAME,p)},{children:(0,o.jsx)(y.Z,{id:"ui.userCounters.followings",defaultMessage:"ui.userCounters.followings",values:{count:null==p?void 0:p.followings_counter,b:e=>(0,o.jsx)("strong",{children:e})}})})),(0,o.jsx)(it.Z,{}),(0,o.jsx)(u.Z,Object.assign({className:ut.button,variant:"text",component:ee.Z,to:l.url(se.USER_PROFILE_FOLLOWERS_ROUTE_NAME,p)},{children:(0,o.jsx)(y.Z,{id:"ui.userCounters.followers",defaultMessage:"ui.userCounters.followers",values:{count:null==p?void 0:p.followers_counter,b:e=>(0,o.jsx)("strong",{children:e})}})}))]}):(0,o.jsx)(u.Z,Object.assign({className:ut.button,variant:"text",component:ee.Z,to:l.url(se.USER_PROFILE_CONNECTIONS_ROUTE_NAME,p)},{children:(0,o.jsx)(y.Z,{id:"ui.userCounters.connections",defaultMessage:"ui.userCounters.connections",values:{count:null==p?void 0:p.connections_counter,b:e=>(0,o.jsx)("strong",{children:e})}})})),(0,o.jsx)(it.Z,{}),(0,o.jsx)(u.Z,Object.assign({className:ut.button,variant:"text",component:ee.Z,to:l.url(se.USER_PROFILE_CATEGORIES_ROUTE_NAME,p)},{children:(0,o.jsx)(y.Z,{id:"ui.userCounters.categories",defaultMessage:"ui.userCounters.categories",values:{count:null==p?void 0:p.categories_counter,b:e=>(0,o.jsx)("strong",{children:e})}})}))]})):null};var dt=t(8455),gt=t(76994),pt=t(41298),mt=t(34388);const ht="SCUserProfileTemplate",jt={root:`${ht}-skeleton-root`},bt=(0,r.ZP)(i.Z,{name:ht,slot:"SkeletonRoot"})((()=>({})));function Zt(){return(0,o.jsxs)(bt,Object.assign({className:jt.root},{children:[(0,o.jsx)(pt.Z,{}),(0,o.jsx)(mt.Z,{})]}))}var vt=t(95321),ft=t.n(vt);const xt={root:`${ht}-root`,counters:`${ht}-counters`,tags:`${ht}-tags`,info:`${ht}-info`,feed:`${ht}-feed`,actions:`${ht}-actions`},Ot=(0,r.ZP)(i.Z,{name:ht,slot:"Root"})((()=>({}))),St=[{type:"widget",component:d.Z,componentProps:{},column:"right",position:0},{type:"widget",component:g.Z,componentProps:{},column:"right",position:1},{type:"widget",component:p.Z,componentProps:{},column:"right",position:2},{type:"widget",component:m.Z,componentProps:{},column:"right",position:3},{type:"widget",component:Ne,componentProps:{},column:"right",position:4},{type:"widget",component:Te,componentProps:{},column:"right",position:5}],Nt=[{type:"widget",component:$e.Z,componentProps:{},column:"right",position:-1}],Et=[{type:"widget",component:d.Z,componentProps:{},column:"right",position:0},{type:"widget",component:g.Z,componentProps:{},column:"right",position:1},{type:"widget",component:ss,componentProps:{},column:"right",position:2},{type:"widget",component:Ne,componentProps:{},column:"right",position:3}],Ct=[{type:"widget",component:$e.Z,componentProps:{},column:"right",position:-1},{type:"widget",component:ls,componentProps:{autoHide:!0},column:"right",position:2},{type:"widget",component:bs,componentProps:{autoHide:!0},column:"right",position:3}];const _t=function(e){const s=(0,q.Z)({props:e,name:ht}),{id:t="user_profile",className:r,user:i,userId:d,startActions:g=null,endActions:p=null,viewStartActions:m=null,viewEndActions:h=null,editStartActions:j=null,editEndActions:b=null,widgets:Z=null,FeedObjectProps:v,FeedSidebarProps:f,UserProfileHeaderProps:x={},onEditClick:O=null,UserFeedProps:C={}}=s,_=(0,S.LD)(),P=(0,N.ko)(),I=(0,Q.sy)(),{features:M}=(0,N.ko)(),[w,G]=(0,n.useState)(void 0),{scUser:A}=(0,We.Z)({id:d,user:i}),{blockedBy:U,loading:B}=et({user:A}),T=(0,oe.Z)(),$=(0,n.useMemo)((()=>M.includes(R.$.TAGGING)),[M]),k=(0,n.useMemo)((()=>_.user&&(null==A?void 0:A.id)===_.user.id),[_.user,A]),L=(0,n.useMemo)((()=>E.$0 in P.preferences&&P.preferences[E.$0].value),[P.preferences]),D=(0,n.useMemo)((()=>M.includes(R.$.PRIVATE_MESSAGING)),[M]),W=(0,n.useMemo)((()=>{var e,s;if(null!==Z)return Z;if(!A)return[];let t=[];return t=L&&(null===(e=null==_?void 0:_.user)||void 0===e?void 0:e.id)===A.id?[...St,...Nt]:L?[...St]:L||(null===(s=null==_?void 0:_.user)||void 0===s?void 0:s.id)!==A.id?[...Et]:[...Et,...Ct],t.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:A.id})})))}),[Z,L,null==_?void 0:_.user,A]);if((0,n.useEffect)((()=>{i&&Object.is(null!=w?w:null,null)&&(k?G(!1):L&&_.managers.followers.isFollower?G(_.managers.followers.isFollower(i)):!L&&_.managers.connections.status&&G("connected"===_.managers.connections.status(i)))}),[w,_.managers.followers,_.managers.connections,L,k,i,_.user]),!A)return(0,o.jsx)(Zt,{});k||(C.FeedProps=Object.assign({HeaderComponent:null},C.FeedProps));let F=[];return D&&!k&&i&&i.can_send_pm_to&&(F=[{label:(0,o.jsx)(y.Z,{defaultMessage:"templates.userProfile.send.pm",id:"templates.userProfile.send.pm"}),to:I.url(se.USER_PRIVATE_MESSAGES_ROUTE_NAME,A)}]),(0,o.jsxs)(Ot,Object.assign({id:t,className:ft()(xt.root,r)},{children:[(0,o.jsx)(Zs.Z,Object.assign({user:A},x,{actions:!k&&A&&Boolean(_.user&&_.managers.blockedUsers.isBlocked(A)||U)?null:(0,o.jsxs)(a.Z,Object.assign({direction:"row",spacing:2,className:xt.actions},{children:[g,k?j:m,k?(0,o.jsx)(u.Z,Object.assign({variant:"contained",color:"secondary",onClick:()=>{O&&O(A)}},{children:(0,o.jsx)(y.Z,{defaultMessage:"templates.userProfile.edit",id:"templates.userProfile.edit"})})):(0,o.jsx)(vs.Z,{user:A}),k?b:h,p,(0,o.jsx)(Vs,{user:A,items:F})]}),`actions_${A.id}`)})),void 0===_.user||_.user&&(B&&null===U||_.managers.blockedUsers.isLoading())?(0,o.jsx)(mt.Z,{}):(0,o.jsx)(o.Fragment,{children:B||_.user&&_.managers.blockedUsers.loading?null:(0,o.jsx)(o.Fragment,{children:!k&&A&&Boolean(_.user&&_.managers.blockedUsers.isBlocked(A)||U)?(0,o.jsx)(nt,{user:A,blockedByUser:U}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ct,{className:xt.counters,userId:d,user:A}),A.date_joined&&(0,o.jsx)(l.Z,Object.assign({className:xt.info},{children:(0,o.jsx)(y.Z,{id:"templates.userProfile.dateJoined",defaultMessage:"templates.userProfile.dateJoined",values:{date:T.formatDate(A.date_joined,{year:"numeric",month:"long"})}})})),A.location&&(0,o.jsxs)(l.Z,Object.assign({className:xt.info},{children:[(0,o.jsx)(c.Z,{children:"add_location_alt"})," ",A.location]})),$&&(0,o.jsx)(a.Z,Object.assign({direction:"row",spacing:2,className:xt.tags},{children:A.tags.filter((e=>e.visible)).map((e=>(0,o.jsx)(dt.Z,{tag:e,clickable:!1,disposable:!1},e.id)))}),`tags_${A.id}`),(0,o.jsx)(gt.Z,Object.assign({className:xt.feed,user:A,widgets:W,FeedObjectProps:v,FeedSidebarProps:f},C),`feed_${A.id}`)]})})})]}))}},76541:(e,s,t)=>{t.d(s,{Z:()=>S});var o=t(97582),n=t(85893),r=t(90948),i=t(94253),a=t(88078),u=t(44267),l=t(62023),c=t(67564),d=t(25662),g=t(29360),p=t(20819),m=t.n(p),h=t(63511),j=t(63902),b=t(11159),Z=t(75427);const v={root:`${b.B}-skeleton-root`,skeletonPreviewRoot:`${b.B}-skeleton-preview-root`,skeletonSnippetRoot:`${b.B}-skeleton-snippet-root`,skeletonPreviewAvatar:`${b.B}-skeleton-preview-avatar`,skeletonPreviewContent:`${b.B}-skeleton-preview-content`,skeletonPreviewActions:`${b.B}-skeleton-preview-actions`,skeletonSnippetImage:`${b.B}-skeleton-snippet-image`,skeletonSnippetAction:`${b.B}-skeleton-snippet-action`},f=(0,r.ZP)(j.Z,{name:b.B,slot:"SkeletonRoot"})((()=>({}))),x=(0,r.ZP)(i.Z,{name:b.B,slot:"SkeletonPreviewRoot"})((()=>({}))),O=(0,r.ZP)(Z.Z,{name:b.B,slot:"SkeletonSnippetRoot"})((()=>({})));function S(e){const s=(0,g.Z)({props:e,name:b.B}),{className:t,template:r,skeletonsAnimation:p="wave",actions:j,CourseProps:Z}=s,S=(0,o._T)(s,["className","template","skeletonsAnimation","actions","CourseProps"]);let N;return N=r===h.f8.PREVIEW?(0,n.jsxs)(x,Object.assign({className:v.skeletonPreviewRoot},{children:[(0,n.jsxs)(i.Z,Object.assign({position:"relative"},{children:[(0,n.jsx)(a.Z,{variant:"rectangular",animation:p,width:"100%",height:"110px"}),(0,n.jsx)(a.Z,{className:v.skeletonPreviewAvatar,variant:"rounded",animation:p})]})),(0,n.jsxs)(u.Z,Object.assign({className:v.skeletonPreviewContent},{children:[(0,n.jsx)(a.Z,{animation:p,width:"20%",height:14,sx:{marginTop:1},variant:"rectangular"}),(0,n.jsx)(a.Z,{animation:p,width:"40%",height:14,sx:{marginTop:1.5},variant:"rectangular"}),(0,n.jsx)(a.Z,{animation:p,width:"60%",height:14,sx:{marginTop:4.5},variant:"rectangular"})]})),(0,n.jsx)(l.Z,Object.assign({className:v.skeletonPreviewActions},{children:void 0!==j?j:(0,n.jsx)(a.Z,{variant:"rounded",width:100,height:30})}))]})):(0,n.jsx)(O,{elevation:0,square:!0,disableTypography:!0,className:v.skeletonSnippetRoot,image:(0,n.jsxs)(i.Z,Object.assign({className:v.skeletonSnippetImage},{children:[(0,n.jsx)(a.Z,{animation:p,variant:"rectangular",width:(null==Z?void 0:Z.userProfileSnippet)?60:100,height:60}),(0,n.jsx)(c.Z,Object.assign({fontSize:"large"},{children:"courses"}))]})),primary:(null==Z?void 0:Z.userProfileSnippet)?(0,n.jsx)(a.Z,{animation:p,variant:"rectangular",height:10,width:120,style:{marginBottom:10}}):(0,n.jsx)(a.Z,{animation:p,variant:"rectangular",height:10,width:40,style:{marginBottom:12}}),secondary:(null==Z?void 0:Z.userProfileSnippet)?(0,n.jsx)(a.Z,{animation:p,variant:"rectangular",height:10,width:60}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{animation:p,variant:"rectangular",height:10,width:120,style:{marginBottom:10}}),(0,n.jsx)(a.Z,{animation:p,variant:"rectangular",height:10,width:60})]}),actions:(0,n.jsx)(n.Fragment,{children:void 0!==j?j:(0,n.jsx)(d.Z,Object.assign({size:"small",variant:"outlined",disabled:!0},{children:(0,n.jsx)(a.Z,{animation:p,height:15,width:60})}))})}),(0,n.jsx)(f,Object.assign({className:m()(v.root,t,`${b.B}-skeleton-${r}`)},S,{children:N}))}},11159:(e,s,t)=>{t.d(s,{B:()=>o});const o="SCCourse"},42875:(e,s,t)=>{t.d(s,{Z:()=>me});var o=t(97582),n=t(85893),r=t(90948),i=t(94253),a=t(2734),u=t(37292),l=t(67564),c=t(15861),d=t(81458),g=t(83965),p=t(87918),m=t(87952),h=t(44267),j=t(34386),b=t(62023),Z=t(25662),v=t(29360),f=t(24243),x=t(24085),O=t(59219),S=t(96570),N=t(99960),E=t(67294),C=t(87620),_=t(22607),R=t(69721),P=t(74482);function I({id:e=null,course:s=null,cacheStrategy:t=O.n2.CACHE_FIRST,params:o=null}){const n=(0,E.useMemo)((()=>(null==s?void 0:s.id)||e),[s,e]),r=(0,_.LD)(),i=(0,E.useMemo)((()=>{var e;return(null===(e=r.user)||void 0===e?void 0:e.id)||null}),[r.user]),a=(0,E.useMemo)((()=>(0,R.Or)(n)),[n]),u=(0,E.useMemo)((()=>i?s:(0,S.Kd)(s,["join_status"])),[i,s]),[l,c]=(0,E.useState)(t!==O.n2.NETWORK_ONLY?O.ZP.get(a,u):null),[d,g]=(0,E.useState)(null),p=(0,E.useCallback)((e=>{c(e),O.ZP.set(a,e)}),[c,a]),m=(0,E.useMemo)((()=>e=>f.Z.request({url:x.Z.GetCourseInfo.url({id:e}),method:x.Z.GetCourseInfo.method,params:null!=o?o:{}}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[]);(0,E.useEffect)((()=>{null==e||s||m(e).then((e=>{p(e)})).catch((s=>{O.ZP.delete(a),403===s.status?(g("You do not have permission to perform this action."),N.Y.error(P.h,"You do not have permission to perform this action.")):(g(`Course with id ${e} not found`),N.Y.error(P.h,`Course with id ${e} not found`)),N.Y.error(P.h,s.message)}))}),[e,s,i]),(0,C.F_)((()=>{s&&p(s)}),[s,i]);const h=(0,E.useCallback)((()=>{e&&m(e).then((e=>{p(e)})).catch((e=>{g(`Failed to refresh course data: ${e.message}`),N.Y.error(P.h,e.message)}))}),[e,m]);return{scCourse:l,setSCCourse:p,error:d,refreshCourse:h}}var y=t(41538),M=t(97265),w=t(12132),G=t(49184),A=t(20819),U=t.n(A),B=t(44012),T=t(63511),$=t(51107),k=t(78462),L=t(97212),D=t(19577),W=t(75459),F=t(39154),K=t(79558),z=t(58103),q=t(59107),H=t(50353),Y=t(37089),X=t(54545);const J="SCCourseParticipantsButton",V={root:`${J}-root`,dialogRoot:`${J}-dialog-root`,endMessage:`${J}-end-message`,infiniteScroll:`${J}-infinite-scroll`,participants:`${J}-participants`},Q=(0,r.ZP)(Z.Z,{name:J,slot:"Root",overridesResolver:(e,s)=>s.root,shouldForwardProp:e=>"enrolled"!==e})((()=>({}))),ee=(0,r.ZP)(F.Z,{name:J,slot:"DialogRoot",overridesResolver:(e,s)=>s.dialogRoot})((()=>({})));const se=function(e){const s=(0,v.Z)({props:e,name:J}),{className:t,courseId:r,course:i,hideCaption:a=!1,DialogProps:u={}}=s,d=(0,o._T)(s,["className","courseId","course","hideCaption","DialogProps"]),[g,p]=(0,E.useState)(!0),[h,j]=(0,E.useState)(0),[b,Z]=(0,E.useState)(null),[O,S]=(0,E.useState)(null),[_,R]=(0,E.useState)([]),[P,y]=(0,E.useState)(!1),{scCourse:M}=I({id:r,course:i}),w=(0,E.useMemo)((()=>(null==M?void 0:M.join_status)===G.Nl.CREATOR||(null==M?void 0:M.join_status)===G.Nl.MANAGER),[M]);(0,C.F_)((()=>{R([]),p(!0)}),[M]),(0,C.F_)((()=>{M&&(!h&&w?D.Z.getCourseJoinedUsers(M.id,{limit:3}).then((e=>{R([...e.results]),S(4),j(e.count),p(!1)})):S(0))}),[M,w,h,R,S,p]),(0,E.useEffect)((()=>{P&&null!==O&&(p(!0),D.Z.getCourseJoinedUsers(M.id,{offset:O,limit:20}).then((e=>{R([...0===O?[]:_,...e.results]),Z(e.next),p(!1),S(null)})))}),[P,_,O,p,Z]);const A=(0,E.useCallback)((()=>{b&&f.Z.request({url:b,method:x.Z.GetUsersGoingToCourse.method}).then((e=>{R([..._,...e.data.results]),Z(e.data.next)})).catch((e=>N.Y.error(W.J,e))).then((()=>p(!1)))}),[_,b,p]),T=(0,E.useCallback)((()=>(0,z.V)(h)),[h]),F=(0,E.useCallback)((()=>{y((e=>!e))}),[y]);return w?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(Q,Object.assign({className:U()(V.root,t),onClick:F,disabled:g||!M||0===h,enrolled:_},d,{children:[!a&&(0,n.jsxs)(c.Z,Object.assign({className:V.participants},{children:[(0,n.jsx)(l.Z,{children:"people_alt"}),(0,n.jsx)(B.Z,{defaultMessage:"ui.courseParticipantsButton.participants",id:"ui.courseParticipantsButton.participants",values:{total:h}})]})),h||!g&&M?(0,n.jsx)($.Z,Object.assign({total:h,renderSurplus:T},{children:_.map((e=>(0,n.jsx)(m.Z,{alt:e.username,src:e.avatar},e.id)))})):(0,n.jsx)(q.Z,Object.assign({},d,!w&&{skeletonsAnimation:!1},{count:4}))]})),P&&(0,n.jsx)(ee,Object.assign({className:V.dialogRoot,title:(0,n.jsx)(B.Z,{defaultMessage:"ui.courseParticipantsButton.dialogTitle",id:"ui.courseParticipantsButton.dialogTitle",values:{total:h}}),onClose:F,open:!0},u,{children:(0,n.jsx)(K.Z,Object.assign({dataLength:h,next:A,hasMoreNext:null!==b||g,loaderNext:(0,n.jsx)(H.Z,{elevation:0}),className:V.infiniteScroll,endMessage:(0,n.jsx)(c.Z,Object.assign({className:V.endMessage},{children:(0,n.jsx)(B.Z,{id:"ui.courseParticipantsButton.noOtherParticipants",defaultMessage:"ui.courseParticipantsButton.noOtherParticipants"})}))},{children:(0,n.jsx)(k.Z,{children:_.map((e=>(0,n.jsx)(L.ZP,{children:(0,n.jsx)(Y.Z,{elevation:0,user:e})},e.id)))})}))}))]}):(0,n.jsx)(X.Z,{})};var te,oe=t(63902),ne=t(11159),re=t(76541);function ie(e){if(e&&e.join_status===G.Nl.JOINED){const s=new Date(e.created_at),t=new Date;return t.setDate(t.getDate()-14),s>=t}return!1}function ae(e){return 100===(null==e?void 0:e.user_completion_rate)}!function(e){e.DAYS="days",e.WEEKS="weeks"}(te||(te={}));var ue=t(68456),le=t(75427);const ce={root:`${ne.B}-root`,chip:`${ne.B}-chip`,previewRoot:`${ne.B}-preview-root`,previewActions:`${ne.B}-preview-actions`,previewAvatar:`${ne.B}-preview-avatar`,previewCategory:`${ne.B}-preview-category`,previewCompletedStatus:`${ne.B}-preview-completed-status`,previewContent:`${ne.B}-preview-content`,previewCreator:`${ne.B}-preview-creator`,previewImage:`${ne.B}-preview-image`,previewImageWrapper:`${ne.B}-preview-image-wrapper`,previewInfo:`${ne.B}-preview-info`,previewName:`${ne.B}-preview-name`,previewNameWrapper:`${ne.B}-preview-name-wrapper`,previewProgress:`${ne.B}-preview-progress`,previewProgressBar:`${ne.B}-preview-progress-bar`,snippetRoot:`${ne.B}-snippet-root`,snippetAvatar:`${ne.B}-snippet-avatar`,snippetAvatarUserProfile:`${ne.B}-snippet-avatar-user-profile-view`,snippetImage:`${ne.B}-snippet-image`},de=(0,r.ZP)(oe.Z,{name:ne.B,slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({}))),ge=(0,r.ZP)(i.Z,{name:ne.B,slot:"PreviewRoot",overridesResolver:(e,s)=>s.previewRoot})((()=>({}))),pe=(0,r.ZP)(le.Z,{name:ne.B,slot:"SnippetRoot",overridesResolver:(e,s)=>s.snippetRoot})((()=>({})));const me=function(e){var s,t,r,f,x,O,S;const N=(0,v.Z)({props:e,name:ne.B}),{id:C=`course_object_${N.courseId?N.courseId:N.course?N.course.id:""}`,courseId:_=null,course:R=null,className:P=null,template:A=T.f8.PREVIEW,actions:$,CourseParticipantsButtonComponentProps:k={},CourseSkeletonComponentProps:L={},userProfileSnippet:D}=N,W=(0,o._T)(N,["id","courseId","course","className","template","actions","CourseParticipantsButtonComponentProps","CourseSkeletonComponentProps","userProfileSnippet"]),{scCourse:F}=I({id:_,course:R}),K=(0,a.Z)(),z=(0,u.Z)(K.breakpoints.between("xs","md"))?3:1,q=(0,y.sy)(),H=(0,E.useMemo)((()=>F&&(F.join_status===G.Nl.CREATOR||F.join_status===G.Nl.MANAGER)),[F]);if(!F)return(0,n.jsx)(re.Z,Object.assign({template:A},L,W,{actions:$}));const Y=H?F.privacy?(0,n.jsx)(B.Z,{defaultMessage:"ui.course.status.published",id:"ui.course.status.published"}):(0,n.jsx)(B.Z,{defaultMessage:"ui.course.status.draft",id:"ui.course.status.draft"}):ae(F)?(0,n.jsx)(B.Z,{defaultMessage:"ui.course.status.completed",id:"ui.course.status.completed"}):F.join_status===G.Nl.JOINED?(0,n.jsx)(B.Z,{defaultMessage:"ui.course.status.joined",id:"ui.course.status.joined"}):ie(F)?(0,n.jsx)(B.Z,{defaultMessage:"ui.course.status.new",id:"ui.course.status.new"}):null;let X;return X=A===T.f8.PREVIEW?(0,n.jsxs)(ge,Object.assign({className:ce.previewRoot},{children:[(0,n.jsxs)(i.Z,Object.assign({className:ce.previewImageWrapper},{children:[(0,n.jsx)(g.Z,{component:"img",image:F.image_medium,alt:F.name,className:ce.previewImage}),(H||ae(F)||ie(F)||F.join_status===G.Nl.JOINED)&&(0,n.jsx)(p.Z,{size:"small",component:"div",color:ae(F)||H&&F.privacy?"primary":H&&!F.privacy?"default":F.join_status===G.Nl.JOINED?"warning":"secondary",label:Y,className:ce.chip}),(0,n.jsx)(M.Z,Object.assign({},!(null===(s=F.created_by)||void 0===s?void 0:s.deleted)&&{to:q.url(w.USER_PROFILE_ROUTE_NAME,F.created_by)},{children:(0,n.jsx)(ue.Z,Object.assign({hide:!(null===(t=F.created_by)||void 0===t?void 0:t.community_badge),smaller:!0},{children:(0,n.jsx)(m.Z,{alt:F.name,src:null===(r=F.created_by)||void 0===r?void 0:r.avatar,className:ce.previewAvatar})}))}))]})),(0,n.jsxs)(h.Z,Object.assign({className:ce.previewContent},{children:[(0,n.jsx)(M.Z,Object.assign({className:ce.previewCreator},!(null===(f=F.created_by)||void 0===f?void 0:f.deleted)&&{to:q.url(w.USER_PROFILE_ROUTE_NAME,F.created_by)},{children:(0,n.jsx)(c.Z,Object.assign({variant:"body2"},{children:null===(x=F.created_by)||void 0===x?void 0:x.username}))})),(0,n.jsx)(M.Z,Object.assign({to:q.url(w.COURSE_ROUTE_NAME,F),className:ce.previewNameWrapper},{children:(0,n.jsx)(c.Z,Object.assign({variant:"h6",className:ce.previewName},{children:F.name}))})),(0,n.jsxs)(c.Z,Object.assign({className:ce.previewInfo},{children:[(0,n.jsx)(B.Z,{id:F.privacy?`ui.course.privacy.${F.privacy}`:"ui.course.privacy.draft",defaultMessage:F.privacy?`ui.course.privacy.${F.privacy}`:"ui.course.privacy.draft"})," - ",(0,n.jsx)(B.Z,{id:`ui.course.type.${F.type}`,defaultMessage:`ui.course.type.${F.type}`})]})),(0,n.jsxs)(i.Z,Object.assign({className:ce.previewCategory},{children:[F.categories.slice(0,z).map((e=>(0,n.jsx)(p.Z,{size:"small",label:e.name},e.id))),F.categories.length>z&&(0,n.jsx)(j.Z,Object.assign({title:(0,n.jsx)(n.Fragment,{children:F.categories.slice(z).map((e=>(0,n.jsx)(i.Z,{children:e.name},e.id)))})},{children:(0,n.jsx)(p.Z,{size:"small",label:"+"+(F.categories.length-z),sx:{cursor:"pointer"}})}))]})),(0,n.jsx)(i.Z,Object.assign({className:ce.previewProgress},{children:ae(F)?(0,n.jsxs)(i.Z,Object.assign({className:ce.previewCompletedStatus},{children:[(0,n.jsx)(l.Z,Object.assign({color:"success"},{children:"circle_checked"})),(0,n.jsx)(c.Z,Object.assign({variant:"body1"},{children:(0,n.jsx)(B.Z,{defaultMessage:"ui.course.completed",id:"ui.course.completed"})}))]})):F.join_status===G.Nl.JOINED?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Z,{children:(0,n.jsx)(B.Z,{id:"ui.course.completion.percentage",defaultMessage:"ui.course.completion.percentage",values:{percentage:`${Math.round(F.user_completion_rate)}%`}})}),(0,n.jsx)(d.Z,{className:ce.previewProgressBar,variant:"determinate",color:"primary",value:F.user_completion_rate})]}):H?(0,n.jsx)(se,Object.assign({course:F},k)):void 0}))]})),null!=$?$:(0,n.jsx)(b.Z,Object.assign({className:ce.previewActions},{children:(0,n.jsx)(Z.Z,Object.assign({variant:"outlined",size:"small",component:M.Z,to:q.url(w.COURSE_ROUTE_NAME,F)},{children:(0,n.jsx)(B.Z,{defaultMessage:"ui.course.see",id:"ui.course.see"})}))}))]})):(0,n.jsx)(pe,{ButtonBaseProps:{component:M.Z,to:q.url(w.COURSE_ROUTE_NAME,F)},elevation:0,className:ce.snippetRoot,image:(0,n.jsxs)(i.Z,Object.assign({className:ce.snippetImage},{children:[(0,n.jsx)(m.Z,{variant:"square",alt:F.name,src:F.image_medium,className:D?ce.snippetAvatarUserProfile:ce.snippetAvatar}),!D&&(H||ae(F)||ie(F)||F.join_status===G.Nl.JOINED)&&(0,n.jsx)(p.Z,{size:"small",component:"div",color:ae(F)||H&&F.privacy?"primary":H&&!F.privacy?"default":F.join_status===G.Nl.JOINED?"warning":"secondary",label:Y,className:ce.chip})]})),primary:(0,n.jsxs)(n.Fragment,{children:[!D&&(0,n.jsx)(M.Z,Object.assign({},!(null===(O=F.created_by)||void 0===O?void 0:O.deleted)&&{to:q.url(w.USER_PROFILE_ROUTE_NAME,F.created_by)},{children:(0,n.jsx)(c.Z,Object.assign({component:"span"},{children:null===(S=F.created_by)||void 0===S?void 0:S.username}))})),(0,n.jsx)(M.Z,Object.assign({to:q.url(w.COURSE_ROUTE_NAME,F)},{children:(0,n.jsx)(c.Z,Object.assign({variant:"body1"},{children:F.name}))}))]}),secondary:(0,n.jsx)(n.Fragment,{children:D?(0,n.jsx)(n.Fragment,{children:!F.hide_member_count&&(0,n.jsx)(B.Z,{id:"ui.course.userProfileSnippet.students",defaultMessage:"ui.course.userProfileSnippet.students",values:{students:F.member_count}})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(B.Z,{id:F.privacy?`ui.course.privacy.${F.privacy}`:"ui.course.privacy.draft",defaultMessage:F.privacy?`ui.course.privacy.${F.privacy}`:"ui.course.privacy.draft"})," - ",(0,n.jsx)(B.Z,{id:`ui.course.type.${F.type}`,defaultMessage:`ui.course.type.${F.type}`})]})}),actions:null!=$?$:(0,n.jsx)(Z.Z,Object.assign({size:"small",variant:"outlined",component:M.Z,to:q.url(w.COURSE_ROUTE_NAME,F)},{children:(0,n.jsx)(B.Z,{defaultMessage:"ui.course.see",id:"ui.course.see"})}))}),(0,n.jsx)(de,Object.assign({id:C,className:U()(ce.root,P,`${ne.B}-${A}`)},W,{children:X}))}},19326:(e,s,t)=>{t.d(s,{Z:()=>A});var o=t(97582),n=t(85893),r=t(67294),i=t(90948),a=t(44267),u=t(15861),l=t(62023),c=t(87918),d=t(25662),g=t(24243),p=t(24085),m=t(22607),h=t(8860),j=t(12918),b=t(44012),Z=t(41538),v=t(97265),f=t(12132),x=t(20819),O=t.n(x),S=t(63902),N=t(29360),E=t(54545),C=t(88078);const _="SCLoyaltyProgramWidget",R={root:`${_}-skeleton-root`,title:`${_}-title`,content:`${_}-content`,chip:`${_}-chip`,points:`${_}-points`,actions:`${_}-actions`},P=(0,i.ZP)(S.Z,{name:_,slot:"SkeletonRoot"})((()=>({})));function I(){return(0,n.jsxs)(P,Object.assign({className:R.root},{children:[(0,n.jsx)(a.Z,Object.assign({className:R.content},{children:(0,n.jsx)(u.Z,Object.assign({className:R.title},{children:(0,n.jsx)(C.Z,{animation:"wave",height:25,width:"40%",variant:"rectangular"})}))})),(0,n.jsxs)(l.Z,Object.assign({className:R.actions},{children:[(0,n.jsxs)(u.Z,Object.assign({className:R.points},{children:[(0,n.jsx)(C.Z,{animation:"wave",variant:"circular",width:60,height:30,className:R.chip}),(0,n.jsx)(C.Z,{animation:"wave",height:20,width:90,variant:"rectangular"})]})),(0,n.jsx)(d.Z,Object.assign({disabled:!0,variant:"outlined",size:"small"},{children:(0,n.jsx)(C.Z,{animation:"wave",height:20,width:70,variant:"text"})}))]}))]}))}var y=t(75459),M=t(99960);const w={root:`${_}-root`,title:`${_}-title`,actions:`${_}-actions`,points:`${_}-points`,discoverMore:`${_}-discover-more`},G=(0,i.ZP)(S.Z,{name:_,slot:"Root"})((()=>({})));const A=function(e){const s=(0,N.Z)({props:e,name:_}),{className:t,userId:i=null}=s,x=(0,o._T)(s,["className","userId"]),S=(0,r.useContext)(m.K8),C=(0,h.ko)(),R=(0,Z.sy)(),[P,A]=(0,r.useState)(null),[U,B]=(0,r.useState)(!0),T=S.user?S.user.id:null,$=(0,r.useMemo)((()=>j.v0 in C.preferences&&C.preferences[j.v0].value),[C.preferences]);return(0,r.useEffect)((()=>{$&&T&&g.Z.request({url:p.Z.GetUserLoyaltyPoints.url({id:S.user.id}),method:p.Z.GetUserLoyaltyPoints.method}).then((e=>{A(e.data.points),B(!1)})).catch((e=>{B(!1),M.Y.error(y.J,e),console.log(e)}))}),[T,$]),!$||!S.user||i&&i!==S.user.id?(0,n.jsx)(E.Z,{}):U?(0,n.jsx)(I,{}):(0,n.jsxs)(G,Object.assign({className:O()(w.root,t)},x,{children:[(0,n.jsx)(a.Z,{children:(0,n.jsx)(u.Z,Object.assign({className:w.title},{children:(0,n.jsx)(b.Z,{id:"ui.loyaltyProgramWidget.title",defaultMessage:"ui.loyaltyProgramWidget.title"})}))}),(0,n.jsxs)(l.Z,Object.assign({className:w.actions},{children:[(0,n.jsxs)(u.Z,Object.assign({className:w.points},{children:[(0,n.jsx)(c.Z,{size:"medium",component:"span",label:P}),(0,n.jsx)(b.Z,{id:"ui.loyaltyProgramWidget.points",defaultMessage:"ui.loyaltyProgramWidget.points"})]})),(0,n.jsx)(d.Z,Object.assign({size:"small",variant:"outlined",className:w.discoverMore,component:v.Z,to:R.url(f.LOYALTY_ROUTE_NAME,{})},{children:(0,n.jsx)(b.Z,{id:"ui.loyaltyProgramWidget.discover",defaultMessage:"ui.loyaltyProgramWidget.discover"})}))]}))]}))}},74580:(e,s,t)=>{t.d(s,{H8:()=>r,KS:()=>i,Pj:()=>o,Wv:()=>n});const o=40,n=500,r=15,i=20},32120:(e,s,t)=>{var o,n,r,i;t.d(s,{P9:()=>i,UX:()=>r,dR:()=>n,fd:()=>o}),function(e){e.COURSE="course",e.GROUP="group",e.EVENT="event",e.CATEGORY="category"}(o||(o={})),function(e){e.CREATE="create",e.EDIT="edit",e.DELETE="delete",e.UPDATE="update",e.MEMBERS="members",e.ADD_MEMBER="members.add_member",e.INVITE_MEMBER="members.invite_member",e.REMOVE_MEMBER="members.remove_member"}(n||(n={})),function(e){e.CREATE="create",e.EDIT="edit",e.DELETE="delete",e.ADD_MEMBER="members.add_member",e.INVITE_MEMBER="members.invite_member",e.REMOVE_MEMBER="members.remove_member",e.REJECT_MEMBER="members.reject_member"}(r||(r={})),function(e){e.EDIT="edit"}(i||(i={}))},78518:(e,s,t)=>{t.d(s,{Z:()=>r,t:()=>n});var o=t(42980);const n=[o._V.REAL_NAME,o._V.DATE_OF_BIRTH,o._V.BIO,o._V.WEBSITE,o._V.DESCRIPTION],r=[o.K_.NOTIFICATION,o.K_.INTERACTION,o.K_.PRIVATE_MESSAGE]},63511:(e,s,t)=>{var o,n,r,i,a;t.d(s,{f8:()=>o,v1:()=>i}),function(e){e.SNIPPET="snippet",e.PREVIEW="preview"}(o||(o={})),function(e){e.COMMENTS="comments",e.LESSONS="lessons",e.SETTINGS="settings"}(n||(n={})),function(e){e.VIEW="view",e.EDIT="edit"}(r||(r={})),function(e){e.LESSONS="lessons",e.CUSTOMIZE="customize",e.USERS="users",e.REQUESTS="requests",e.OPTIONS="options"}(i||(i={})),function(e){e.DASHBOARD="dashboard",e.EDIT="edit",e.REQUESTS="requests"}(a||(a={}))},42980:(e,s,t)=>{var o,n,r;t.d(s,{Bo:()=>r,K_:()=>n,_V:()=>o}),function(e){e.USERNAME="username",e.REAL_NAME="real_name",e.DATE_JOINED="date_joined",e.BIO="bio",e.LOCATION="location",e.DATE_OF_BIRTH="date_of_birth",e.DESCRIPTION="description",e.GENDER="gender",e.WEBSITE="website",e.TAGS="tags",e.SOCIAL_ASSOCIATIONS="social_associations"}(o||(o={})),function(e){e.NOTIFICATION="notification",e.INTERACTION="interaction",e.PRIVATE_MESSAGE="private_message"}(n||(n={})),function(e){e.GOOGLE="google",e.FACEBOOK="facebook",e.TWITTER="twitter",e.LINKEDIN="linkedin"}(r||(r={}))}}]);