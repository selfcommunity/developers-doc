"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[59658],{59658:(e,t,o)=>{o.d(t,{WD:()=>j,Yo:()=>N,S5:()=>$,Rc:()=>V,UF:()=>it,YD:()=>te,YK:()=>ie,pz:()=>ye,Iw:()=>Ce});var n=o(67294),a=o(87357),s=o(90948),r=o(67608);const i="SCCategoryFeedTemplateSkeleton",l={root:`${i}-root`},c=(0,s.ZP)(r.pMb,{name:i,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function m(){return n.createElement(c,{className:l.root,sidebar:n.createElement(n.Fragment,null,n.createElement(r.AUD,{sx:{mb:2}}),n.createElement(r.AUD,{sx:{mb:2}}))},n.createElement(r.HOW,null),Array.from({length:5}).map(((e,t)=>n.createElement(r.t7P,{key:t,template:r.r4R.DETAIL}))))}const p="SCCategoryTemplateSkeleton",d={root:`${p}-root`},u=(0,s.ZP)(a.Z,{name:p,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function g(){return n.createElement(u,{className:d.root},n.createElement(r.vPe,null),n.createElement(m,null))}var P=o(2897),y=o(71544),E=o(79625),b=o(29628),f=o(94184),Z=o.n(f),v=o(44012),O=o(20377);const h="SCCategoryFeedTemplate",S={root:`${h}-root`},_=(0,s.ZP)(r.fRU,{name:h,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),D=[{type:"widget",component:r.XwR,componentProps:{},column:"right",position:0},{type:"widget",component:r.YBK,componentProps:{},column:"right",position:1}];const N=function(e){const t=(0,b.Z)({props:e,name:h}),{id:o="category_feed",className:a,category:s,categoryId:i,widgets:l=D,FeedObjectProps:c={},FeedSidebarProps:p=null,FeedProps:d={}}=t,u=(0,y.sy)(),{enqueueSnackbar:g}=(0,O.Ds)(),f=(0,n.useRef)(),{scCategory:N}=(0,y._l)({id:i,category:s}),w=(0,n.useMemo)((()=>l.map((e=>N?Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{categoryId:N.id})}):e))),[l,N]);return N?n.createElement(_,Object.assign({id:o,className:Z()(S.root,a),ref:f,endpoint:Object.assign(Object.assign({},P.AN.CategoryFeed),{url:()=>P.AN.CategoryFeed.url({id:N.id})}),widgets:w,ItemComponent:r.hi,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:c,ItemSkeleton:r.t7P,ItemSkeletonProps:{template:r.r4R.PREVIEW},FeedSidebarProps:p,HeaderComponent:n.createElement(r.kC$,{onSuccess:e=>{if(-1===e.categories.findIndex((e=>e.id===N.id)))return void g(n.createElement(v.Z,{id:"ui.composerIconButton.composer.success",defaultMessage:"ui.composerIconButton.composer.success"}),{action:t=>n.createElement(y.rU,{to:u.url(y.f0[`${e.type.toUpperCase()}_ROUTE_NAME`],r.mJB.getRouteData(e))},n.createElement(v.Z,{id:"ui.composerIconButton.composer.viewContribute",defaultMessage:"ui.composerIconButton.composer.viewContribute"})),variant:"success",autoHideDuration:7e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};f&&f.current&&f.current.addFeedData(t,!0)},defaultValue:{categories:[N]}}),CustomAdvProps:{position:E.nG.POSITION_FEED,categoriesId:[N.id]},enabledCustomAdvPositions:[E.nG.POSITION_FEED_SIDEBAR,E.nG.POSITION_FEED,E.nG.POSITION_BELOW_TOPBAR]},d)):n.createElement(m,null)},w="SCCategoryTemplate",I={root:`${w}-root`,feed:`${w}-feed`},R=(0,s.ZP)(a.Z,{name:w,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({[`& .${I.feed}`]:{marginTop:e.spacing(2)}})));const j=function(e){const t=(0,b.Z)({props:e,name:w}),{id:o="category",className:a,category:s,categoryId:i,widgets:l,FeedObjectProps:c,FeedSidebarProps:m,CategoryFeedProps:p={}}=t,{scCategory:d}=(0,y._l)({id:i,category:s});return d?n.createElement(R,{id:o,className:Z()(I.root,a)},n.createElement(r.Wtp,{category:d}),n.createElement(N,Object.assign({className:I.feed,category:d,widgets:l,FeedObjectProps:c,FeedSidebarProps:m},p))):n.createElement(g,null)},C="SCExploreFeedTemplateSkeleton";(0,s.ZP)(r.pMb,{name:C,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));const F="SCExploreFeedTemplate",T={root:`${F}-root`},k=(0,s.ZP)(r.fRU,{name:F,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),M=[{type:"widget",component:r.KRP,componentProps:{},column:"right",position:0},{type:"widget",component:r.YYz,componentProps:{},column:"right",position:1},{type:"widget",component:r.kCI,componentProps:{},column:"right",position:2},{type:"widget",component:r.coA,componentProps:{},column:"right",position:3}];const $=function(e){const t=(0,b.Z)({props:e,name:F}),{id:o="explore_feed",className:a,widgets:s=M,FeedObjectProps:i={},FeedSidebarProps:l=null,FeedProps:c={}}=t,{enqueueSnackbar:m}=(0,O.Ds)(),p=(0,n.useRef)(),d=(0,n.useMemo)((()=>s.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign({},e.componentProps)})))),[s]);return n.createElement(k,Object.assign({id:o,className:Z()(T.root,a),ref:p,endpoint:P.AN.ExploreFeed,widgets:d,ItemComponent:r.hi,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:i,ItemSkeleton:r.t7P,ItemSkeletonProps:{template:r.r4R.PREVIEW},HeaderComponent:n.createElement(r.kC$,{onSuccess:e=>{m(n.createElement(v.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};p&&p.current&&p.current.addFeedData(t,!0)}}),FeedSidebarProps:l,enabledCustomAdvPositions:[E.nG.POSITION_FEED_SIDEBAR,E.nG.POSITION_FEED,E.nG.POSITION_BELOW_TOPBAR]},c))};var A=o(86886);const x="SCFeedObjectDetailTemplateSkeleton",Y={root:`${x}-root`},U=(0,s.ZP)(a.Z,{name:x,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function z(e){const{FeedObjectSkeletonProps:t={},CommentsFeedObjectSkeletonProps:o={},RelatedFeedObjectsSkeletonProps:a={}}=e;return n.createElement(U,{className:Y.root},n.createElement(A.ZP,{container:!0,spacing:2},n.createElement(A.ZP,{item:!0,xs:12,md:7},n.createElement(r.t7P,Object.assign({template:r.r4R.DETAIL},t)),n.createElement(r.NyH,Object.assign({count:4},o))),n.createElement(A.ZP,{item:!0,xs:12,md:5},n.createElement(r.uFT,Object.assign({},a)))))}var G=o(50456),B=o(70885);const L="SCFeedObjectDetailTemplate",W={root:`${L}-root`},q=(0,s.ZP)(a.Z,{name:L,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),H=[y.Y_.Rl,y.Y_.OM];const V=function(e){const t=(0,b.Z)({props:e,name:L}),{id:o="feed_object_page",className:s,feedObjectId:i,feedObject:l,feedObjectType:c,FeedObjectProps:m={},FeedSidebarProps:p={},CommentsFeedObjectProps:d={},RelatedFeedObjectProps:u={autoHide:!1}}=t,g=(0,y.LD)(),P=(0,y.ko)(),{obj:f,setObj:O,error:h}=(0,y.MF)({id:i,feedObject:l,feedObjectType:c}),[S,_]=(0,n.useState)([]),D=(0,n.useMemo)((()=>{const e={};return H.map((t=>e[t]=t in P.preferences?P.preferences[t].value:null)),e}),[P.preferences]);return h?n.createElement(a.Z,null,n.createElement(v.Z,{id:"templates.feedObjectDetail.contributionNotFound",defaultMessage:"templates.feedObjectDetail.contributionNotFound"})):f?n.createElement(q,{id:o,className:Z()(W.root,s)},n.createElement(A.ZP,{container:!0,spacing:2},n.createElement(A.ZP,{item:!0,xs:12,md:7},n.createElement(r.hi,Object.assign({},m,{feedObject:f,template:r.r4R.DETAIL,onReply:function(e){_([...S,e]),setTimeout((()=>{const t=document.getElementById(`comment_object_${e.id}`);t&&(0,B.z)(t,{behavior:"smooth",block:"center",inline:"center"})}),300)}})),D[y.Y_.Rl]&&(D[y.Y_.OM]&&null===g.user||!D[y.Y_.OM])?n.createElement(r.Vtw,Object.assign({position:E.nG.POSITION_BELOW_FEED_OBJECT},f.categories.length&&{categoriesId:f.categories.map((e=>e.id))})):null,n.createElement(r.P4T,Object.assign({key:`comments_${f.id}`,showTitle:!0,feedObject:f,comments:S},d))),n.createElement(A.ZP,{item:!0,xs:12,md:5},n.createElement(G.Z,{mdDown:!0},n.createElement(r.a$5,Object.assign({},p),n.createElement(r.uwL,Object.assign({key:`related_${f.id}`,feedObject:f},u))))))):n.createElement(z,null)},K="SCMainFeedTemplateSkeleton";(0,s.ZP)(r.pMb,{name:K,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));const J="SCMainFeedTemplate",X={root:`${J}-root`},Q=(0,s.ZP)(r.fRU,{name:J,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),ee=[{type:"widget",component:r.KRP,componentProps:{},column:"right",position:0},{type:"widget",component:r.YYz,componentProps:{},column:"right",position:1},{type:"widget",component:r.Aqb,componentProps:{},column:"right",position:2},{type:"widget",component:r.coA,componentProps:{},column:"right",position:3}];const te=function(e){const t=(0,b.Z)({props:e,name:J}),{id:o="main_feed",className:a,widgets:s=ee,FeedObjectProps:i={},FeedSidebarProps:l=null,FeedProps:c={}}=t,m=(0,n.useContext)(y.K8),{enqueueSnackbar:p}=(0,O.Ds)(),d=(0,n.useRef)();return m.user?n.createElement(Q,Object.assign({id:o,className:Z()(X.root,a),ref:d,endpoint:P.AN.MainFeed,widgets:s,ItemComponent:r.hi,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:i,ItemSkeleton:r.t7P,ItemSkeletonProps:{template:r.r4R.PREVIEW},FeedSidebarProps:l,HeaderComponent:n.createElement(r.kC$,{onSuccess:e=>{p(n.createElement(v.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};d&&d.current&&d.current.addFeedData(t,!0)}}),requireAuthentication:!0,disablePaginationLinks:!0,enabledCustomAdvPositions:[E.nG.POSITION_FEED_SIDEBAR,E.nG.POSITION_FEED,E.nG.POSITION_BELOW_TOPBAR]},c)):null},oe="SCNotificationFeedTemplateSkeleton";(0,s.ZP)(r.pMb,{name:oe,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));const ne="SCNotificationFeedTemplate",ae={root:`${ne}-root`},se=(0,s.ZP)(r.fRU,{name:ne,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),re=[{type:"widget",component:r.VfZ,componentProps:{subscriptionChannel:E.Ed.INTERACTION,publicationChannel:"notifications_feed"},column:"left",position:0,publishEvents:!0},{type:"widget",component:r.oYJ,componentProps:{subscriptionChannel:"notification_feed"},column:"left",position:0},{type:"widget",component:r.KRP,componentProps:{},column:"right",position:0},{type:"widget",component:r.YYz,componentProps:{},column:"right",position:1},{type:"widget",component:r.Aqb,componentProps:{},column:"right",position:2},{type:"widget",component:r.coA,componentProps:{},column:"right",position:3}];const ie=function(e){const t=(0,b.Z)({props:e,name:ne}),{id:o="notification_feed",className:a,widgets:s=re,NotificationProps:i={},FeedSidebarProps:l=null,FeedProps:c={}}=t,m=(0,n.useContext)(y.K8);if(!m.user)return null;const p=(e,t,o,n)=>{let a=(0,r.CIx)(n);a>0&&m.setUnseenInteractionsCounter(m.user.unseen_interactions_counter-a)};return n.createElement(se,Object.assign({id:o,className:Z()(ae.root,a),endpoint:P.AN.UserNotificationList,widgets:s,ItemComponent:r.P_k,itemPropsGenerator:(e,t)=>({notificationObject:t}),itemIdGenerator:e=>e.sid,ItemProps:i,ItemSkeleton:r.i_P,ItemSkeletonProps:{template:r.r4R.PREVIEW},FeedSidebarProps:l,requireAuthentication:!0,disablePaginationLinks:!0,onNextData:p,onPreviousData:p},c))},le="SCUserFeedTemplateSkeleton",ce={root:`${le}-root`},me=(0,s.ZP)(r.pMb,{name:le,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function pe(){return n.createElement(me,{className:ce.root,sidebar:n.createElement(n.Fragment,null,n.createElement(r.AUD,{sx:{mb:2}}),n.createElement(r.AUD,{sx:{mb:2}}))},n.createElement(r.HOW,null),Array.from({length:5}).map(((e,t)=>n.createElement(r.t7P,{key:t,template:r.r4R.DETAIL}))))}const de="SCUserFeedTemplate",ue={root:`${de}-root`},ge=(0,s.ZP)(r.fRU,{name:de,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),Pe=[{type:"widget",component:r.Fsf,componentProps:{},column:"right",position:0},{type:"widget",component:r.cmm,componentProps:{},column:"right",position:1},{type:"widget",component:r.Tyi,componentProps:{},column:"right",position:2}];const ye=function(e){const t=(0,b.Z)({props:e,name:de}),{id:o="user_feed",className:a,userId:s,user:i,widgets:l=Pe,FeedObjectProps:c={},FeedSidebarProps:m=null,FeedProps:p={}}=t,d=(0,y.LD)(),{enqueueSnackbar:u}=(0,O.Ds)(),{scUser:g}=(0,y.z3)({id:s,user:i}),E=(0,n.useRef)(),f=(0,n.useMemo)((()=>l.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:g?g.id:s})})))),[g,l]);return null===g?n.createElement(pe,null):n.createElement(ge,Object.assign({id:o,className:Z()(ue.root,a),ref:E,endpoint:Object.assign(Object.assign({},P.AN.UserFeed),{url:()=>P.AN.UserFeed.url({id:g.id})}),widgets:f,ItemComponent:r.hi,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null}),itemIdGenerator:e=>e[e.type].id,ItemProps:c,ItemSkeleton:r.t7P,ItemSkeletonProps:{template:r.r4R.PREVIEW}},d.user?{HeaderComponent:n.createElement(r.kC$,{onSuccess:e=>{u(n.createElement(v.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};E&&E.current&&E.current.addFeedData(t,!0)}})}:{},{FeedSidebarProps:m},p))},Ee="SCUserProfileTemplateSkeleton",be={root:`${Ee}-root`},fe=(0,s.ZP)(a.Z,{name:Ee,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function Ze(){return n.createElement(fe,{className:be.root},n.createElement(r.O4Y,null),n.createElement(pe,null))}var ve=o(31536),Oe=o(83321),he=o(15861),Se=o(67564),_e=o(86896);const De="SCUserProfileTemplate",Ne={root:`${De}-root`,counters:`${De}-counters`,tags:`${De}-tags`,info:`${De}-info`,feed:`${De}-feed`,actions:`${De}-actions`},we=(0,s.ZP)(a.Z,{name:De,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({}))),Ie=[{type:"widget",component:r.Fsf,componentProps:{},column:"right",position:0},{type:"widget",component:r.cmm,componentProps:{},column:"right",position:1},{type:"widget",component:r.Tyi,componentProps:{},column:"right",position:2}],Re=[{type:"widget",component:r.Fsf,componentProps:{},column:"right",position:0},{type:"widget",component:r.HwY,componentProps:{},column:"right",position:1}],je=[{type:"widget",component:r.w8v,componentProps:{autoHide:!0},column:"right",position:2},{type:"widget",component:r.DBX,componentProps:{autoHide:!0},column:"right",position:3}];const Ce=function(e){const t=(0,b.Z)({props:e,name:De}),{id:o="user_profile",className:a,user:s,userId:i,widgets:l=null,FeedObjectProps:c,FeedSidebarProps:m,UserProfileHeaderProps:p={},onEditClick:d=null,UserFeedProps:u={}}=t,g=(0,y.LD)(),P=(0,y.ko)(),f=(0,y.sy)(),{features:O}=(0,y.ko)(),{scUser:h}=(0,y.z3)({id:i,user:s}),{blockedBy:S,loading:_}=(0,y.CI)({user:h}),D=(0,_e.Z)(),N=(0,n.useMemo)((()=>O.includes(E.$n.TAGGING)),[O]),w=(0,n.useMemo)((()=>g.user&&(null==h?void 0:h.id)===g.user.id),[g.user,h]),I=(0,n.useMemo)((()=>y.Y_.$0 in P.preferences&&P.preferences[y.Y_.$0].value),[P.preferences]),R=(0,n.useMemo)((()=>O.includes(E.$n.PRIVATE_MESSAGING)),[O]),j=(0,n.useMemo)((()=>!(w||!g.user||!s)&&(I?g.managers.followers.isFollower(s):"connected"===g.managers.connections.status(s))),[I,w,s,g.user,g.managers]),C=(0,n.useMemo)((()=>s&&s.community_badge),[s]);if(!h||void 0===g.user||void 0!==g.user&&(_&&null===S||g.managers.blockedUsers.isLoading()))return n.createElement(Ze,null);let F=l;null===F&&(F=(()=>{var e;let t=[];return t=I?[...Ie]:I||(null===(e=null==g?void 0:g.user)||void 0===e?void 0:e.id)!==h.id?[...Re]:[...Re,...je],t.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:h.id})})))})()),w||(u.FeedProps=Object.assign({HeaderComponent:null},u.FeedProps));let T=[];return R&&(j||g.user&&null!==g.user.role||C)&&(T=[{label:n.createElement(v.Z,{defaultMessage:"templates.userProfile.send.pm",id:"templates.userProfile.send.pm"}),to:f.url(y.f0.USER_PRIVATE_MESSAGES_ROUTE_NAME,h)}]),n.createElement(we,{id:o,className:Z()(Ne.root,a)},n.createElement(r.FZ_,Object.assign({user:h},p)),_||g.user&&g.managers.blockedUsers.loading?null:n.createElement(n.Fragment,null,!w&&h&&Boolean(g.user&&g.managers.blockedUsers.isBlocked(h)||S)?n.createElement(r.$m3,{user:h,blockedByUser:S}):n.createElement(n.Fragment,null,n.createElement(ve.Z,{key:`actions_${h.id}`,direction:"row",spacing:2,className:Ne.actions},w?n.createElement(Oe.Z,{variant:"contained",color:"secondary",onClick:()=>{d&&d(h)}},n.createElement(v.Z,{defaultMessage:"templates.userProfile.edit",id:"templates.userProfile.edit"})):n.createElement(n.Fragment,null,n.createElement(r.WOV,{user:h}),n.createElement(r.$ZK,{user:h,items:T}))),n.createElement(r.XX1,{className:Ne.counters,userId:i,user:h}),h.date_joined&&n.createElement(he.Z,{className:Ne.info},n.createElement(v.Z,{id:"templates.userProfile.dateJoined",defaultMessage:"templates.userProfile.dateJoined",values:{date:D.formatDate(h.date_joined,{year:"numeric",month:"long"})}})),h.location&&n.createElement(he.Z,{className:Ne.info},n.createElement(Se.Z,null,"add_location_alt")," ",h.location),N&&n.createElement(ve.Z,{key:`tags_${h.id}`,direction:"row",spacing:2,className:Ne.tags},h.tags.filter((e=>e.visible)).map((e=>n.createElement(r.CsO,{key:e.id,tag:e,clickable:!1,disposable:!1})))),n.createElement(ye,Object.assign({key:`feed_${h.id}`,className:Ne.feed,user:h,widgets:F,FeedObjectProps:c,FeedSidebarProps:m},u)))))};var Fe=o(2734),Te=o(98396),ke=o(66242),Me=o(83965),$e=o(44267),Ae=o(62023),xe=o(87918),Ye=o(88078);const Ue="SCPrizeItemSkeleton",ze={root:`${Ue}-root`,content:`${Ue}-content`,actions:`${Ue}-actions`},Ge=(0,s.ZP)(r.$LY,{name:Ue,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));function Be(){return n.createElement(Ge,{className:ze.root},n.createElement(Me.Z,null,n.createElement(Ye.Z,{animation:"wave",variant:"rectangular",width:"100%",height:137})),n.createElement($e.Z,null,n.createElement(he.Z,{className:ze.content},n.createElement(Ye.Z,{animation:"wave",height:20,width:"80%",variant:"text"}),n.createElement(Ye.Z,{animation:"wave",height:10,width:"70%",variant:"text",style:{marginTop:8}}))),n.createElement(Ae.Z,{className:ze.actions},n.createElement(Oe.Z,{disabled:!0,variant:"outlined",size:"small"},n.createElement(Ye.Z,{animation:"wave",height:10,width:50,variant:"text"})),n.createElement(Oe.Z,{disabled:!0,variant:"text",size:"small"},n.createElement(Ye.Z,{animation:"wave",height:20,width:70,variant:"text"}))))}const Le="SCLoyaltyProgramDetailTemplateSkeleton",We={root:`${Le}-root`,title:`${Le}-title`,sectionTitle:`${Le}-section-title`,subTitle:`${Le}-sub-title`,pointsList:`${Le}-points-list`,chip:`${Le}-chip`},qe=(0,s.ZP)(a.Z,{name:Le,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));function He(){const e=(0,Fe.Z)(),t=(0,Te.Z)(e.breakpoints.down("md"));return n.createElement(qe,{className:We.root},n.createElement(he.Z,{className:We.title,component:"div"},!t&&n.createElement(Ye.Z,{animation:"wave",height:30,width:140,variant:"text"}),n.createElement(Ye.Z,{animation:"wave",variant:"circular",width:172,height:30,className:We.chip})),n.createElement(he.Z,{className:We.sectionTitle},n.createElement(Ye.Z,{animation:"wave",height:20,width:"50%",variant:"text"}),n.createElement(Ye.Z,{animation:"wave",height:17,width:"80%",variant:"text",className:We.subTitle})),n.createElement(he.Z,{className:We.sectionTitle},n.createElement(Ye.Z,{animation:"wave",height:20,width:146})),n.createElement(A.ZP,{container:!0,spacing:2,className:We.pointsList},[...Array(8)].map(((e,t)=>n.createElement(A.ZP,{item:!0,xs:12,sm:12,md:6,key:t},n.createElement(Ye.Z,{animation:"wave",height:15,width:"100%"}))))),n.createElement(he.Z,{className:We.sectionTitle},n.createElement(Ye.Z,{animation:"wave",height:20,width:140,variant:"text"})),n.createElement(A.ZP,{container:!0,spacing:t?3:6},[...Array(6)].map(((e,t)=>n.createElement(A.ZP,{item:!0,xs:12,sm:12,md:6,lg:4,key:t},n.createElement(Be,null))))))}var Ve=o(67720),Ke=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o};const Je=[y.Y_.Zr,y.Y_.um,y.Y_.Wc,y.Y_.ud,y.Y_.L0,y.Y_.Xq,y.Y_.xb,y.Y_.T_],Xe="SCLoyaltyProgramDetailPointsList",Qe={root:`${Xe}-root`,element:`${Xe}-element`};function et({message:e,points:t}){return n.createElement(A.ZP,{item:!0,xs:12,sm:12,md:6},n.createElement(he.Z,{component:"div",className:Qe.element},n.createElement(he.Z,null,e),n.createElement(he.Z,null,"+",n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points",defaultMessage:"templates.loyaltyProgramDetail.points",values:{total:t}}))),n.createElement(Ve.Z,null))}const tt=(0,s.ZP)(A.ZP,{name:Xe,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));function ot(e){const t=(0,b.Z)({props:e,name:Xe}),{className:o}=t,a=Ke(t,["className"]),s=(0,y.ko)(),r=(0,n.useMemo)((()=>{const e={};return Je.map((t=>e[t]=t in s.preferences?s.preferences[t].value:null)),e}),[s.preferences]);return n.createElement(tt,Object.assign({className:Z()(Qe.root,o),container:!0,spacing:2},a),n.createElement(et,{message:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points.post",defaultMessage:"templates.loyaltyProgramDetail.points.post"}),points:r[y.Y_.um]}),n.createElement(et,{message:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points.discussion",defaultMessage:"templates.loyaltyProgramDetail.points.discussion"}),points:r[y.Y_.Zr]}),n.createElement(et,{message:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points.comment",defaultMessage:"templates.loyaltyProgramDetail.points.comment"}),points:r[y.Y_.Wc]}),n.createElement(et,{message:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points.appreciation",defaultMessage:"templates.loyaltyProgramDetail.points.appreciation"}),points:r[y.Y_.ud]}),n.createElement(et,{message:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points.follower",defaultMessage:"templates.loyaltyProgramDetail.points.follower"}),points:r[y.Y_.L0]}),n.createElement(et,{message:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points.share",defaultMessage:"templates.loyaltyProgramDetail.points.share"}),points:r[y.Y_.Xq]}),n.createElement(et,{message:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points.app",defaultMessage:"templates.loyaltyProgramDetail.points.app"}),points:r[y.Y_.xb]}),n.createElement(et,{message:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.points.visit",defaultMessage:"templates.loyaltyProgramDetail.points.visit"}),points:r[y.Y_.T_]}))}var nt=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o};const at="SCLoyaltyProgramDetailTemplate",st={root:`${at}-root`,userPoints:`${at}-user-points`,title:`${at}-title`,sectionTitle:`${at}-section-title`,sectionInfo:`${at}-section-info`,pointsSection:`${at}-points-section`,prizeSection:`${at}-prize-section`,card:`${at}-card`,cardTitle:`${at}-card-title`,cardContent:`${at}-card-content`,prizePoints:`${at}-prize-points`,actionButton:`${at}-card-action-button`,notRequestable:`${at}-not-requestable`,endMessage:`${at}-end-message`},rt=(0,s.ZP)(a.Z,{name:at,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const it=function(e){const t=(0,b.Z)({props:e,name:at}),{className:o}=t,s=nt(t,["className"]),i=(0,Fe.Z)(),l=(0,Te.Z)(i.breakpoints.down("md")),[c,m]=(0,n.useState)(!0),[p,d]=(0,n.useState)(null),[u,g]=(0,n.useState)([]),[E,f]=(0,n.useState)(0),[h,S]=(0,n.useState)(!1),[_,D]=(0,n.useState)(null),{enqueueSnackbar:N,closeSnackbar:w}=(0,O.Ds)(),I=(0,n.useContext)(y.K8),R=I.user?I.user.id:null,j=(0,n.useMemo)((()=>()=>{if(p)return P.dJ.request({url:p,method:P.AN.GetPrizes.method}).then((e=>{g([...u,...e.data.results]),d(e.data.next)})).catch((e=>console.log(e))).then((()=>m(!1)))}),[p]);return(0,n.useEffect)((()=>{R&&(P.KD.getUserLoyaltyPoints(R).then((e=>{f(e.points)})).catch((e=>{console.log(e)})),P.Wl.getPrizes({limit:8}).then((e=>{g(e.results),d(e.next),m(!1)})))}),[R]),R?c?n.createElement(He,null):n.createElement(rt,Object.assign({className:Z()(st.root,o)},s),0!==E&&n.createElement(he.Z,{className:st.title,variant:"h5"},!l&&n.createElement(v.Z,{id:"ui.loyaltyProgramWidget.title",defaultMessage:"ui.loyaltyProgramWidget.title"}),n.createElement(xe.Z,{className:st.userPoints,component:"span",label:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.userPoints",defaultMessage:"templates.loyaltyProgramDetail.userPoints",values:{total:E}})})),n.createElement(he.Z,{className:st.sectionTitle},n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.community",defaultMessage:"templates.loyaltyProgramDetail.community"})),n.createElement(he.Z,{className:st.sectionInfo},n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.description",defaultMessage:"templates.loyaltyProgramDetail.description"})),n.createElement(he.Z,{className:st.sectionTitle},n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.listTitle",defaultMessage:"templates.loyaltyProgramDetail.listTitle"})),n.createElement(ot,{className:st.pointsSection}),n.createElement(he.Z,{className:st.sectionTitle},n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.prizes",defaultMessage:"templates.loyaltyProgramDetail.prizes"})),n.createElement(r.v_Y,{dataLength:u.length,next:j,hasMoreNext:Boolean(p),loaderNext:n.createElement(Be,null),endMessage:n.createElement(he.Z,{className:st.endMessage},n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.content.end.message",defaultMessage:"templates.loyaltyProgramDetail.content.end.message"}),n.createElement(Oe.Z,{color:"secondary",onClick:()=>{window.scrollTo({left:0,top:0,behavior:"smooth"})}},n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.content.end.button",defaultMessage:"templates.loyaltyProgramDetail.content.end.button"})))},n.createElement(A.ZP,{container:!0,spacing:l?0:3,direction:l?"column":"row",className:st.prizeSection},u.map((e=>n.createElement(A.ZP,{item:!0,xs:12,sm:12,md:6,lg:4,xl:3,key:e.id},n.createElement(ke.Z,{className:st.card},n.createElement(Me.Z,{component:"img",image:e.image}),n.createElement(a.Z,{className:st.prizePoints},n.createElement(xe.Z,{className:E<=e.points?st.notRequestable:null,label:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.prize.points",defaultMessage:"templates.loyaltyProgramDetail.prize.points",values:{total:e.points}})})),n.createElement($e.Z,null,n.createElement(he.Z,{variant:"body1",className:st.cardTitle},e.title),n.createElement(he.Z,{variant:"body2",className:st.cardContent},e.description)),n.createElement(Ae.Z,null,e.link&&n.createElement(Oe.Z,{size:"medium",color:"secondary",href:e.link,target:"_blank",className:st.actionButton},n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.button.more",defaultMessage:"templates.loyaltyProgramDetail.button.more"})),(!e.link&&e.active&&E>=e.points||e.active&&E>=e.points)&&n.createElement(Oe.Z,{size:"small",variant:"outlined",className:st.actionButton,disabled:E<e.points,onClick:()=>{return t=e.id,D(t),void S(!0);var t}},n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.button.request",defaultMessage:"templates.loyaltyProgramDetail.button.request"}))))))))),h&&n.createElement(r.QHy,{open:h,title:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.dialog.msg",defaultMessage:"templates.loyaltyProgramDetail.dialog.msg"}),btnConfirm:n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.dialog.confirm",defaultMessage:"templates.loyaltyProgramDetail.dialog.confirm"}),onConfirm:()=>{return e=_,P.Wl.createPrizeRequest(e).then((e=>{f((t=>t-e.prize_points)),S(!1);let t=N(n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.prize.request.success",defaultMessage:"templates.loyaltyProgramDetail.prize.request.success"}),{variant:"success",autoHideDuration:3e3,SnackbarProps:{onClick:()=>{w(t)}}})})).catch((e=>{S(!1);let t=N(n.createElement(v.Z,{id:"templates.loyaltyProgramDetail.prize.request.error",defaultMessage:"templates.loyaltyProgramDetail.prize.request.error"}),{variant:"error",autoHideDuration:3e3,SnackbarProps:{onClick:()=>{w(t)}}})}));var e},onClose:()=>S(!1)})):null}}}]);