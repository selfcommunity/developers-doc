"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[50999],{13238:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>F,contentTitle:()=>C,default:()=>S,frontMatter:()=>N,metadata:()=>r,toc:()=>P});const r=JSON.parse('{"id":"sdk/community-js/react-ui/Components/AccountRecover","title":"Account Recover","description":"The Account Recover component allows users to recover their account with their email.","source":"@site/docs/sdk/community-js/react-ui/Components/AccountRecover.mdx","sourceDirName":"sdk/community-js/react-ui/Components","slug":"/sdk/community-js/react-ui/Components/AccountRecover","permalink":"/docs/sdk/community-js/react-ui/Components/AccountRecover","draft":false,"unlisted":false,"editUrl":"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/AccountRecover.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Account Recover","sidebar_position":1,"title":"Account Recover"},"sidebar":"sdkSidebar","previous":{"title":"Account Delete","permalink":"/docs/sdk/community-js/react-ui/Components/AccountDelete"},"next":{"title":"Account Reset","permalink":"/docs/sdk/community-js/react-ui/Components/AccountReset"}}');var n=o(74848),s=o(28453),a=o(33298),c=o(31635),i=o(96540),u=o(2877),m=o(11848),l=o(71194),d=o(80766),p=o(42942),f=o(19546),v=o.n(f),h=o(6442),A=o(58065),b=o(63751),j=o(79197),g=o(33497),x=o(24760);const y="SCAccountRecover",R={root:`${y}-root`,form:`${y}-form`,email:`${y}-email`,success:`${y}-success`},T=(0,m.Ay)(l.A,{name:y,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({[`& .${R.form} .MuiTextField-root, &.${R.root} .MuiButton-root`]:{margin:e.spacing(1,0,1,0)},[`& .${R.form} .MuiTypography-root`]:{margin:e.spacing(1,0,1,0)}})));const k=function(e){const t=(0,j.A)({props:e,name:y}),{className:o,onSuccess:r=null,TextFieldProps:s={variant:"outlined",fullWidth:!0},ButtonProps:a={variant:"contained"},successAction:m=null}=t,l=(0,c.__rest)(t,["className","onSuccess","TextFieldProps","ButtonProps","successAction"]),[f,k]=(0,i.useState)(""),[N,C]=(0,i.useState)(""),[F,P]=(0,i.useState)(!1),[D,S]=(0,i.useState)(!1),_=(0,u.X1)(),M=(0,h.A)();return null!==_.user?null:(0,n.jsx)(T,Object.assign({className:v()(R.root,o)},l,{children:D?(0,n.jsxs)(d.A,Object.assign({severity:"success",className:R.success},{children:[M.formatMessage({id:"ui.accountRecover.success",defaultMessage:"ui.accountRecover.success"},{email:f,b:e=>(0,n.jsx)("b",{children:e})}),m]})):(0,n.jsxs)("form",Object.assign({className:R.form,onSubmit:e=>(e.preventDefault(),e.stopPropagation(),P(!0),g.A.recover({email:f}).then((()=>{S(!0),r&&r()})).catch((e=>{const t=(0,x.zl)(e);t.emailError&&C(t.emailError.error)})).then((()=>P(!1))),!1)},{children:[(0,n.jsx)(b.A,Object.assign({className:R.email,disabled:F,label:(0,n.jsx)(A.A,{id:"ui.accountRecover.email.label",defaultMessage:"ui.accountRecover.email.label"})},s,{value:f,onChange:e=>{k(e.target.value),C("")},error:Boolean(N),helperText:N&&(0,n.jsx)(A.A,{id:`ui.accountRecover.email.error.${N}`,defaultMessage:`ui.accountRecover.email.error.${N}`})})),(0,n.jsx)(p.A,Object.assign({type:"submit"},a,{disabled:!f||Boolean(N)||F},{children:(0,n.jsx)(A.A,{id:"ui.accountRecover.submit",defaultMessage:"ui.accountRecover.submit"})}))]}))}))},N={sidebar_label:"Account Recover",sidebar_position:1,title:"Account Recover"},C=void 0,F={},P=[{value:"Usage",id:"usage",level:4}];function D(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["The Account Recover component allows users to recover their account with their email.",(0,n.jsx)("br",{}),'\nThis component is composed of a simple email form and a "recover account" button that submits the request.']}),"\n"]}),"\n","\n",(0,n.jsx)(a.A,{children:(0,n.jsx)(k,{})}),"\n",(0,n.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {AccountRecover} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><AccountRecover /></SCContextProvider>\n   );\n }\n"})})]})}function S(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(D,{...e})}):D(e)}},27885:(e,t,o)=>{o.d(t,{XU:()=>d,ib:()=>p,YK:()=>l});var r,n,s=o(16404),a=o(96540),c=o(6442);!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(r||(r={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(n||(n={}));var i=function(e){var t=(0,c.A)(),o=e.value,r=e.children,n=(0,s.Tt)(e,["value","children"]);return r(t.formatNumberToParts(o,n))};i.displayName="FormattedNumberParts";function u(e){var t=function(t){var o=(0,c.A)(),r=t.value,n=t.children,a=(0,s.Tt)(t,["value","children"]),i="string"==typeof r?new Date(r||0):r;return n("formatDate"===e?o.formatDateToParts(i,a):o.formatTimeToParts(i,a))};return t.displayName=n[e],t}function m(e){var t=function(t){var o=(0,c.A)(),r=t.value,n=t.children,i=(0,s.Tt)(t,["value","children"]),u=o[e](r,i);if("function"==typeof n)return n(u);var m=o.textComponent||a.Fragment;return a.createElement(m,null,u)};return t.displayName=r[e],t}function l(e){return e}i.displayName="FormattedNumberParts";var d=m("formatDate"),p=m("formatTime");m("formatNumber"),m("formatList"),m("formatDisplayName"),u("formatDate"),u("formatTime")},33298:(e,t,o)=>{o.d(t,{A:()=>i});o(96540);var r=o(45284),n=o(36175),s=o(51151),a=o(73906),c=o(74848);function i(e){let{children:t}=e;const o={portal:n.F.portal,locale:{default:"en"},session:{type:"OAuth",clientId:n.F.user.client_id},theme:s.Ay,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,c.jsx)(a.A,{children:()=>(0,c.jsx)(r.Ay,{conf:o,children:t})})}},36175:(e,t,o)=>{o.d(t,{F:()=>r});const r={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://internal.selfcommunity.io/mkg2zxd0"}},63751:(e,t,o)=>{o.d(t,{A:()=>p});var r=o(31635),n=o(74848),s=o(96540),a=o(11848),c=o(43581),i=o(27885),u=o(6442),m=o(83418);const l=(0,i.YK)({emailError:{id:"ui.common.error.email",defaultMessage:"ui.common.error.email"}}),d=(0,a.Ay)(c.A,{name:"SCEmailTextField",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));function p(e){const{onChange:t,error:o=!1,helperText:a=null}=e,c=(0,r.__rest)(e,["onChange","error","helperText"]),[i,p]=(0,s.useState)(null),f=(0,u.A)();return(0,n.jsx)(d,Object.assign({},c,{onChange:e=>{e.target.value&&!m.X.test(e.target.value)?p(f.formatMessage(l.emailError)):null!==o&&p(null),t&&t(e)},error:Boolean(i)||o,helperText:i||a}))}},83418:(e,t,o)=>{o.d(t,{N:()=>n,X:()=>r});const r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,n=/^[_-]*[a-zA-Z0-9]+[a-zA-Z0-9_-]*$/}}]);