"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[92313],{31924:(e,t,a)=>{a.d(t,{Z:()=>r});var o=a(97582),s=a(91705),n=a(24085),i=a(66821);class l{static getCategorySuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.CategoriesSuggestion.url({}),method:n.Z.CategoriesSuggestion.method,params:e}))}static getIncubatorSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.GetIncubatorSuggestion.url({}),method:n.Z.GetIncubatorSuggestion.method,params:e}))}static getPollSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.PollSuggestion.url({}),method:n.Z.PollSuggestion.method,params:e}))}static getUserSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:n.Z.UserSuggestion.url({}),method:n.Z.UserSuggestion.method,params:e}))}static getSearchSuggestion(e,t,a){const o=(0,i.B)({search:e});return(0,s.N)(Object.assign(Object.assign({},a),{url:`${n.Z.SearchSuggestion.url({})}?${o.toString()}`,method:n.Z.UserSuggestion.method,params:t}))}}class r{static getCategorySuggestion(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getCategorySuggestion(e,t)}))}static getIncubatorSuggestion(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getIncubatorSuggestion(e,t)}))}static getPollSuggestion(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getPollSuggestion(e,t)}))}static getUserSuggestion(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getUserSuggestion(e,t)}))}static getSearchSuggestion(e,t,a){return(0,o.mG)(this,void 0,void 0,(function*(){return l.getSearchSuggestion(e,t,a)}))}}},98365:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(67294),s=a(74482),n=a(24243),i=a(24085),l=a(59219),r=a(96570),c=a(99960),u=a(69721),g=a(87620),d=a(68787);function m({id:e=null,category:t=null,cacheStrategy:a=l.n2.CACHE_FIRST}){const m=t?t.id:e,E=(0,d.LD)(),p=E.user?E.user.id:null,Z=(0,u.u5)(m),y=p?t:(0,r.Kd)(t,["followed"]),[h,S]=(0,o.useState)(a!==l.n2.NETWORK_ONLY?l.ZP.get(Z,y):null),[f,v]=(0,o.useState)(null),N=(0,o.useMemo)((()=>()=>n.Z.request({url:i.Z.Category.url({id:m}),method:i.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[m]);return(0,o.useEffect)((()=>{m&&(!h||h&&m!==h.id)&&N().then((e=>{const t=p?e:(0,r.Kd)(e,["followed"]);S(t),l.ZP.set(Z,t)})).catch((t=>{l.ZP.delete(Z),v(`Category with id ${e} not found`),c.Y.error(s.h,`Category with id ${e} not found`),c.Y.error(s.h,t.message)}))}),[m]),(0,g.F_)((()=>{if(t){const e=p?t:(0,r.Kd)(t,["followed"]);S(e),l.ZP.set(Z,e)}}),[t]),{scCategory:h,setSCCategory:S,error:f}}},92313:(e,t,a)=>{a.d(t,{Z:()=>_});var o=a(67294),s=a(90948),n=a(58069),i=a(5208),l=a(19326),r=a(51603),c=a(27807),u=a(38509),g=a(12805),d=a(37024),m=a(93132),E=a(24085),p=a(29628),Z=a(94184),y=a.n(Z),h=a(83781),S=a(44012),f=a(20377);const v="SCExploreFeedTemplate",N={root:`${v}-root`},b=(0,s.ZP)(n.Z,{name:v,slot:"Root"})((()=>({}))),O=[{type:"widget",component:i.Z,componentProps:{},column:"right",position:0},{type:"widget",component:l.Z,componentProps:{},column:"right",position:1},{type:"widget",component:r.Z,componentProps:{},column:"right",position:2},{type:"widget",component:c.Z,componentProps:{},column:"right",position:3}];const _=function(e){const t=(0,p.Z)({props:e,name:v}),{id:a="explore_feed",className:s,widgets:n=O,FeedObjectProps:i={},FeedSidebarProps:l=null,FeedProps:r={}}=t,{enqueueSnackbar:c}=(0,f.Ds)(),Z=(0,o.useRef)(),_=(0,o.useMemo)((()=>n.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign({},e.componentProps)})))),[n]);return o.createElement(b,Object.assign({id:a,className:y()(N.root,s),ref:Z,endpoint:E.Z.ExploreFeed,widgets:_,ItemComponent:u.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:i,ItemSkeleton:g.Z,ItemSkeletonProps:{template:d.r.PREVIEW},HeaderComponent:o.createElement(m.Z,{onSuccess:e=>{c(o.createElement(S.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};Z&&Z.current&&Z.current.addFeedData(t,!0)}}),FeedSidebarProps:l,enabledCustomAdvPositions:[h.n.POSITION_FEED_SIDEBAR,h.n.POSITION_FEED,h.n.POSITION_BELOW_TOPBAR]},r))}},51603:(e,t,a)=>{a.d(t,{Z:()=>D});var o=a(97582),s=a(67294),n=a(90948),i=a(2734),l=a(61730),r=a(44267),c=a(15861),u=a(78462),g=a(97212),d=a(25662),m=a(98704),E=a(24243),p=a(24085),Z=a(59219),y=a(99960),h=a(95475);const S="SCCategoriesPopularWidget",f={root:`${S}-skeleton-root`},v=(0,n.ZP)(h.Z,{name:S,slot:"SkeletonRoot"})((()=>({})));function N(e){return s.createElement(v,Object.assign({className:f.root},e))}var b=a(75459),O=a(44012),_=a(42623),P=a(74808),C=a(94184),L=a.n(C),w=a(39154),R=a(79558),I=a(63902),T=a(29628),M=a(54545),x=a(68787),j=a(66380),A=a(85472),W=a(69721),$=a(15927);const F={root:`${S}-root`,title:`${S}-title`,noResults:`${S}-no-results`,showMore:`${S}-show-more`,dialogRoot:`${S}-dialog-root`,endMessage:`${S}-end-message`},k=(0,n.ZP)(I.Z,{name:S,slot:"Root"})((()=>({}))),B=(0,n.ZP)(w.Z,{name:S,slot:"DialogRoot"})((()=>({})));const D=function(e){const t=(0,T.Z)({props:e,name:S}),{autoHide:a=!0,limit:n=3,className:h,CategoryProps:f={},cacheStrategy:v=Z.n2.CACHE_FIRST,onHeightChange:C,onStateChange:w,DialogProps:I={},categoryId:D}=t,U=(0,o._T)(t,["autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","categoryId"]),K=(0,s.useContext)(x.K8),z=(0,s.useContext)(j.Tt),H=(0,s.useMemo)((()=>A.Ao in z.preferences&&z.preferences[A.Ao].value),[z]),[X,G]=(0,s.useReducer)($.Xi,{isLoadingNext:!1,next:null,cacheKey:W.hu(W.ZV),cacheStrategy:v,visibleItems:n},$.Mv),[Y,V]=(0,s.useState)(!1),q=(0,i.Z)(),J=(0,l.Z)(q.breakpoints.down("md")),Q=(0,s.useMemo)((()=>()=>{X.initialized||X.isLoadingNext||(G({type:$.dK.LOADING_NEXT}),m.Z.getPopularCategories({limit:n}).then((e=>{G({type:$.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{G({type:$.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),y.Y.error(b.J,e)})))}),[X.isLoadingNext,X.initialized,n,G]);(0,s.useEffect)((()=>{var e;let t;if(void 0!==K.user&&(H||!H&&(null===(e=K.user)||void 0===e?void 0:e.id)))return t=setTimeout(Q),()=>{t&&clearTimeout(t)}}),[K.user,H]),(0,s.useEffect)((()=>{Y&&X.next&&X.initialized&&X.results.length===n&&m.Z.getPopularCategories({offset:n,limit:10}).then((e=>{G({type:$.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{G({type:$.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),y.Y.error(b.J,e)}))}),[Y,n,X.next,X.initialized,X.results.length]),(0,s.useEffect)((()=>{C&&C()}),[X.results]),(0,s.useEffect)((()=>{(H||K.user)&&v===Z.n2.NETWORK_ONLY&&w&&w({cacheStrategy:Z.n2.CACHE_FIRST})}),[H,v,K.user]);const ee=(0,s.useMemo)((()=>()=>{G({type:$.dK.LOADING_NEXT}),E.Z.request({url:X.next,method:p.Z.PopularCategories.method}).then((e=>{G({type:$.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[G,X.next,X.isLoadingNext,X.initialized]),te=e=>{const t=[...X.results],a=t.findIndex((t=>t.id===e.id));-1!==a&&(e.followed?(t[a].followers_counter=e.followers_counter-1,t[a].followed=!e.followed):(t[a].followers_counter=e.followers_counter+1,t[a].followed=!e.followed),G({type:$.dK.SET_RESULTS,payload:{results:t}}))},ae=()=>{V((e=>!e))};if(!H&&!K.user||X.initialized&&a&&!X.count)return s.createElement(M.Z,null);if(!X.initialized)return s.createElement(N,null);const oe=s.createElement(r.Z,null,s.createElement(c.Z,{className:F.title,variant:"h5"},s.createElement(O.Z,{id:"ui.categoriesPopularWidget.title",defaultMessage:"ui.categoriesPopularWidget.title"})),X.count?s.createElement(s.Fragment,null,s.createElement(u.Z,null,X.results.slice(0,X.visibleItems).map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(_.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:te}},f)))))),X.count>X.visibleItems&&s.createElement(d.Z,{className:F.showMore,onClick:ae},s.createElement(O.Z,{id:"ui.categoriesPopularWidget.button.showAll",defaultMessage:"ui.categoriesPopularWidget.button.showAll"}))):s.createElement(c.Z,{className:F.noResults,variant:"body2"},s.createElement(O.Z,{id:"ui.categoriesPopularWidget.noResults",defaultMessage:"ui.categoriesPopularWidget.noResults"})),Y&&s.createElement(B,Object.assign({className:F.dialogRoot,title:s.createElement(O.Z,{defaultMessage:"ui.categoriesPopularWidget.title",id:"ui.categoriesPopularWidget.title"}),onClose:ae,open:Y},I),s.createElement(R.Z,{dataLength:X.results.length,next:ee,hasMoreNext:Boolean(X.next),loaderNext:s.createElement(P.Z,Object.assign({elevation:0},f)),height:J?"100%":400,endMessage:s.createElement(c.Z,{className:F.endMessage},s.createElement(O.Z,{id:"ui.categoriesPopularWidget.noMoreResults",defaultMessage:"ui.categoriesPopularWidget.noMoreResults"}))},s.createElement(u.Z,null,X.results.map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(_.Z,Object.assign({elevation:0,category:e},f,{categoryFollowButtonProps:{onFollow:te}})))))))));return s.createElement(k,Object.assign({className:L()(F.root,h)},U),oe)}},95475:(e,t,a)=>{a.d(t,{Z:()=>m});var o=a(67294),s=a(78462),n=a(90948),i=a(74808),l=a(63902),r=a(44267),c=a(97212),u=a(3928);const g={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},d=(0,n.ZP)(l.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return o.createElement(d,Object.assign({className:g.root},e),o.createElement(r.Z,null,o.createElement(s.Z,{className:g.list},[...Array(4)].map(((e,t)=>o.createElement(c.ZP,{key:t},o.createElement(i.Z,{elevation:0})))))))}},3928:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCCategoriesSuggestionWidget"},74808:(e,t,a)=>{a.d(t,{Z:()=>d});var o=a(67294),s=a(90948),n=a(88078),i=a(2734),l=a(25662),r=a(115),c=a(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},g=(0,s.ZP)(r.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function d(e){const t=(0,i.Z)();return o.createElement(g,Object.assign({className:u.root},e,{image:o.createElement(n.Z,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:o.createElement(n.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:o.createElement(n.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:o.createElement(l.Z,{size:"small",variant:"outlined",disabled:!0,className:u.button},o.createElement(n.Z,{animation:"wave",height:10,width:50,className:u.action}))}))}},40092:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCCategory"},42623:(e,t,a)=>{a.d(t,{Z:()=>b});var o=a(97582),s=a(67294),n=a(90948),i=a(87952),l=a(41538),r=a(98365),c=a(97265),u=a(12132),g=a(74808),d=a(75802),m=a(54490),E=a(86896),p=a(94184),Z=a.n(p),y=a(29628),h=a(75427),S=a(40092);const f=(0,m.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),v={root:`${S.B}-root`,categoryImage:`${S.B}-category-image`,title:`${S.B}-title`,actions:`${S.B}-actions`},N=(0,n.ZP)(h.Z,{name:S.B,slot:"Root"})((()=>({})));const b=function(e){const t=(0,y.Z)({props:e,name:S.B}),{categoryId:a=null,category:n=null,className:m=null,elevation:p,autoHide:h=!1,categoryFollowButtonProps:b={},showFollowers:O=!0,ButtonBaseProps:_=null}=t,P=(0,o._T)(t,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","ButtonBaseProps"]),C=(0,l.sy)(),{scCategory:L,setSCCategory:w}=(0,r.Z)({id:a,category:n}),R=(0,s.useMemo)((()=>_||{component:c.Z,to:C.url(u.CATEGORY_ROUTE_NAME,L)}),[_,C,L]),I=(0,E.Z)();return L?h?null:s.createElement(N,Object.assign({elevation:p,className:Z()(v.root,m),ButtonBaseProps:R,image:s.createElement(i.Z,{alt:L.name,src:L.image_medium,variant:"square",className:v.categoryImage}),primary:L.name,secondary:O?`${I.formatMessage(f.categoryFollowers,{total:L.followers_counter})}`:L.slogan,actions:s.createElement(d.Z,Object.assign({category:L},b))},P)):s.createElement(g.Z,{elevation:p})}},75802:(e,t,a)=>{a.d(t,{Z:()=>v});var o,s=a(97582),n=a(67294),i=a(90948),l=a(59219),r=a(99960),c=a(53704),u=a(68787),g=a(98365),d=a(75459),m=a(31812),E=a(44012),p=a(94184),Z=a.n(p),y=a(29628);!function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(o||(o={}));const h="SCCategoryFollowButton",S={root:`${h}-root`},f=(0,i.ZP)(m.Z,{name:h,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const v=function(e){const t=(0,y.Z)({props:e,name:h}),{className:a,categoryId:i,category:m,onFollow:p}=t,v=(0,s._T)(t,["className","categoryId","category","onFollow"]),N=(0,c.RM)(),b=(0,u.LD)(),O=b.managers.categories,_=b.user?b.user.id:null,{scCategory:P,setSCCategory:C}=(0,g.Z)({id:i,category:m,cacheStrategy:_?l.n2.CACHE_FIRST:l.n2.STALE_WHILE_REVALIDATE}),[L,w]=(0,n.useState)(null);return(0,n.useEffect)((()=>{_&&w(O.isFollowed(P))}),[_,O.isFollowed]),!P||P&&L&&P.auto_follow===o.FORCED?null:n.createElement(f,Object.assign({size:"small",variant:"outlined",onClick:()=>{b.user?O.follow(P).then((()=>{p&&p(P,!L)})).catch((e=>{r.Y.error(d.J,e)})):N.settings.handleAnonymousAction()},loading:b.user?null===L||O.isLoading(P):null,className:Z()(S.root,a)},v),L&&b.user?n.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):n.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},31717:(e,t,a)=>{a.d(t,{B:()=>o});const o="SCInlineComposerWidget"},93132:(e,t,a)=>{a.d(t,{Z:()=>w});var o=a(97582),s=a(67294),n=a(53704),i=a(68787),l=a(41538),r=a(66380),c=a(85472),u=a(65580),g=a(97265),d=a(12132),m=a(44267),E=a(5616),p=a(25662),Z=a(87952),y=a(90948),h=a(44012),S=a(20377),f=a(63902),v=a(29628),N=a(91290),b=a(22461),O=a(70815),_=a(31717),P=a(54545);const C={root:`${_.B}-root`,content:`${_.B}-content`,input:`${_.B}-input`,avatar:`${_.B}-avatar`},L=(0,y.ZP)(f.Z,{name:_.B,slot:"Root"})((()=>({})));const w=function(e){const t=(0,v.Z)({props:e,name:_.B}),{mediaObjectTypes:a=[b.Z,O.Z],defaultValue:y,onSuccess:f=null,label:w}=t,R=(0,o._T)(t,["mediaObjectTypes","defaultValue","onSuccess","label"]),I=(0,n.RM)(),T=(0,i.LD)(),M=(0,l.sy)(),{enqueueSnackbar:x}=(0,S.Ds)(),j=(0,r.ko)(),A=(0,s.useMemo)((()=>j.preferences[c.Kq].value),[j.preferences]),[W,$]=(0,s.useState)(!1),F=(0,s.useCallback)((()=>{T.user?u.IT(T.user)?x(s.createElement(h.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):$(!0):I.settings.handleAnonymousAction()}),[T.user,I.settings]),k=(0,s.useCallback)((()=>{$(!1)}),[]);return!u.B2(T.user)&&A?s.createElement(P.Z,null):s.createElement(s.Fragment,null,s.createElement(L,Object.assign({className:C.root},R),s.createElement(m.Z,{className:C.content},s.createElement(E.Z,{className:C.input},s.createElement(p.Z,{variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:F,fullWidth:!0,color:"inherit"},null!=w?w:s.createElement(h.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"}))),s.createElement(E.Z,{className:C.avatar},T.user?s.createElement(g.Z,{to:M.url(d.USER_PROFILE_ROUTE_NAME,T.user)},s.createElement(Z.Z,{alt:T.user.username,variant:"circular",src:T.user.avatar})):s.createElement(Z.Z,{variant:"circular"})))),s.createElement(N.Z,{open:W,mediaObjectTypes:a,defaultValue:y,fullWidth:!0,onClose:k,onSuccess:e=>{f?f(e):x(s.createElement(h.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),$(!1)}}))}},19326:(e,t,a)=>{a.d(t,{Z:()=>x});var o=a(97582),s=a(67294),n=a(90948),i=a(44267),l=a(15861),r=a(62023),c=a(87918),u=a(25662),g=a(24243),d=a(24085),m=a(68787),E=a(66380),p=a(85472),Z=a(44012),y=a(41538),h=a(97265),S=a(12132),f=a(94184),v=a.n(f),N=a(63902),b=a(29628),O=a(54545),_=a(88078);const P="SCLoyaltyProgramWidget",C={root:`${P}-skeleton-root`,title:`${P}-title`,content:`${P}-content`,chip:`${P}-chip`,points:`${P}-points`,actions:`${P}-actions`},L=(0,n.ZP)(N.Z,{name:P,slot:"SkeletonRoot"})((()=>({})));function w(){return s.createElement(L,{className:C.root},s.createElement(i.Z,{className:C.content},s.createElement(l.Z,{className:C.title},s.createElement(_.Z,{animation:"wave",height:25,width:"40%",variant:"rectangular"}))),s.createElement(r.Z,{className:C.actions},s.createElement(l.Z,{className:C.points},s.createElement(_.Z,{animation:"wave",variant:"circular",width:60,height:30,className:C.chip}),s.createElement(_.Z,{animation:"wave",height:20,width:90,variant:"rectangular"})),s.createElement(u.Z,{disabled:!0,variant:"outlined",size:"small"},s.createElement(_.Z,{animation:"wave",height:20,width:70,variant:"text"}))))}var R=a(75459),I=a(99960);const T={root:`${P}-root`,title:`${P}-title`,actions:`${P}-actions`,points:`${P}-points`,discoverMore:`${P}-discover-more`},M=(0,n.ZP)(N.Z,{name:P,slot:"Root"})((()=>({})));const x=function(e){const t=(0,b.Z)({props:e,name:P}),{className:a,userId:n=null}=t,f=(0,o._T)(t,["className","userId"]),N=(0,s.useContext)(m.K8),_=(0,E.ko)(),C=(0,y.sy)(),[L,x]=(0,s.useState)(null),[j,A]=(0,s.useState)(!0),W=N.user?N.user.id:null,$=(0,s.useMemo)((()=>p.v0 in _.preferences&&_.preferences[p.v0].value),[_.preferences]);return(0,s.useEffect)((()=>{$&&W&&g.Z.request({url:d.Z.GetUserLoyaltyPoints.url({id:N.user.id}),method:d.Z.GetUserLoyaltyPoints.method}).then((e=>{x(e.data.points),A(!1)})).catch((e=>{A(!1),I.Y.error(R.J,e),console.log(e)}))}),[W,$]),!$||!N.user||n&&n!==N.user.id?s.createElement(O.Z,null):j?s.createElement(w,null):s.createElement(M,Object.assign({className:v()(T.root,a)},f),s.createElement(i.Z,null,s.createElement(l.Z,{className:T.title},s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.title",defaultMessage:"ui.loyaltyProgramWidget.title"}))),s.createElement(r.Z,{className:T.actions},s.createElement(l.Z,{className:T.points},s.createElement(c.Z,{size:"medium",component:"span",label:L}),s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.points",defaultMessage:"ui.loyaltyProgramWidget.points"})),s.createElement(u.Z,{size:"small",variant:"outlined",className:T.discoverMore,component:h.Z,to:C.url(S.LOYALTY_ROUTE_NAME,{})},s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.discover",defaultMessage:"ui.loyaltyProgramWidget.discover"}))))}},5208:(e,t,a)=>{a.d(t,{Z:()=>O});var o=a(97582),s=a(67294),n=a(90948),i=a(86886),l=a(15861),r=a(25662),c=a(24243),u=a(24085),g=a(68787),d=a(6237),m=a(65580),E=a(67564),p=a(44012),Z=a(94184),y=a.n(Z),h=a(63902),S=a(29628),f=a(54545);const v="SCPlatformWidget",N={root:`${v}-root`,title:`${v}-title`},b=(0,n.ZP)(h.Z,{name:v,slot:"Root"})((()=>({})));const O=function(e){var t;const a=(0,S.Z)({props:e,name:v}),{autoHide:n,className:Z,onHeightChange:h,onStateChange:O}=a,_=(0,o._T)(a,["autoHide","className","onHeightChange","onStateChange"]),P=(0,s.useContext)(g.K8),C=(0,d.yL)().locale,L=(0,s.useMemo)((()=>m.GJ(P.user)),[P.user]),w=(0,s.useMemo)((()=>m.vJ(P.user)),[P.user]);function R(e){c.Z.request({url:u.Z.Platform.url(),method:u.Z.Platform.method,params:{next:e}}).then((e=>{const t=e.data.platform_url;window.open(t,"_blank").focus()})).catch((e=>{console.log(e)}))}const I=s.createElement(i.ZP,{container:!0,spacing:L?1:3,justifyContent:"center"},s.createElement(i.ZP,{item:!0,xs:12},s.createElement(l.Z,{className:N.title,component:"h3",align:"center"},s.createElement(p.Z,{id:"ui.platformWidget.title",defaultMessage:"ui.platformWidget.title"}),s.createElement(E.Z,{fontSize:"small"},"lock"))),L&&s.createElement(i.ZP,{item:!0,xs:"auto"},s.createElement(r.Z,{variant:"outlined",size:"small",onClick:()=>R("")},s.createElement(p.Z,{id:"ui.platformWidget.adm",defaultMessage:"ui.platformWidget.adm"}))),s.createElement(i.ZP,{item:!0,xs:"auto"},s.createElement(r.Z,{variant:"outlined",size:"small",onClick:()=>R("/moderation/flags/")},L||w?s.createElement(p.Z,{id:"ui.platformWidget.mod",defaultMessage:"ui.platformWidget.mod"}):s.createElement(p.Z,{id:"ui.platformWidget.edt",defaultMessage:"ui.platformWidget.edt"}))),s.createElement(i.ZP,{item:!0,xs:"auto"},s.createElement(r.Z,{variant:"outlined",size:"small",href:`https://support.selfcommunity.com/hc/${C}`,target:"_blank"},s.createElement(p.Z,{id:"ui.platformWidget.hc",defaultMessage:"ui.platformWidget.hc"}))));return!n&&(null===(t=null==P?void 0:P.user)||void 0===t?void 0:t.role)?s.createElement(b,Object.assign({className:y()(N.root,Z)},_),I):s.createElement(f.Z,null)}},27807:(e,t,a)=>{a.d(t,{Z:()=>B});var o=a(97582),s=a(67294),n=a(90948),i=a(2734),l=a(61730),r=a(44267),c=a(15861),u=a(78462),g=a(97212),d=a(25662),m=a(31924),E=a(24243),p=a(24085),Z=a(69721),y=a(68787),h=a(66380),S=a(85472),f=a(50353),v=a(63902);const N="SCUserSuggestionWidget",b={root:`${N}-skeleton-root`,list:`${N}-list`},O=(0,n.ZP)(v.Z,{name:N,slot:"SkeletonRoot"})((()=>({})));const _=function(e){return s.createElement(O,Object.assign({className:b.root},e),s.createElement(r.Z,null,s.createElement(u.Z,{className:b.list},[...Array(4)].map(((e,t)=>s.createElement(g.ZP,{key:t},s.createElement(f.Z,{elevation:0})))))))};var P=a(37089),C=a(44012),L=a(94184),w=a.n(L),R=a(29628),I=a(54545),T=a(59219),M=a(99960),x=a(15927),j=a(39154),A=a(75459),W=a(79558);const $={root:`${N}-root`,title:`${N}-title`,noResults:`${N}-no-results`,showMore:`${N}-show-more`,dialogRoot:`${N}-dialog-root`,endMessage:`${N}-end-message`},F=(0,n.ZP)(v.Z,{name:N,slot:"Root"})((()=>({}))),k=(0,n.ZP)(j.Z,{name:N,slot:"DialogRoot"})((()=>({})));const B=function(e){const t=(0,R.Z)({props:e,name:N}),{autoHide:a=!0,limit:n=3,className:v,UserProps:b={},cacheStrategy:O=T.n2.NETWORK_ONLY,onHeightChange:L,onStateChange:j,DialogProps:B={}}=t,D=(0,o._T)(t,["autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[U,K]=(0,s.useReducer)(x.Xi,{isLoadingNext:!1,next:null,cacheKey:Z.hu(Z.oE),cacheStrategy:O,visibleItems:n},x.Mv),[z,H]=(0,s.useState)(!1),X=(0,y.LD)(),G=(0,h.ko)(),Y=((0,s.useMemo)((()=>S.$0 in G.preferences&&G.preferences[S.$0].value),[G.preferences]),(0,i.Z)()),V=(0,l.Z)(Y.breakpoints.down("md")),q=(0,s.useMemo)((()=>()=>{U.initialized||U.isLoadingNext||(K({type:x.dK.LOADING_NEXT}),m.Z.getUserSuggestion({limit:n}).then((e=>{K({type:x.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{K({type:x.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),M.Y.error(A.J,e)})))}),[U.isLoadingNext,U.initialized,n,K]);(0,s.useEffect)((()=>{let e;if(X.user)return e=setTimeout(q),()=>{e&&clearTimeout(e)}}),[X.user]),(0,s.useEffect)((()=>{z&&U.next&&U.results.length<=n&&U.initialized&&(K({type:x.dK.LOADING_NEXT}),m.Z.getUserSuggestion({offset:n,limit:10}).then((e=>{K({type:x.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{K({type:x.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),M.Y.error(A.J,e)})))}),[z,U.next,U.results.length,U.initialized,n]),(0,s.useEffect)((()=>{L&&L()}),[U.results]),(0,s.useEffect)((()=>{X.user&&O===T.n2.NETWORK_ONLY&&j&&j({cacheStrategy:T.n2.CACHE_FIRST})}),[X.user]);const J=(0,s.useMemo)((()=>()=>{K({type:x.dK.LOADING_NEXT}),E.Z.request({url:U.next,method:p.Z.UserSuggestion.method}).then((e=>{K({type:x.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[K,U.next,U.isLoadingNext,U.initialized]),Q=()=>{H((e=>!e))};if(a&&!U.count&&U.initialized||!X.user)return s.createElement(I.Z,null);if(!U.initialized)return s.createElement(_,null);const ee=s.createElement(r.Z,null,s.createElement(c.Z,{className:$.title,variant:"h5"},s.createElement(C.Z,{id:"ui.userSuggestionWidget.title",defaultMessage:"ui.userSuggestionWidget.title"})),U.count?s.createElement(s.Fragment,null,s.createElement(u.Z,null,U.results.slice(0,U.visibleItems).map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(P.Z,Object.assign({elevation:0,user:e},b)))))),U.count>U.visibleItems&&s.createElement(d.Z,{className:$.showMore,onClick:Q},s.createElement(C.Z,{id:"ui.userSuggestionWidget.button.showAll",defaultMessage:"ui.userSuggestionWidget.button.showAll"}))):s.createElement(c.Z,{className:$.noResults,variant:"body2"},s.createElement(C.Z,{id:"ui.userSuggestionWidget.noResults",defaultMessage:"ui.userSuggestionWidget.noResults"})),z&&s.createElement(k,Object.assign({className:$.dialogRoot,title:s.createElement(C.Z,{defaultMessage:"ui.userSuggestionWidget.title",id:"ui.userSuggestionWidget.title"}),onClose:Q,open:z},B),s.createElement(W.Z,{dataLength:U.results.length,next:J,hasMoreNext:Boolean(U.next),loaderNext:s.createElement(f.Z,Object.assign({elevation:0},b)),height:V?"100%":400,endMessage:s.createElement(c.Z,{className:$.endMessage},s.createElement(C.Z,{id:"ui.userSuggestionWidget.noMoreResults",defaultMessage:"ui.userSuggestionWidget.noMoreResults"}))},s.createElement(u.Z,null,U.results.map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(P.Z,Object.assign({elevation:0,user:e},b)))))))));return s.createElement(F,Object.assign({className:w()($.root,v)},D),ee)}},15927:(e,t,a)=>{a.d(t,{Mv:()=>i,Xi:()=>n,dK:()=>s});var o=a(59219);const s={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function n(e,t){var a;let n=Object.assign({},e);switch(t.type){case s.LOADING_NEXT:n=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case s.LOADING_PREVIOUS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case s.LOAD_NEXT_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(a=t.payload)||void 0===a?void 0:a.initialized)||!0});break;case s.LOAD_PREVIOUS_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case s.SET_RESULTS:n=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case s.SET_VISIBLE_ITEMS:n=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case s.LOAD_NEXT_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case s.LOAD_PREVIOUS_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case s.RESET:n={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return o.ZP.set(n.cacheKey,n),n}function i(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&o.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==o.n2.NETWORK_ONLY){const e=o.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}}}]);