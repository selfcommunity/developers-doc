"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[59467],{96828:(t,a,e)=>{e.d(a,{Z:()=>x});var o=e(80102),r=e(83117),n=e(67294),i=e(98216),s=e(27909);var l=e(90948),d=e(28628),c=e(25662),u=e(98363),m=e(98456),g=e(35971),f=e(34867);function h(t){return(0,f.ZP)("MuiLoadingButton",t)}const v=(0,e(1588).Z)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]);var b=e(85893);const y=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Z=t=>{const{loading:a,loadingPosition:e,classes:o}=t,n=function(t,a,e){const o={};return Object.keys(t).forEach((r=>{o[r]=t[r].reduce(((t,o)=>{if(o){const r=a(o);""!==r&&t.push(r),e&&e[o]&&t.push(e[o])}return t}),[]).join(" ")})),o}({root:["root",a&&"loading"],startIcon:[a&&`startIconLoading${(0,i.Z)(e)}`],endIcon:[a&&`endIconLoading${(0,i.Z)(e)}`],loadingIndicator:["loadingIndicator",a&&`loadingIndicator${(0,i.Z)(e)}`]},h,o);return(0,r.Z)({},o,n)},P=(0,l.ZP)(c.Z,{shouldForwardProp:t=>(t=>"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t&&"classes"!==t)(t)||"classes"===t,name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,a)=>[a.root,a.startIconLoadingStart&&{[`& .${v.startIconLoadingStart}`]:a.startIconLoadingStart},a.endIconLoadingEnd&&{[`& .${v.endIconLoadingEnd}`]:a.endIconLoadingEnd}]})((({ownerState:t,theme:a})=>(0,r.Z)({[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0}},"center"===t.loadingPosition&&{transition:a.transitions.create(["background-color","box-shadow","border-color"],{duration:a.transitions.duration.short}),[`&.${v.loading}`]:{color:"transparent"}},"start"===t.loadingPosition&&t.fullWidth&&{[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0,marginRight:-8}},"end"===t.loadingPosition&&t.fullWidth&&{[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:a.transitions.create(["opacity"],{duration:a.transitions.duration.short}),opacity:0,marginLeft:-8}}))),p=(0,l.ZP)("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,a)=>{const{ownerState:e}=t;return[a.loadingIndicator,a[`loadingIndicator${(0,i.Z)(e.loadingPosition)}`]]}})((({theme:t,ownerState:a})=>(0,r.Z)({position:"absolute",visibility:"visible",display:"flex"},"start"===a.loadingPosition&&("outlined"===a.variant||"contained"===a.variant)&&{left:"small"===a.size?10:14},"start"===a.loadingPosition&&"text"===a.variant&&{left:6},"center"===a.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled},"end"===a.loadingPosition&&("outlined"===a.variant||"contained"===a.variant)&&{right:"small"===a.size?10:14},"end"===a.loadingPosition&&"text"===a.variant&&{right:6},"start"===a.loadingPosition&&a.fullWidth&&{position:"relative",left:-10},"end"===a.loadingPosition&&a.fullWidth&&{position:"relative",right:-10}))),x=n.forwardRef((function(t,a){const e=n.useContext(u.Z),i=(0,g.Z)(e,t),l=(0,d.i)({props:i,name:"MuiLoadingButton"}),{children:c,disabled:f=!1,id:h,loading:v=!1,loadingIndicator:x,loadingPosition:D="center",variant:w="text"}=l,S=(0,o.Z)(l,y),I=(0,s.Z)(h),j=null!=x?x:(0,b.jsx)(m.Z,{"aria-labelledby":I,color:"inherit",size:16}),N=(0,r.Z)({},l,{disabled:f,loading:v,loadingIndicator:j,loadingPosition:D,variant:w}),k=Z(N),L=v?(0,b.jsx)(p,{className:k.loadingIndicator,ownerState:N,children:j}):null;return(0,b.jsxs)(P,(0,r.Z)({disabled:f||v,id:I,ref:a},S,{variant:w,classes:k,ownerState:N,children:["end"===N.loadingPosition?c:L,"end"===N.loadingPosition?L:c]}))}))},94253:(t,a,e)=>{e.d(a,{Z:()=>Z});var o=e(83117),r=e(80102),n=e(67294),i=e(63961),s=e(74854),l=e(18784),d=e(87893),c=e(71713),u=e(85893);const m=["className","component"];var g=e(37078),f=e(75389),h=e(10606);const v=(0,e(1588).Z)("MuiBox",["root"]),b=(0,f.Z)(),y=function(t={}){const{themeId:a,defaultTheme:e,defaultClassName:g="MuiBox-root",generateClassName:f}=t,h=(0,s.default)("div",{shouldForwardProp:t=>"theme"!==t&&"sx"!==t&&"as"!==t})(l.Z);return n.forwardRef((function(t,n){const s=(0,c.Z)(e),l=(0,d.Z)(t),{className:v,component:b="div"}=l,y=(0,r.Z)(l,m);return(0,u.jsx)(h,(0,o.Z)({as:b,ref:n,className:(0,i.Z)(v,f?f(g):g),theme:a&&s[a]||s},y))}))}({themeId:h.Z,defaultTheme:b,defaultClassName:v.root,generateClassName:g.Z.generate}),Z=y},98456:(t,a,e)=>{e.d(a,{Z:()=>N});var o=e(80102),r=e(83117),n=e(67294),i=e(63961),s=e(94780),l=e(70917),d=e(98216),c=e(28628),u=e(90948),m=e(1588),g=e(34867);function f(t){return(0,g.ZP)("MuiCircularProgress",t)}(0,m.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h=e(85893);const v=["className","color","disableShrink","size","style","thickness","value","variant"];let b,y,Z,P,p=t=>t;const x=44,D=(0,l.F4)(b||(b=p`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),w=(0,l.F4)(y||(y=p`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:e}=t;return[a.root,a[e.variant],a[`color${(0,d.Z)(e.color)}`]]}})((({ownerState:t,theme:a})=>(0,r.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:a.transitions.create("transform")},"inherit"!==t.color&&{color:(a.vars||a).palette[t.color].main})),(({ownerState:t})=>"indeterminate"===t.variant&&(0,l.iv)(Z||(Z=p`
      animation: ${0} 1.4s linear infinite;
    `),D))),I=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,a)=>a.svg})({display:"block"}),j=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,a)=>{const{ownerState:e}=t;return[a.circle,a[`circle${(0,d.Z)(e.variant)}`],e.disableShrink&&a.circleDisableShrink]}})((({ownerState:t,theme:a})=>(0,r.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:a.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:t})=>"indeterminate"===t.variant&&!t.disableShrink&&(0,l.iv)(P||(P=p`
      animation: ${0} 1.4s ease-in-out infinite;
    `),w))),N=n.forwardRef((function(t,a){const e=(0,c.i)({props:t,name:"MuiCircularProgress"}),{className:n,color:l="primary",disableShrink:u=!1,size:m=40,style:g,thickness:b=3.6,value:y=0,variant:Z="indeterminate"}=e,P=(0,o.Z)(e,v),p=(0,r.Z)({},e,{color:l,disableShrink:u,size:m,thickness:b,value:y,variant:Z}),D=(t=>{const{classes:a,variant:e,color:o,disableShrink:r}=t,n={root:["root",e,`color${(0,d.Z)(o)}`],svg:["svg"],circle:["circle",`circle${(0,d.Z)(e)}`,r&&"circleDisableShrink"]};return(0,s.Z)(n,f,a)})(p),w={},N={},k={};if("determinate"===Z){const t=2*Math.PI*((x-b)/2);w.strokeDasharray=t.toFixed(3),k["aria-valuenow"]=Math.round(y),w.strokeDashoffset=`${((100-y)/100*t).toFixed(3)}px`,N.transform="rotate(-90deg)"}return(0,h.jsx)(S,(0,r.Z)({className:(0,i.Z)(D.root,n),style:(0,r.Z)({width:m,height:m},N,g),ownerState:p,ref:a,role:"progressbar"},k,P,{children:(0,h.jsx)(I,{className:D.svg,ownerState:p,viewBox:"22 22 44 44",children:(0,h.jsx)(j,{className:D.circle,style:w,ownerState:p,cx:x,cy:x,r:(x-b)/2,fill:"none",strokeWidth:b})})}))}))},59467:(t,a,e)=>{e.d(a,{Z:()=>$});var o=e(97582),r=e(85893),n=e(67294),i=e(29360),s=e(90948),l=e(94253),d=e(15861),c=e(94184),u=e.n(c),m=e(67564),g=e(96828),f=e(91705),h=e(24085);class v{static generateDataPortability(t){return(0,f.N)(Object.assign({url:h.Z.GenerateDataPortability.url({}),method:h.Z.GenerateDataPortability.method},t))}static downloadDataPortability(t){return(0,f.N)(Object.assign({url:h.Z.DataPortabilityDownload.url({}),method:h.Z.DataPortabilityDownload.method,responseType:"blob"},t))}static dataPortabilityStatus(t){return(0,f.N)(Object.assign({url:h.Z.DataPortabilityStatus.url({}),method:h.Z.DataPortabilityStatus.method},t))}}class b{static generateDataPortability(t){return(0,o.mG)(this,void 0,void 0,(function*(){return v.generateDataPortability(t)}))}static downloadDataPortability(t){return(0,o.mG)(this,void 0,void 0,(function*(){return v.downloadDataPortability(t)}))}static dataPortabilityStatus(t){return(0,o.mG)(this,void 0,void 0,(function*(){return v.dataPortabilityStatus(t)}))}}var y=e(99960),Z=e(77488),P=e(51206),p=e(75459),x=e(86896),D=e(44012),w=e(54490),S=e(32912),I=e(76972),j=e(23855);const N="SCAccountDataPortability",k={root:`${N}-root`,createButton:`${N}-create-button`,downloadButton:`${N}-download-button`,generationInfo:`${N}-generation-info`},L=(0,s.ZP)(l.Z,{name:N,slot:"Root",overridesResolver:(t,a)=>a.root})((({theme:t})=>({})));const $=function(t){const a=(0,i.Z)({props:t,name:N}),{className:e}=a,s=(0,o._T)(a,["className"]),l=(0,n.useContext)(P.K8),[c,f]=(0,n.useState)(null),[h,v]=(0,n.useState)(!1),[$,C]=(0,n.useState)(!1),M=l.user?l.user.id:null,B=(0,x.Z)(),F=()=>{b.dataPortabilityStatus().then((t=>{t&&(!t.computing&&t.generated_at&&v(!1),f(t))})).catch((t=>{y.Y.error(p.J,t)})).then((()=>v(!1)))};return(0,n.useEffect)((()=>{let t;return null!==M&&(F(),t=setInterval((()=>{F()}),5e3)),()=>t&&clearInterval(t)}),[M]),M?(0,r.jsxs)(L,Object.assign({className:u()(k.root,e)},s,{children:[(0,r.jsx)(d.Z,Object.assign({variant:"h6"},{children:(0,r.jsx)(D.Z,{id:"ui.accountDataPortability.title",defaultMessage:"ui.accountDataPortability.title",values:{username:(0,Z.kC)(l.user.username)}})})),(0,r.jsx)(d.Z,Object.assign({variant:"body2",component:"div"},{children:(0,r.jsx)(D.Z,{id:"ui.accountDataPortability.info",defaultMessage:"ui.accountDataPortability.info",values:{li:t=>(0,r.jsx)("li",{children:t}),ul:t=>(0,r.jsx)("ul",{children:t})}})})),(0,r.jsx)(g.Z,Object.assign({size:"small",loading:c&&c.computing||h,disabled:!c||c&&(c.computing||c.requested_at&&(0,I.Z)(new Date,(0,j.Z)(c.requested_at.toString()))<24),loadingPosition:"start",startIcon:(0,r.jsx)(m.Z,{children:"folder_open"}),variant:"outlined",className:k.createButton,onClick:()=>{v(!0),b.generateDataPortability().then((t=>{t&&f(c)})).catch((t=>{y.Y.error(p.J,t)})).then((()=>v(!1)))}},{children:c&&c.computing||h?(0,r.jsx)(D.Z,{id:"ui.accountDataPortability.createLoadingButton",defaultMessage:"ui.accountDataPortability.createLoadingButton"}):(0,r.jsx)(D.Z,{id:"ui.accountDataPortability.createButton",defaultMessage:"ui.accountDataPortability.createButton"})})),c&&!c.computing&&c.generated_at&&(0,r.jsx)(g.Z,Object.assign({size:"small",loading:$,loadingPosition:"start",startIcon:(0,r.jsx)(m.Z,{children:"cloud_download_outlined"}),variant:"outlined",className:k.downloadButton,onClick:()=>{C(!0),b.downloadDataPortability({timeout:18e5}).then((t=>{const a=window.URL.createObjectURL(new Blob([t],{type:"application/zip"})),e=document.createElement("a");e.href=a,e.setAttribute("download",`${l.user.username}_${B.formatDate((0,S.Z)(new Date,"yyyy-MM-dd'T'HH:mm:ssxxx"),{year:"numeric",month:"numeric",day:"numeric"})}.zip`),document.body.appendChild(e),e.click(),document.body.removeChild(e),URL.revokeObjectURL(a),C(!1)})).catch((t=>{C(!1),y.Y.error(p.J,t)}))}},{children:(0,r.jsx)(D.Z,{id:"ui.accountDataPortability.downloadButton",defaultMessage:"ui.accountDataPortability.downloadButton"})})),(0,r.jsx)("br",{}),c&&!c.computing&&c.generated_at&&(0,r.jsx)(d.Z,Object.assign({className:k.generationInfo,variant:"body2"},{children:(0,r.jsx)(D.Z,{id:"ui.accountDataPortability.generatedInfo",defaultMessage:"ui.accountDataPortability.generatedInfo",values:{date:(0,r.jsx)(w.Ji,{value:c.requested_at,day:"numeric",month:"long",year:"numeric"}),time:(0,r.jsx)(w.qN,{value:c.requested_at})}})}))]})):null}},75459:(t,a,e)=>{e.d(a,{J:()=>o});const o="@selfcommunity/react-ui"},54490:(t,a,e)=>{e.d(a,{Ji:()=>m,qN:()=>g,vU:()=>u});var o,r,n=e(25719),i=e(67294),s=e(86896);!function(t){t.formatDate="FormattedDate",t.formatTime="FormattedTime",t.formatNumber="FormattedNumber",t.formatList="FormattedList",t.formatDisplayName="FormattedDisplayName"}(o||(o={})),function(t){t.formatDate="FormattedDateParts",t.formatTime="FormattedTimeParts",t.formatNumber="FormattedNumberParts",t.formatList="FormattedListParts"}(r||(r={}));var l=function(t){var a=(0,s.Z)(),e=t.value,o=t.children,r=(0,n._T)(t,["value","children"]);return o(a.formatNumberToParts(e,r))};l.displayName="FormattedNumberParts";function d(t){var a=function(a){var e=(0,s.Z)(),o=a.value,r=a.children,i=(0,n._T)(a,["value","children"]),l="string"==typeof o?new Date(o||0):o;return r("formatDate"===t?e.formatDateToParts(l,i):e.formatTimeToParts(l,i))};return a.displayName=r[t],a}function c(t){var a=function(a){var e=(0,s.Z)(),o=a.value,r=a.children,l=(0,n._T)(a,["value","children"]),d=e[t](o,l);if("function"==typeof r)return r(d);var c=e.textComponent||i.Fragment;return i.createElement(c,null,d)};return a.displayName=o[t],a}function u(t){return t}l.displayName="FormattedNumberParts";var m=c("formatDate"),g=c("formatTime");c("formatNumber"),c("formatList"),c("formatDisplayName"),d("formatDate"),d("formatTime")}}]);