"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[92313],{98704:(e,t,o)=>{o.d(t,{Z:()=>l});var a=o(97582),s=o(24085),r=o(91705),n=o(66821);class i{static getAllCategories(e,t){const o=(0,n.B)(e);return(0,r.N)(Object.assign({url:`${s.Z.CategoryList.url({})}?${o.toString()}`,method:s.Z.CategoryList.method},t))}static searchCategory(e,t){const o=(0,n.B)(e);return(0,r.N)(Object.assign({url:`${s.Z.SearchCategory.url({})}?${o.toString()}`,method:s.Z.SearchCategory.method},t))}static createCategory(e,t){return(0,r.N)(Object.assign({url:s.Z.CreateCategory.url({}),method:s.Z.CreateCategory.method,data:e},t))}static getSpecificCategory(e,t){return(0,r.N)(Object.assign({url:s.Z.Category.url({id:e}),method:s.Z.Category.method},t))}static updateASpecificCategory(e,t,o){return(0,r.N)(Object.assign({url:s.Z.UpdateCategory.url({id:e}),method:s.Z.UpdateCategory.method,data:t},o))}static patchASpecificCategory(e,t,o){return(0,r.N)(Object.assign({url:s.Z.PatchCategory.url({id:e}),method:s.Z.PatchCategory.method,data:t},o))}static deleteASpecificCategory(e,t){return(0,r.N)(Object.assign({url:s.Z.DeleteCategory.url({id:e}),method:s.Z.DeleteCategory.method},t))}static getCategoryAudience(e,t){return(0,r.N)(Object.assign({url:s.Z.CategoryAudience.url({id:e}),method:s.Z.CategoryAudience.method},t))}static getCategoryFollowers(e,t,o){return(0,r.N)(Object.assign({url:s.Z.CategoryFollowers.url({id:e}),method:s.Z.CategoryFollowers.method,params:t},o))}static getCategoryFeed(e,t,o){return(0,r.N)(Object.assign({url:s.Z.CategoryFeed.url({id:e}),method:s.Z.CategoryFeed.method,params:t},o))}static getCategoryTrendingFeed(e,t,o){const a=(0,n.B)(t);return(0,r.N)(Object.assign({url:`${s.Z.CategoryTrendingFeed.url({id:e})}?${a.toString()}`,method:s.Z.CategoryTrendingFeed.method},o))}static getCategoryTrendingFollowers(e,t,o){return(0,r.N)(Object.assign({url:s.Z.CategoryTrendingPeople.url({id:e}),method:s.Z.CategoryTrendingPeople.method,params:t},o))}static followCategory(e,t){return(0,r.N)(Object.assign({url:s.Z.FollowCategory.url({id:e}),method:s.Z.FollowCategory.method},t))}static checkCategoryIsFollowed(e,t){return(0,r.N)(Object.assign({url:s.Z.CheckCategoryIsFollowed.url({id:e}),method:s.Z.CheckCategoryIsFollowed.method},t))}static getFollowedCategories(e,t){const o=(0,n.B)(e);return(0,r.N)(Object.assign({url:`${s.Z.CategoriesFollowed.url({})}?${o.toString()}`,method:s.Z.CategoriesFollowed.method},t))}static getPopularCategories(e,t){const o=(0,n.B)(e);return(0,r.N)(Object.assign(Object.assign({},t),{url:`${s.Z.PopularCategories.url({})}?${o.toString()}`,method:s.Z.PopularCategories.method}))}}class l{static getAllCategories(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getAllCategories(e,t)}))}static searchCategory(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.searchCategory(e,t)}))}static createCategory(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.createCategory(e,t)}))}static getSpecificCategory(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getSpecificCategory(e,t)}))}static updateASpecificCategory(e,t,o){return(0,a.mG)(this,void 0,void 0,(function*(){return i.updateASpecificCategory(e,t,o)}))}static patchASpecificCategory(e,t,o){return(0,a.mG)(this,void 0,void 0,(function*(){return i.patchASpecificCategory(e,t,o)}))}static deleteASpecificCategory(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.deleteASpecificCategory(e,t)}))}static getCategoryAudience(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getCategoryAudience(e,t)}))}static getCategoryFollowers(e,t,o){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getCategoryFollowers(e,t,o)}))}static getCategoryFeed(e,t,o){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getCategoryFeed(e,t,o)}))}static getCategoryTrendingFeed(e,t,o){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getCategoryTrendingFeed(e,t,o)}))}static getCategoryTrendingFollowers(e,t,o){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getCategoryTrendingFollowers(e,t,o)}))}static followCategory(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.followCategory(e,t)}))}static checkCategoryIsFollowed(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.checkCategoryIsFollowed(e,t)}))}static getFollowedCategories(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getFollowedCategories(e,t)}))}static getPopularCategories(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getPopularCategories(e,t)}))}}},31924:(e,t,o)=>{o.d(t,{Z:()=>l});var a=o(97582),s=o(91705),r=o(24085),n=o(66821);class i{static getCategorySuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:r.Z.CategoriesSuggestion.url({}),method:r.Z.CategoriesSuggestion.method,params:e}))}static getIncubatorSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:r.Z.GetIncubatorSuggestion.url({}),method:r.Z.GetIncubatorSuggestion.method,params:e}))}static getPollSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:r.Z.PollSuggestion.url({}),method:r.Z.PollSuggestion.method,params:e}))}static getUserSuggestion(e,t){return(0,s.N)(Object.assign(Object.assign({},t),{url:r.Z.UserSuggestion.url({}),method:r.Z.UserSuggestion.method,params:e}))}static getSearchSuggestion(e,t,o){const a=(0,n.B)({search:e});return(0,s.N)(Object.assign(Object.assign({},o),{url:`${r.Z.SearchSuggestion.url({})}?${a.toString()}`,method:r.Z.UserSuggestion.method,params:t}))}}class l{static getCategorySuggestion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getCategorySuggestion(e,t)}))}static getIncubatorSuggestion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getIncubatorSuggestion(e,t)}))}static getPollSuggestion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getPollSuggestion(e,t)}))}static getUserSuggestion(e,t){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getUserSuggestion(e,t)}))}static getSearchSuggestion(e,t,o){return(0,a.mG)(this,void 0,void 0,(function*(){return i.getSearchSuggestion(e,t,o)}))}}},98365:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(67294),s=o(74482),r=o(65001),n=o(24085),i=o(59219),l=o(96570),c=o(99960),u=o(69721),g=o(87620),d=o(68689);function m({id:e=null,category:t=null,cacheStrategy:o=i.n2.CACHE_FIRST}){const m=t?t.id:e,p=(0,d.LD)(),y=p.user?p.user.id:null,Z=(0,u.u5)(m),E=y?t:(0,l.Kd)(t,["followed"]),[h,C]=(0,a.useState)(o!==i.n2.NETWORK_ONLY?i.ZP.get(Z,E):null),[f,S]=(0,a.useState)(null),v=(0,a.useMemo)((()=>()=>r.Z.request({url:n.Z.Category.url({id:m}),method:n.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[m]);return(0,a.useEffect)((()=>{m&&(!h||h&&m!==h.id)&&v().then((e=>{const t=y?e:(0,l.Kd)(e,["followed"]);C(t),i.ZP.set(Z,t)})).catch((t=>{i.ZP.delete(Z),S(`Category with id ${e} not found`),c.Y.error(s.h,`Category with id ${e} not found`),c.Y.error(s.h,t.message)}))}),[m]),(0,g.F_)((()=>{if(t){const e=y?t:(0,l.Kd)(t,["followed"]);C(e),i.ZP.set(Z,e)}}),[t]),{scCategory:h,setSCCategory:C,error:f}}},92313:(e,t,o)=>{o.d(t,{Z:()=>b});var a=o(67294),s=o(90948),r=o(58069),n=o(5208),i=o(19326),l=o(51603),c=o(27807),u=o(38509),g=o(12805),d=o(37024),m=o(93132),p=o(24085),y=o(29628),Z=o(94184),E=o.n(Z),h=o(83781),C=o(44012),f=o(20377);const S="SCExploreFeedTemplate",v={root:`${S}-root`},N=(0,s.ZP)(r.Z,{name:S,slot:"Root"})((()=>({}))),O=[{type:"widget",component:n.Z,componentProps:{},column:"right",position:0},{type:"widget",component:i.Z,componentProps:{},column:"right",position:1},{type:"widget",component:l.Z,componentProps:{},column:"right",position:2},{type:"widget",component:c.Z,componentProps:{},column:"right",position:3}];const b=function(e){const t=(0,y.Z)({props:e,name:S}),{id:o="explore_feed",className:s,widgets:r=O,FeedObjectProps:n={},FeedSidebarProps:i=null,FeedProps:l={}}=t,{enqueueSnackbar:c}=(0,f.Ds)(),Z=(0,a.useRef)(),b=(0,a.useMemo)((()=>r.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign({},e.componentProps)})))),[r]);return a.createElement(N,Object.assign({id:o,className:E()(v.root,s),ref:Z,endpoint:p.Z.ExploreFeed,widgets:b,ItemComponent:u.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:n,ItemSkeleton:g.Z,ItemSkeletonProps:{template:d.r.PREVIEW},HeaderComponent:a.createElement(m.Z,{onSuccess:e=>{c(a.createElement(C.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};Z&&Z.current&&Z.current.addFeedData(t,!0)}}),FeedSidebarProps:i,enabledCustomAdvPositions:[h.n.POSITION_FEED_SIDEBAR,h.n.POSITION_FEED,h.n.POSITION_BELOW_TOPBAR]},l))}},51603:(e,t,o)=>{o.d(t,{Z:()=>D});var a=o(97582),s=o(67294),r=o(90948),n=o(2734),i=o(98396),l=o(44267),c=o(15861),u=o(78462),g=o(97212),d=o(69417),m=o(98704),p=o(65001),y=o(24085),Z=o(59219),E=o(99960),h=o(95475);const C="SCCategoriesPopularWidget",f={root:`${C}-skeleton-root`},S=(0,r.ZP)(h.Z,{name:C,slot:"SkeletonRoot"})((()=>({})));function v(e){return s.createElement(S,Object.assign({className:f.root},e))}var N=o(75459),O=o(44012),b=o(42623),P=o(74808),_=o(94184),w=o.n(_),L=o(39154),j=o(79558),I=o(63902),T=o(29628),A=o(54545),F=o(68689),R=o(66380),x=o(85472),M=o(69721),$=o(15927);const W={root:`${C}-root`,title:`${C}-title`,noResults:`${C}-no-results`,showMore:`${C}-show-more`,dialogRoot:`${C}-dialog-root`,endMessage:`${C}-end-message`},k=(0,r.ZP)(I.Z,{name:C,slot:"Root"})((()=>({}))),B=(0,r.ZP)(L.Z,{name:C,slot:"DialogRoot"})((()=>({})));const D=function(e){const t=(0,T.Z)({props:e,name:C}),{autoHide:o=!0,limit:r=3,className:h,CategoryProps:f={},cacheStrategy:S=Z.n2.CACHE_FIRST,onHeightChange:_,onStateChange:L,DialogProps:I={},categoryId:D}=t,U=(0,a._T)(t,["autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","categoryId"]),G=(0,s.useContext)(F.K8),K=(0,s.useContext)(R.Tt),z=(0,s.useMemo)((()=>x.Ao in K.preferences&&K.preferences[x.Ao].value),[K]),[H,X]=(0,s.useReducer)($.Xi,{isLoadingNext:!1,next:null,cacheKey:M.hu(M.ZV),cacheStrategy:S,visibleItems:r},$.Mv),[Y,V]=(0,s.useState)(!1),q=(0,n.Z)(),J=(0,i.Z)(q.breakpoints.down("md")),Q=(0,s.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(X({type:$.dK.LOADING_NEXT}),m.Z.getPopularCategories({limit:r}).then((e=>{X({type:$.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{X({type:$.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),E.Y.error(N.J,e)})))}),[H.isLoadingNext,H.initialized,r,X]);(0,s.useEffect)((()=>{var e;let t;if(void 0!==G.user&&(z||!z&&(null===(e=G.user)||void 0===e?void 0:e.id)))return t=setTimeout(Q),()=>{t&&clearTimeout(t)}}),[G.user,z]),(0,s.useEffect)((()=>{Y&&H.next&&H.initialized&&H.results.length===r&&m.Z.getPopularCategories({offset:r,limit:10}).then((e=>{X({type:$.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{X({type:$.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),E.Y.error(N.J,e)}))}),[Y,r,H.next,H.initialized,H.results.length]),(0,s.useEffect)((()=>{_&&_()}),[H.results]),(0,s.useEffect)((()=>{(z||G.user)&&S===Z.n2.NETWORK_ONLY&&L&&L({cacheStrategy:Z.n2.CACHE_FIRST})}),[z,S,G.user]);const ee=(0,s.useMemo)((()=>()=>{X({type:$.dK.LOADING_NEXT}),p.Z.request({url:H.next,method:y.Z.PopularCategories.method}).then((e=>{X({type:$.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[X,H.next,H.isLoadingNext,H.initialized]),te=e=>{const t=[...H.results],o=t.findIndex((t=>t.id===e.id));-1!==o&&(e.followed?(t[o].followers_counter=e.followers_counter-1,t[o].followed=!e.followed):(t[o].followers_counter=e.followers_counter+1,t[o].followed=!e.followed),X({type:$.dK.SET_RESULTS,payload:{results:t}}))},oe=()=>{V((e=>!e))};if(!z&&!G.user||H.initialized&&o&&!H.count)return s.createElement(A.Z,null);if(!H.initialized)return s.createElement(v,null);const ae=s.createElement(l.Z,null,s.createElement(c.Z,{className:W.title,variant:"h5"},s.createElement(O.Z,{id:"ui.categoriesPopularWidget.title",defaultMessage:"ui.categoriesPopularWidget.title"})),H.count?s.createElement(s.Fragment,null,s.createElement(u.Z,null,H.results.slice(0,H.visibleItems).map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(b.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:te}},f)))))),H.count>H.visibleItems&&s.createElement(d.Z,{className:W.showMore,onClick:oe},s.createElement(O.Z,{id:"ui.categoriesPopularWidget.button.showAll",defaultMessage:"ui.categoriesPopularWidget.button.showAll"}))):s.createElement(c.Z,{className:W.noResults,variant:"body2"},s.createElement(O.Z,{id:"ui.categoriesPopularWidget.noResults",defaultMessage:"ui.categoriesPopularWidget.noResults"})),Y&&s.createElement(B,Object.assign({className:W.dialogRoot,title:s.createElement(O.Z,{defaultMessage:"ui.categoriesPopularWidget.title",id:"ui.categoriesPopularWidget.title"}),onClose:oe,open:Y},I),s.createElement(j.Z,{dataLength:H.results.length,next:ee,hasMoreNext:Boolean(H.next),loaderNext:s.createElement(P.Z,Object.assign({elevation:0},f)),height:J?"100%":400,endMessage:s.createElement(c.Z,{className:W.endMessage},s.createElement(O.Z,{id:"ui.categoriesPopularWidget.noMoreResults",defaultMessage:"ui.categoriesPopularWidget.noMoreResults"}))},s.createElement(u.Z,null,H.results.map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(b.Z,Object.assign({elevation:0,category:e},f,{categoryFollowButtonProps:{onFollow:te}})))))))));return s.createElement(k,Object.assign({className:w()(W.root,h)},U),ae)}},95475:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(67294),s=o(78462),r=o(90948),n=o(74808),i=o(63902),l=o(44267),c=o(97212),u=o(3928);const g={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},d=(0,r.ZP)(i.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return a.createElement(d,Object.assign({className:g.root},e),a.createElement(l.Z,null,a.createElement(s.Z,{className:g.list},[...Array(4)].map(((e,t)=>a.createElement(c.ZP,{key:t},a.createElement(n.Z,{elevation:0})))))))}},3928:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCCategoriesSuggestionWidget"},74808:(e,t,o)=>{o.d(t,{Z:()=>d});var a=o(67294),s=o(90948),r=o(88078),n=o(2734),i=o(69417),l=o(115),c=o(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},g=(0,s.ZP)(l.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function d(e){const t=(0,n.Z)();return a.createElement(g,Object.assign({className:u.root},e,{image:a.createElement(r.Z,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:a.createElement(r.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:a.createElement(r.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:a.createElement(i.Z,{size:"small",variant:"outlined",disabled:!0,className:u.button},a.createElement(r.Z,{animation:"wave",height:10,width:50,className:u.action}))}))}},40092:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCCategory"},42623:(e,t,o)=>{o.d(t,{Z:()=>N});var a=o(97582),s=o(67294),r=o(90948),n=o(87952),i=o(41538),l=o(98365),c=o(97265),u=o(12132),g=o(74808),d=o(75802),m=o(54490),p=o(86896),y=o(94184),Z=o.n(y),E=o(29628),h=o(75427),C=o(40092);const f=(0,m.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),S={root:`${C.B}-root`,categoryImage:`${C.B}-category-image`,title:`${C.B}-title`,actions:`${C.B}-actions`},v=(0,r.ZP)(h.Z,{name:C.B,slot:"Root"})((()=>({})));const N=function(e){const t=(0,E.Z)({props:e,name:C.B}),{categoryId:o=null,category:r=null,className:m=null,elevation:y,autoHide:h=!1,categoryFollowButtonProps:N={},showFollowers:O=!0,ButtonBaseProps:b=null}=t,P=(0,a._T)(t,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","ButtonBaseProps"]),_=(0,i.sy)(),{scCategory:w,setSCCategory:L}=(0,l.Z)({id:o,category:r}),j=(0,s.useMemo)((()=>b||{component:c.Z,to:_.url(u.CATEGORY_ROUTE_NAME,w)}),[b,_,w]),I=(0,p.Z)();return w?h?null:s.createElement(v,Object.assign({elevation:y,className:Z()(S.root,m),ButtonBaseProps:j,image:s.createElement(n.Z,{alt:w.name,src:w.image_medium,variant:"square",className:S.categoryImage}),primary:w.name,secondary:O?`${I.formatMessage(f.categoryFollowers,{total:w.followers_counter})}`:w.slogan,actions:s.createElement(d.Z,Object.assign({category:w},N))},P)):s.createElement(g.Z,{elevation:y})}},75802:(e,t,o)=>{o.d(t,{Z:()=>S});var a,s=o(97582),r=o(67294),n=o(90948),i=o(59219),l=o(99960),c=o(53704),u=o(68689),g=o(98365),d=o(75459),m=o(31812),p=o(44012),y=o(94184),Z=o.n(y),E=o(29628);!function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(a||(a={}));const h="SCCategoryFollowButton",C={root:`${h}-root`},f=(0,n.ZP)(m.Z,{name:h,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const S=function(e){const t=(0,E.Z)({props:e,name:h}),{className:o,categoryId:n,category:m,onFollow:y}=t,S=(0,s._T)(t,["className","categoryId","category","onFollow"]),v=(0,c.RM)(),N=(0,u.LD)(),O=N.managers.categories,b=N.user?N.user.id:null,{scCategory:P,setSCCategory:_}=(0,g.Z)({id:n,category:m,cacheStrategy:b?i.n2.CACHE_FIRST:i.n2.STALE_WHILE_REVALIDATE}),[w,L]=(0,r.useState)(null);return(0,r.useEffect)((()=>{b&&L(O.isFollowed(P))}),[b,O.isFollowed]),!P||P&&w&&P.auto_follow===a.FORCED?null:r.createElement(f,Object.assign({size:"small",variant:"outlined",onClick:()=>{N.user?O.follow(P).then((()=>{y&&y(P,!w)})).catch((e=>{l.Y.error(d.J,e)})):v.settings.handleAnonymousAction()},loading:N.user?null===w||O.isLoading(P):null,className:Z()(C.root,o)},S),w&&N.user?r.createElement(p.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):r.createElement(p.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},31717:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCInlineComposerWidget"},93132:(e,t,o)=>{o.d(t,{Z:()=>P});var a=o(97582),s=o(67294),r=o(53704),n=o(68689),i=o(41538),l=o(65580),c=o(97265),u=o(12132),g=o(44267),d=o(5616),m=o(69417),p=o(87952),y=o(90948),Z=o(44012),E=o(20377),h=o(63902),C=o(29628),f=o(9181),S=o(22461),v=o(70815),N=o(31717);const O={root:`${N.B}-root`,content:`${N.B}-content`,input:`${N.B}-input`,avatar:`${N.B}-avatar`},b=(0,y.ZP)(h.Z,{name:N.B,slot:"Root"})((()=>({})));const P=function(e){const t=(0,C.Z)({props:e,name:N.B}),{mediaObjectTypes:o=[S.Z,v.Z],defaultValue:y,onSuccess:h=null}=t,P=(0,a._T)(t,["mediaObjectTypes","defaultValue","onSuccess"]),_=(0,r.RM)(),w=(0,n.LD)(),L=(0,i.sy)(),{enqueueSnackbar:j}=(0,E.Ds)(),[I,T]=(0,s.useState)(!1),A=(0,s.useCallback)((()=>{w.user?l.IT(w.user)?j(s.createElement(Z.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):T(!0):_.settings.handleAnonymousAction()}),[w.user,_.settings]),F=(0,s.useCallback)((()=>{T(!1)}),[]);return s.createElement(s.Fragment,null,s.createElement(b,Object.assign({className:O.root},P),s.createElement(g.Z,{className:O.content},s.createElement(d.Z,{className:O.input},s.createElement(m.Z,{variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:A,fullWidth:!0,color:"inherit"},s.createElement(Z.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"}))),s.createElement(d.Z,{className:O.avatar},w.user?s.createElement(c.Z,{to:L.url(u.USER_PROFILE_ROUTE_NAME,w.user)},s.createElement(p.Z,{alt:w.user.username,variant:"circular",src:w.user.avatar})):s.createElement(p.Z,{variant:"circular"})))),s.createElement(f.Z,{open:I,mediaObjectTypes:o,defaultValue:y,fullWidth:!0,onClose:F,onSuccess:e=>{h?h(e):j(s.createElement(Z.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),T(!1)}}))}},19326:(e,t,o)=>{o.d(t,{Z:()=>F});var a=o(97582),s=o(67294),r=o(90948),n=o(44267),i=o(15861),l=o(62023),c=o(87918),u=o(69417),g=o(65001),d=o(24085),m=o(68689),p=o(66380),y=o(85472),Z=o(44012),E=o(41538),h=o(97265),C=o(12132),f=o(94184),S=o.n(f),v=o(63902),N=o(29628),O=o(54545),b=o(88078);const P="SCLoyaltyProgramWidget",_={root:`${P}-skeleton-root`,title:`${P}-title`,content:`${P}-content`,chip:`${P}-chip`,points:`${P}-points`,actions:`${P}-actions`},w=(0,r.ZP)(v.Z,{name:P,slot:"SkeletonRoot"})((()=>({})));function L(){return s.createElement(w,{className:_.root},s.createElement(n.Z,{className:_.content},s.createElement(i.Z,{className:_.title},s.createElement(b.Z,{animation:"wave",height:25,width:"40%",variant:"rectangular"}))),s.createElement(l.Z,{className:_.actions},s.createElement(i.Z,{className:_.points},s.createElement(b.Z,{animation:"wave",variant:"circular",width:60,height:30,className:_.chip}),s.createElement(b.Z,{animation:"wave",height:20,width:90,variant:"rectangular"})),s.createElement(u.Z,{disabled:!0,variant:"outlined",size:"small"},s.createElement(b.Z,{animation:"wave",height:20,width:70,variant:"text"}))))}var j=o(75459),I=o(99960);const T={root:`${P}-root`,title:`${P}-title`,actions:`${P}-actions`,points:`${P}-points`,discoverMore:`${P}-discover-more`},A=(0,r.ZP)(v.Z,{name:P,slot:"Root"})((()=>({})));const F=function(e){const t=(0,N.Z)({props:e,name:P}),{className:o,userId:r=null}=t,f=(0,a._T)(t,["className","userId"]),v=(0,s.useContext)(m.K8),b=(0,p.ko)(),_=(0,E.sy)(),[w,F]=(0,s.useState)(null),[R,x]=(0,s.useState)(!0),M=v.user?v.user.id:null,$=(0,s.useMemo)((()=>y.v0 in b.preferences&&b.preferences[y.v0].value),[b.preferences]);return(0,s.useEffect)((()=>{$&&M&&g.Z.request({url:d.Z.GetUserLoyaltyPoints.url({id:v.user.id}),method:d.Z.GetUserLoyaltyPoints.method}).then((e=>{F(e.data.points),x(!1)})).catch((e=>{x(!1),I.Y.error(j.J,e),console.log(e)}))}),[M,$]),!$||!v.user||r&&r!==v.user.id?s.createElement(O.Z,null):R?s.createElement(L,null):s.createElement(A,Object.assign({className:S()(T.root,o)},f),s.createElement(n.Z,null,s.createElement(i.Z,{className:T.title},s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.title",defaultMessage:"ui.loyaltyProgramWidget.title"}))),s.createElement(l.Z,{className:T.actions},s.createElement(i.Z,{className:T.points},s.createElement(c.Z,{size:"medium",component:"span",label:w}),s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.points",defaultMessage:"ui.loyaltyProgramWidget.points"})),s.createElement(u.Z,{size:"small",variant:"outlined",className:T.discoverMore,component:h.Z,to:_.url(C.LOYALTY_ROUTE_NAME,{})},s.createElement(Z.Z,{id:"ui.loyaltyProgramWidget.discover",defaultMessage:"ui.loyaltyProgramWidget.discover"}))))}},5208:(e,t,o)=>{o.d(t,{Z:()=>O});var a=o(97582),s=o(67294),r=o(90948),n=o(86886),i=o(15861),l=o(69417),c=o(65001),u=o(24085),g=o(68689),d=o(6237),m=o(65580),p=o(67564),y=o(44012),Z=o(94184),E=o.n(Z),h=o(63902),C=o(29628),f=o(54545);const S="SCPlatformWidget",v={root:`${S}-root`,title:`${S}-title`},N=(0,r.ZP)(h.Z,{name:S,slot:"Root"})((()=>({})));const O=function(e){var t;const o=(0,C.Z)({props:e,name:S}),{autoHide:r,className:Z,onHeightChange:h,onStateChange:O}=o,b=(0,a._T)(o,["autoHide","className","onHeightChange","onStateChange"]),P=(0,s.useContext)(g.K8),_=(0,d.yL)().locale,w=(0,s.useMemo)((()=>m.GJ(P.user)),[P.user]),L=(0,s.useMemo)((()=>m.vJ(P.user)),[P.user]);function j(e){c.Z.request({url:u.Z.Platform.url(),method:u.Z.Platform.method,params:{next:e}}).then((e=>{const t=e.data.platform_url;window.open(t,"_blank").focus()})).catch((e=>{console.log(e)}))}const I=s.createElement(n.ZP,{container:!0,spacing:w?1:3,justifyContent:"center"},s.createElement(n.ZP,{item:!0,xs:12},s.createElement(i.Z,{className:v.title,component:"h3",align:"center"},s.createElement(y.Z,{id:"ui.platformWidget.title",defaultMessage:"ui.platformWidget.title"}),s.createElement(p.Z,{fontSize:"small"},"lock"))),w&&s.createElement(n.ZP,{item:!0,xs:"auto"},s.createElement(l.Z,{variant:"outlined",size:"small",onClick:()=>j("")},s.createElement(y.Z,{id:"ui.platformWidget.adm",defaultMessage:"ui.platformWidget.adm"}))),s.createElement(n.ZP,{item:!0,xs:"auto"},s.createElement(l.Z,{variant:"outlined",size:"small",onClick:()=>j("/moderation/flags/")},w||L?s.createElement(y.Z,{id:"ui.platformWidget.mod",defaultMessage:"ui.platformWidget.mod"}):s.createElement(y.Z,{id:"ui.platformWidget.edt",defaultMessage:"ui.platformWidget.edt"}))),s.createElement(n.ZP,{item:!0,xs:"auto"},s.createElement(l.Z,{variant:"outlined",size:"small",href:`https://support.selfcommunity.com/hc/${_}`,target:"_blank"},s.createElement(y.Z,{id:"ui.platformWidget.hc",defaultMessage:"ui.platformWidget.hc"}))));return!r&&(null===(t=null==P?void 0:P.user)||void 0===t?void 0:t.role)?s.createElement(N,Object.assign({className:E()(v.root,Z)},b),I):s.createElement(f.Z,null)}},27807:(e,t,o)=>{o.d(t,{Z:()=>B});var a=o(97582),s=o(67294),r=o(90948),n=o(2734),i=o(98396),l=o(44267),c=o(15861),u=o(78462),g=o(97212),d=o(69417),m=o(31924),p=o(65001),y=o(24085),Z=o(69721),E=o(68689),h=o(66380),C=o(85472),f=o(50353),S=o(63902);const v="SCUserSuggestionWidget",N={root:`${v}-skeleton-root`,list:`${v}-list`},O=(0,r.ZP)(S.Z,{name:v,slot:"SkeletonRoot"})((()=>({})));const b=function(e){return s.createElement(O,Object.assign({className:N.root},e),s.createElement(l.Z,null,s.createElement(u.Z,{className:N.list},[...Array(4)].map(((e,t)=>s.createElement(g.ZP,{key:t},s.createElement(f.Z,{elevation:0})))))))};var P=o(37089),_=o(44012),w=o(94184),L=o.n(w),j=o(29628),I=o(54545),T=o(59219),A=o(99960),F=o(15927),R=o(39154),x=o(75459),M=o(79558);const $={root:`${v}-root`,title:`${v}-title`,noResults:`${v}-no-results`,showMore:`${v}-show-more`,dialogRoot:`${v}-dialog-root`,endMessage:`${v}-end-message`},W=(0,r.ZP)(S.Z,{name:v,slot:"Root"})((()=>({}))),k=(0,r.ZP)(R.Z,{name:v,slot:"DialogRoot"})((()=>({})));const B=function(e){const t=(0,j.Z)({props:e,name:v}),{autoHide:o=!0,limit:r=3,className:S,UserProps:N={},cacheStrategy:O=T.n2.NETWORK_ONLY,onHeightChange:w,onStateChange:R,DialogProps:B={}}=t,D=(0,a._T)(t,["autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[U,G]=(0,s.useReducer)(F.Xi,{isLoadingNext:!1,next:null,cacheKey:Z.hu(Z.oE),cacheStrategy:O,visibleItems:r},F.Mv),[K,z]=(0,s.useState)(!1),H=(0,E.LD)(),X=(0,h.ko)(),Y=((0,s.useMemo)((()=>C.$0 in X.preferences&&X.preferences[C.$0].value),[X.preferences]),(0,n.Z)()),V=(0,i.Z)(Y.breakpoints.down("md")),q=(0,s.useMemo)((()=>()=>{U.initialized||U.isLoadingNext||(G({type:F.dK.LOADING_NEXT}),m.Z.getUserSuggestion({limit:r}).then((e=>{G({type:F.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{G({type:F.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),A.Y.error(x.J,e)})))}),[U.isLoadingNext,U.initialized,r,G]);(0,s.useEffect)((()=>{let e;if(H.user)return e=setTimeout(q),()=>{e&&clearTimeout(e)}}),[H.user]),(0,s.useEffect)((()=>{K&&U.next&&U.results.length<=r&&U.initialized&&(G({type:F.dK.LOADING_NEXT}),m.Z.getUserSuggestion({offset:r,limit:10}).then((e=>{G({type:F.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{G({type:F.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),A.Y.error(x.J,e)})))}),[K,U.next,U.results.length,U.initialized,r]),(0,s.useEffect)((()=>{w&&w()}),[U.results]),(0,s.useEffect)((()=>{H.user&&O===T.n2.NETWORK_ONLY&&R&&R({cacheStrategy:T.n2.CACHE_FIRST})}),[H.user]);const J=(0,s.useMemo)((()=>()=>{G({type:F.dK.LOADING_NEXT}),p.Z.request({url:U.next,method:y.Z.UserSuggestion.method}).then((e=>{G({type:F.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[G,U.next,U.isLoadingNext,U.initialized]),Q=()=>{z((e=>!e))};if(o&&!U.count&&U.initialized||!H.user)return s.createElement(I.Z,null);if(!U.initialized)return s.createElement(b,null);const ee=s.createElement(l.Z,null,s.createElement(c.Z,{className:$.title,variant:"h5"},s.createElement(_.Z,{id:"ui.userSuggestionWidget.title",defaultMessage:"ui.userSuggestionWidget.title"})),U.count?s.createElement(s.Fragment,null,s.createElement(u.Z,null,U.results.slice(0,U.visibleItems).map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(P.Z,Object.assign({elevation:0,user:e},N)))))),U.count>U.visibleItems&&s.createElement(d.Z,{className:$.showMore,onClick:Q},s.createElement(_.Z,{id:"ui.userSuggestionWidget.button.showAll",defaultMessage:"ui.userSuggestionWidget.button.showAll"}))):s.createElement(c.Z,{className:$.noResults,variant:"body2"},s.createElement(_.Z,{id:"ui.userSuggestionWidget.noResults",defaultMessage:"ui.userSuggestionWidget.noResults"})),K&&s.createElement(k,Object.assign({className:$.dialogRoot,title:s.createElement(_.Z,{defaultMessage:"ui.userSuggestionWidget.title",id:"ui.userSuggestionWidget.title"}),onClose:Q,open:K},B),s.createElement(M.Z,{dataLength:U.results.length,next:J,hasMoreNext:Boolean(U.next),loaderNext:s.createElement(f.Z,Object.assign({elevation:0},N)),height:V?"100%":400,endMessage:s.createElement(c.Z,{className:$.endMessage},s.createElement(_.Z,{id:"ui.userSuggestionWidget.noMoreResults",defaultMessage:"ui.userSuggestionWidget.noMoreResults"}))},s.createElement(u.Z,null,U.results.map((e=>s.createElement(g.ZP,{key:e.id},s.createElement(P.Z,Object.assign({elevation:0,user:e},N)))))))));return s.createElement(W,Object.assign({className:L()($.root,S)},D),ee)}},15927:(e,t,o)=>{o.d(t,{Mv:()=>n,Xi:()=>r,dK:()=>s});var a=o(59219);const s={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function r(e,t){var o;let r=Object.assign({},e);switch(t.type){case s.LOADING_NEXT:r=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case s.LOADING_PREVIOUS:r=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case s.LOAD_NEXT_SUCCESS:r=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(o=t.payload)||void 0===o?void 0:o.initialized)||!0});break;case s.LOAD_PREVIOUS_SUCCESS:r=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case s.SET_RESULTS:r=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case s.SET_VISIBLE_ITEMS:r=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case s.LOAD_NEXT_FAILURE:r=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case s.LOAD_PREVIOUS_FAILURE:r=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case s.RESET:r={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return a.ZP.set(r.cacheKey,r),r}function n(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&a.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==a.n2.NETWORK_ONLY){const e=a.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}}}]);