"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[31416],{98365:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(67294),n=o(74482),s=o(24243),r=o(24085),l=o(59219),i=o(96570),c=o(99960),u=o(69721),d=o(87620),g=o(68787);function m({id:e=null,category:t=null,cacheStrategy:o=l.n2.CACHE_FIRST}){const m=t?t.id:e,E=(0,g.LD)(),y=E.user?E.user.id:null,Z=(0,u.u5)(m),p=y?t:(0,i.Kd)(t,["followed"]),[N,f]=(0,a.useState)(o!==l.n2.NETWORK_ONLY?l.ZP.get(Z,p):null),[O,v]=(0,a.useState)(null),b=(0,a.useMemo)((()=>()=>s.Z.request({url:r.Z.Category.url({id:m}),method:r.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[m]);return(0,a.useEffect)((()=>{m&&(!N||N&&m!==N.id)&&b().then((e=>{const t=y?e:(0,i.Kd)(e,["followed"]);f(t),l.ZP.set(Z,t)})).catch((t=>{l.ZP.delete(Z),v(`Category with id ${e} not found`),c.Y.error(n.h,`Category with id ${e} not found`),c.Y.error(n.h,t.message)}))}),[m]),(0,d.F_)((()=>{if(t){const e=y?t:(0,i.Kd)(t,["followed"]);f(e),l.ZP.set(Z,e)}}),[t]),{scCategory:N,setSCCategory:f,error:O}}},31416:(e,t,o)=>{o.d(t,{Z:()=>_});var a=o(67294),n=o(90948),s=o(5616),r=o(89587),l=o(14027),i=o(98365),c=o(69641),u=o(88078),d=o(75249);const g={root:`${d.B}-skeleton-root`,cover:`${d.B}-skeleton-cover`},m=(0,n.ZP)(s.Z,{name:d.B,slot:"SkeletonRoot"})((()=>({})));function E(){return a.createElement(m,{className:g.root},a.createElement(u.Z,{sx:{height:230},animation:"wave",variant:"rectangular",className:g.cover}),a.createElement(s.Z,null,a.createElement(u.Z,{animation:"wave",sx:{height:20,maxWidth:300,width:"100%",margin:"0 auto"}})),a.createElement(s.Z,null,a.createElement(u.Z,{animation:"wave",sx:{height:20,maxWidth:300,width:"100%",margin:"0 auto"}})))}const y="SCCategoryTemplate",Z={root:`${y}-skeleton-root`},p=(0,n.ZP)(s.Z,{name:y,slot:"SkeletonRoot"})((()=>({})));function N(){return a.createElement(p,{className:Z.root},a.createElement(E,null),a.createElement(c.Z,null))}var f=o(29628),O=o(94184),v=o.n(O);const b={root:`${y}-root`,feed:`${y}-feed`},h=(0,n.ZP)(s.Z,{name:y,slot:"Root"})((()=>({})));const _=function(e){const t=(0,f.Z)({props:e,name:y}),{id:o="category",className:n,category:s,categoryId:c,widgets:u,FeedObjectProps:d,FeedSidebarProps:g,CategoryFeedProps:m={}}=t,{scCategory:E}=(0,i.Z)({id:c,category:s});return E?a.createElement(h,{id:o,className:v()(b.root,n)},a.createElement(r.Z,{category:E}),a.createElement(l.Z,Object.assign({className:b.feed,category:E,widgets:u,FeedObjectProps:d,FeedSidebarProps:g},m))):a.createElement(N,null)}},69641:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(67294),n=o(90948),s=o(40506),r=o(24176),l=o(24540),i=o(12805),c=o(37024),u=o(74731);const d={root:`${u.B}-skeleton-root`},g=(0,n.ZP)(s.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(){return a.createElement(g,{className:d.root,sidebar:a.createElement(a.Fragment,null,a.createElement(r.Z,{sx:{mb:2}}),a.createElement(r.Z,{sx:{mb:2}}))},a.createElement(l.Z,null),Array.from({length:5}).map(((e,t)=>a.createElement(i.Z,{key:t,template:c.r.DETAIL}))))}},74731:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCCategoryFeedTemplate"},14027:(e,t,o)=>{o.d(t,{Z:()=>B});var a=o(67294),n=o(90948),s=o(58069),r=o(12673),l=o(81820),i=o(38509),c=o(12805),u=o(37024),d=o(93132),g=o(24085),m=o(41538),E=o(98365),y=o(97265),Z=o(12132),p=o(83781),N=o(69641),f=o(29628),O=o(94184),v=o.n(O),b=o(44012),h=o(20377),_=o(70050),S=o(74731);const C={root:`${S.B}-root`},T=(0,n.ZP)(s.Z,{name:S.B,slot:"Root"})((()=>({}))),I=[{type:"widget",component:r.Z,componentProps:{},column:"right",position:0},{type:"widget",component:l.Z,componentProps:{},column:"right",position:1}];const B=function(e){const t=(0,f.Z)({props:e,name:S.B}),{id:o="category_feed",className:n,category:s,categoryId:r,widgets:l=I,FeedObjectProps:O={},FeedSidebarProps:B=null,FeedProps:L={}}=t,P=(0,m.sy)(),{enqueueSnackbar:R}=(0,h.Ds)(),F=(0,a.useRef)(),{scCategory:w}=(0,E.Z)({id:r,category:s}),j=(0,a.useMemo)((()=>l.map((e=>w?Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{categoryId:w.id})}):e))),[l,w]);return w?a.createElement(T,Object.assign({id:o,className:v()(C.root,n),ref:F,endpoint:Object.assign(Object.assign({},g.Z.CategoryFeed),{url:()=>g.Z.CategoryFeed.url({id:w.id})}),widgets:j,ItemComponent:i.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:O,ItemSkeleton:c.Z,ItemSkeletonProps:{template:u.r.PREVIEW},FeedSidebarProps:B,HeaderComponent:a.createElement(d.Z,{onSuccess:e=>{if(-1===e.categories.findIndex((e=>e.id===w.id)))return void R(a.createElement(b.Z,{id:"ui.composerIconButton.composer.success",defaultMessage:"ui.composerIconButton.composer.success"}),{action:t=>a.createElement(y.Z,{to:P.url(Z[`${e.type.toUpperCase()}_ROUTE_NAME`],_.p3(e))},a.createElement(b.Z,{id:"ui.composerIconButton.composer.viewContribute",defaultMessage:"ui.composerIconButton.composer.viewContribute"})),variant:"success",autoHideDuration:7e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};F&&F.current&&F.current.addFeedData(t,!0)},defaultValue:{categories:[w]}}),CustomAdvProps:{position:p.n.POSITION_FEED,categoriesId:[w.id]},enabledCustomAdvPositions:[p.n.POSITION_FEED_SIDEBAR,p.n.POSITION_FEED,p.n.POSITION_BELOW_TOPBAR]},L)):a.createElement(N.Z,null)}},75802:(e,t,o)=>{o.d(t,{Z:()=>v});var a,n=o(97582),s=o(67294),r=o(90948),l=o(59219),i=o(99960),c=o(53704),u=o(68787),d=o(98365),g=o(75459),m=o(31812),E=o(44012),y=o(94184),Z=o.n(y),p=o(29628);!function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(a||(a={}));const N="SCCategoryFollowButton",f={root:`${N}-root`},O=(0,r.ZP)(m.Z,{name:N,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const v=function(e){const t=(0,p.Z)({props:e,name:N}),{className:o,categoryId:r,category:m,onFollow:y}=t,v=(0,n._T)(t,["className","categoryId","category","onFollow"]),b=(0,c.RM)(),h=(0,u.LD)(),_=h.managers.categories,S=h.user?h.user.id:null,{scCategory:C,setSCCategory:T}=(0,d.Z)({id:r,category:m,cacheStrategy:S?l.n2.CACHE_FIRST:l.n2.STALE_WHILE_REVALIDATE}),[I,B]=(0,s.useState)(null);return(0,s.useEffect)((()=>{S&&B(_.isFollowed(C))}),[S,_.isFollowed]),!C||C&&I&&C.auto_follow===a.FORCED?null:s.createElement(O,Object.assign({size:"small",variant:"outlined",onClick:()=>{h.user?_.follow(C).then((()=>{y&&y(C,!I)})).catch((e=>{i.Y.error(g.J,e)})):b.settings.handleAnonymousAction()},loading:h.user?null===I||_.isLoading(C):null,className:Z()(f.root,o)},v),I&&h.user?s.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):s.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},75249:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCCategoryHeader"},89587:(e,t,o)=>{o.d(t,{Z:()=>U});var a=o(97582),n=o(67294),s=o(90948),r=o(5616),l=o(90629),i=o(15861),c=o(75802),u=o(44012),d=o(98365),g=o(94184),m=o.n(g),E=o(29628),y=o(25662),Z=o(2734),p=o(51107),N=o(87952),f=o(78462),O=o(97212),v=o(39154),b=o(79558),h=o(50353),_=o(37089),S=o(98704),C=o(24243),T=o(24085),I=o(59107),B=o(61730),L=o(99960),P=o(75459),R=o(87620);const F="SCCategoryFollowersButton",w={root:`${F}-root`,dialogRoot:`${F}-dialog-root`,endMessage:`${F}-end-message`},j=(0,s.ZP)(y.Z,{name:F,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({}))),A=(0,s.ZP)(v.Z,{name:F,slot:"Root",overridesResolver:(e,t)=>t.dialogRoot})((()=>({})));const x=function(e){const t=(0,E.Z)({props:e,name:F}),{className:o,categoryId:s,category:r,DialogProps:l={}}=t,c=(0,a._T)(t,["className","categoryId","category","DialogProps"]),[g,y]=(0,n.useState)(!0),[v,x]=(0,n.useState)(null),[M,D]=(0,n.useState)(null),[k,U]=(0,n.useState)([]),[$,W]=(0,n.useState)(!1),{scCategory:K}=(0,d.Z)({id:s,category:r});(0,R.F_)((()=>{K&&(0===k.length?S.Z.getCategoryFollowers(K.id,{limit:3}).then((e=>{U([...e.results]),D(3),y(!1)})):D(0))}),[K]),(0,n.useEffect)((()=>{$&&null!==M&&(y(!0),S.Z.getCategoryFollowers(K.id,{offset:M,limit:20}).then((e=>{U([...0===M?[]:k,...e.results]),x(e.next),y(!1),D(null)})))}),[$,k,M]);const X=(0,n.useMemo)((()=>()=>{v&&C.Z.request({url:v,method:T.Z.CategoryFollowers.method}).then((e=>{U([...k,...e.data.results]),x(e.data.next)})).catch((e=>L.Y.error(P.J,e))).then((()=>y(!1)))}),[k,K,v]),H=(0,n.useMemo)((()=>()=>{W((e=>!e))}),[W]),z=(0,Z.Z)(),G=(0,B.Z)(z.breakpoints.down("md"));return n.createElement(n.Fragment,null,n.createElement(j,Object.assign({className:m()(w.root,o),onClick:H,disabled:g||!K||0===K.followers_counter},c),g||!K?n.createElement(I.Z,Object.assign({},c)):n.createElement(p.Z,{total:K.followers_counter},k.map((e=>n.createElement(N.Z,{key:e.id,alt:e.username,src:e.avatar}))))),$&&n.createElement(A,Object.assign({className:w.dialogRoot,title:n.createElement(u.Z,{defaultMessage:"ui.categoryFollowersButton.dialogTitle",id:"ui.categoryFollowersButton.dialogTitle",values:{total:K.followers_counter}}),onClose:H,open:$},l),n.createElement(b.Z,{dataLength:k.length,next:X,hasMoreNext:null!==v||g,loaderNext:n.createElement(h.Z,{elevation:0}),height:G?"100%":400,endMessage:n.createElement(i.Z,{className:w.endMessage},n.createElement(u.Z,{id:"ui.categoryFollowersButton.noOtherFollowers",defaultMessage:"ui.categoryFollowersButton.noOtherFollowers"}))},n.createElement(f.Z,null,k.map((e=>n.createElement(O.ZP,{key:e.id},n.createElement(_.Z,{elevation:0,user:e}))))))))};var M=o(75249);const D={root:`${M.B}-root`,cover:`${M.B}-cover`,name:`${M.B}-name`,slogan:`${M.B}-slogan`,info:`${M.B}-info`,followedCounter:`${M.B}-followed-counter`,followed:`${M.B}-followed`,action:`${M.B}-action`},k=(0,s.ZP)(r.Z,{name:M.B,slot:"Root"})((()=>({})));const U=function(e){const t=(0,E.Z)({props:e,name:M.B}),{className:o,categoryId:s,category:g,CategoryFollowButtonProps:y={},CategoryFollowersButtonProps:Z={}}=t,p=(0,a._T)(t,["className","categoryId","category","CategoryFollowButtonProps","CategoryFollowersButtonProps"]),{scCategory:N,setSCCategory:f}=(0,d.Z)({id:s,category:g}),O=(0,n.useMemo)((()=>Object.assign({},N?{background:`url('${N.emotional_image_original}') center / cover`}:{})),[N]);return N?n.createElement(k,Object.assign({className:m()(D.root,o)},p),n.createElement(l.Z,{style:O,classes:{root:D.cover}}),n.createElement(r.Z,{className:D.info},n.createElement(i.Z,{variant:"h3",className:D.name,gutterBottom:!0},N.name),N.slogan&&n.createElement(i.Z,{variant:"h5",className:D.slogan},N.slogan),n.createElement(r.Z,{className:D.followed},n.createElement(i.Z,{className:D.followedCounter,component:"div"},n.createElement(u.Z,{id:"ui.categoryHeader.followedBy",defaultMessage:"ui.categoryHeader.followedBy",values:{total:N.followers_counter}})),n.createElement(x,Object.assign({category:N,categoryId:null==N?void 0:N.id},Z))),n.createElement(r.Z,{className:D.action},n.createElement(c.Z,Object.assign({category:N,onFollow:(e,t)=>{f(Object.assign(Object.assign({},e),{followers_counter:e.followers_counter+(t?1:-1)}))}},y))))):null}},45431:(e,t,o)=>{o.d(t,{Z:()=>g});var a=o(67294),n=o(63902),s=o(78462),r=o(90948),l=o(12805),i=o(44267),c=o(89546);const u={root:`${c.B}-skeleton-root`,list:`${c.B}-list`},d=(0,r.ZP)(n.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return a.createElement(d,Object.assign({className:u.root},e),a.createElement(i.Z,null,a.createElement(s.Z,{className:u.list},[...Array(4)].map(((e,t)=>a.createElement(l.Z,{key:t,elevation:0}))))))}},89546:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCCategoryTrendingFeedWidget"},81820:(e,t,o)=>{o.d(t,{Z:()=>X});var a=o(97582),n=o(67294),s=o(90948),r=o(78462),l=o(2734),i=o(61730),c=o(44267),u=o(15861),d=o(97212),g=o(25662),m=o(63902),E=o(98704),y=o(24243),Z=o(24085),p=o(59219),N=o(99960),f=o(5840),O=o(75459),v=o(38509),b=o(12805),h=o(44012),_=o(37024),S=o(94184),C=o.n(S),T=o(39154),I=o(79558),B=o(45431),L=o(29628),P=o(54545),R=o(69721),F=o(68787),w=o(66380),j=o(41538),A=o(85472),x=o(98365),M=o(97265),D=o(12132),k=o(15927),U=o(89546);const $={root:`${U.B}-root`,title:`${U.B}-title`,noResults:`${U.B}-no-results`,showMore:`${U.B}-show-more`,dialogRoot:`${U.B}-dialog-root`,endMessage:`${U.B}-end-message`},W=(0,s.ZP)(m.Z,{name:U.B,slot:"Root"})((()=>({}))),K=(0,s.ZP)(T.Z,{name:U.B,slot:"DialogRoot"})((()=>({})));const X=function(e){const t=(0,L.Z)({props:e,name:U.B}),{className:o=null,categoryId:s=null,autoHide:m=null,limit:S=3,FeedObjectProps:T={template:_.r.SNIPPET},cacheStrategy:X=p.n2.CACHE_FIRST,onHeightChange:H,onStateChange:z,DialogProps:G={}}=t,V=(0,a._T)(t,["className","categoryId","autoHide","limit","FeedObjectProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[Y,q]=(0,n.useReducer)(k.Xi,{isLoadingNext:!1,next:null,cacheKey:R.hu(R.ol,s),cacheStrategy:X,visibleItems:S},k.Mv),[J,Q]=(0,n.useState)(!1),ee=(0,F.LD)(),te=(0,w.ko)(),oe=(0,j.sy)(),ae=(0,n.useMemo)((()=>A.Ao in te.preferences&&te.preferences[A.Ao].value),[te]),ne=(0,l.Z)(),se=(0,i.Z)(ne.breakpoints.down("md")),{scCategory:re}=(0,x.Z)({id:s}),le=re?re.id:null,ie=(0,n.useMemo)((()=>()=>{Y.initialized||Y.isLoadingNext||(q({type:k.dK.LOADING_NEXT}),E.Z.getCategoryTrendingFeed(le,{limit:S}).then((e=>{q({type:k.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{q({type:k.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(O.J,e)})))}),[le,Y.isLoadingNext,Y.initialized,S,q]);(0,n.useEffect)((()=>{var e;let t;if(void 0!==ee.user&&le&&(ae||!ae&&(null===(e=ee.user)||void 0===e?void 0:e.id)))return t=setTimeout(ie),()=>{t&&clearTimeout(t)}}),[le,ee.user,ae]),(0,n.useEffect)((()=>{J&&Y.next&&Y.results.length===S&&Y.initialized&&(q({type:k.dK.LOADING_NEXT}),E.Z.getCategoryTrendingFeed(le,{offset:S,limit:10}).then((e=>{q({type:k.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{q({type:k.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(O.J,e)})))}),[J,S,Y.next,Y.results.length,Y.initialized,le]),(0,n.useEffect)((()=>{H&&H()}),[Y.results]),(0,n.useEffect)((()=>{(ae||ee.user)&&(0,f.U)(le)&&X===p.n2.NETWORK_ONLY&&z&&z({cacheStrategy:p.n2.CACHE_FIRST})}),[ae,X,le,ee.user]);const ce=(0,n.useMemo)((()=>()=>{q({type:k.dK.LOADING_NEXT}),y.Z.request({url:Y.next,method:Z.Z.CategoryTrendingFeed.method}).then((e=>{q({type:k.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[q,Y.next]),ue=()=>{Q((e=>!e))};if(!ae&&!ee.user||m&&!Y.count&&Y.initialized)return n.createElement(P.Z,null);if(!Y.initialized)return n.createElement(B.Z,null);const de=n.createElement(c.Z,null,n.createElement(u.Z,{className:$.title,variant:"h5"},n.createElement(h.Z,{id:"ui.categoryTrendingFeedWidget.title",defaultMessage:"ui.categoryTrendingFeedWidget.title"})),Y.count?n.createElement(n.Fragment,null,n.createElement(r.Z,null,Y.results.slice(0,Y.visibleItems).map((e=>n.createElement(d.ZP,{key:e[e.type].id},n.createElement(v.Z,Object.assign({elevation:0,feedObject:e[e.type]},T)))))),Y.count>Y.visibleItems&&n.createElement(g.Z,Object.assign({className:$.showMore},se?{onClick:ue}:{component:M.Z,to:oe.url(D.CATEGORY_TRENDING_FEED_ROUTE_NAME,re)}),n.createElement(h.Z,{id:"ui.categoryTrendingFeedWidget.button.showAll",defaultMessage:"ui.categoryTrendingFeedWidget.button.showAll"}))):n.createElement(u.Z,{className:$.noResults,variant:"body2"},n.createElement(h.Z,{id:"ui.categoryTrendingFeedWidget.noResults",defaultMessage:"ui.categoryTrendingFeedWidget.noResults"})),J&&n.createElement(K,Object.assign({className:$.dialogRoot,title:n.createElement(h.Z,{defaultMessage:"ui.categoryTrendingFeedWidget.title",id:"ui.categoryTrendingFeedWidget.title",values:{total:Y.count}}),onClose:ue,open:J},G),n.createElement(I.Z,{dataLength:Y.results.length,next:ce,hasMoreNext:Boolean(Y.next),loaderNext:n.createElement(b.Z,Object.assign({elevation:0},T)),height:se?"100%":400,endMessage:n.createElement(u.Z,{className:$.endMessage},n.createElement(h.Z,{id:"ui.categoryTrendingFeedWidget.noMoreResults",defaultMessage:"ui.categoryTrendingFeedWidget.noMoreResults"}))},n.createElement(r.Z,null,Y.results.map((e=>n.createElement(d.ZP,{key:e[e.type].id},n.createElement(v.Z,Object.assign({elevation:0,feedObject:e[e.type]},T)))))))));return n.createElement(W,Object.assign({className:C()($.root,o)},V),de)}},14459:(e,t,o)=>{o.d(t,{Z:()=>m});var a=o(67294),n=o(63902),s=o(78462),r=o(90948),l=o(50353),i=o(44267),c=o(97212),u=o(33584);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},g=(0,r.ZP)(n.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return a.createElement(g,Object.assign({className:d.root},e),a.createElement(i.Z,null,a.createElement(s.Z,{className:d.list},[...Array(4)].map(((e,t)=>a.createElement(c.ZP,{key:t},a.createElement(l.Z,{elevation:0})))))))}},33584:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCCategoryTrendingUsersWidget"},12673:(e,t,o)=>{o.d(t,{Z:()=>U});var a=o(97582),n=o(67294),s=o(90948),r=o(78462),l=o(2734),i=o(61730),c=o(44267),u=o(15861),d=o(97212),g=o(25662),m=o(63902),E=o(98704),y=o(24243),Z=o(24085),p=o(69721),N=o(68787),f=o(66380),O=o(85472),v=o(98365),b=o(44012),h=o(37089),_=o(50353),S=o(94184),C=o.n(S),T=o(39154),I=o(79558),B=o(14459),L=o(29628),P=o(54545),R=o(59219),F=o(99960),w=o(5840),j=o(15927),A=o(75459),x=o(33584);const M={root:`${x.B}-root`,title:`${x.B}-title`,noResults:`${x.B}-no-results`,showMore:`${x.B}-show-more`,dialogRoot:`${x.B}-dialog-root`,endMessage:`${x.B}-end-message`},D=(0,s.ZP)(m.Z,{name:x.B,slot:"Root"})((()=>({}))),k=(0,s.ZP)(T.Z,{name:x.B,slot:"DialogRoot"})((()=>({})));const U=function(e){const t=(0,L.Z)({props:e,name:x.B}),{className:o=null,categoryId:s=null,autoHide:m=null,limit:S=3,UserProps:T={},cacheStrategy:U=R.n2.CACHE_FIRST,onHeightChange:$,onStateChange:W,DialogProps:K={}}=t,X=(0,a._T)(t,["className","categoryId","autoHide","limit","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,z]=(0,n.useReducer)(j.Xi,{isLoadingNext:!1,next:null,cacheKey:p.hu(p.zj,s),cacheStrategy:U,visibleItems:S},j.Mv),[G,V]=(0,n.useState)(!1),Y=(0,N.LD)(),q=(0,f.ko)(),J=(0,n.useMemo)((()=>O.Ao in q.preferences&&q.preferences[O.Ao].value),[q]),Q=(0,l.Z)(),ee=(0,i.Z)(Q.breakpoints.down("md")),{scCategory:te}=(0,v.Z)({id:s}),oe=te?te.id:null,ae=(0,n.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(z({type:j.dK.LOADING_NEXT}),E.Z.getCategoryTrendingFollowers(oe,{limit:S}).then((e=>{z({type:j.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{z({type:j.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),F.Y.error(A.J,e)})))}),[oe,H.isLoadingNext,H.initialized,S,z]);(0,n.useEffect)((()=>{var e;let t;if(void 0!==Y.user&&oe&&(J||!J&&(null===(e=Y.user)||void 0===e?void 0:e.id)))return t=setTimeout(ae),()=>{t&&clearTimeout(t)}}),[oe,Y.user,J]),(0,n.useEffect)((()=>{G&&H.next&&H.results.length===S&&H.initialized&&(z({type:j.dK.LOADING_NEXT}),E.Z.getCategoryTrendingFollowers(oe,{offset:S,limit:10}).then((e=>{z({type:j.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{z({type:j.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),F.Y.error(A.J,e)})))}),[G,S,H.next,H.initialized,H.results.length,oe]),(0,n.useEffect)((()=>{$&&$()}),[H.results]),(0,n.useEffect)((()=>{(J||Y.user)&&(0,w.U)(oe)&&U===R.n2.NETWORK_ONLY&&W&&W({cacheStrategy:R.n2.CACHE_FIRST})}),[J,U,oe,Y.user]);const ne=(0,n.useMemo)((()=>()=>{z({type:j.dK.LOADING_NEXT}),y.Z.request({url:H.next,method:Z.Z.CategoryTrendingPeople.method}).then((e=>{z({type:j.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[z,H.next]),se=()=>{V((e=>!e))};if(!J&&!Y.user||m&&!H.count&&H.initialized)return n.createElement(P.Z,null);if(!H.initialized)return n.createElement(B.Z,null);const re=n.createElement(c.Z,null,n.createElement(u.Z,{className:M.title,variant:"h5"},n.createElement(b.Z,{id:"ui.categoryTrendingUsersWidget.title",defaultMessage:"ui.categoryTrendingUsersWidget.title"})),H.count?n.createElement(n.Fragment,null,n.createElement(r.Z,null,H.results.slice(0,H.visibleItems).map((e=>n.createElement(d.ZP,{key:e.id},n.createElement(h.Z,Object.assign({elevation:0,user:e},T)))))),H.count>H.visibleItems&&n.createElement(g.Z,{className:M.showMore,onClick:se},n.createElement(b.Z,{id:"ui.categoryTrendingUsersWidget.button.showAll",defaultMessage:"ui.categoryTrendingUsersWidget.button.showAll"}))):n.createElement(u.Z,{className:M.noResults,variant:"body2"},n.createElement(b.Z,{id:"ui.categoryTrendingUsersWidget.noResults",defaultMessage:"ui.categoryTrendingUsersWidget.noResults"})),G&&n.createElement(k,Object.assign({className:M.dialogRoot,title:n.createElement(b.Z,{defaultMessage:"ui.categoryTrendingUsersWidget.title",id:"ui.categoryTrendingUsersWidget.title",values:{total:H.count}}),onClose:se,open:G},K),n.createElement(I.Z,{dataLength:H.results.length,next:ne,hasMoreNext:Boolean(H.next),loaderNext:n.createElement(_.Z,Object.assign({elevation:0},T)),height:ee?"100%":400,endMessage:n.createElement(u.Z,{className:M.endMessage},n.createElement(b.Z,{id:"ui.categoryTrendingUsersWidget.noMoreResults",defaultMessage:"ui.categoryTrendingUsersWidget.noMoreResults"}))},n.createElement(r.Z,null,H.results.map((e=>n.createElement(d.ZP,{key:e.id},n.createElement(h.Z,Object.assign({elevation:0,user:e},T)))))))));return n.createElement(D,Object.assign({className:C()(M.root,o)},X),re)}},24540:(e,t,o)=>{o.d(t,{Z:()=>g});var a=o(67294),n=o(90948),s=o(88078),r=o(44267),l=o(5616),i=o(63902),c=o(31717);const u={root:`${c.B}-skeleton-root`,content:`${c.B}-content`,input:`${c.B}-input`,avatar:`${c.B}-avatar`},d=(0,n.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function g(){return a.createElement(d,{className:u.root},a.createElement(r.Z,{className:u.content},a.createElement(l.Z,{className:u.input},a.createElement(s.Z,{animation:"wave",variant:"text"})),a.createElement(l.Z,{className:u.avatar},a.createElement(s.Z,{className:u.avatar,animation:"wave",variant:"circular"}))))}},31717:(e,t,o)=>{o.d(t,{B:()=>a});const a="SCInlineComposerWidget"},93132:(e,t,o)=>{o.d(t,{Z:()=>B});var a=o(97582),n=o(67294),s=o(53704),r=o(68787),l=o(41538),i=o(66380),c=o(85472),u=o(65580),d=o(97265),g=o(12132),m=o(44267),E=o(5616),y=o(25662),Z=o(87952),p=o(90948),N=o(44012),f=o(20377),O=o(63902),v=o(29628),b=o(91290),h=o(22461),_=o(70815),S=o(31717),C=o(54545);const T={root:`${S.B}-root`,content:`${S.B}-content`,input:`${S.B}-input`,avatar:`${S.B}-avatar`},I=(0,p.ZP)(O.Z,{name:S.B,slot:"Root"})((()=>({})));const B=function(e){const t=(0,v.Z)({props:e,name:S.B}),{mediaObjectTypes:o=[h.Z,_.Z],defaultValue:p,onSuccess:O=null,label:B}=t,L=(0,a._T)(t,["mediaObjectTypes","defaultValue","onSuccess","label"]),P=(0,s.RM)(),R=(0,r.LD)(),F=(0,l.sy)(),{enqueueSnackbar:w}=(0,f.Ds)(),j=(0,i.ko)(),A=(0,n.useMemo)((()=>j.preferences[c.Kq].value),[j.preferences]),[x,M]=(0,n.useState)(!1),D=(0,n.useCallback)((()=>{R.user?u.IT(R.user)?w(n.createElement(N.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):M(!0):P.settings.handleAnonymousAction()}),[R.user,P.settings]),k=(0,n.useCallback)((()=>{M(!1)}),[]);return!u.B2(R.user)&&A?n.createElement(C.Z,null):n.createElement(n.Fragment,null,n.createElement(I,Object.assign({className:T.root},L),n.createElement(m.Z,{className:T.content},n.createElement(E.Z,{className:T.input},n.createElement(y.Z,{variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:D,fullWidth:!0,color:"inherit"},null!=B?B:n.createElement(N.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"}))),n.createElement(E.Z,{className:T.avatar},R.user?n.createElement(d.Z,{to:F.url(g.USER_PROFILE_ROUTE_NAME,R.user)},n.createElement(Z.Z,{alt:R.user.username,variant:"circular",src:R.user.avatar})):n.createElement(Z.Z,{variant:"circular"})))),n.createElement(b.Z,{open:x,mediaObjectTypes:o,defaultValue:p,fullWidth:!0,onClose:k,onSuccess:e=>{O?O(e):w(n.createElement(N.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),M(!1)}}))}},15927:(e,t,o)=>{o.d(t,{Mv:()=>r,Xi:()=>s,dK:()=>n});var a=o(59219);const n={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function s(e,t){var o;let s=Object.assign({},e);switch(t.type){case n.LOADING_NEXT:s=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case n.LOADING_PREVIOUS:s=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case n.LOAD_NEXT_SUCCESS:s=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(o=t.payload)||void 0===o?void 0:o.initialized)||!0});break;case n.LOAD_PREVIOUS_SUCCESS:s=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case n.SET_RESULTS:s=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case n.SET_VISIBLE_ITEMS:s=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case n.LOAD_NEXT_FAILURE:s=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case n.LOAD_PREVIOUS_FAILURE:s=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case n.RESET:s={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return a.ZP.set(s.cacheKey,s),s}function r(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&a.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==a.n2.NETWORK_ONLY){const e=a.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},5840:(e,t,o)=>{function a(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}o.d(t,{U:()=>a})}}]);