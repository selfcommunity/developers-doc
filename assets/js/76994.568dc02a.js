"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[76994],{98365:(e,t,o)=>{o.d(t,{Z:()=>g});var s=o(67294),a=o(74482),l=o(24243),n=o(24085),r=o(59219),i=o(96570),c=o(99960),u=o(69721),d=o(87620),m=o(13391);function g({id:e=null,category:t=null,cacheStrategy:o=r.n2.CACHE_FIRST}){const g=t?t.id:e,E=(0,m.LD)(),p=E.user?E.user.id:null,Z=(0,u.u5)(g),y=p?t:(0,i.Kd)(t,["followed"]),[f,N]=(0,s.useState)(o!==r.n2.NETWORK_ONLY?r.ZP.get(Z,y):null),[h,w]=(0,s.useState)(null),v=(0,s.useMemo)((()=>()=>l.Z.request({url:n.Z.Category.url({id:g}),method:n.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[g]);return(0,s.useEffect)((()=>{g&&(!f||f&&g!==f.id)&&v().then((e=>{const t=p?e:(0,i.Kd)(e,["followed"]);N(t),r.ZP.set(Z,t)})).catch((t=>{r.ZP.delete(Z),w(`Category with id ${e} not found`),c.Y.error(a.h,`Category with id ${e} not found`),c.Y.error(a.h,t.message)}))}),[g]),(0,d.F_)((()=>{if(t){const e=p?t:(0,i.Kd)(t,["followed"]);N(e),r.ZP.set(Z,e)}}),[t]),{scCategory:f,setSCCategory:N,error:h}}},34388:(e,t,o)=>{o.d(t,{Z:()=>g});var s=o(67294),a=o(90948),l=o(40506),n=o(24176),r=o(24540),i=o(12805),c=o(37024),u=o(45503);const d={root:`${u.B}-skeleton-root`},m=(0,a.ZP)(l.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(){return s.createElement(m,{className:d.root,sidebar:s.createElement(s.Fragment,null,s.createElement(n.Z,{sx:{mb:2}}),s.createElement(n.Z,{sx:{mb:2}}))},s.createElement(r.Z,null),Array.from({length:5}).map(((e,t)=>s.createElement(i.Z,{key:t,template:c.r.DETAIL}))))}},45503:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCUserFeedTemplate"},76994:(e,t,o)=>{o.d(t,{Z:()=>O});var s=o(67294),a=o(90948),l=o(24085),n=o(13391),r=o(45412),i=o(58069),c=o(43076),u=o(61504),d=o(5757),m=o(52693),g=o(12805),E=o(37024),p=o(93132),Z=o(34388),y=o(29360),f=o(94184),N=o.n(f),h=o(44012),w=o(20377),v=o(45503);const b={root:`${v.B}-root`},S=(0,a.ZP)(i.Z,{name:v.B,slot:"Root"})((()=>({}))),_=[{type:"widget",component:c.Z,componentProps:{},column:"right",position:0},{type:"widget",component:u.Z,componentProps:{},column:"right",position:1},{type:"widget",component:d.Z,componentProps:{},column:"right",position:2}];const O=function(e){const t=(0,y.Z)({props:e,name:v.B}),{id:o="user_feed",className:a,userId:i,user:c,widgets:u=_,FeedObjectProps:d={},FeedSidebarProps:f=null,FeedProps:O={}}=t,C=(0,n.LD)(),{enqueueSnackbar:L}=(0,w.Ds)(),{scUser:F}=(0,r.Z)({id:i,user:c}),R=(0,s.useRef)(),P=(0,s.useMemo)((()=>u.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:F?F.id:i})})))),[F,u]);return null===F?s.createElement(Z.Z,null):s.createElement(S,Object.assign({id:o,className:N()(b.root,a),ref:R,endpoint:Object.assign(Object.assign({},l.Z.UserFeed),{url:()=>l.Z.UserFeed.url({id:F.id})}),widgets:P,ItemComponent:m.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null}),itemIdGenerator:e=>e[e.type].id,ItemProps:d,ItemSkeleton:g.Z,ItemSkeletonProps:{template:E.r.PREVIEW}},C.user?{HeaderComponent:s.createElement(p.Z,{onSuccess:e=>{L(s.createElement(h.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};R&&R.current&&R.current.addFeedData(t,!0)}})}:{},{FeedSidebarProps:f},O))}},95475:(e,t,o)=>{o.d(t,{Z:()=>g});var s=o(67294),a=o(78462),l=o(90948),n=o(74808),r=o(63902),i=o(44267),c=o(97212),u=o(3928);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},m=(0,l.ZP)(r.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return s.createElement(m,Object.assign({className:d.root},e),s.createElement(i.Z,null,s.createElement(a.Z,{className:d.list},[...Array(4)].map(((e,t)=>s.createElement(c.ZP,{key:t},s.createElement(n.Z,{elevation:0})))))))}},3928:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCCategoriesSuggestionWidget"},74808:(e,t,o)=>{o.d(t,{Z:()=>m});var s=o(67294),a=o(90948),l=o(88078),n=o(2734),r=o(25662),i=o(115),c=o(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},d=(0,a.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function m(e){const t=(0,n.Z)();return s.createElement(d,Object.assign({className:u.root},e,{image:s.createElement(l.Z,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:s.createElement(l.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:s.createElement(l.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:s.createElement(r.Z,{size:"small",variant:"outlined",disabled:!0,className:u.button},s.createElement(l.Z,{animation:"wave",height:10,width:50,className:u.action}))}))}},40092:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCCategory"},42623:(e,t,o)=>{o.d(t,{Z:()=>O});var s=o(97582),a=o(67294),l=o(90948),n=o(87952),r=o(34386),i=o(15861),c=o(41538),u=o(98365),d=o(97265),m=o(12132),g=o(29409),E=o(74808),p=o(28145),Z=o(54490),y=o(86896),f=o(94184),N=o.n(f),h=o(29360),w=o(75427),v=o(40092);const b=(0,Z.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),S={root:`${v.B}-root`,categoryImage:`${v.B}-category-image`,primary:`${v.B}-primary`,secondary:`${v.B}-secondary`,title:`${v.B}-title`,followed:`${v.B}-followed`,autoFollowed:`${v.B}-auto-followed`,actions:`${v.B}-actions`},_=(0,l.ZP)(w.Z,{name:v.B,slot:"Root"})((()=>({})));const O=function(e){const t=(0,h.Z)({props:e,name:v.B}),{categoryId:o=null,category:l=null,className:Z=null,elevation:f,autoHide:w=!1,categoryFollowButtonProps:O={},showFollowers:C=!0,showTooltip:L=!1,ButtonBaseProps:F=null}=t,R=(0,s._T)(t,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","showTooltip","ButtonBaseProps"]),P=(0,c.sy)(),{scCategory:T,setSCCategory:I}=(0,u.Z)({id:o,category:l}),M=(0,a.useMemo)((()=>F||{component:d.Z,to:P.url(m.CATEGORY_ROUTE_NAME,T)}),[F,P,T]),A=(0,y.Z)();return T?w?null:a.createElement(_,Object.assign({disableTypography:L,elevation:f,className:N()(S.root,Z,{[S.followed]:T.followed},{[S.autoFollowed]:T.auto_follow===g.i.FORCED}),ButtonBaseProps:M,image:a.createElement(n.Z,{alt:T.name,src:T.image_medium,variant:"square",className:S.categoryImage}),primary:a.createElement(a.Fragment,null,L?a.createElement(r.Z,{title:T.name},a.createElement(i.Z,{className:S.primary,component:"span",variant:"body1"},T.name)):T.name),secondary:a.createElement(a.Fragment,null,L?a.createElement(i.Z,{className:S.secondary,component:"p",variant:"body2"},C?`${A.formatMessage(b.categoryFollowers,{total:T.followers_counter})}`:T.slogan):a.createElement(a.Fragment,null,C?`${A.formatMessage(b.categoryFollowers,{total:T.followers_counter})}`:T.slogan)),actions:a.createElement(p.Z,Object.assign({category:T},O))},R)):a.createElement(E.Z,{elevation:f})}},28145:(e,t,o)=>{o.d(t,{Z:()=>w});var s=o(97582),a=o(67294),l=o(90948),n=o(59219),r=o(99960),i=o(76171),c=o(13391),u=o(98365),d=o(75459),m=o(66090),g=o(44012),E=o(94184),p=o.n(E),Z=o(29360),y=o(29409);const f="SCCategoryFollowButton",N={root:`${f}-root`},h=(0,l.ZP)(m.Z,{name:f,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const w=function(e){const t=(0,Z.Z)({props:e,name:f}),{className:o,categoryId:l,category:m,onFollow:E}=t,w=(0,s._T)(t,["className","categoryId","category","onFollow"]),v=(0,i.RM)(),b=(0,c.LD)(),S=b.managers.categories,_=b.user?b.user.id:null,{scCategory:O,setSCCategory:C}=(0,u.Z)({id:l,category:m,cacheStrategy:_?n.n2.CACHE_FIRST:n.n2.STALE_WHILE_REVALIDATE}),[L,F]=(0,a.useState)(null);return(0,a.useEffect)((()=>{_&&F(S.isFollowed(O))}),[_,S.isFollowed]),!O||O&&L&&O.auto_follow===y.i.FORCED?null:a.createElement(h,Object.assign({size:"small",variant:"outlined",onClick:()=>{b.user?S.follow(O).then((()=>{E&&E(O,!L)})).catch((e=>{r.Y.error(d.J,e)})):v.settings.handleAnonymousAction()},loading:b.user?null===L||S.isLoading(O):null,className:p()(N.root,o)},w),L&&b.user?a.createElement(g.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):a.createElement(g.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},14459:(e,t,o)=>{o.d(t,{Z:()=>g});var s=o(67294),a=o(63902),l=o(78462),n=o(90948),r=o(50353),i=o(44267),c=o(97212),u=o(33584);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},m=(0,n.ZP)(a.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return s.createElement(m,Object.assign({className:d.root},e),s.createElement(i.Z,null,s.createElement(l.Z,{className:d.list},[...Array(4)].map(((e,t)=>s.createElement(c.ZP,{key:t},s.createElement(r.Z,{elevation:0})))))))}},33584:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCCategoryTrendingUsersWidget"},24540:(e,t,o)=>{o.d(t,{Z:()=>m});var s=o(67294),a=o(90948),l=o(88078),n=o(44267),r=o(94253),i=o(63902),c=o(31717);const u={root:`${c.B}-skeleton-root`,content:`${c.B}-content`,input:`${c.B}-input`,avatar:`${c.B}-avatar`},d=(0,a.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function m(){return s.createElement(d,{className:u.root},s.createElement(n.Z,{className:u.content},s.createElement(r.Z,{className:u.input},s.createElement(l.Z,{animation:"wave",variant:"text"})),s.createElement(r.Z,{className:u.avatar},s.createElement(l.Z,{className:u.avatar,animation:"wave",variant:"circular"}))))}},31717:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCInlineComposerWidget"},93132:(e,t,o)=>{o.d(t,{Z:()=>R});var s=o(97582),a=o(67294),l=o(9774),n=o(76171),r=o(13391),i=o(41538),c=o(66380),u=o(85472),d=o(65580),m=o(97265),g=o(12132),E=o(44267),p=o(94253),Z=o(25662),y=o(87952),f=o(90948),N=o(44012),h=o(20377),w=o(63902),v=o(29360),b=o(91290),S=o(22461),_=o(70815),O=o(31717),C=o(54545);const L={root:`${O.B}-root`,content:`${O.B}-content`,input:`${O.B}-input`,avatar:`${O.B}-avatar`},F=(0,f.ZP)(w.Z,{name:O.B,slot:"Root"})((()=>({})));const R=function(e){const t=(0,v.Z)({props:e,name:O.B}),{mediaObjectTypes:o=[S.Z,_.Z],defaultValue:f,onSuccess:w=null,label:R,feedType:P=l.a.HOME}=t,T=(0,s._T)(t,["mediaObjectTypes","defaultValue","onSuccess","label","feedType"]),I=(0,n.RM)(),M=(0,r.LD)(),A=(0,i.sy)(),{enqueueSnackbar:U}=(0,h.Ds)(),B=(0,c.ko)(),j=(0,a.useMemo)((()=>B.preferences[u.Kq].value),[B.preferences]),[x,$]=(0,a.useState)(!1),D=(0,a.useCallback)((()=>{M.user?d.IT(M.user)?U(a.createElement(N.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):$(!0):I.settings.handleAnonymousAction()}),[M.user,I.settings]),k=(0,a.useCallback)((()=>{$(!1)}),[]);return!d.B2(M.user)&&j?a.createElement(C.Z,null):a.createElement(a.Fragment,null,a.createElement(F,Object.assign({className:L.root},T),a.createElement(E.Z,{className:L.content},a.createElement(p.Z,{className:L.input},a.createElement(Z.Z,{variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:D,fullWidth:!0,color:"inherit"},null!=R?R:a.createElement(N.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"}))),a.createElement(p.Z,{className:L.avatar},M.user?a.createElement(m.Z,{to:A.url(g.USER_PROFILE_ROUTE_NAME,M.user)},a.createElement(y.Z,{alt:M.user.username,variant:"circular",src:M.user.avatar})):a.createElement(y.Z,{variant:"circular"})))),a.createElement(b.Z,{open:x,mediaObjectTypes:o,defaultValue:f,fullWidth:!0,onClose:k,onSuccess:e=>{w?w(e):U(a.createElement(N.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),$(!1)},feedType:P}))}},43076:(e,t,o)=>{o.d(t,{Z:()=>x});var s=o(97582),a=o(67294),l=o(90948),n=o(78462),r=o(44267),i=o(15861),c=o(97212),u=o(25662),d=o(49877),m=o(59219),g=o(99960),E=o(5840),p=o(13391),Z=o(66380),y=o(85472),f=o(69721),N=o(15927),h=o(42623),w=o(74808),v=o(75459),b=o(44012),S=o(95475);const _="SCUserFollowedCategoriesWidgetSkeleton",O={root:`${_}-skeleton-root`},C=(0,l.ZP)(S.Z,{name:_,slot:"SkeletonRoot"})((()=>({})));function L(e){return a.createElement(C,Object.assign({className:O.root},e))}var F=o(94184),R=o.n(F),P=o(39154),T=o(63902),I=o(29360),M=o(54545);const A="SCUserCategoriesFollowedWidget",U={root:`${A}-root`,title:`${A}-title`,noResults:`${A}-no-results`,showMore:`${A}-show-more`,dialogRoot:`${A}-dialog-root`,endMessage:`${A}-end-message`},B=(0,l.ZP)(T.Z,{name:A,slot:"Root"})((()=>({}))),j=(0,l.ZP)(P.Z,{name:A,slot:"DialogRoot"})((()=>({})));const x=function(e){const t=(0,I.Z)({props:e,name:A}),{userId:o,autoHide:l,limit:S=3,className:_,CategoryProps:O={},cacheStrategy:C=m.n2.NETWORK_ONLY,onHeightChange:F,onStateChange:P,DialogProps:T={}}=t,x=(0,s._T)(t,["userId","autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),$=(0,p.LD)(),D=(0,a.useMemo)((()=>$.user&&o===$.user.id),[$.user,o]),k=(0,a.useContext)(Z.Tt),W=(0,a.useMemo)((()=>y.Ao in k.preferences&&k.preferences[y.Ao].value),[k]),[K,z]=(0,a.useReducer)(N.Xi,{isLoadingNext:!1,next:null,cacheKey:f.hu(f.X5,o),cacheStrategy:C},N.Mv),[X,H]=(0,a.useState)(!1),Y=(0,a.useMemo)((()=>()=>{K.initialized||K.isLoadingNext||d.Z.getUserFollowedCategories(o,null).then((e=>{z({type:N.dK.LOAD_NEXT_SUCCESS,payload:{count:e.length,results:e,initialized:!0}})})).catch((e=>{z({type:N.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),g.Y.error(v.J,e)}))}),[K.isLoadingNext,K.initialized,o,z]);(0,a.useEffect)((()=>{var e;let t;if((W||!W&&(null===(e=$.user)||void 0===e?void 0:e.id))&&(0,E.U)(o)&&void 0!==$.user)return t=setTimeout(Y),()=>{t&&clearTimeout(t)}}),[$.user,W,o]),(0,a.useEffect)((()=>{F&&F()}),[K.results.length]),(0,a.useEffect)((()=>{(W||$.user)&&(0,E.U)(o)&&C===m.n2.NETWORK_ONLY&&P&&P({cacheStrategy:m.n2.CACHE_FIRST})}),[W,C,$.user,o]);const G=e=>{if(D){const t=[...K.results],o=t.findIndex((t=>t.id===e.id));-1!==o&&(e.followed?(t[o].followers_counter=e.followers_counter-1,t[o].followed=!e.followed):(t[o].followers_counter=e.followers_counter+1,t[o].followed=!e.followed),z({type:N.dK.SET_RESULTS,payload:{results:t}}))}},V=()=>{H((e=>!e))};if(l&&!K.count&&K.initialized||!o)return a.createElement(M.Z,null);if(!K.initialized)return a.createElement(L,null);const q=a.createElement(r.Z,null,a.createElement(i.Z,{className:U.title,variant:"h5"},a.createElement(b.Z,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:D?K.results.filter((e=>e.followed)).length:K.count}})),K.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,K.results.slice(0,S).map((e=>a.createElement(c.ZP,{key:e.id},a.createElement(h.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:G}},O)))))),S<K.count&&a.createElement(u.Z,{className:U.showMore,onClick:V},a.createElement(b.Z,{id:"ui.userFollowedCategoriesWidget.button.showAll",defaultMessage:"ui.userFollowedCategoriesWidget.button.showAll"})),X&&a.createElement(j,Object.assign({className:U.dialogRoot,title:a.createElement(b.Z,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:K.count}}),onClose:V,open:X,scroll:"paper"},T),a.createElement(n.Z,null,K.results.map((e=>a.createElement(c.ZP,{key:e.id},a.createElement(h.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:G}},O))))),K.isLoadingNext&&a.createElement(c.ZP,null,a.createElement(w.Z,Object.assign({elevation:0},O)))),a.createElement(i.Z,{className:U.endMessage},a.createElement(b.Z,{id:"ui.userFollowedCategoriesWidget.noMoreResults",defaultMessage:"ui.userFollowedCategoriesWidget.noMoreResults"})))):a.createElement(i.Z,{className:U.noResults,variant:"body2"},a.createElement(b.Z,{id:"ui.userFollowedCategoriesWidget.subtitle.noResults",defaultMessage:"ui.userFollowedCategoriesWidget.subtitle.noResults"})));return a.createElement(B,Object.assign({className:R()(U.root,_)},x),q)}},61504:(e,t,o)=>{o.d(t,{Z:()=>K});var s=o(97582),a=o(67294),l=o(90948),n=o(78462),r=o(2734),i=o(37292),c=o(44267),u=o(15861),d=o(97212),m=o(25662),g=o(63902),E=o(49877),p=o(24243),Z=o(24085),y=o(59219),f=o(5840),N=o(99960),h=o(69721),w=o(13391),v=o(66380),b=o(45412),S=o(85472),_=o(14459);const O="SCUserFollowedUsersWidget",C={root:`${O}-skeleton-root`},L=(0,l.ZP)(_.Z,{name:O,slot:"SkeletonRoot"})((()=>({})));function F(e){return a.createElement(L,Object.assign({className:C.root},e))}var R=o(37089),P=o(50353),T=o(44012),I=o(94184),M=o.n(I),A=o(75459),U=o(39154),B=o(79558),j=o(29360),x=o(54545),$=o(15927);const D={root:`${O}-root`,title:`${O}-title`,noResults:`${O}-no-results`,showMore:`${O}-show-more`,dialogRoot:`${O}-dialog-root`,endMessage:`${O}-end-message`},k=(0,l.ZP)(g.Z,{name:O,slot:"Root"})((()=>({}))),W=(0,l.ZP)(U.Z,{name:O,slot:"DialogRoot"})((()=>({})));const K=function(e){const t=(0,j.Z)({props:e,name:O}),{userId:o,user:l,autoHide:g=!1,limit:_=3,className:C,UserProps:L={},cacheStrategy:I=y.n2.NETWORK_ONLY,onHeightChange:U,onStateChange:K,DialogProps:z={}}=t,X=(0,s._T)(t,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,Y]=(0,a.useReducer)($.Xi,{isLoadingNext:!1,next:null,cacheKey:h.hu(h.Nj,(0,f.U)(o)?o:l.id),cacheStrategy:I,visibleItems:_},$.Mv),[G,V]=(0,a.useState)(!1),q=(0,w.LD)(),J=(0,v.ko)(),{scUser:Q,refresh:ee}=(0,b.Z)({id:o,user:l}),te=(0,a.useMemo)((()=>q.user&&(null==Q?void 0:Q.id)===q.user.id),[q.user,Q]),oe=(0,a.useMemo)((()=>S.Ao in J.preferences&&J.preferences[S.Ao].value),[J.preferences]),se=(0,a.useMemo)((()=>S.$0 in J.preferences&&J.preferences[S.$0].value),[J.preferences]),ae=(0,r.Z)(),le=(0,i.Z)(ae.breakpoints.down("md")),ne=(0,a.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(Y({type:$.dK.LOADING_NEXT}),E.Z.getUserFollowings(Q.id,{limit:_}).then((e=>{Y({type:$.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{Y({type:$.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(A.J,e)})))}),[H.isLoadingNext,H.initialized,Q,_,Y]);(0,a.useEffect)((()=>{var e;let t;if((oe||!oe&&(null===(e=q.user)||void 0===e?void 0:e.id))&&se&&Q&&void 0!==q.user)return t=setTimeout(ne),()=>{t&&clearTimeout(t)}}),[q.user,oe,Q]),(0,a.useEffect)((()=>{G&&H.next&&H.results.length===_&&H.initialized&&(Y({type:$.dK.LOADING_NEXT}),E.Z.getUserFollowings(Q.id,{offset:_,limit:10}).then((e=>{Y({type:$.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{Y({type:$.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(A.J,e)})))}),[G,H.next,H.results.length,H.initialized,_]),(0,a.useEffect)((()=>{U&&U()}),[H.results]),(0,a.useEffect)((()=>{Q&&se&&(oe||q.user)&&I===y.n2.NETWORK_ONLY&&K&&K({cacheStrategy:y.n2.CACHE_FIRST})}),[q.user,Q,oe]),(0,a.useEffect)((()=>{Q&&se&&q.user&&H.initialized&&te&&ee().catch((()=>{}))}),[te,q.managers.followed.followed.length]);const re=(0,a.useMemo)((()=>()=>{Y({type:$.dK.LOADING_NEXT}),p.Z.request({url:H.next,method:Z.Z.UserFollowings.method}).then((e=>{Y({type:$.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[Y,H.next,H.isLoadingNext,H.initialized]),ie=()=>{V((e=>!e))};if(!se||g&&!H.count&&H.initialized||!oe&&!q.user||!Q)return a.createElement(x.Z,null);if(!H.initialized)return a.createElement(F,null);const ce=a.createElement(c.Z,null,a.createElement(u.Z,{className:D.title,variant:"h5"},a.createElement(T.Z,{id:"ui.userFollowedUsersWidget.title",defaultMessage:"ui.userFollowedUsersWidget.title",values:{total:Q.followings_counter}})),H.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,H.results.slice(0,H.visibleItems).map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(R.Z,Object.assign({elevation:0,user:e},L)))))),H.count>H.visibleItems&&a.createElement(m.Z,{className:D.showMore,onClick:ie},a.createElement(T.Z,{id:"ui.userFollowedUsersWidget.button.showAll",defaultMessage:"ui.userFollowedUsersWidget.button.showAll"}))):a.createElement(u.Z,{className:D.noResults,variant:"body2"},a.createElement(T.Z,{id:"ui.userFollowedUsersWidget.subtitle.noResults",defaultMessage:""})),G&&a.createElement(W,Object.assign({className:D.dialogRoot,title:a.createElement(T.Z,{defaultMessage:"ui.userFollowedUsersWidget.title",id:"ui.userFollowedUsersWidget.title",values:{total:Q.followings_counter}}),onClose:ie,open:G},z),a.createElement(B.Z,{dataLength:H.results.length,next:re,hasMoreNext:Boolean(H.next),loaderNext:a.createElement(P.Z,Object.assign({elevation:0},L)),height:le?"100%":400,endMessage:a.createElement(u.Z,{className:D.endMessage},a.createElement(T.Z,{id:"ui.userFollowedUsersWidget.noMoreResults",defaultMessage:"ui.userFollowedUsersWidget.noMoreResults"}))},a.createElement(n.Z,null,H.results.map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(R.Z,Object.assign({elevation:0,user:e},L)))))))));return a.createElement(k,Object.assign({className:M()(D.root,C)},X),ce)}},5757:(e,t,o)=>{o.d(t,{Z:()=>K});var s=o(97582),a=o(67294),l=o(90948),n=o(78462),r=o(2734),i=o(37292),c=o(44267),u=o(15861),d=o(97212),m=o(25662),g=o(63902),E=o(49877),p=o(24243),Z=o(24085),y=o(59219),f=o(5840),N=o(99960),h=o(69721),w=o(13391),v=o(66380),b=o(45412),S=o(85472),_=o(15927),O=o(14459);const C="SCUserFollowersWidget",L={root:`${C}-skeleton-root`},F=(0,l.ZP)(O.Z,{name:C,slot:"SkeletonRoot"})((()=>({})));function R(e){return a.createElement(F,Object.assign({className:L.root},e))}var P=o(37089),T=o(50353),I=o(44012),M=o(94184),A=o.n(M),U=o(75459),B=o(39154),j=o(79558),x=o(29360),$=o(54545);const D={root:`${C}-root`,title:`${C}-title`,noResults:`${C}-no-results`,showMore:`${C}-show-more`,dialogRoot:`${C}-dialog-root`,endMessage:`${C}-end-message`},k=(0,l.ZP)(g.Z,{name:C,slot:"Root"})((()=>({}))),W=(0,l.ZP)(B.Z,{name:C,slot:"DialogRoot"})((()=>({})));const K=function(e){const t=(0,x.Z)({props:e,name:C}),{userId:o,user:l,autoHide:g=!1,limit:O=3,className:L,UserProps:F={},cacheStrategy:M=y.n2.NETWORK_ONLY,onHeightChange:B,onStateChange:K,DialogProps:z={}}=t,X=(0,s._T)(t,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,Y]=(0,a.useReducer)(_.Xi,{isLoadingNext:!1,next:null,cacheKey:h.hu(h.I$,(0,f.U)(o)?o:l.id),cacheStrategy:M,visibleItems:O},_.Mv),[G,V]=(0,a.useState)(!1),q=(0,w.LD)(),J=(0,v.ko)(),{scUser:Q,refresh:ee}=(0,b.Z)({id:o,user:l}),te=(0,a.useMemo)((()=>q.user&&(null==Q?void 0:Q.id)===q.user.id),[q.user,Q]),oe=(0,a.useMemo)((()=>S.Ao in J.preferences&&J.preferences[S.Ao].value),[J.preferences]),se=(0,a.useMemo)((()=>S.$0 in J.preferences&&J.preferences[S.$0].value),[J.preferences]),ae=(0,r.Z)(),le=(0,i.Z)(ae.breakpoints.down("md")),ne=(0,a.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(Y({type:_.dK.LOADING_NEXT}),E.Z.getUserFollowers(Q.id,{limit:O}).then((e=>{Y({type:_.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{Y({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(U.J,e)})))}),[H.isLoadingNext,H.initialized,Q,O,Y]);(0,a.useEffect)((()=>{var e;let t;if((oe||!oe&&(null===(e=q.user)||void 0===e?void 0:e.id))&&se&&Q&&void 0!==q.user)return t=setTimeout(ne),()=>{t&&clearTimeout(t)}}),[q.user,oe,Q]),(0,a.useEffect)((()=>{G&&H.next&&H.results.length===O&&H.initialized&&(Y({type:_.dK.LOADING_NEXT}),E.Z.getUserFollowers(Q.id,{offset:O,limit:10}).then((e=>{Y({type:_.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{Y({type:_.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(U.J,e)})))}),[G,H.next,H.results.length,H.initialized,O]),(0,a.useEffect)((()=>{B&&B()}),[H.results]),(0,a.useEffect)((()=>{Q&&se&&(oe||q.user)&&M===y.n2.NETWORK_ONLY&&K&&K({cacheStrategy:y.n2.CACHE_FIRST})}),[q.user,Q,oe]),(0,a.useEffect)((()=>{Q&&se&&q.user&&H.initialized&&!te&&ee().catch((()=>{}))}),[te,q.managers.followed.followed.length]);const re=(0,a.useMemo)((()=>()=>{Y({type:_.dK.LOADING_NEXT}),p.Z.request({url:H.next,method:Z.Z.UserFollowers.method}).then((e=>{Y({type:_.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[Y,H.next,H.isLoadingNext,H.initialized]),ie=()=>{V((e=>!e))};if(!se||g&&!H.count&&H.initialized||!oe&&!q.user||!Q)return a.createElement($.Z,null);if(!H.initialized)return a.createElement(R,null);const ce=a.createElement(c.Z,null,a.createElement(u.Z,{className:D.title,variant:"h5"},a.createElement(I.Z,{id:"ui.userFollowersWidget.title",defaultMessage:"ui.userFollowersWidget.title",values:{total:Q.followers_counter}})),H.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,H.results.slice(0,H.visibleItems).map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(P.Z,Object.assign({elevation:0,user:e},F)))))),H.count>H.visibleItems&&a.createElement(m.Z,{className:D.showMore,onClick:ie},a.createElement(I.Z,{id:"ui.userFollowersWidget.button.showAll",defaultMessage:"ui.userFollowersWidget.button.showAll"}))):a.createElement(u.Z,{className:D.noResults,variant:"body2"},a.createElement(I.Z,{id:"ui.userFollowersWidget.subtitle.noResults",defaultMessage:""})),G&&a.createElement(W,Object.assign({className:D.dialogRoot,title:a.createElement(I.Z,{defaultMessage:"ui.userFollowersWidget.title",id:"ui.userFollowersWidget.title",values:{total:Q.followers_counter}}),onClose:ie,open:G},z),a.createElement(j.Z,{dataLength:H.results.length,next:re,hasMoreNext:Boolean(H.next),loaderNext:a.createElement(T.Z,Object.assign({elevation:0},F)),height:le?"100%":400,endMessage:a.createElement(u.Z,{className:D.endMessage},a.createElement(I.Z,{id:"ui.userFollowersWidget.noMoreResults",defaultMessage:"ui.userFollowersWidget.noMoreResults"}))},a.createElement(n.Z,null,H.results.map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(P.Z,Object.assign({elevation:0,user:e},F)))))))));return a.createElement(k,Object.assign({className:A()(D.root,L)},X),ce)}},15927:(e,t,o)=>{o.d(t,{Mv:()=>n,Xi:()=>l,dK:()=>a});var s=o(59219);const a={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function l(e,t){var o;let l=Object.assign({},e);switch(t.type){case a.LOADING_NEXT:l=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case a.LOADING_PREVIOUS:l=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case a.LOAD_NEXT_SUCCESS:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(o=t.payload)||void 0===o?void 0:o.initialized)||!0});break;case a.LOAD_PREVIOUS_SUCCESS:l=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case a.SET_RESULTS:l=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case a.SET_VISIBLE_ITEMS:l=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case a.LOAD_NEXT_FAILURE:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case a.LOAD_PREVIOUS_FAILURE:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case a.RESET:l={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return s.ZP.set(l.cacheKey,l),l}function n(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&s.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==s.n2.NETWORK_ONLY){const e=s.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},29409:(e,t,o)=>{var s;o.d(t,{i:()=>s}),function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(s||(s={}))},5840:(e,t,o)=>{function s(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}o.d(t,{U:()=>s})}}]);