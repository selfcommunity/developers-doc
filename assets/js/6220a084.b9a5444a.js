/*! For license information please see 6220a084.b9a5444a.js.LICENSE.txt */
(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[34034],{1935:(e,o,t)=>{"use strict";t.d(o,{A:()=>s});const s=t(74705).A},20002:(e,o,t)=>{"use strict";t(44254)},21676:(e,o,t)=>{"use strict";t.d(o,{A:()=>m});var s=t(31635),r=t(74848),a=t(11848),n=t(44744),l=t(19546),c=t.n(l);const i="SCTagChip",d={ellipsis:`${i}-ellipsis`},u=(0,a.Ay)(n.A,{name:i,slot:"Root",overridesResolver:(e,o)=>[o.root]})((({theme:e})=>({whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",height:25,[`&.${d.ellipsis}`]:{maxWidth:120}})));function m(e){const{tag:o,clickable:t=!0,disposable:a=!0,label:n=null,ellipsis:l=!1,onClick:i=null,onDelete:m=null,className:g=null}=e,p=(0,s.__rest)(e,["tag","clickable","disposable","label","ellipsis","onClick","onDelete","className"]);return(0,r.jsx)(u,Object.assign({className:c()(g,{[d.ellipsis]:l}),sx:{backgroundColor:`${o.color}`,color:e=>e.palette.getContrastText(o.color)}},t&&{onClick:()=>{i&&i(o.id)}},a&&{onDelete:()=>{m&&m(o.id)}},{label:n||o.name},p))}},23237:()=>{},25441:(e,o,t)=>{"use strict";t.d(o,{A:()=>b});var s=t(85486),r=t(59703),a=t(96540),n=(t(20002),t(54533)),l=t(75659),c=t(11848),i=t(25669),d=t(33779),u=t(27365),m=t(38413),g=t(31609);function p(e){return(0,g.Ay)("MuiAvatarGroup",e)}const h=(0,m.A)("MuiAvatarGroup",["root","avatar"]);var f=t(74848);const y=["children","className","component","componentsProps","max","renderSurplus","slotProps","spacing","total","variant"],A={small:-16,medium:null},v=(0,c.Ay)("div",{name:"MuiAvatarGroup",slot:"Root",overridesResolver:(e,o)=>(0,r.A)({[`& .${h.avatar}`]:o.avatar},o.root)})((({theme:e,ownerState:o})=>{const t=o.spacing&&void 0!==A[o.spacing]?A[o.spacing]:-o.spacing;return{[`& .${d.A.root}`]:{border:`2px solid ${(e.vars||e).palette.background.default}`,boxSizing:"content-box",marginLeft:null!=t?t:-8,"&:last-child":{marginLeft:0}},display:"flex",flexDirection:"row-reverse"}})),b=a.forwardRef((function(e,o){var t;const c=(0,i.b)({props:e,name:"MuiAvatarGroup"}),{children:d,className:m,component:g="div",componentsProps:h={},max:A=5,renderSurplus:b,slotProps:j={},spacing:x="medium",total:w,variant:C="circular"}=c,k=(0,s.A)(c,y);let S=A<2?2:A;const _=(0,r.A)({},c,{max:A,spacing:x,component:g,variant:C}),N=(e=>{const{classes:o}=e;return(0,l.A)({root:["root"],avatar:["avatar"]},p,o)})(_),O=a.Children.toArray(d).filter((e=>a.isValidElement(e))),F=w||O.length;F===S&&(S+=1),S=Math.min(F+1,S);const H=Math.min(O.length,S-1),T=Math.max(F-S,F-H,0),M=b?b(T):`+${T}`,P=null!=(t=j.additionalAvatar)?t:h.additionalAvatar;return(0,f.jsxs)(v,(0,r.A)({as:g,ownerState:_,className:(0,n.A)(N.root,m),ref:o},k,{children:[T?(0,f.jsx)(u.A,(0,r.A)({variant:C},P,{className:(0,n.A)(N.avatar,null==P?void 0:P.className),children:M})):null,O.slice(0,H).reverse().map((e=>a.cloneElement(e,{className:(0,n.A)(e.props.className,N.avatar),variant:e.props.variant||C})))]}))}))},28820:(e,o,t)=>{"use strict";t.d(o,{A:()=>y});var s=t(85486),r=t(59703),a=t(96540),n=t(54533),l=t(75659),c=t(11848),i=t(25669),d=t(32850),u=t(38413),m=t(31609);function g(e){return(0,m.Ay)("MuiList",e)}(0,u.A)("MuiList",["root","padding","dense","subheader"]);var p=t(74848);const h=["children","className","component","dense","disablePadding","subheader"],f=(0,c.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,!t.disablePadding&&o.padding,t.dense&&o.dense,t.subheader&&o.subheader]}})((({ownerState:e})=>(0,r.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0}))),y=a.forwardRef((function(e,o){const t=(0,i.b)({props:e,name:"MuiList"}),{children:c,className:u,component:m="ul",dense:y=!1,disablePadding:A=!1,subheader:v}=t,b=(0,s.A)(t,h),j=a.useMemo((()=>({dense:y})),[y]),x=(0,r.A)({},t,{component:m,dense:y,disablePadding:A}),w=(e=>{const{classes:o,disablePadding:t,dense:s,subheader:r}=e,a={root:["root",!t&&"padding",s&&"dense",r&&"subheader"]};return(0,l.A)(a,g,o)})(x);return(0,p.jsx)(d.A.Provider,{value:j,children:(0,p.jsxs)(f,(0,r.A)({as:m,className:(0,n.A)(w.root,u),ref:o,ownerState:x},b,{children:[v,c]}))})}))},31815:()=>{},34381:(e,o,t)=>{"use strict";t.d(o,{H:()=>s});const s="SCCategoryHeader"},36175:(e,o,t)=>{"use strict";t.d(o,{F:()=>s});const s={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://internal.selfcommunity.io/mkg2zxd0"}},37180:(e,o,t)=>{"use strict";t.d(o,{A:()=>g});var s=t(96540),r=t(36175),a=t(75251);function n(e,o){void 0===e&&(e=""),void 0===o&&(o={});const t=Object.keys(o).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(o[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:t})}function l(){if((0,a.A)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:r.F.user.client_id,grant_type:"refresh_token"};return n(`${r.F.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function c(){const e=(0,a.A)(),[o,t]=(0,s.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,s.useEffect)((()=>{e&&(!o||1e3*o.expiresIn<Date.now()?n(`${r.F.portal}/oauth/token/`,r.F.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{t(e)})):e&&t(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,s.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(o))}),[e,o]),o}var i=t(45284),d=t(51151),u=t(73906),m=t(74848);function g(e){let{children:o}=e;const t=c(),s={portal:r.F.portal,locale:{default:"en"},session:{type:"OAuth",clientId:r.F.user.client_id,authToken:t,handleRefreshToken:l},theme:d.Ay,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,m.jsx)(u.A,{children:()=>(0,m.jsx)(i.Ay,{conf:s,children:o})})}},43029:(e,o,t)=>{"use strict";t.d(o,{A:()=>p});var s=t(31635),r=t(74848),a=t(11848),n=t(25441),l=t(44675),c=t(27365),i=t(73785),d=t(79197);const u="SCAvatarGroupSkeleton",m={root:`${u}-root`},g=(0,a.Ay)(n.A,{name:u,slot:"Root",overridesResolver:(e,o)=>o.root})((()=>({})));function p(e){const o=(0,d.A)({props:e,name:u}),{skeletonsAnimation:t="wave",count:a=3}=o,n=(0,s.__rest)(o,["skeletonsAnimation","count"]),p=(0,l.A)();return(0,r.jsx)(g,Object.assign({className:m.root},n,{children:[...Array(a)].map(((e,o)=>(0,r.jsx)(c.A,{children:(0,r.jsx)(i.A,{variant:"circular",width:p.selfcommunity.user.avatar.sizeSmall,height:p.selfcommunity.user.avatar.sizeSmall,animation:t})},o)))}))}},44254:(e,o)=>{"use strict";var t,s=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),i=Symbol.for("react.context"),d=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen");function y(e){if("object"==typeof e&&null!==e){var o=e.$$typeof;switch(o){case s:switch(e=e.type){case a:case l:case n:case m:case g:return e;default:switch(e=e&&e.$$typeof){case d:case i:case u:case h:case p:case c:return e;default:return o}}case r:return o}}}t=Symbol.for("react.module.reference")},46900:(e,o,t)=>{"use strict";t.d(o,{E:()=>a});var s=t(74848);const r=3;function a(e){const o=e===r?1:e<r?e:e-r;return o>999999?(0,s.jsxs)(s.Fragment,{children:["+",(Math.abs(o)/1e6).toFixed(1),"M"]}):o>999?(0,s.jsxs)(s.Fragment,{children:["+",(Math.abs(o)/1e3).toFixed(1),"K"]}):(0,s.jsxs)(s.Fragment,{children:["+",o]})}},52502:(e,o,t)=>{"use strict";t.r(o),t.d(o,{assets:()=>d,contentTitle:()=>i,default:()=>g,frontMatter:()=>c,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"sdk/community-js/react-ui/Components/CategoryHeader","title":"Category Header","description":"The Category Header component renders a category header composed of category\'s cover, title, slogan and","source":"@site/docs/sdk/community-js/react-ui/Components/CategoryHeader.mdx","sourceDirName":"sdk/community-js/react-ui/Components","slug":"/sdk/community-js/react-ui/Components/CategoryHeader","permalink":"/docs/sdk/community-js/react-ui/Components/CategoryHeader","draft":false,"unlisted":false,"editUrl":"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/CategoryHeader.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Category Header","sidebar_position":1,"title":"Category Header"},"sidebar":"sdkSidebar","previous":{"title":"Category Autocomplete","permalink":"/docs/sdk/community-js/react-ui/Components/CategoryAutocomplete"},"next":{"title":"Category Trending Feed Widget","permalink":"/docs/sdk/community-js/react-ui/Components/CategoryTrendingFeed"}}');var r=t(74848),a=t(28453),n=t(37180),l=t(71271);const c={sidebar_label:"Category Header",sidebar_position:1,title:"Category Header"},i=void 0,d={},u=[{value:"Usage",id:"usage",level:4}];function m(e){const o={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.blockquote,{children:["\n",(0,r.jsxs)(o.p,{children:["The Category Header component renders a category header composed of category's cover, title, slogan and ",(0,r.jsx)("br",{}),"\na followers section followed by a button that allows users to follow/unfollow the category."]}),"\n"]}),"\n","\n",(0,r.jsx)(n.A,{children:(0,r.jsx)(l.A,{categoryId:10})}),"\n",(0,r.jsx)(o.h4,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {CategoryHeader} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><CategoryHeader /></SCContextProvider>\n   );\n }\n"})})]})}function g(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},66671:()=>{},71271:(e,o,t)=>{"use strict";t.d(o,{A:()=>Z});var s=t(31635),r=t(74848),a=t(96540),n=t(11848),l=t(71194),c=t(57416),i=t(47859),d=t(67115),u=t(58065),m=t(65846),g=t(22373),p=t(3338),h=t(99042),f=t(94844),y=t(19546),A=t.n(y),v=t(79197),b=t(42942),j=t(44675),x=t(90508),w=t(25441),C=t(27365),k=t(28820),S=t(36870),_=t(27202),N=t(13550),O=t(29368),F=t(94520),H=t(62645),T=t(15906),M=t(29251),P=t(43749),$=t(46900),R=t(43029),I=t(41219),B=t(16799);const E="SCCategoryFollowersButton",D={root:`${E}-root`,dialogRoot:`${E}-dialog-root`,endMessage:`${E}-end-message`},L=(0,n.Ay)(b.A,{name:E,slot:"Root",overridesResolver:(e,o)=>o.root,shouldForwardProp:e=>"followers"!==e})((()=>({}))),G=(0,n.Ay)(M.A,{name:E,slot:"DialogRoot",overridesResolver:(e,o)=>o.dialogRoot})((()=>({})));const J=function(e){const o=(0,v.A)({props:e,name:E}),{className:t,categoryId:n,category:l,DialogProps:c={}}=o,d=(0,s.__rest)(o,["className","categoryId","category","DialogProps"]),[g,p]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null),[y,b]=(0,a.useState)(null),[M,J]=(0,a.useState)([]),[q,z]=(0,a.useState)(!1),{scCategory:U}=(0,m.A)({id:n,category:l});(0,H.ho)((()=>{U&&(0===M.length?_.A.getCategoryFollowers(U.id,{limit:3}).then((e=>{J([...e.results]),b(3),p(!1)})):b(0))}),[U]),(0,a.useEffect)((()=>{q&&null!==y&&(p(!0),_.A.getCategoryFollowers(U.id,{offset:y,limit:20}).then((e=>{J([...0===y?[]:M,...e.results]),f(e.next),p(!1),b(null)})))}),[q,M,y]);const V=(0,a.useMemo)((()=>()=>{h&&N.A.request({url:h,method:O.A.CategoryFollowers.method}).then((e=>{J([...M,...e.data.results]),f(e.data.next)})).catch((e=>F.V.error(T.d,e))).then((()=>p(!1)))}),[M,U,h]),W=(0,a.useMemo)((()=>()=>{z((e=>!e))}),[z]),Z=(0,a.useCallback)((()=>(0,$.E)(U.followers_counter)),[U]),K=(0,j.A)(),X=(0,x.A)(K.breakpoints.down("md"));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(L,Object.assign({className:A()(D.root,t),onClick:W,disabled:g||!U||0===U.followers_counter,followers:null==U?void 0:U.followers_counter},d,{children:g||!U?(0,r.jsx)(R.A,Object.assign({},d)):(0,r.jsx)(w.A,Object.assign({total:U.followers_counter,renderSurplus:Z},{children:M.map((e=>(0,r.jsx)(C.A,{alt:e.username,src:e.avatar},e.id)))}))})),q&&(0,r.jsx)(G,Object.assign({className:D.dialogRoot,title:(0,r.jsx)(u.A,{defaultMessage:"ui.categoryFollowersButton.dialogTitle",id:"ui.categoryFollowersButton.dialogTitle",values:{total:U.followers_counter}}),onClose:W,open:q},c,{children:(0,r.jsx)(P.A,Object.assign({dataLength:M.length,next:V,hasMoreNext:null!==h||g,loaderNext:(0,r.jsx)(I.A,{elevation:0}),height:X?"100%":400,endMessage:(0,r.jsx)(i.A,Object.assign({className:D.endMessage},{children:(0,r.jsx)(u.A,{id:"ui.categoryFollowersButton.noOtherFollowers",defaultMessage:"ui.categoryFollowersButton.noOtherFollowers"})}))},{children:(0,r.jsx)(k.A,{children:M.map((e=>(0,r.jsx)(S.Ay,{children:(0,r.jsx)(B.A,{elevation:0,user:e})},e.id)))})}))}))]})};var q=t(34381),z=t(38441),U=t(21676);const V={root:`${q.H}-root`,cover:`${q.H}-cover`,name:`${q.H}-name`,slogan:`${q.H}-slogan`,info:`${q.H}-info`,tags:`${q.H}-tags`,followedCounter:`${q.H}-followed-counter`,followed:`${q.H}-followed`,action:`${q.H}-action`},W=(0,n.Ay)(l.A,{name:q.H,slot:"Root"})((()=>({})));const Z=function(e){var o,t;const n=(0,v.A)({props:e,name:q.H}),{className:y,categoryId:b,category:j,CategoryFollowButtonProps:x={},CategoryFollowersButtonProps:w={},showTags:C=!1}=n,k=(0,s.__rest)(n,["className","categoryId","category","CategoryFollowButtonProps","CategoryFollowersButtonProps","showTags"]),{scCategory:S,setSCCategory:_}=(0,m.A)({id:b,category:j}),N=(0,g.__)(p.DE),{isPaymentsEnabled:O}=(0,h.A)(),F=(0,a.useMemo)((()=>Object.assign({},S?{background:`url('${S.emotional_image_original}') center / cover`}:{})),[S]);return S?(0,r.jsxs)(W,Object.assign({className:A()(V.root,y)},k,{children:[(0,r.jsx)(c.A,{style:F,classes:{root:V.cover}}),(0,r.jsxs)(l.A,Object.assign({className:V.info},{children:[(0,r.jsx)(i.A,Object.assign({variant:"h3",className:V.name,gutterBottom:!0},{children:S.name})),S.slogan&&(0,r.jsx)(i.A,Object.assign({variant:"h5",className:V.slogan},{children:S.slogan})),C&&(null===(o=S.tags)||void 0===o?void 0:o.length)>0&&(0,r.jsx)(l.A,Object.assign({className:V.tags},{children:S.tags.map((e=>(0,r.jsx)(U.A,{tag:e,disposable:!1,clickable:!1},e.id)))})),N&&(0,r.jsxs)(l.A,Object.assign({className:V.followed},{children:[(0,r.jsx)(i.A,Object.assign({className:V.followedCounter,component:"div"},{children:(0,r.jsx)(u.A,{id:"ui.categoryHeader.followedBy",defaultMessage:"ui.categoryHeader.followedBy",values:{total:S.followers_counter}})})),(0,r.jsx)(J,Object.assign({category:S,categoryId:null==S?void 0:S.id},w))]})),(0,r.jsxs)(l.A,Object.assign({className:V.action},{children:[O&&(null===(t=S.paywalls)||void 0===t?void 0:t.length)>0&&S.payment_order&&(0,r.jsx)(z.A,{contentType:f.AV.CATEGORY,content:S}),(0,r.jsx)(d.A,Object.assign({category:S,onFollow:(e,o)=>{_(Object.assign(Object.assign({},e),{followers_counter:e.followers_counter+(o?1:-1)}))}},x))]}))]}))]})):null}},74705:(e,o,t)=>{"use strict";function s(e,o=166){let t;function s(...s){clearTimeout(t),t=setTimeout((()=>{e.apply(this,s)}),o)}return s.clear=()=>{clearTimeout(t)},s}t.d(o,{A:()=>s})},82787:()=>{},93749:(e,o,t)=>{"use strict";t.d(o,{A:()=>s});const s=t(44877).A},96248:(e,o,t)=>{"use strict";t.d(o,{A:()=>s});const s=t(32325).A},97492:()=>{}}]);