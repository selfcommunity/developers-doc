"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[60547],{60547:(e,t,n)=>{n.d(t,{Z:()=>At});var s=n(67294),o=n(90948),r=n(5616),a=n(31536),l=n(69417),i=n(15861),u=n(67564),c=n(43076),d=n(61504),m=n(5757),g=n(19326),E=n(97582),f=n(78462),p=n(2734),Z=n(98396),h=n(44267),N=n(97212),_=n(63902),C=n(49877),v=n(65001),b=n(24085),y=n(59219),I=n(5840),S=n(99960),R=n(69721),M=n(68689),O=n(66380),k=n(45412),A=n(85472),P=n(15927),U=n(14459);const w="SCUserConnectionsWidget",T={root:`${w}-skeleton-root`},L=(0,o.ZP)(U.Z,{name:w,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));function B(e){return s.createElement(L,Object.assign({className:T.root},e))}var $=n(37089),D=n(50353),x=n(44012),W=n(94184),j=n.n(W),K=n(75459),F=n(39154),q=n(79558),G=n(29628),z=n(54545);const H={root:`${w}-root`,title:`${w}-title`,noResults:`${w}-no-results`,showMore:`${w}-show-more`,dialogRoot:`${w}-dialog-root`,endMessage:`${w}-end-message`},X=(0,o.ZP)(_.Z,{name:w,slot:"Root"})((()=>({}))),Y=(0,o.ZP)(F.Z,{name:w,slot:"DialogRoot"})((()=>({})));const J=function(e){const t=(0,G.Z)({props:e,name:w}),{userId:n,user:o,autoHide:r=!1,limit:a=3,className:u,UserProps:c={},cacheStrategy:d=y.n2.NETWORK_ONLY,onHeightChange:m,onStateChange:g,DialogProps:_={}}=t,U=(0,E._T)(t,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[T,L]=(0,s.useReducer)(P.Xi,{isLoadingNext:!1,next:null,cacheKey:R.hu(R.wv,(0,I.U)(n)?n:o.id),cacheStrategy:d,visibleItems:a},P.Mv),[W,F]=(0,s.useState)(!1),J=(0,M.LD)(),V=(0,O.ko)(),{scUser:Q,refresh:ee}=(0,k.Z)({id:n,user:o}),te=(0,s.useMemo)((()=>A.Ao in V.preferences&&V.preferences[A.Ao].value),[V.preferences]),ne=(0,s.useMemo)((()=>A.$0 in V.preferences&&V.preferences[A.$0].value),[V.preferences]),se=(0,p.Z)(),oe=(0,Z.Z)(se.breakpoints.down("md")),re=(0,s.useMemo)((()=>()=>{T.initialized||T.isLoadingNext||(L({type:P.dK.LOADING_NEXT}),C.Z.getUserConnections(Q.id,{limit:a}).then((e=>{L({type:P.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{L({type:P.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),S.Y.error(K.J,e)})))}),[T.isLoadingNext,T.initialized,Q,a,L]);(0,s.useEffect)((()=>{var e;let t;if((te||!te&&(null===(e=J.user)||void 0===e?void 0:e.id))&&!ne&&Q&&void 0!==J.user)return t=setTimeout(re),()=>{t&&clearTimeout(t)}}),[J.user,J.loading,te,Q]),(0,s.useEffect)((()=>{W&&T.next&&T.results.length===a&&T.initialized&&(L({type:P.dK.LOADING_NEXT}),C.Z.getUserConnections(Q.id,{offset:a,limit:10}).then((e=>{L({type:P.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{L({type:P.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),S.Y.error(K.J,e)})))}),[W,T.next,T.results.length,T.initialized,a]),(0,s.useEffect)((()=>{m&&m()}),[T.results]),(0,s.useEffect)((()=>{Q&&!ne&&(te||J.user)&&d===y.n2.NETWORK_ONLY&&g&&g({cacheStrategy:y.n2.CACHE_FIRST})}),[J.user,Q,te]);const ae=(0,s.useMemo)((()=>()=>{L({type:P.dK.LOADING_NEXT}),v.Z.request({url:T.next,method:b.Z.UserConnections.method}).then((e=>{L({type:P.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[L,T.next,T.isLoadingNext,T.initialized]),le=(0,s.useMemo)((()=>()=>{ee()}),[ee]),ie=()=>{F((e=>!e))};if(ne||r&&!T.count&&T.initialized||!te&&!J.user||!Q)return s.createElement(z.Z,null);if(!T.initialized)return s.createElement(B,null);const ue=s.createElement(h.Z,null,s.createElement(i.Z,{className:H.title,variant:"h5"},s.createElement(x.Z,{id:"ui.userConnectionsWidget.title",defaultMessage:"ui.userConnectionsWidget.title",values:{total:Q.connections_counter}})),T.count?s.createElement(s.Fragment,null,s.createElement(f.Z,null,T.results.slice(0,T.visibleItems).map((e=>s.createElement(N.ZP,{key:e.id},s.createElement($.Z,Object.assign({elevation:0,user:e,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:le}}},c)))))),T.count>T.visibleItems&&s.createElement(l.Z,{className:H.showMore,onClick:ie},s.createElement(x.Z,{id:"ui.userConnectionsWidget.button.showAll",defaultMessage:"ui.userConnectionsWidget.button.showAll"}))):s.createElement(i.Z,{className:H.noResults,variant:"body2"},s.createElement(x.Z,{id:"ui.userConnectionsWidget.subtitle.noResults",defaultMessage:""})),W&&s.createElement(Y,Object.assign({className:H.dialogRoot,title:s.createElement(x.Z,{defaultMessage:"ui.userConnectionsWidget.title",id:"ui.userConnectionsWidget.title",values:{total:Q.connections_counter}}),onClose:ie,open:W},_),s.createElement(q.Z,{dataLength:T.results.length,next:ae,hasMoreNext:Boolean(T.next),loaderNext:s.createElement(D.Z,Object.assign({elevation:0},c)),height:oe?"100%":400,endMessage:s.createElement(i.Z,{className:H.endMessage},s.createElement(x.Z,{id:"ui.userConnectionsWidget.noMoreResults",defaultMessage:"ui.userConnectionsWidget.noMoreResults"}))},s.createElement(f.Z,null,T.results.map((e=>s.createElement(N.ZP,{key:e.id},s.createElement($.Z,Object.assign({elevation:0,user:e,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:le}}},c)))))))));return s.createElement(X,Object.assign({className:j()(H.root,u)},U),ue)},V="SCUserConnectionsRequestsWidget",Q={root:`${V}-skeleton-root`},ee=(0,o.ZP)(U.Z,{name:V,slot:"SkeletonRoot"})((()=>({})));function te(e){return s.createElement(ee,Object.assign({className:Q.root},e))}const ne={root:`${V}-root`,title:`${V}-title`,noResults:`${V}-no-results`,showMore:`${V}-show-more`,dialogRoot:`${V}-dialog-root`,endMessage:`${V}-end-message`},se=(0,o.ZP)(_.Z,{name:V,slot:"Root"})((()=>({}))),oe=(0,o.ZP)(F.Z,{name:V,slot:"DialogRoot"})((()=>({})));const re=function(e){const t=(0,G.Z)({props:e,name:V}),{autoHide:n=!1,limit:o=3,className:r,UserProps:a={},cacheStrategy:u=y.n2.NETWORK_ONLY,onHeightChange:c,onStateChange:d,DialogProps:m={},userId:g}=t,_=(0,E._T)(t,["autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","userId"]),I=(0,M.LD)(),k=(0,O.ko)(),[U,w]=(0,s.useReducer)(P.Xi,{isLoadingNext:!1,next:null,cacheKey:R.hu(R.R4,g),cacheStrategy:u,visibleItems:o},P.Mv),[T,L]=(0,s.useState)(!1),B=(0,s.useMemo)((()=>A.Ao in k.preferences&&k.preferences[A.Ao].value),[k.preferences]),W=(0,s.useMemo)((()=>A.$0 in k.preferences&&k.preferences[A.$0].value),[k.preferences]),F=(0,p.Z)(),H=(0,Z.Z)(F.breakpoints.down("md")),X=(0,s.useMemo)((()=>()=>{U.initialized||U.isLoadingNext||(w({type:P.dK.LOADING_NEXT}),C.Z.getUserConnectionRequests({limit:o}).then((e=>{w({type:P.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{w({type:P.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),S.Y.error(K.J,e)})))}),[U.isLoadingNext,U.initialized,o,w]);(0,s.useEffect)((()=>{let e;if(I.user&&!W)return e=setTimeout(X),()=>{e&&clearTimeout(e)}}),[I.user,B]),(0,s.useEffect)((()=>{T&&U.next&&U.results.length===o&&U.initialized&&(w({type:P.dK.LOADING_NEXT}),C.Z.getUserConnectionRequests({offset:o,limit:10}).then((e=>{w({type:P.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{w({type:P.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),S.Y.error(K.J,e)})))}),[T,U.next,U.results.length,U.initialized,o]),(0,s.useEffect)((()=>{c&&c()}),[U.results]),(0,s.useEffect)((()=>{W||!B&&!I.user||u===y.n2.NETWORK_ONLY&&d&&d({cacheStrategy:y.n2.CACHE_FIRST})}),[I.user,B]);const Y=(0,s.useMemo)((()=>()=>{w({type:P.dK.LOADING_NEXT}),v.Z.request({url:U.next,method:b.Z.UserConnectionsRequests.method}).then((e=>{w({type:P.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[w,U.next,U.isLoadingNext,U.initialized]),J=(0,s.useMemo)((()=>()=>{I.refreshCounters()}),[I.refreshCounters]),Q=()=>{L((e=>!e))};if(W||n&&!U.count&&U.initialized||!B&&!I.user)return s.createElement(z.Z,null);if(!U.initialized)return s.createElement(te,null);const ee=s.createElement(h.Z,null,s.createElement(i.Z,{className:ne.title,variant:"h5"},s.createElement(x.Z,{id:"ui.userConnectionsRequestsWidget.title",defaultMessage:"ui.userConnectionsRequestsWidget.title",values:{total:I.user.connection_requests_received_counter}})),U.count?s.createElement(s.Fragment,null,s.createElement(f.Z,null,U.results.slice(0,U.visibleItems).map((e=>s.createElement(N.ZP,{key:e.from_user.id},s.createElement($.Z,Object.assign({elevation:0,user:e.from_user,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:J}}},a)))))),U.count>U.visibleItems&&s.createElement(l.Z,{className:ne.showMore,onClick:Q},s.createElement(x.Z,{id:"ui.userConnectionsRequestsWidget.button.showAll",defaultMessage:"ui.userConnectionsRequestsWidget.button.showAll"}))):s.createElement(i.Z,{className:ne.noResults,variant:"body2"},s.createElement(x.Z,{id:"ui.userConnectionsRequestsWidget.subtitle.noResults",defaultMessage:""})),T&&s.createElement(oe,Object.assign({className:ne.dialogRoot,title:s.createElement(x.Z,{defaultMessage:"ui.userConnectionsRequestsWidget.title",id:"ui.userConnectionsRequestsWidget.title",values:{total:I.user.connection_requests_received_counter}}),onClose:Q,open:T},m),s.createElement(q.Z,{dataLength:U.results.length,next:Y,hasMoreNext:Boolean(U.next),loaderNext:s.createElement(D.Z,Object.assign({elevation:0},a)),height:H?"100%":400,endMessage:s.createElement(i.Z,{className:ne.endMessage},s.createElement(x.Z,{id:"ui.userConnectionsRequestsWidget.noMoreResults",defaultMessage:"ui.userConnectionsRequestsWidget.noMoreResults"}))},s.createElement(f.Z,null,U.results.map((e=>s.createElement(N.ZP,{key:e.from_user.id},s.createElement($.Z,Object.assign({elevation:0,user:e.from_user,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:J}}},a)))))))));return s.createElement(se,Object.assign({className:j()(ne.root,r)},_),ee)},ae="SCUserConnectionsRequestsSentWidget",le={root:`${ae}-skeleton-root`},ie=(0,o.ZP)(U.Z,{name:ae,slot:"SkeletonRoot"})((()=>({})));function ue(e){return s.createElement(ie,Object.assign({className:le.root},e))}const ce={root:`${ae}-root`,title:`${ae}-title`,noResults:`${ae}-no-results`,showMore:`${ae}-show-more`,dialogRoot:`${ae}-dialog-root`,endMessage:`${ae}-end-message`},de=(0,o.ZP)(_.Z,{name:ae,slot:"Root"})((()=>({}))),me=(0,o.ZP)(F.Z,{name:ae,slot:"DialogRoot"})((()=>({})));const ge=function(e){const t=(0,G.Z)({props:e,name:ae}),{autoHide:n=!1,limit:o=3,className:r,UserProps:a={},cacheStrategy:u=y.n2.NETWORK_ONLY,onHeightChange:c,onStateChange:d,DialogProps:m={},userId:g}=t,_=(0,E._T)(t,["autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","userId"]),[k,U]=(0,s.useReducer)(P.Xi,{isLoadingNext:!1,next:null,cacheKey:R.hu(R.Gp,g),cacheStrategy:u,visibleItems:o},P.Mv),[w,T]=(0,s.useState)(!1),L=(0,M.LD)(),B=(0,O.ko)(),W=(0,s.useMemo)((()=>A.Ao in B.preferences&&B.preferences[A.Ao].value),[B.preferences]),F=(0,s.useMemo)((()=>A.$0 in B.preferences&&B.preferences[A.$0].value),[B.preferences]),H=(0,p.Z)(),X=(0,Z.Z)(H.breakpoints.down("md")),Y=(0,s.useMemo)((()=>()=>{k.initialized||k.isLoadingNext||(U({type:P.dK.LOADING_NEXT}),C.Z.getUserRequestConnectionsSent({limit:o}).then((e=>{U({type:P.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{U({type:P.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),S.Y.error(K.J,e)})))}),[k.isLoadingNext,k.initialized,g,o,U]);(0,s.useEffect)((()=>{let e;if(!F&&L.user)return e=setTimeout(Y),()=>{e&&clearTimeout(e)}}),[L.user,W,g]),(0,s.useEffect)((()=>{w&&k.next&&k.results.length===o&&k.initialized&&(U({type:P.dK.LOADING_NEXT}),C.Z.getUserRequestConnectionsSent({offset:o,limit:10}).then((e=>{U({type:P.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{U({type:P.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),S.Y.error(K.J,e)})))}),[w,k.next,k.results.length,k.initialized,o]),(0,s.useEffect)((()=>{c&&c()}),[k.results]),(0,s.useEffect)((()=>{(0,I.U)(g)&&!F&&(W||L.user)&&u===y.n2.NETWORK_ONLY&&d&&d({cacheStrategy:y.n2.CACHE_FIRST})}),[L.user,g,W]);const J=(0,s.useMemo)((()=>()=>{U({type:P.dK.LOADING_NEXT}),v.Z.request({url:k.next,method:b.Z.UserRequestConnectionsSent.method}).then((e=>{U({type:P.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[U,k.next,k.isLoadingNext,k.initialized]),V=(0,s.useMemo)((()=>()=>{L.refreshCounters()}),[L.refreshCounters]),Q=()=>{T((e=>!e))};if(F||n&&!k.count&&k.initialized||!W&&!L.user||!g)return s.createElement(z.Z,null);if(!k.initialized)return s.createElement(ue,null);const ee=s.createElement(h.Z,null,s.createElement(i.Z,{className:ce.title,variant:"h5"},s.createElement(x.Z,{id:"ui.userConnectionsRequestsSentWidget.title",defaultMessage:"ui.userConnectionsRequestsSentWidget.title",values:{total:L.user.connection_requests_sent_counter}})),k.count?s.createElement(s.Fragment,null,s.createElement(f.Z,null,k.results.slice(0,k.visibleItems).map((e=>s.createElement(N.ZP,{key:e.to_user.id},s.createElement($.Z,Object.assign({elevation:0,user:e.to_user,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:V}}},a)))))),k.count>k.visibleItems&&s.createElement(l.Z,{className:ce.showMore,onClick:Q},s.createElement(x.Z,{id:"ui.userConnectionsRequestsSentWidget.button.showAll",defaultMessage:"ui.userConnectionsRequestsSentWidget.button.showAll"}))):s.createElement(i.Z,{className:ce.noResults,variant:"body2"},s.createElement(x.Z,{id:"ui.userConnectionsRequestsSentWidget.subtitle.noResults",defaultMessage:""})),w&&s.createElement(me,Object.assign({className:ce.dialogRoot,title:s.createElement(x.Z,{defaultMessage:"ui.userConnectionsRequestsSentWidget.title",id:"ui.userConnectionsRequestsSentWidget.title",values:{total:L.user.connection_requests_sent_counter}}),onClose:Q,open:w},m),s.createElement(q.Z,{dataLength:k.results.length,next:J,hasMoreNext:Boolean(k.next),loaderNext:s.createElement(D.Z,Object.assign({elevation:0},a)),height:X?"100%":400,endMessage:s.createElement(i.Z,{className:ce.endMessage},s.createElement(x.Z,{id:"ui.userConnectionsRequestsSentWidget.noMoreResults",defaultMessage:"ui.userConnectionsRequestsSentWidget.noMoreResults"}))},s.createElement(f.Z,null,k.results.map((e=>s.createElement(N.ZP,{key:e.to_user.id},s.createElement($.Z,Object.assign({elevation:0,user:e.to_user,followConnectUserButtonProps:{followConnectUserButtonProps:{onChangeConnectionStatus:V}}},a)))))))));return s.createElement(de,Object.assign({className:j()(ce.root,r)},_),ee)};var Ee=n(49901),fe=n(5101),pe=n(93946),Ze=n(39005),he=n(25464),Ne=n(54776),_e=n(98619),Ce=n(59334),ve=n(67720),be=n(18972),ye=n(53704),Ie=n(97265),Se=n(65580),Re=n(87952),Me=n(54490),Oe=n(86896),ke=n(77488),Ae=n(78518),Pe=n(88078);const Ue="SCUserInfo",we={root:`${Ue}-skeleton-root`,field:`${Ue}-field`},Te=(0,o.ZP)(r.Z,{name:Ue,slot:"SkeletonRoot"})((()=>({})));const Le=function(){return s.createElement(Te,{className:we.root},Array.from({length:3}).map(((e,t)=>s.createElement(r.Z,{className:we.field,key:t},s.createElement(i.Z,{variant:"h6"},s.createElement(Pe.Z,{animation:"wave",sx:{height:20,width:"50%"}})),s.createElement(i.Z,{variant:"body2"},s.createElement(Pe.Z,{animation:"wave",sx:{height:20,width:"80%"}}))))))};var Be=n(42980),$e=n(86558);const De=(0,Me.vU)({realName:{id:"ui.userInfo.realName",defaultMessage:"ui.userInfo.realName"},dateJoined:{id:"ui.userInfo.dateJoined",defaultMessage:"ui.userInfo.dateJoined"},bio:{id:"ui.userInfo.bio",defaultMessage:"ui.userInfo.bio"},location:{id:"ui.userInfo.location",defaultMessage:"ui.userInfo.location"},dateOfBirth:{id:"ui.userInfo.dateOfBirth",defaultMessage:"ui.userInfo.dateOfBirth"},description:{id:"ui.userInfo.description",defaultMessage:"ui.userInfo.description"},gender:{id:"ui.userInfo.gender",defaultMessage:"ui.userInfo.gender"},website:{id:"ui.userInfo.website",defaultMessage:"ui.userInfo.website"},tags:{id:"ui.userInfo.website",defaultMessage:"ui.userInfo.website"},fieldLink:{id:"ui.userInfo.fieldLink",defaultMessage:"ui.userInfo.fieldLink"}}),xe={root:`${Ue}-root`,field:`${Ue}-field`},We=(0,o.ZP)(r.Z,{name:Ue,slot:"Root"})((()=>({})));const je=function(e){const t=(0,G.Z)({props:e,name:Ue}),{className:n=null,userId:o=null,user:a=null,fields:l=[...Ae.t]}=t,u=(0,E._T)(t,["className","userId","user","fields"]),{scUser:c}=(0,k.Z)({id:o,user:a}),d=(0,Oe.Z)(),m=(0,O.ko)(),g=(0,s.useMemo)((()=>{if(m.preferences&&A.kK in m.preferences)try{return JSON.parse(m.preferences[A.kK].value)}catch(e){return S.Y.error(K.J,"Error on parse user metadata."),console.log(m.preferences[A.kK]),{}}return null}),[m.preferences]),f=[...l,...Object.keys(g)],p=(e,t)=>{switch(t){case Be._V.DATE_JOINED:case Be._V.DATE_OF_BIRTH:return`${d.formatDate(e[t],{year:"numeric",month:"numeric",day:"numeric"})}`;case Be._V.TAGS:return s.createElement($e.Z,{tags:e.tags.filter((e=>e.visible)),type:$e.x.LIST,direction:"row",TagChipProps:{clickable:!1,disposable:!1}});case Be._V.WEBSITE:return s.createElement("a",{href:e[t],target:"_blank"},e[t]);default:return e[t]}};return c&&g?0===f.length?null:s.createElement(We,Object.assign({className:j()(xe.root,n)},u),f.map((e=>c[e]?e===Be._V.TAGS?c[e].length>0?s.createElement(r.Z,{key:e,className:xe.field},p(c,e)):null:s.createElement(r.Z,{key:e,className:xe.field},s.createElement(i.Z,{variant:"h6"},g[e]?g[e].label:d.formatMessage(De[(0,ke.eV)(e)])),s.createElement(i.Z,{variant:"body2"},p(c,e))):null))):s.createElement(Le,null)},Ke={root:`${Ue}-dialog-root`,caption:`${Ue}-caption`,avatar:`${Ue}-avatar`,username:`${Ue}-username`},Fe=(0,o.ZP)(F.Z,{name:Ue,slot:"DialogRoot"})((()=>({})));const qe=function(e){const t=(0,G.Z)({props:e,name:Ue}),{className:n,userId:o=null,user:a=null,UserInfoProps:l={}}=t,u=(0,E._T)(t,["className","userId","user","UserInfoProps"]),{scUser:c}=(0,k.Z)({id:o,user:a}),d=s.createElement(r.Z,{className:Ke.caption},s.createElement(Re.Z,{className:Ke.avatar,src:null==c?void 0:c.avatar}),s.createElement(i.Z,{className:Ke.username,variant:"h6"},(null==c?void 0:c.real_name)?null==c?void 0:c.real_name:null==c?void 0:c.username));return s.createElement(Fe,Object.assign({title:s.createElement(x.Z,{id:"ui.userInfoDialog.title",defaultMessage:"ui.userInfoDialog.title"}),subtitle:d,className:j()(Ke.root,n)},u),c?s.createElement(je,Object.assign({},l,{userId:o,user:c})):s.createElement(Le,null))};var Ge=n(27560),ze=n(20377);const He="SCUserActionIconButton",Xe={root:`${He}-root`,drawerRoot:`${He}-drawer-root`,menuRoot:`${He}-menu-root`},Ye=(0,o.ZP)(pe.Z,{name:He,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),Je=(0,o.ZP)(Ze.Z,{name:He,slot:"Root",overridesResolver:(e,t)=>t.drawerRoot})((({theme:e})=>({}))),Ve=(0,o.ZP)(he.Z,{name:He,slot:"Root",overridesResolver:(e,t)=>t.menuRoot})((({theme:e})=>({}))),Qe=s.forwardRef((function(e,t){return s.createElement(Ne.Z,Object.assign({direction:"up",ref:t},e))}));const et=function(e){const t=(0,G.Z)({props:e,name:He}),{className:n=null,userId:o=null,user:r=null,items:a=[]}=t,l=(0,E._T)(t,["className","userId","user","items"]),i=(0,M.LD)(),c=(0,ye.RM)(),[d,m]=(0,s.useState)(null),[g,h]=(0,s.useState)(!1),[_,C]=(0,s.useState)(!1),[v,b]=(0,s.useState)(null),[y,I]=(0,s.useState)(!1),{scUser:S}=(0,k.Z)({id:o,user:r}),R=(0,p.Z)(),O=(0,Z.Z)(R.breakpoints.down("md")),{enqueueSnackbar:A}=(0,ze.Ds)(),P=e=>{m(e.currentTarget)},U=()=>{m(null)},w=()=>{h(!0),m(null)},T=()=>{C(!0),i.managers.blockedUsers.block(S).then((e=>{b(e)})).then((()=>C(!1))).catch((()=>{A(s.createElement(x.Z,{id:"ui.common.action.notPermitted",defaultMessage:"ui.common.action.notPermitted"}),{variant:"warning",autoHideDuration:7e3}),C(!1),L()}))},L=(0,s.useMemo)((()=>()=>{I((e=>!e)),U()}),[I,U]),B=i.user&&S.id===i.user.id,$=(0,s.useMemo)((()=>i.user&&(null==i?void 0:i.user.role)),[i.user]),D=(0,s.useMemo)((()=>$&&($.includes("admin")||$.includes("moderator"))&&!B),[$,B]);if((0,s.useEffect)((()=>{d&&null===v&&S&&b(i.managers.blockedUsers.isBlocked(S))}),[d,S]),!i.user)return null;const W=()=>O?[...a.map(((e,t)=>s.createElement(N.ZP,{key:t},s.createElement(_e.Z,{component:Ie.Z,to:e.to},s.createElement(Ce.Z,{primary:e.label}))))),s.createElement(N.ZP,{key:"info"},s.createElement(_e.Z,{onClick:w},s.createElement(Ce.Z,{primary:s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.information",id:"ui.userActionIconButton.information"})}))),...B?[]:[s.createElement(ve.Z,{key:"divider"}),s.createElement(N.ZP,{key:"hide"},s.createElement(_e.Z,{onClick:T,disabled:_||S.community_badge||!v&&Se.B2(S)},s.createElement(Ce.Z,{primary:v?s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.show",id:"ui.userActionIconButton.show"}):s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.hide",id:"ui.userActionIconButton.hide"})}))),...D?[s.createElement(ve.Z,{key:"divider_moderate"}),s.createElement(N.ZP,{key:"moderate"},s.createElement(_e.Z,{component:Ie.Z,to:`${c.settings.portal}/platform/access?next=/moderation/user/?username=${S.username}`},s.createElement(Ce.Z,{primary:s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.moderate",id:"ui.userActionIconButton.moderate"})})))]:[]]]:[...a.map(((e,t)=>s.createElement(be.Z,{key:t,component:Ie.Z,to:e.to,onClick:U},e.label))),s.createElement(be.Z,{key:"info",onClick:w},s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.information",id:"ui.userActionIconButton.information"})),...B?[]:[s.createElement(ve.Z,{key:"divider"}),s.createElement(be.Z,{key:"hide",onClick:L,disabled:_||S.community_badge},v?s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.show",id:"ui.userActionIconButton.show"}):s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.hide",id:"ui.userActionIconButton.hide"})),...D?[s.createElement(ve.Z,{key:"divider_moderate"}),s.createElement(be.Z,{key:"moderate",component:Ie.Z,to:`${c.settings.portal}/platform/access?next=/moderation/user/?username=${S.username}`,onClick:U},s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.moderate",id:"ui.userActionIconButton.moderate"}))]:[]]];return s.createElement(s.Fragment,null,s.createElement(Ye,Object.assign({className:j()(Xe.root,n)},l,{onClick:P}),s.createElement(u.Z,null,"more_vert")),O?s.createElement(Je,{className:Xe.drawerRoot,anchor:"bottom",open:Boolean(d),onClose:U,onOpen:P,disableSwipeToOpen:!0},s.createElement(f.Z,null,W())):s.createElement(Ve,{className:Xe.menuRoot,anchorEl:d,open:Boolean(d),onClose:U},W()),s.createElement(qe,{userId:o,user:S,open:g,onClose:()=>{h(!1)}}),y&&s.createElement(Ge.Z,{open:y,isUpdating:_,TransitionComponent:Qe,keepMounted:!0,title:v?s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.show",id:"ui.userActionIconButton.show"}):s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.hide",id:"ui.userActionIconButton.hide"}),content:v?s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.dialogShowAction",id:"ui.userActionIconButton.dialogShowAction"}):s.createElement(x.Z,{defaultMessage:"ui.userActionIconButton.dialogHideAction",id:"ui.userActionIconButton.dialogHideAction"}),onConfirm:T,onClose:()=>I(!1)}))};var tt=n(74482);function nt({user:e=null,blockedByUser:t=null,sync:n=!0}){const[o,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[i,u]=(0,s.useState)(null),c=(0,M.LD)(),d=(0,s.useMemo)((()=>(e,t=!0)=>(t&&l(!0),C.Z.checkUserHiddenBy(e.id).then((e=>(t&&l(!1),r(e.is_hidden_by),Promise.resolve(e.is_hidden_by)))).catch((e=>{t&&l(!1),S.Y.error(tt.h,"Unable to load user blocked by."),S.Y.error(tt.h,e),u(e)})))),[a,r]);return(0,s.useEffect)((()=>{e&&null===o&&(c.user?c.user.id!==e.id?d(e):(r(!1),l(!1)):null===c.user&&(r(t),l(!1)))}),[c.user,e,d,o,a]),(0,s.useEffect)((()=>{c.user||null===o||r(t)}),[c.user,o,t]),(0,s.useEffect)((()=>{let t;if(c.user&&null!==o&&n)return t=setInterval((()=>{d(e,!1)}),5e3),()=>{t&&clearInterval(t)}}),[c.user,e,d,o]),{blockedBy:o,loading:a,error:i}}var st=n(31812);const ot="SCUserProfileBlocked",rt={root:`${ot}-root`,info:`${ot}-info`,button:`${ot}-button`},at=(0,o.ZP)(r.Z,{name:ot,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({textAlign:"center"})));const lt=function(e){const t=(0,G.Z)({props:e,name:ot}),{className:n=null,userId:o=null,user:r=null,blockedByUser:a=null,syncBlockedByUserStatus:l=!1}=t,u=(0,E._T)(t,["className","userId","user","blockedByUser","syncBlockedByUserStatus"]),c=(0,M.LD)(),{enqueueSnackbar:d}=(0,ze.Ds)(),{scUser:m}=(0,k.Z)({id:o,user:r}),{blockedBy:g,loading:f}=nt({user:m,blockedByUser:a,sync:l}),p=(0,s.useMemo)((()=>c.user&&(null==m?void 0:m.id)===c.user.id),[c.user,m]),Z=(0,s.useMemo)((()=>()=>{c.managers.blockedUsers.block(m).catch((e=>{S.Y.error(K.J,e),d(s.createElement(x.Z,{id:"ui.common.error.action",defaultMessage:"ui.common.error.action"}),{variant:"error",autoHideDuration:3e3})}))}),[c.managers.blockedUsers,m]);return m&&c.user&&!f?s.createElement(at,Object.assign({className:j()(rt.root,n)},u),s.createElement(ve.Z,null),!p&&g&&s.createElement(i.Z,{variant:"body1",className:rt.info},s.createElement(x.Z,{id:"ui.userProfileBlocked.blockedUserBy",defaultMessage:"ui.userProfileBlocked.blockedUserBy"})),!p&&c.managers.blockedUsers.isBlocked(m)&&s.createElement(s.Fragment,null,s.createElement(i.Z,{variant:"body1",className:rt.info},s.createElement(x.Z,{id:"ui.userProfileBlocked.blockedUser",defaultMessage:"ui.userProfileBlocked.blockedUser"})),s.createElement(st.Z,{variant:"contained",className:rt.button,loading:c.managers.blockedUsers.loading,disabled:c.managers.blockedUsers.loading,onClick:Z},s.createElement(x.Z,{id:"ui.userProfileBlocked.unBlockUser",defaultMessage:"ui.userProfileBlocked.unBlockUser"})))):null};var it=n(87620),ut=n(41538),ct=n(12132),dt=n(51575);const mt="SCUserCounters",gt={root:`${mt}-root`,button:`${mt}-button`},Et=(0,o.ZP)(r.Z,{name:mt,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const ft=function(e){const t=(0,G.Z)({props:e,name:mt}),{className:n=null,userId:o=null,user:r=null}=t,a=(0,E._T)(t,["className","userId","user"]),i=(0,ut.sy)(),u=(0,s.useContext)(O.Tt),c=A.$0 in u.preferences&&u.preferences[A.$0].value,d=(0,M.LD)(),{scUser:m,refresh:g,refreshing:f}=(0,k.Z)({id:o,user:r}),p=(0,s.useMemo)((()=>d.user&&(null==m?void 0:m.id)===d.user.id),[d.user,m]),Z=m?m.id:null;return(0,it.F_)((()=>{!Z||!d.user||d.managers.followed.isLoading(m)||d.managers.connections.isLoading(m)||f||g().catch((()=>{}))}),[Z,d.user,d.managers.connections.connections,d.managers.followed.followed.length]),(0,it.F_)((()=>{p&&g().catch((()=>{}))}),[p,d.managers.categories.categories.length]),void 0!==d.user&&m?s.createElement(Et,Object.assign({className:j()(gt.root,n)},a),c?s.createElement(s.Fragment,null,s.createElement(l.Z,{className:gt.button,variant:"text",component:Ie.Z,to:i.url(ct.USER_PROFILE_FOLLOWINGS_ROUTE_NAME,m)},s.createElement(x.Z,{id:"ui.userCounters.followings",defaultMessage:"ui.userCounters.followings",values:{count:null==m?void 0:m.followings_counter,b:e=>s.createElement("strong",null,e)}})),s.createElement(dt.Z,null),s.createElement(l.Z,{className:gt.button,variant:"text",component:Ie.Z,to:i.url(ct.USER_PROFILE_FOLLOWERS_ROUTE_NAME,m)},s.createElement(x.Z,{id:"ui.userCounters.followers",defaultMessage:"ui.userCounters.followers",values:{count:null==m?void 0:m.followers_counter,b:e=>s.createElement("strong",null,e)}}))):s.createElement(l.Z,{className:gt.button,variant:"text",component:Ie.Z,to:i.url(ct.USER_PROFILE_CONNECTIONS_ROUTE_NAME,m)},s.createElement(x.Z,{id:"ui.userCounters.connections",defaultMessage:"ui.userCounters.connections",values:{count:null==m?void 0:m.connections_counter,b:e=>s.createElement("strong",null,e)}})),s.createElement(dt.Z,null),s.createElement(l.Z,{className:gt.button,variant:"text",component:Ie.Z,to:i.url(ct.USER_PROFILE_CATEGORIES_ROUTE_NAME,m)},s.createElement(x.Z,{id:"ui.userCounters.categories",defaultMessage:"ui.userCounters.categories",values:{count:null==m?void 0:m.categories_counter,b:e=>s.createElement("strong",null,e)}}))):null};var pt=n(8455),Zt=n(76994),ht=n(72951),Nt=n(41298),_t=n(34388);const Ct="SCUserProfileTemplate",vt={root:`${Ct}-skeleton-root`},bt=(0,o.ZP)(r.Z,{name:Ct,slot:"SkeletonRoot"})((()=>({})));function yt(){return s.createElement(bt,{className:vt.root},s.createElement(Nt.Z,null),s.createElement(_t.Z,null))}const It={root:`${Ct}-root`,counters:`${Ct}-counters`,tags:`${Ct}-tags`,info:`${Ct}-info`,feed:`${Ct}-feed`,actions:`${Ct}-actions`},St=(0,o.ZP)(r.Z,{name:Ct,slot:"Root"})((()=>({}))),Rt=[{type:"widget",component:c.Z,componentProps:{},column:"right",position:0},{type:"widget",component:d.Z,componentProps:{},column:"right",position:1},{type:"widget",component:m.Z,componentProps:{},column:"right",position:2}],Mt=[{type:"widget",component:g.Z,componentProps:{},column:"right",position:-1}],Ot=[{type:"widget",component:c.Z,componentProps:{},column:"right",position:0},{type:"widget",component:J,componentProps:{},column:"right",position:1}],kt=[{type:"widget",component:g.Z,componentProps:{},column:"right",position:-1},{type:"widget",component:re,componentProps:{autoHide:!0},column:"right",position:2},{type:"widget",component:ge,componentProps:{autoHide:!0},column:"right",position:3}];const At=function(e){const t=(0,G.Z)({props:e,name:Ct}),{id:n="user_profile",className:o,user:r,userId:c,startActions:d=null,endActions:m=null,viewStartActions:g=null,viewEndActions:E=null,editStartActions:f=null,editEndActions:p=null,widgets:Z=null,FeedObjectProps:h,FeedSidebarProps:N,UserProfileHeaderProps:_={},onEditClick:C=null,UserFeedProps:v={}}=t,b=(0,M.LD)(),y=(0,O.ko)(),I=(0,ut.sy)(),{features:S}=(0,O.ko)(),[R,P]=(0,s.useState)(void 0),{scUser:U}=(0,k.Z)({id:c,user:r}),{blockedBy:w,loading:T}=nt({user:U}),L=(0,Oe.Z)(),B=(0,s.useMemo)((()=>S.includes(ht.$.TAGGING)),[S]),$=(0,s.useMemo)((()=>b.user&&(null==U?void 0:U.id)===b.user.id),[b.user,U]),D=(0,s.useMemo)((()=>A.$0 in y.preferences&&y.preferences[A.$0].value),[y.preferences]),W=(0,s.useMemo)((()=>S.includes(ht.$.PRIVATE_MESSAGING)),[S]),K=(0,s.useMemo)((()=>{var e,t;if(null!==Z)return Z;if(!U)return[];let n=[];return n=D&&(null===(e=null==b?void 0:b.user)||void 0===e?void 0:e.id)===U.id?[...Rt,...Mt]:D?[...Rt]:D||(null===(t=null==b?void 0:b.user)||void 0===t?void 0:t.id)!==U.id?[...Ot]:[...Ot,...kt],n.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:U.id})})))}),[Z,D,null==b?void 0:b.user,U]);if((0,s.useEffect)((()=>{r&&Object.is(null!=R?R:null,null)&&($?P(!1):D&&b.managers.followers.isFollower?P(b.managers.followers.isFollower(r)):!D&&b.managers.connections.status&&P("connected"===b.managers.connections.status(r)))}),[R,b.managers.followers,b.managers.connections,D,$,r,b.user]),!U)return s.createElement(yt,null);$||(v.FeedProps=Object.assign({HeaderComponent:null},v.FeedProps));let F=[];return W&&!$&&r&&r.can_send_pm_to&&(F=[{label:s.createElement(x.Z,{defaultMessage:"templates.userProfile.send.pm",id:"templates.userProfile.send.pm"}),to:I.url(ct.USER_PRIVATE_MESSAGES_ROUTE_NAME,U)}]),s.createElement(St,{id:n,className:j()(It.root,o)},s.createElement(Ee.Z,Object.assign({user:U},_,{actions:!$&&U&&Boolean(b.user&&b.managers.blockedUsers.isBlocked(U)||w)?null:s.createElement(a.Z,{key:`actions_${U.id}`,direction:"row",spacing:2,className:It.actions},d,$?f:g,$?s.createElement(l.Z,{variant:"contained",color:"secondary",onClick:()=>{C&&C(U)}},s.createElement(x.Z,{defaultMessage:"templates.userProfile.edit",id:"templates.userProfile.edit"})):s.createElement(fe.Z,{user:U}),$?p:E,m,s.createElement(et,{user:U,items:F}))})),void 0===b.user||b.user&&(T&&null===w||b.managers.blockedUsers.isLoading())?s.createElement(_t.Z,null):s.createElement(s.Fragment,null,T||b.user&&b.managers.blockedUsers.loading?null:s.createElement(s.Fragment,null,!$&&U&&Boolean(b.user&&b.managers.blockedUsers.isBlocked(U)||w)?s.createElement(lt,{user:U,blockedByUser:w}):s.createElement(s.Fragment,null,s.createElement(ft,{className:It.counters,userId:c,user:U}),U.date_joined&&s.createElement(i.Z,{className:It.info},s.createElement(x.Z,{id:"templates.userProfile.dateJoined",defaultMessage:"templates.userProfile.dateJoined",values:{date:L.formatDate(U.date_joined,{year:"numeric",month:"long"})}})),U.location&&s.createElement(i.Z,{className:It.info},s.createElement(u.Z,null,"add_location_alt")," ",U.location),B&&s.createElement(a.Z,{key:`tags_${U.id}`,direction:"row",spacing:2,className:It.tags},U.tags.filter((e=>e.visible)).map((e=>s.createElement(pt.Z,{key:e.id,tag:e,clickable:!1,disposable:!1})))),s.createElement(Zt.Z,Object.assign({key:`feed_${U.id}`,className:It.feed,user:U,widgets:K,FeedObjectProps:h,FeedSidebarProps:N},v))))))}},19326:(e,t,n)=>{n.d(t,{Z:()=>w});var s=n(97582),o=n(67294),r=n(90948),a=n(44267),l=n(15861),i=n(62023),u=n(87918),c=n(69417),d=n(65001),m=n(24085),g=n(68689),E=n(66380),f=n(85472),p=n(44012),Z=n(41538),h=n(97265),N=n(12132),_=n(94184),C=n.n(_),v=n(63902),b=n(29628),y=n(54545),I=n(88078);const S="SCLoyaltyProgramWidget",R={root:`${S}-skeleton-root`,title:`${S}-title`,content:`${S}-content`,chip:`${S}-chip`,points:`${S}-points`,actions:`${S}-actions`},M=(0,r.ZP)(v.Z,{name:S,slot:"SkeletonRoot"})((()=>({})));function O(){return o.createElement(M,{className:R.root},o.createElement(a.Z,{className:R.content},o.createElement(l.Z,{className:R.title},o.createElement(I.Z,{animation:"wave",height:25,width:"40%",variant:"rectangular"}))),o.createElement(i.Z,{className:R.actions},o.createElement(l.Z,{className:R.points},o.createElement(I.Z,{animation:"wave",variant:"circular",width:60,height:30,className:R.chip}),o.createElement(I.Z,{animation:"wave",height:20,width:90,variant:"rectangular"})),o.createElement(c.Z,{disabled:!0,variant:"outlined",size:"small"},o.createElement(I.Z,{animation:"wave",height:20,width:70,variant:"text"}))))}var k=n(75459),A=n(99960);const P={root:`${S}-root`,title:`${S}-title`,actions:`${S}-actions`,points:`${S}-points`,discoverMore:`${S}-discover-more`},U=(0,r.ZP)(v.Z,{name:S,slot:"Root"})((()=>({})));const w=function(e){const t=(0,b.Z)({props:e,name:S}),{className:n,userId:r=null}=t,_=(0,s._T)(t,["className","userId"]),v=(0,o.useContext)(g.K8),I=(0,E.ko)(),R=(0,Z.sy)(),[M,w]=(0,o.useState)(null),[T,L]=(0,o.useState)(!0),B=v.user?v.user.id:null,$=(0,o.useMemo)((()=>f.v0 in I.preferences&&I.preferences[f.v0].value),[I.preferences]);return(0,o.useEffect)((()=>{$&&B&&d.Z.request({url:m.Z.GetUserLoyaltyPoints.url({id:v.user.id}),method:m.Z.GetUserLoyaltyPoints.method}).then((e=>{w(e.data.points),L(!1)})).catch((e=>{L(!1),A.Y.error(k.J,e),console.log(e)}))}),[B,$]),!$||!v.user||r&&r!==v.user.id?o.createElement(y.Z,null):T?o.createElement(O,null):o.createElement(U,Object.assign({className:C()(P.root,n)},_),o.createElement(a.Z,null,o.createElement(l.Z,{className:P.title},o.createElement(p.Z,{id:"ui.loyaltyProgramWidget.title",defaultMessage:"ui.loyaltyProgramWidget.title"}))),o.createElement(i.Z,{className:P.actions},o.createElement(l.Z,{className:P.points},o.createElement(u.Z,{size:"medium",component:"span",label:M}),o.createElement(p.Z,{id:"ui.loyaltyProgramWidget.points",defaultMessage:"ui.loyaltyProgramWidget.points"})),o.createElement(c.Z,{size:"small",variant:"outlined",className:P.discoverMore,component:h.Z,to:R.url(N.LOYALTY_ROUTE_NAME,{})},o.createElement(p.Z,{id:"ui.loyaltyProgramWidget.discover",defaultMessage:"ui.loyaltyProgramWidget.discover"}))))}},78518:(e,t,n)=>{n.d(t,{Z:()=>r,t:()=>o});var s=n(42980);const o=[s._V.REAL_NAME,s._V.DATE_OF_BIRTH,s._V.BIO,s._V.WEBSITE,s._V.DESCRIPTION],r=[s.K_.NOTIFICATION,s.K_.INTERACTION,s.K_.PRIVATE_MESSAGE]},42980:(e,t,n)=>{var s,o,r;n.d(t,{Bo:()=>r,K_:()=>o,_V:()=>s}),function(e){e.USERNAME="username",e.REAL_NAME="real_name",e.DATE_JOINED="date_joined",e.BIO="bio",e.LOCATION="location",e.DATE_OF_BIRTH="date_of_birth",e.DESCRIPTION="description",e.GENDER="gender",e.WEBSITE="website",e.TAGS="tags",e.SOCIAL_ASSOCIATIONS="social_associations"}(s||(s={})),function(e){e.NOTIFICATION="notification",e.INTERACTION="interaction",e.PRIVATE_MESSAGE="private_message"}(o||(o={})),function(e){e.GOOGLE="google",e.FACEBOOK="facebook",e.TWITTER="twitter",e.LINKEDIN="linkedin"}(r||(r={}))}}]);