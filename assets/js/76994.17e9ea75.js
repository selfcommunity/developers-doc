"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[76994],{98365:(e,t,s)=>{s.d(t,{Z:()=>g});var o=s(67294),a=s(74482),l=s(24243),n=s(24085),r=s(59219),i=s(96570),c=s(99960),u=s(69721),d=s(87620),m=s(68787);function g({id:e=null,category:t=null,cacheStrategy:s=r.n2.CACHE_FIRST}){const g=t?t.id:e,E=(0,m.LD)(),p=E.user?E.user.id:null,Z=(0,u.u5)(g),y=p?t:(0,i.Kd)(t,["followed"]),[f,N]=(0,o.useState)(s!==r.n2.NETWORK_ONLY?r.ZP.get(Z,y):null),[h,v]=(0,o.useState)(null),w=(0,o.useMemo)((()=>()=>l.Z.request({url:n.Z.Category.url({id:g}),method:n.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[g]);return(0,o.useEffect)((()=>{g&&(!f||f&&g!==f.id)&&w().then((e=>{const t=p?e:(0,i.Kd)(e,["followed"]);N(t),r.ZP.set(Z,t)})).catch((t=>{r.ZP.delete(Z),v(`Category with id ${e} not found`),c.Y.error(a.h,`Category with id ${e} not found`),c.Y.error(a.h,t.message)}))}),[g]),(0,d.F_)((()=>{if(t){const e=p?t:(0,i.Kd)(t,["followed"]);N(e),r.ZP.set(Z,e)}}),[t]),{scCategory:f,setSCCategory:N,error:h}}},34388:(e,t,s)=>{s.d(t,{Z:()=>g});var o=s(67294),a=s(90948),l=s(40506),n=s(24176),r=s(24540),i=s(12805),c=s(37024),u=s(45503);const d={root:`${u.B}-skeleton-root`},m=(0,a.ZP)(l.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(){return o.createElement(m,{className:d.root,sidebar:o.createElement(o.Fragment,null,o.createElement(n.Z,{sx:{mb:2}}),o.createElement(n.Z,{sx:{mb:2}}))},o.createElement(r.Z,null),Array.from({length:5}).map(((e,t)=>o.createElement(i.Z,{key:t,template:c.r.DETAIL}))))}},45503:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCUserFeedTemplate"},76994:(e,t,s)=>{s.d(t,{Z:()=>_});var o=s(67294),a=s(90948),l=s(24085),n=s(68787),r=s(45412),i=s(58069),c=s(43076),u=s(61504),d=s(5757),m=s(52693),g=s(12805),E=s(37024),p=s(93132),Z=s(34388),y=s(29628),f=s(94184),N=s.n(f),h=s(44012),v=s(20377),w=s(45503);const S={root:`${w.B}-root`},b=(0,a.ZP)(i.Z,{name:w.B,slot:"Root"})((()=>({}))),O=[{type:"widget",component:c.Z,componentProps:{},column:"right",position:0},{type:"widget",component:u.Z,componentProps:{},column:"right",position:1},{type:"widget",component:d.Z,componentProps:{},column:"right",position:2}];const _=function(e){const t=(0,y.Z)({props:e,name:w.B}),{id:s="user_feed",className:a,userId:i,user:c,widgets:u=O,FeedObjectProps:d={},FeedSidebarProps:f=null,FeedProps:_={}}=t,C=(0,n.LD)(),{enqueueSnackbar:L}=(0,v.Ds)(),{scUser:F}=(0,r.Z)({id:i,user:c}),R=(0,o.useRef)(),P=(0,o.useMemo)((()=>u.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:F?F.id:i})})))),[F,u]);return null===F?o.createElement(Z.Z,null):o.createElement(b,Object.assign({id:s,className:N()(S.root,a),ref:R,endpoint:Object.assign(Object.assign({},l.Z.UserFeed),{url:()=>l.Z.UserFeed.url({id:F.id})}),widgets:P,ItemComponent:m.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null}),itemIdGenerator:e=>e[e.type].id,ItemProps:d,ItemSkeleton:g.Z,ItemSkeletonProps:{template:E.r.PREVIEW}},C.user?{HeaderComponent:o.createElement(p.Z,{onSuccess:e=>{L(o.createElement(h.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};R&&R.current&&R.current.addFeedData(t,!0)}})}:{},{FeedSidebarProps:f},_))}},95475:(e,t,s)=>{s.d(t,{Z:()=>g});var o=s(67294),a=s(78462),l=s(90948),n=s(74808),r=s(63902),i=s(44267),c=s(97212),u=s(3928);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},m=(0,l.ZP)(r.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return o.createElement(m,Object.assign({className:d.root},e),o.createElement(i.Z,null,o.createElement(a.Z,{className:d.list},[...Array(4)].map(((e,t)=>o.createElement(c.ZP,{key:t},o.createElement(n.Z,{elevation:0})))))))}},3928:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCCategoriesSuggestionWidget"},74808:(e,t,s)=>{s.d(t,{Z:()=>m});var o=s(67294),a=s(90948),l=s(88078),n=s(2734),r=s(25662),i=s(115),c=s(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},d=(0,a.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function m(e){const t=(0,n.Z)();return o.createElement(d,Object.assign({className:u.root},e,{image:o.createElement(l.Z,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:o.createElement(l.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:o.createElement(l.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:o.createElement(r.Z,{size:"small",variant:"outlined",disabled:!0,className:u.button},o.createElement(l.Z,{animation:"wave",height:10,width:50,className:u.action}))}))}},40092:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCCategory"},42623:(e,t,s)=>{s.d(t,{Z:()=>S});var o=s(97582),a=s(67294),l=s(90948),n=s(87952),r=s(41538),i=s(98365),c=s(97265),u=s(12132),d=s(74808),m=s(75802),g=s(54490),E=s(86896),p=s(94184),Z=s.n(p),y=s(29628),f=s(75427),N=s(40092);const h=(0,g.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),v={root:`${N.B}-root`,categoryImage:`${N.B}-category-image`,title:`${N.B}-title`,actions:`${N.B}-actions`},w=(0,l.ZP)(f.Z,{name:N.B,slot:"Root"})((()=>({})));const S=function(e){const t=(0,y.Z)({props:e,name:N.B}),{categoryId:s=null,category:l=null,className:g=null,elevation:p,autoHide:f=!1,categoryFollowButtonProps:S={},showFollowers:b=!0,ButtonBaseProps:O=null}=t,_=(0,o._T)(t,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","ButtonBaseProps"]),C=(0,r.sy)(),{scCategory:L,setSCCategory:F}=(0,i.Z)({id:s,category:l}),R=(0,a.useMemo)((()=>O||{component:c.Z,to:C.url(u.CATEGORY_ROUTE_NAME,L)}),[O,C,L]),P=(0,E.Z)();return L?f?null:a.createElement(w,Object.assign({elevation:p,className:Z()(v.root,g),ButtonBaseProps:R,image:a.createElement(n.Z,{alt:L.name,src:L.image_medium,variant:"square",className:v.categoryImage}),primary:L.name,secondary:b?`${P.formatMessage(h.categoryFollowers,{total:L.followers_counter})}`:L.slogan,actions:a.createElement(m.Z,Object.assign({category:L},S))},_)):a.createElement(d.Z,{elevation:p})}},75802:(e,t,s)=>{s.d(t,{Z:()=>v});var o,a=s(97582),l=s(67294),n=s(90948),r=s(59219),i=s(99960),c=s(53704),u=s(68787),d=s(98365),m=s(75459),g=s(31812),E=s(44012),p=s(94184),Z=s.n(p),y=s(29628);!function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(o||(o={}));const f="SCCategoryFollowButton",N={root:`${f}-root`},h=(0,n.ZP)(g.Z,{name:f,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const v=function(e){const t=(0,y.Z)({props:e,name:f}),{className:s,categoryId:n,category:g,onFollow:p}=t,v=(0,a._T)(t,["className","categoryId","category","onFollow"]),w=(0,c.RM)(),S=(0,u.LD)(),b=S.managers.categories,O=S.user?S.user.id:null,{scCategory:_,setSCCategory:C}=(0,d.Z)({id:n,category:g,cacheStrategy:O?r.n2.CACHE_FIRST:r.n2.STALE_WHILE_REVALIDATE}),[L,F]=(0,l.useState)(null);return(0,l.useEffect)((()=>{O&&F(b.isFollowed(_))}),[O,b.isFollowed]),!_||_&&L&&_.auto_follow===o.FORCED?null:l.createElement(h,Object.assign({size:"small",variant:"outlined",onClick:()=>{S.user?b.follow(_).then((()=>{p&&p(_,!L)})).catch((e=>{i.Y.error(m.J,e)})):w.settings.handleAnonymousAction()},loading:S.user?null===L||b.isLoading(_):null,className:Z()(N.root,s)},v),L&&S.user?l.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):l.createElement(E.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},14459:(e,t,s)=>{s.d(t,{Z:()=>g});var o=s(67294),a=s(63902),l=s(78462),n=s(90948),r=s(50353),i=s(44267),c=s(97212),u=s(33584);const d={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},m=(0,n.ZP)(a.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return o.createElement(m,Object.assign({className:d.root},e),o.createElement(i.Z,null,o.createElement(l.Z,{className:d.list},[...Array(4)].map(((e,t)=>o.createElement(c.ZP,{key:t},o.createElement(r.Z,{elevation:0})))))))}},33584:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCCategoryTrendingUsersWidget"},24540:(e,t,s)=>{s.d(t,{Z:()=>m});var o=s(67294),a=s(90948),l=s(88078),n=s(44267),r=s(5616),i=s(63902),c=s(31717);const u={root:`${c.B}-skeleton-root`,content:`${c.B}-content`,input:`${c.B}-input`,avatar:`${c.B}-avatar`},d=(0,a.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function m(){return o.createElement(d,{className:u.root},o.createElement(n.Z,{className:u.content},o.createElement(r.Z,{className:u.input},o.createElement(l.Z,{animation:"wave",variant:"text"})),o.createElement(r.Z,{className:u.avatar},o.createElement(l.Z,{className:u.avatar,animation:"wave",variant:"circular"}))))}},31717:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCInlineComposerWidget"},93132:(e,t,s)=>{s.d(t,{Z:()=>R});var o=s(97582),a=s(67294),l=s(9774),n=s(53704),r=s(68787),i=s(41538),c=s(66380),u=s(85472),d=s(65580),m=s(97265),g=s(12132),E=s(44267),p=s(5616),Z=s(25662),y=s(87952),f=s(90948),N=s(44012),h=s(20377),v=s(63902),w=s(29628),S=s(91290),b=s(22461),O=s(70815),_=s(31717),C=s(54545);const L={root:`${_.B}-root`,content:`${_.B}-content`,input:`${_.B}-input`,avatar:`${_.B}-avatar`},F=(0,f.ZP)(v.Z,{name:_.B,slot:"Root"})((()=>({})));const R=function(e){const t=(0,w.Z)({props:e,name:_.B}),{mediaObjectTypes:s=[b.Z,O.Z],defaultValue:f,onSuccess:v=null,label:R,feedType:P=l.a.HOME}=t,T=(0,o._T)(t,["mediaObjectTypes","defaultValue","onSuccess","label","feedType"]),I=(0,n.RM)(),M=(0,r.LD)(),A=(0,i.sy)(),{enqueueSnackbar:U}=(0,h.Ds)(),j=(0,c.ko)(),x=(0,a.useMemo)((()=>j.preferences[u.Kq].value),[j.preferences]),[B,D]=(0,a.useState)(!1),k=(0,a.useCallback)((()=>{M.user?d.IT(M.user)?U(a.createElement(N.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):D(!0):I.settings.handleAnonymousAction()}),[M.user,I.settings]),$=(0,a.useCallback)((()=>{D(!1)}),[]);return!d.B2(M.user)&&x?a.createElement(C.Z,null):a.createElement(a.Fragment,null,a.createElement(F,Object.assign({className:L.root},T),a.createElement(E.Z,{className:L.content},a.createElement(p.Z,{className:L.input},a.createElement(Z.Z,{variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:k,fullWidth:!0,color:"inherit"},null!=R?R:a.createElement(N.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"}))),a.createElement(p.Z,{className:L.avatar},M.user?a.createElement(m.Z,{to:A.url(g.USER_PROFILE_ROUTE_NAME,M.user)},a.createElement(y.Z,{alt:M.user.username,variant:"circular",src:M.user.avatar})):a.createElement(y.Z,{variant:"circular"})))),a.createElement(S.Z,{open:B,mediaObjectTypes:s,defaultValue:f,fullWidth:!0,onClose:$,onSuccess:e=>{v?v(e):U(a.createElement(N.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),D(!1)},feedType:P}))}},43076:(e,t,s)=>{s.d(t,{Z:()=>B});var o=s(97582),a=s(67294),l=s(90948),n=s(78462),r=s(44267),i=s(15861),c=s(97212),u=s(25662),d=s(49877),m=s(59219),g=s(99960),E=s(5840),p=s(68787),Z=s(66380),y=s(85472),f=s(69721),N=s(15927),h=s(42623),v=s(74808),w=s(75459),S=s(44012),b=s(95475);const O="SCUserFollowedCategoriesWidgetSkeleton",_={root:`${O}-skeleton-root`},C=(0,l.ZP)(b.Z,{name:O,slot:"SkeletonRoot"})((()=>({})));function L(e){return a.createElement(C,Object.assign({className:_.root},e))}var F=s(94184),R=s.n(F),P=s(39154),T=s(63902),I=s(29628),M=s(54545);const A="SCUserCategoriesFollowedWidget",U={root:`${A}-root`,title:`${A}-title`,noResults:`${A}-no-results`,showMore:`${A}-show-more`,dialogRoot:`${A}-dialog-root`,endMessage:`${A}-end-message`},j=(0,l.ZP)(T.Z,{name:A,slot:"Root"})((()=>({}))),x=(0,l.ZP)(P.Z,{name:A,slot:"DialogRoot"})((()=>({})));const B=function(e){const t=(0,I.Z)({props:e,name:A}),{userId:s,autoHide:l,limit:b=3,className:O,CategoryProps:_={},cacheStrategy:C=m.n2.NETWORK_ONLY,onHeightChange:F,onStateChange:P,DialogProps:T={}}=t,B=(0,o._T)(t,["userId","autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),D=(0,p.LD)(),k=(0,a.useMemo)((()=>D.user&&s===D.user.id),[D.user,s]),$=(0,a.useContext)(Z.Tt),W=(0,a.useMemo)((()=>y.Ao in $.preferences&&$.preferences[y.Ao].value),[$]),[K,z]=(0,a.useReducer)(N.Xi,{isLoadingNext:!1,next:null,cacheKey:f.hu(f.X5,s),cacheStrategy:C},N.Mv),[X,H]=(0,a.useState)(!1),Y=(0,a.useMemo)((()=>()=>{K.initialized||K.isLoadingNext||d.Z.getUserFollowedCategories(s,null).then((e=>{z({type:N.dK.LOAD_NEXT_SUCCESS,payload:{count:e.length,results:e,initialized:!0}})})).catch((e=>{z({type:N.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),g.Y.error(w.J,e)}))}),[K.isLoadingNext,K.initialized,s,z]);(0,a.useEffect)((()=>{var e;let t;if((W||!W&&(null===(e=D.user)||void 0===e?void 0:e.id))&&(0,E.U)(s)&&void 0!==D.user)return t=setTimeout(Y),()=>{t&&clearTimeout(t)}}),[D.user,W,s]),(0,a.useEffect)((()=>{F&&F()}),[K.results.length]),(0,a.useEffect)((()=>{(W||D.user)&&(0,E.U)(s)&&C===m.n2.NETWORK_ONLY&&P&&P({cacheStrategy:m.n2.CACHE_FIRST})}),[W,C,D.user,s]);const G=e=>{if(k){const t=[...K.results],s=t.findIndex((t=>t.id===e.id));-1!==s&&(e.followed?(t[s].followers_counter=e.followers_counter-1,t[s].followed=!e.followed):(t[s].followers_counter=e.followers_counter+1,t[s].followed=!e.followed),z({type:N.dK.SET_RESULTS,payload:{results:t}}))}},V=()=>{H((e=>!e))};if(l&&!K.count&&K.initialized||!s)return a.createElement(M.Z,null);if(!K.initialized)return a.createElement(L,null);const q=a.createElement(r.Z,null,a.createElement(i.Z,{className:U.title,variant:"h5"},a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:k?K.results.filter((e=>e.followed)).length:K.count}})),K.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,K.results.slice(0,b).map((e=>a.createElement(c.ZP,{key:e.id},a.createElement(h.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:G}},_)))))),b<K.count&&a.createElement(u.Z,{className:U.showMore,onClick:V},a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.button.showAll",defaultMessage:"ui.userFollowedCategoriesWidget.button.showAll"})),X&&a.createElement(x,Object.assign({className:U.dialogRoot,title:a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:K.count}}),onClose:V,open:X,scroll:"paper"},T),a.createElement(n.Z,null,K.results.map((e=>a.createElement(c.ZP,{key:e.id},a.createElement(h.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:G}},_))))),K.isLoadingNext&&a.createElement(c.ZP,null,a.createElement(v.Z,Object.assign({elevation:0},_)))),a.createElement(i.Z,{className:U.endMessage},a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.noMoreResults",defaultMessage:"ui.userFollowedCategoriesWidget.noMoreResults"})))):a.createElement(i.Z,{className:U.noResults,variant:"body2"},a.createElement(S.Z,{id:"ui.userFollowedCategoriesWidget.subtitle.noResults",defaultMessage:"ui.userFollowedCategoriesWidget.subtitle.noResults"})));return a.createElement(j,Object.assign({className:R()(U.root,O)},B),q)}},61504:(e,t,s)=>{s.d(t,{Z:()=>K});var o=s(97582),a=s(67294),l=s(90948),n=s(78462),r=s(2734),i=s(61730),c=s(44267),u=s(15861),d=s(97212),m=s(25662),g=s(63902),E=s(49877),p=s(24243),Z=s(24085),y=s(59219),f=s(5840),N=s(99960),h=s(69721),v=s(68787),w=s(66380),S=s(45412),b=s(85472),O=s(14459);const _="SCUserFollowedUsersWidget",C={root:`${_}-skeleton-root`},L=(0,l.ZP)(O.Z,{name:_,slot:"SkeletonRoot"})((()=>({})));function F(e){return a.createElement(L,Object.assign({className:C.root},e))}var R=s(37089),P=s(50353),T=s(44012),I=s(94184),M=s.n(I),A=s(75459),U=s(39154),j=s(79558),x=s(29628),B=s(54545),D=s(15927);const k={root:`${_}-root`,title:`${_}-title`,noResults:`${_}-no-results`,showMore:`${_}-show-more`,dialogRoot:`${_}-dialog-root`,endMessage:`${_}-end-message`},$=(0,l.ZP)(g.Z,{name:_,slot:"Root"})((()=>({}))),W=(0,l.ZP)(U.Z,{name:_,slot:"DialogRoot"})((()=>({})));const K=function(e){const t=(0,x.Z)({props:e,name:_}),{userId:s,user:l,autoHide:g=!1,limit:O=3,className:C,UserProps:L={},cacheStrategy:I=y.n2.NETWORK_ONLY,onHeightChange:U,onStateChange:K,DialogProps:z={}}=t,X=(0,o._T)(t,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,Y]=(0,a.useReducer)(D.Xi,{isLoadingNext:!1,next:null,cacheKey:h.hu(h.Nj,(0,f.U)(s)?s:l.id),cacheStrategy:I,visibleItems:O},D.Mv),[G,V]=(0,a.useState)(!1),q=(0,v.LD)(),J=(0,w.ko)(),{scUser:Q,refresh:ee}=(0,S.Z)({id:s,user:l}),te=(0,a.useMemo)((()=>q.user&&(null==Q?void 0:Q.id)===q.user.id),[q.user,Q]),se=(0,a.useMemo)((()=>b.Ao in J.preferences&&J.preferences[b.Ao].value),[J.preferences]),oe=(0,a.useMemo)((()=>b.$0 in J.preferences&&J.preferences[b.$0].value),[J.preferences]),ae=(0,r.Z)(),le=(0,i.Z)(ae.breakpoints.down("md")),ne=(0,a.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(Y({type:D.dK.LOADING_NEXT}),E.Z.getUserFollowings(Q.id,{limit:O}).then((e=>{Y({type:D.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{Y({type:D.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(A.J,e)})))}),[H.isLoadingNext,H.initialized,Q,O,Y]);(0,a.useEffect)((()=>{var e;let t;if((se||!se&&(null===(e=q.user)||void 0===e?void 0:e.id))&&oe&&Q&&void 0!==q.user)return t=setTimeout(ne),()=>{t&&clearTimeout(t)}}),[q.user,se,Q]),(0,a.useEffect)((()=>{G&&H.next&&H.results.length===O&&H.initialized&&(Y({type:D.dK.LOADING_NEXT}),E.Z.getUserFollowings(Q.id,{offset:O,limit:10}).then((e=>{Y({type:D.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{Y({type:D.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(A.J,e)})))}),[G,H.next,H.results.length,H.initialized,O]),(0,a.useEffect)((()=>{U&&U()}),[H.results]),(0,a.useEffect)((()=>{Q&&oe&&(se||q.user)&&I===y.n2.NETWORK_ONLY&&K&&K({cacheStrategy:y.n2.CACHE_FIRST})}),[q.user,Q,se]),(0,a.useEffect)((()=>{Q&&oe&&q.user&&H.initialized&&te&&ee().catch((()=>{}))}),[te,q.managers.followed.followed.length]);const re=(0,a.useMemo)((()=>()=>{Y({type:D.dK.LOADING_NEXT}),p.Z.request({url:H.next,method:Z.Z.UserFollowings.method}).then((e=>{Y({type:D.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[Y,H.next,H.isLoadingNext,H.initialized]),ie=()=>{V((e=>!e))};if(!oe||g&&!H.count&&H.initialized||!se&&!q.user||!Q)return a.createElement(B.Z,null);if(!H.initialized)return a.createElement(F,null);const ce=a.createElement(c.Z,null,a.createElement(u.Z,{className:k.title,variant:"h5"},a.createElement(T.Z,{id:"ui.userFollowedUsersWidget.title",defaultMessage:"ui.userFollowedUsersWidget.title",values:{total:Q.followings_counter}})),H.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,H.results.slice(0,H.visibleItems).map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(R.Z,Object.assign({elevation:0,user:e},L)))))),H.count>H.visibleItems&&a.createElement(m.Z,{className:k.showMore,onClick:ie},a.createElement(T.Z,{id:"ui.userFollowedUsersWidget.button.showAll",defaultMessage:"ui.userFollowedUsersWidget.button.showAll"}))):a.createElement(u.Z,{className:k.noResults,variant:"body2"},a.createElement(T.Z,{id:"ui.userFollowedUsersWidget.subtitle.noResults",defaultMessage:""})),G&&a.createElement(W,Object.assign({className:k.dialogRoot,title:a.createElement(T.Z,{defaultMessage:"ui.userFollowedUsersWidget.title",id:"ui.userFollowedUsersWidget.title",values:{total:Q.followings_counter}}),onClose:ie,open:G},z),a.createElement(j.Z,{dataLength:H.results.length,next:re,hasMoreNext:Boolean(H.next),loaderNext:a.createElement(P.Z,Object.assign({elevation:0},L)),height:le?"100%":400,endMessage:a.createElement(u.Z,{className:k.endMessage},a.createElement(T.Z,{id:"ui.userFollowedUsersWidget.noMoreResults",defaultMessage:"ui.userFollowedUsersWidget.noMoreResults"}))},a.createElement(n.Z,null,H.results.map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(R.Z,Object.assign({elevation:0,user:e},L)))))))));return a.createElement($,Object.assign({className:M()(k.root,C)},X),ce)}},5757:(e,t,s)=>{s.d(t,{Z:()=>K});var o=s(97582),a=s(67294),l=s(90948),n=s(78462),r=s(2734),i=s(61730),c=s(44267),u=s(15861),d=s(97212),m=s(25662),g=s(63902),E=s(49877),p=s(24243),Z=s(24085),y=s(59219),f=s(5840),N=s(99960),h=s(69721),v=s(68787),w=s(66380),S=s(45412),b=s(85472),O=s(15927),_=s(14459);const C="SCUserFollowersWidget",L={root:`${C}-skeleton-root`},F=(0,l.ZP)(_.Z,{name:C,slot:"SkeletonRoot"})((()=>({})));function R(e){return a.createElement(F,Object.assign({className:L.root},e))}var P=s(37089),T=s(50353),I=s(44012),M=s(94184),A=s.n(M),U=s(75459),j=s(39154),x=s(79558),B=s(29628),D=s(54545);const k={root:`${C}-root`,title:`${C}-title`,noResults:`${C}-no-results`,showMore:`${C}-show-more`,dialogRoot:`${C}-dialog-root`,endMessage:`${C}-end-message`},$=(0,l.ZP)(g.Z,{name:C,slot:"Root"})((()=>({}))),W=(0,l.ZP)(j.Z,{name:C,slot:"DialogRoot"})((()=>({})));const K=function(e){const t=(0,B.Z)({props:e,name:C}),{userId:s,user:l,autoHide:g=!1,limit:_=3,className:L,UserProps:F={},cacheStrategy:M=y.n2.NETWORK_ONLY,onHeightChange:j,onStateChange:K,DialogProps:z={}}=t,X=(0,o._T)(t,["userId","user","autoHide","limit","className","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,Y]=(0,a.useReducer)(O.Xi,{isLoadingNext:!1,next:null,cacheKey:h.hu(h.I$,(0,f.U)(s)?s:l.id),cacheStrategy:M,visibleItems:_},O.Mv),[G,V]=(0,a.useState)(!1),q=(0,v.LD)(),J=(0,w.ko)(),{scUser:Q,refresh:ee}=(0,S.Z)({id:s,user:l}),te=(0,a.useMemo)((()=>q.user&&(null==Q?void 0:Q.id)===q.user.id),[q.user,Q]),se=(0,a.useMemo)((()=>b.Ao in J.preferences&&J.preferences[b.Ao].value),[J.preferences]),oe=(0,a.useMemo)((()=>b.$0 in J.preferences&&J.preferences[b.$0].value),[J.preferences]),ae=(0,r.Z)(),le=(0,i.Z)(ae.breakpoints.down("md")),ne=(0,a.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(Y({type:O.dK.LOADING_NEXT}),E.Z.getUserFollowers(Q.id,{limit:_}).then((e=>{Y({type:O.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{Y({type:O.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(U.J,e)})))}),[H.isLoadingNext,H.initialized,Q,_,Y]);(0,a.useEffect)((()=>{var e;let t;if((se||!se&&(null===(e=q.user)||void 0===e?void 0:e.id))&&oe&&Q&&void 0!==q.user)return t=setTimeout(ne),()=>{t&&clearTimeout(t)}}),[q.user,se,Q]),(0,a.useEffect)((()=>{G&&H.next&&H.results.length===_&&H.initialized&&(Y({type:O.dK.LOADING_NEXT}),E.Z.getUserFollowers(Q.id,{offset:_,limit:10}).then((e=>{Y({type:O.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{Y({type:O.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),N.Y.error(U.J,e)})))}),[G,H.next,H.results.length,H.initialized,_]),(0,a.useEffect)((()=>{j&&j()}),[H.results]),(0,a.useEffect)((()=>{Q&&oe&&(se||q.user)&&M===y.n2.NETWORK_ONLY&&K&&K({cacheStrategy:y.n2.CACHE_FIRST})}),[q.user,Q,se]),(0,a.useEffect)((()=>{Q&&oe&&q.user&&H.initialized&&!te&&ee().catch((()=>{}))}),[te,q.managers.followed.followed.length]);const re=(0,a.useMemo)((()=>()=>{Y({type:O.dK.LOADING_NEXT}),p.Z.request({url:H.next,method:Z.Z.UserFollowers.method}).then((e=>{Y({type:O.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[Y,H.next,H.isLoadingNext,H.initialized]),ie=()=>{V((e=>!e))};if(!oe||g&&!H.count&&H.initialized||!se&&!q.user||!Q)return a.createElement(D.Z,null);if(!H.initialized)return a.createElement(R,null);const ce=a.createElement(c.Z,null,a.createElement(u.Z,{className:k.title,variant:"h5"},a.createElement(I.Z,{id:"ui.userFollowersWidget.title",defaultMessage:"ui.userFollowersWidget.title",values:{total:Q.followers_counter}})),H.count?a.createElement(a.Fragment,null,a.createElement(n.Z,null,H.results.slice(0,H.visibleItems).map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(P.Z,Object.assign({elevation:0,user:e},F)))))),H.count>H.visibleItems&&a.createElement(m.Z,{className:k.showMore,onClick:ie},a.createElement(I.Z,{id:"ui.userFollowersWidget.button.showAll",defaultMessage:"ui.userFollowersWidget.button.showAll"}))):a.createElement(u.Z,{className:k.noResults,variant:"body2"},a.createElement(I.Z,{id:"ui.userFollowersWidget.subtitle.noResults",defaultMessage:""})),G&&a.createElement(W,Object.assign({className:k.dialogRoot,title:a.createElement(I.Z,{defaultMessage:"ui.userFollowersWidget.title",id:"ui.userFollowersWidget.title",values:{total:Q.followers_counter}}),onClose:ie,open:G},z),a.createElement(x.Z,{dataLength:H.results.length,next:re,hasMoreNext:Boolean(H.next),loaderNext:a.createElement(T.Z,Object.assign({elevation:0},F)),height:le?"100%":400,endMessage:a.createElement(u.Z,{className:k.endMessage},a.createElement(I.Z,{id:"ui.userFollowersWidget.noMoreResults",defaultMessage:"ui.userFollowersWidget.noMoreResults"}))},a.createElement(n.Z,null,H.results.map((e=>a.createElement(d.ZP,{key:e.id},a.createElement(P.Z,Object.assign({elevation:0,user:e},F)))))))));return a.createElement($,Object.assign({className:A()(k.root,L)},X),ce)}},15927:(e,t,s)=>{s.d(t,{Mv:()=>n,Xi:()=>l,dK:()=>a});var o=s(59219);const a={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function l(e,t){var s;let l=Object.assign({},e);switch(t.type){case a.LOADING_NEXT:l=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case a.LOADING_PREVIOUS:l=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case a.LOAD_NEXT_SUCCESS:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(s=t.payload)||void 0===s?void 0:s.initialized)||!0});break;case a.LOAD_PREVIOUS_SUCCESS:l=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case a.SET_RESULTS:l=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case a.SET_VISIBLE_ITEMS:l=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case a.LOAD_NEXT_FAILURE:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case a.LOAD_PREVIOUS_FAILURE:l=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case a.RESET:l={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return o.ZP.set(l.cacheKey,l),l}function n(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&o.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==o.n2.NETWORK_ONLY){const e=o.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},5840:(e,t,s)=>{function o(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}s.d(t,{U:()=>o})}}]);