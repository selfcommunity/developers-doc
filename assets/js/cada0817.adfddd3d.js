/*! For license information please see cada0817.adfddd3d.js.LICENSE.txt */
(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[56470],{2501:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(96540);function r({controlled:e,default:t,name:n,state:r="value"}){const{current:s}=o.useRef(void 0!==e),[i,a]=o.useState(t);return[s?e:i,o.useCallback((e=>{s||a(e)}),[])]}},2778:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o=n(21529).A},13004:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var o=n(96540),r=n(45384),s=n(46916);function i(e,t){void 0===e&&(e=""),void 0===t&&(t={});const n=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:n})}function a(){if((0,s.A)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:r.F.user.client_id,grant_type:"refresh_token"};return i(`${r.F.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function c(){const e=(0,s.A)(),[t,n]=(0,o.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,o.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?i(`${r.F.portal}/oauth/token/`,r.F.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{n(e)})):e&&n(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,o.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var l=n(45284),u=n(15227),d=n(7351),m=n(74848);function f(e){let{children:t}=e;const n=c(),o={portal:r.F.portal,locale:{default:"en"},session:{type:"OAuth",clientId:r.F.user.client_id,authToken:n,handleRefreshToken:a},theme:u.Ay,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,m.jsx)(d.A,{children:()=>(0,m.jsx)(l.Ay,{conf:o,children:t})})}},15906:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});const o="@selfcommunity/react-ui"},19546:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)o.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},30332:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var o=n(59703),r=n(96540),s=n(85486),i=n(54533),a=n(75659),c=n(28466),l=n(25669),u=n(11848),d=n(38413),m=n(31609);function f(e){return(0,m.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(74848);const h=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,c.A)(n.color)}`],t[`fontSize${(0,c.A)(n.fontSize)}`]]}})((({theme:e,ownerState:t})=>{var n,o,r,s,i,a,c,l,u,d,m,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(n=e.transitions)||null==(o=n.create)?void 0:o.call(n,"fill",{duration:null==(r=e.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(s=e.typography)||null==(i=s.pxToRem)?void 0:i.call(s,20))||"1.25rem",medium:(null==(a=e.typography)||null==(c=a.pxToRem)?void 0:c.call(a,24))||"1.5rem",large:(null==(l=e.typography)||null==(u=l.pxToRem)?void 0:u.call(l,35))||"2.1875rem"}[t.fontSize],color:null!=(d=null==(m=(e.vars||e).palette)||null==(m=m[t.color])?void 0:m.main)?d:{action:null==(f=(e.vars||e).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(p=(e.vars||e).palette)||null==(p=p.action)?void 0:p.disabled,inherit:void 0}[t.color]}})),A=r.forwardRef((function(e,t){const n=(0,l.b)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:m="inherit",component:A="svg",fontSize:v="medium",htmlColor:y,inheritViewBox:x=!1,titleAccess:b,viewBox:j="0 0 24 24"}=n,k=(0,s.A)(n,h),S=r.isValidElement(u)&&"svg"===u.type,C=(0,o.A)({},n,{color:m,component:A,fontSize:v,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:j,hasSvgAsChild:S}),w={};x||(w.viewBox=j);const N=(e=>{const{color:t,fontSize:n,classes:o}=e,r={root:["root","inherit"!==t&&`color${(0,c.A)(t)}`,`fontSize${(0,c.A)(n)}`]};return(0,a.A)(r,f,o)})(C);return(0,p.jsxs)(g,(0,o.A)({as:A,className:(0,i.A)(N.root,d),focusable:"false",color:y,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:t},w,k,S&&u.props,{ownerState:C,children:[S?u.props.children:u,b?(0,p.jsx)("title",{children:b}):null]}))}));A.muiName="SvgIcon";const v=A;function y(e,t){function n(n,r){return(0,p.jsx)(v,(0,o.A)({"data-testid":`${t}Icon`,ref:r},n,{children:e}))}return n.muiName=v.muiName,r.memo(r.forwardRef(n))}},32850:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o=n(96540).createContext({})},37094:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(96540);const r=function(e,t){var n,r;return o.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)}},37273:(e,t,n)=>{"use strict";function o(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=o(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}n.d(t,{A:()=>r});const r=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r}},41159:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o=n(2501).A},43586:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>f,frontMatter:()=>c,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"sdk/community-js/react-ui/Components/AccountDelete","title":"Account Delete","description":"The Account Delete component allows users to display the logic behind user deletion.","source":"@site/docs/sdk/community-js/react-ui/Components/AccountDelete.mdx","sourceDirName":"sdk/community-js/react-ui/Components","slug":"/sdk/community-js/react-ui/Components/AccountDelete","permalink":"/docs/sdk/community-js/react-ui/Components/AccountDelete","draft":false,"unlisted":false,"editUrl":"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/AccountDelete.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Account Delete","sidebar_position":1,"title":"Account Delete"},"sidebar":"sdkSidebar","previous":{"title":"Account Data Portability","permalink":"/docs/sdk/community-js/react-ui/Components/AccountDataPortability"},"next":{"title":"Account Recover","permalink":"/docs/sdk/community-js/react-ui/Components/AccountRecover"}}');var r=n(74848),s=n(28453),i=n(13004),a=n(53593);const c={sidebar_label:"Account Delete",sidebar_position:1,title:"Account Delete"},l=void 0,u={},d=[{value:"Usage",id:"usage",level:4}];function m(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.blockquote,{children:["\n",(0,r.jsxs)(t.p,{children:["The Account Delete component allows users to display the logic behind user deletion.",(0,r.jsx)("br",{}),"\nThis component is composed of a list containing the instructions for deleting the account, a form in which to enter the email and a button for sending the request."]}),"\n"]}),"\n","\n",(0,r.jsx)(i.A,{children:(0,r.jsx)(a.A,{sx:{pointerEvents:"none"}})}),"\n",(0,r.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {AccountDelete} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><AccountDelete /></SCContextProvider>\n   );\n }\n"})})]})}function f(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},45384:(e,t,n)=>{"use strict";n.d(t,{F:()=>o});const o={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://internal.selfcommunity.io/mkg2zxd0"}},53593:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var o=n(31635),r=n(74848),s=n(96540),i=n(66848),a=n(11848),c=n(67733),l=n(47859),u=n(43581),d=n(19546),m=n.n(d),f=n(72081),p=n(94520),h=n(2877),g=n(75753),A=n(3338),v=n(15906),y=n(6442),x=n(58065),b=n(6279);const j="SCAccountDelete",k={root:`${j}-root`,message:`${j}-message`,confirm:`${j}-confirm`,button:`${j}-button`},S=(0,a.Ay)(c.A,{name:j,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({})));const C=function(e){const t=(0,i.A)({props:e,name:j}),{className:n="",onLogout:a,onDeleteAccount:d}=t,C=(0,o.__rest)(t,["className","onLogout","onDeleteAccount"]),w=(0,h.X1)(),N=(0,g.Sw)(),E=(0,s.useMemo)((()=>N.preferences&&A.pL in N.preferences?N.preferences[A.pL].value:null),[N.preferences]),[D,_]=(0,s.useState)(!1),[T,M]=(0,s.useState)(null),[R,I]=(0,s.useState)(""),z=w.user?w.user.id:null,O=(0,y.A)(),F=(0,s.useCallback)((()=>{_(!0),M(null),f.A.userDelete(w.user.id,0).then((()=>{_(!1),d&&d(w.user),P()})).catch((e=>{M(O.formatMessage({id:"ui.common.error.action",defaultMessage:"ui.common.error.action"})),p.V.error(v.d,e)})).then((()=>_(!1)))}),[_,M,d]),P=(0,s.useCallback)((()=>{w.logout(),a&&a()}),[w.logout,a]),$=(0,s.useCallback)((e=>I(e.target.value)),[I]);return z?(0,r.jsxs)(S,Object.assign({className:m()(k.root,n)},C,{children:[(0,r.jsx)(l.A,Object.assign({className:k.message,component:c.A},{children:(0,r.jsx)(x.A,{id:"ui.accountDelete.message",defaultMessage:"ui.accountDelete.message",values:{communityName:E,li:e=>(0,r.jsx)("li",{children:e}),ul:e=>(0,r.jsx)("ul",{children:e})}})})),(0,r.jsxs)(l.A,Object.assign({className:k.confirm,component:c.A},{children:[(0,r.jsx)(x.A,{id:"ui.accountDelete.confirmMessage",defaultMessage:"ui.accountDelete.confirmMessage",values:{username:w.user.username,b:e=>(0,r.jsx)("b",{children:e})}}),(0,r.jsx)(u.A,{name:"confirm",value:R,onChange:$,autoComplete:"off",size:"small"})]})),T&&(0,r.jsx)(l.A,Object.assign({color:"error"},{children:T})),(0,r.jsx)(b.A,Object.assign({className:k.button,size:"small",disabled:D||R!==w.user.username,variant:"outlined",onClick:F},{children:(0,r.jsx)(x.A,{id:"ui.accountDelete.buttonLabel",defaultMessage:"ui.accountDelete.buttonLabel"})}))]})):null}},58065:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(16404),r=n(96540),s=n(6442),i=n(24184);function a(e){var t=(0,s.A)(),n=t.formatMessage,o=t.textComponent,i=void 0===o?r.Fragment:o,a=e.id,c=e.description,l=e.defaultMessage,u=e.values,d=e.children,m=e.tagName,f=void 0===m?i:m,p=n({id:a,description:c,defaultMessage:l},u,{ignoreTag:e.ignoreTag});return"function"==typeof d?d(Array.isArray(p)?p:[p]):f?r.createElement(f,null,r.Children.toArray(p)):r.createElement(r.Fragment,null,p)}a.displayName="FormattedMessage";var c=r.memo(a,(function(e,t){var n=e.values,r=(0,o.Tt)(e,["values"]),s=t.values,a=(0,o.Tt)(t,["values"]);return(0,i.bN)(s,n)&&(0,i.bN)(r,a)}));c.displayName="MemoizedFormattedMessage";const l=c},67733:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var o=n(78739),r=n(96554),s=n(96540),i=n(37273),a=n(79343),c=n(33571),l=n(39599),u=n(82858),d=n(74848);const m=["className","component"];var f=n(79071),p=n(21789),h=n(58312);const g=(0,n(38413).A)("MuiBox",["root"]),A=(0,p.A)(),v=function(e={}){const{themeId:t,defaultTheme:n,defaultClassName:f="MuiBox-root",generateClassName:p}=e,h=(0,a.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(c.A);return s.forwardRef((function(e,s){const a=(0,u.A)(n),c=(0,l.A)(e),{className:g,component:A="div"}=c,v=(0,r.A)(c,m);return(0,d.jsx)(h,(0,o.A)({as:A,ref:s,className:(0,i.A)(g,p?p(f):f),theme:t&&a[t]||a},v))}))}({themeId:h.A,defaultTheme:A,defaultClassName:g.root,generateClassName:f.A.generate}),y=v},87467:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var o=n(59703),r=n(85486),s=n(96540),i=n(27598),a=n(57223),c=n(65670),l=n(44675),u=n(35186),d=n(96852),m=n(74848);const f=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function p(e){return`scale(${e}, ${e**2})`}const h={entering:{opacity:1,transform:p(1)},entered:{opacity:1,transform:"none"}},g="undefined"!=typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),A=s.forwardRef((function(e,t){const{addEndListener:n,appear:A=!0,children:v,easing:y,in:x,onEnter:b,onEntered:j,onEntering:k,onExit:S,onExited:C,onExiting:w,style:N,timeout:E="auto",TransitionComponent:D=c.Ay}=e,_=(0,r.A)(e,f),T=(0,i.A)(),M=s.useRef(),R=(0,l.A)(),I=s.useRef(null),z=(0,d.A)(I,(0,a.A)(v),t),O=e=>t=>{if(e){const n=I.current;void 0===t?e(n):e(n,t)}},F=O(k),P=O(((e,t)=>{(0,u.q)(e);const{duration:n,delay:o,easing:r}=(0,u.c)({style:N,timeout:E,easing:y},{mode:"enter"});let s;"auto"===E?(s=R.transitions.getAutoHeightDuration(e.clientHeight),M.current=s):s=n,e.style.transition=[R.transitions.create("opacity",{duration:s,delay:o}),R.transitions.create("transform",{duration:g?s:.666*s,delay:o,easing:r})].join(","),b&&b(e,t)})),$=O(j),B=O(w),L=O((e=>{const{duration:t,delay:n,easing:o}=(0,u.c)({style:N,timeout:E,easing:y},{mode:"exit"});let r;"auto"===E?(r=R.transitions.getAutoHeightDuration(e.clientHeight),M.current=r):r=t,e.style.transition=[R.transitions.create("opacity",{duration:r,delay:n}),R.transitions.create("transform",{duration:g?r:.666*r,delay:g?n:n||.333*r,easing:o})].join(","),e.style.opacity=0,e.style.transform=p(.75),S&&S(e)})),q=O(C);return(0,m.jsx)(D,(0,o.A)({appear:A,in:x,nodeRef:I,onEnter:P,onEntered:$,onEntering:F,onExit:L,onExited:q,onExiting:B,addEndListener:e=>{"auto"===E&&T.start(M.current||0,e),n&&n(I.current,e)},timeout:"auto"===E?null:E},_,{children:(e,t)=>s.cloneElement(v,(0,o.A)({style:(0,o.A)({opacity:0,transform:p(.75),visibility:"exited"!==e||x?void 0:"hidden"},h[e],N,v.props.style),ref:z},t))}))}));A.muiSupportAuto=!0;const v=A}}]);