"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[16799],{16799:(e,s,o)=>{o.d(s,{A:()=>S});var n=o(31635),t=o(74848),r=o(11848),a=o(42942),i=o(9569),u=o(27365),l=o(44744),c=o(79197),d=o(3338),m=o(47265),f=o(20411),g=o(75753),h=o(3341),A=o(88352),p=o(19546),v=o.n(p),j=o(96540),w=o(27885),C=o(6442),U=o(58065),b=o(41992),x=o(89333),B=o(91765),E=o(76709),N=o(87891),T=o(41219);const _=(0,w.YK)({userFollowers:{id:"ui.user.userFollowers",defaultMessage:"ui.user.userFollowers"}}),k={root:`${N.H}-root`,avatar:`${N.H}-avatar`,staffBadgeLabel:`${N.H}-staff-badge-label`,groupAdminBadgeLabel:`${N.H}-group-admin-badge-label`},M=(0,r.Ay)(b.A,{name:N.H,slot:"Root",overridesResolver:(e,s)=>s.root})((({theme:e})=>({}))),O=[d.T7,d.Ep];const S=function(e){const s=(0,c.A)({props:e,name:N.H}),{userId:o=null,user:r=null,handleIgnoreAction:p,className:w=null,followConnectUserButtonProps:b={},showFollowers:S=!1,elevation:y,badgeContent:R=null,actions:F=null,isGroupAdmin:$=!1,buttonProps:H=null,secondary:I=null}=s,D=(0,n.__rest)(s,["userId","user","handleIgnoreAction","className","followConnectUserButtonProps","showFollowers","elevation","badgeContent","actions","isGroupAdmin","buttonProps","secondary"]),{scUser:q}=(0,m.A)({id:o,user:r}),P=(0,f.I$)(),z=(0,g.Sw)(),L=(0,j.useMemo)((()=>{const e={};return O.map((s=>e[s]=s in z.preferences?z.preferences[s].value:null)),e}),[z.preferences]),V=q&&q.community_badge,[K,Q]=(0,j.useState)(!1),G=(0,C.A)();return q?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(M,Object.assign({elevation:y},D,{className:v()(k.root,w),ButtonBaseProps:null!=H?H:q.deleted?{onClick:()=>Q(!0)}:{component:h.A,to:P.url(A.USER_PROFILE_ROUTE_NAME,q)},image:R?(0,t.jsx)(i.A,Object.assign({overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},badgeContent:R},{children:(0,t.jsx)(u.A,{alt:q.username,src:q.avatar,className:k.avatar})})):(0,t.jsx)(x.A,Object.assign({hide:!V},{children:(0,t.jsx)(u.A,{alt:q.username,src:q.avatar,className:k.avatar})})),primary:V&&L||$?(0,t.jsxs)(t.Fragment,{children:[q.username,(0,t.jsx)(l.A,{component:"span",className:$?k.groupAdminBadgeLabel:k.staffBadgeLabel,size:"small",label:$?(0,t.jsx)(U.A,{defaultMessage:"ui.user.group.admin",id:"ui.user.group.admin"}):L[d.T7]})]}):q.username,secondary:I||(S?`${G.formatMessage(_.userFollowers,{total:q.followers_counter})}`:q.description),actions:null!=F?F:(0,t.jsxs)(j.Fragment,{children:[p&&(0,t.jsx)(a.A,Object.assign({size:"small",onClick:p},{children:(0,t.jsx)(U.A,{defaultMessage:"ui.user.ignore",id:"ui.user.ignore"})})),(0,t.jsx)(E.A,Object.assign({user:q},b))]})})),K&&(0,t.jsx)(B.A,{open:K,handleClose:()=>Q(!1)})]}):(0,t.jsx)(T.A,{elevation:y})}},37978:(e,s,o)=>{o.d(s,{c:()=>r});var n=o(74848),t=o(58065);function r(e,s,o){let r=!1;return e&&e.response&&e.response&&e.response.status&&403===e.response.status&&(o(s?(0,n.jsx)(t.A,{id:"ui.common.actionToUserBlockedByMe",defaultMessage:"ui.common.actionToUserBlockedByMe"}):(0,n.jsx)(t.A,{id:"ui.common.actionToUserHasBlockedMe",defaultMessage:"ui.common.actionToUserHasBlockedMe"}),{variant:"warning",autoHideDuration:3e3}),r=!0),r}},41219:(e,s,o)=>{o.d(s,{A:()=>m});var n=o(74848),t=o(11848),r=o(44675),a=o(73785),i=o(42942),u=o(52959),l=o(87891);const c={root:`${l.H}-skeleton-root`},d=(0,t.Ay)(u.A,{name:l.H,slot:"SkeletonRoot"})((()=>({})));function m(e){const s=(0,r.A)();return(0,n.jsx)(d,Object.assign({className:c.root},e,{image:(0,n.jsx)(a.A,{animation:"wave",variant:"circular",width:s.selfcommunity.user.avatar.sizeMedium,height:s.selfcommunity.user.avatar.sizeMedium}),primary:(0,n.jsx)(a.A,{animation:"wave",height:10,width:120,style:{marginBottom:10}}),secondary:(0,n.jsx)(a.A,{animation:"wave",height:10,width:70,style:{marginBottom:10}}),actions:(0,n.jsx)(i.A,Object.assign({size:"small",variant:"outlined",disabled:!0},{children:(0,n.jsx)(a.A,{animation:"wave",height:10,width:30,style:{marginTop:5,marginBottom:5}})}))}))}},44817:(e,s,o)=>{o.d(s,{Cy:()=>d,K$:()=>c,Xl:()=>f,lT:()=>g,qc:()=>l,sb:()=>m});var n=o(33439);const t="admin",r="moderator",a="editor",i=1;function u(e){if(e&&e.role){const s=e.role;if(s===t)return t;if(s===r)return r;if(s===a)return a}return null}function l(e){return u(e)===t}function c(e){return e&&e.id===i}function d(e){return u(e)===r}function m(e){return u(e)===a}function f(e){return l(e)||d(e)||m(e)}function g(e){return e&&e.status&&e.status===n.O.BLOCKED}},47265:(e,s,o)=>{o.d(s,{A:()=>c});var n=o(96540),t=o(42269),r=o(13550),a=o(29368),i=o(27375),u=o(94520),l=o(2877);function c({id:e=null,user:s=null}){const o=(0,l.X1)(),c=o.user?o.user.id:null,d=(0,n.useMemo)((()=>c?s:(0,i.$i)(s,["connection_status"])),[s]),[m,f]=(0,n.useState)(d),[g,h]=(0,n.useState)(null),[A,p]=(0,n.useState)(!1),v=(0,n.useMemo)((()=>()=>r.A.request({url:a.A.User.url({id:s?s.id:e}),method:a.A.User.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[e,s]),j=(0,n.useMemo)((()=>()=>A?Promise.reject():(p(!0),v().then((e=>{p(!1),f(c?e:(0,i.$i)(e,["connection_status"]))})).catch((s=>{p(!1),h(`Unable to refresh user with id ${e}`),u.V.error(t.K,`Unable to refresh user with id ${e}`),u.V.error(t.K,s.message)})))),[v,A]);return(0,n.useEffect)((()=>{e?v().then((e=>{f(c?e:(0,i.$i)(e,["connection_status"]))})).catch((s=>{h(`User with id ${e} not found`),u.V.error(t.K,`User with id ${e} not found`),u.V.error(t.K,s.message)})):f(d)}),[e,d]),{scUser:m,setSCUser:f,refresh:j,refreshing:A,error:g}}},76709:(e,s,o)=>{o.d(s,{A:()=>S});var n=o(31635),t=o(74848),r=o(96540),a=o(75753),i=o(3338),u=o(11848),l=o(71194),c=o(15906),d=o(58662),m=o(58065),f=o(18590),g=o(19546),h=o.n(g),A=o(94520),p=o(79197),v=o(37978),j=o(45284),w=o(2877),C=o(47265),U=o(44817);const b="SCFollowUserButton",x={root:`${b}-root`},B=(0,u.Ay)(d.A,{name:b,slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({})));const E=function(e){const s=(0,p.A)({props:e,name:b}),{className:o,userId:a,user:i,onFollow:u}=s,l=(0,n.__rest)(s,["className","userId","user","onFollow"]),d=(0,j.J_)(),g=(0,r.useContext)(w.T6),E=g.managers.followed,{enqueueSnackbar:N}=(0,f.dh)(),{scUser:T}=(0,C.A)({id:a,user:i}),[_,k]=(0,r.useState)(null),[M,O]=(0,r.useState)(!1),S=g.user?g.user.id:null;return(0,r.useEffect)((()=>{g.user&&g.user.id!==T.id&&k(E.isFollowed(T))}),[S,E.isFollowed]),g.user&&g.user.id===T.id?null:(0,t.jsx)(B,Object.assign({size:"small",variant:"outlined",onClick:()=>{g.user?!_&&U.lT(g.user)?N((0,t.jsx)(m.A,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):E.follow(T).then((()=>{u&&u(T,!_)})).catch((e=>{A.V.error(c.d,e),(0,v.c)(e,g.managers.blockedUsers.isBlocked(T),N)?O(!0):N((0,t.jsx)(m.A,{id:"ui.common.actionToUserDeleted",defaultMessage:"ui.common.actionToUserDeleted"}),{variant:"warning",autoHideDuration:3e3})})):d.settings.handleAnonymousAction()},loading:g.user?null===_||E.isLoading(T):null,disabled:M,className:h()(x.root,o)},l,{children:g.user&&_?(0,t.jsx)(m.A,{defaultMessage:"ui.followUserButton.unfollow",id:"ui.followUserButton.unfollow"}):(0,t.jsx)(m.A,{defaultMessage:"ui.followUserButton.follow",id:"ui.followUserButton.follow"})}))};var N=o(92734);const T="SCFriendshipUserButton",_={root:`${T}-root`},k=(0,u.Ay)(d.A,{name:T,slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({})));const M=function(e){const s=(0,p.A)({props:e,name:T}),{className:o,userId:a,user:i}=s,u=(0,n.__rest)(s,["className","userId","user"]),l=(0,j.J_)(),d=(0,r.useContext)(w.T6),g=d.managers.connections,{enqueueSnackbar:b}=(0,f.dh)(),{scUser:x}=(0,C.A)({id:a,user:i}),[B,E]=(0,r.useState)(null),[M,O]=(0,r.useState)(!1),S=d.user?d.user.id:null;return(0,r.useEffect)((()=>{if(S&&S!==x.id){const e=g.status(x);E(e)}}),[S,g.status]),d.user&&d.user.id===x.id?null:(0,t.jsx)(k,Object.assign({size:"small",variant:"outlined",disabled:M,loading:d.user?g.isLoading(x):null,onClick:()=>{if(d.user)if(U.lT(d.user))b((0,t.jsx)(m.A,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3});else{let e;B===N.v.CONNECTED?e=g.removeConnection:B===N.v.CONNECTION_REQUEST_SENT?e=g.cancelRequestConnection:B===N.v.CONNECTION_REQUEST_RECEIVED?e=g.acceptConnection:null===B&&(e=g.requestConnection),e(x).catch((e=>{A.V.error(c.d,e),(0,v.c)(e,d.managers.blockedUsers.isBlocked(x),b)?O(!0):b((0,t.jsx)(m.A,{id:"ui.common.actionToUserDeleted",defaultMessage:"ui.common.actionToUserDeleted"}),{variant:"warning",autoHideDuration:3e3})}))}else l.settings.handleAnonymousAction()},className:h()(_.root,o)},u,{children:(()=>{let e;switch(B){case N.v.CONNECTED:e=(0,t.jsx)(m.A,{defaultMessage:"ui.friendshipUserButton.removeConnection",id:"ui.friendshipUserButton.removeConnection"});break;case N.v.CONNECTION_REQUEST_SENT:e=(0,t.jsx)(m.A,{defaultMessage:"ui.friendshipUserButton.cancelConnectionRequest",id:"ui.friendshipUserButton.cancelConnectionRequest"});break;case N.v.CONNECTION_REQUEST_RECEIVED:e=(0,t.jsx)(m.A,{defaultMessage:"ui.friendshipUserButton.acceptConnection",id:"ui.friendshipUserButton.acceptConnection"});break;default:e=(0,t.jsx)(m.A,{defaultMessage:"ui.friendshipUserButton.requestConnection",id:"ui.friendshipUserButton.requestConnection"})}return e})()}))},O="SCConnectionUserButton";(0,u.Ay)(l.A,{name:O,slot:"Root",overridesResolver:(e,s)=>s.root})((({theme:e})=>({})));const S=function(e){const s=(0,p.A)({props:e,name:O}),{user:o=null,followConnectUserButtonProps:u={}}=s,l=(0,n.__rest)(s,["user","followConnectUserButtonProps"]),c=(0,r.useContext)(a.ql),d=i.mw in c.preferences&&c.preferences[i.mw].value;return(0,t.jsx)(r.Fragment,{children:d?(0,t.jsx)(E,Object.assign({user:o},u,l)):(0,t.jsx)(M,Object.assign({user:o},u,l))})}},87891:(e,s,o)=>{o.d(s,{H:()=>n});const n="SCUser"}}]);