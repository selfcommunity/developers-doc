"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[31416],{98365:(e,t,s)=>{s.d(t,{Z:()=>j});var o=s(67294),a=s(74482),n=s(24243),i=s(24085),r=s(59219),l=s(96570),c=s(99960),d=s(69721),u=s(87620),g=s(51206);function j({id:e=null,category:t=null,cacheStrategy:s=r.n2.CACHE_FIRST}){const j=t?t.id:e,m=(0,g.LD)(),y=m.user?m.user.id:null,Z=(0,d.u5)(j),h=y?t:(0,l.Kd)(t,["followed"]),[p,x]=(0,o.useState)(s!==r.n2.NETWORK_ONLY?r.ZP.get(Z,h):null),[O,b]=(0,o.useState)(null),N=(0,o.useMemo)((()=>()=>n.Z.request({url:i.Z.Category.url({id:j}),method:i.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[j]);return(0,o.useEffect)((()=>{j&&(!p||p&&j!==p.id)&&N().then((e=>{const t=y?e:(0,l.Kd)(e,["followed"]);x(t),r.ZP.set(Z,t)})).catch((t=>{r.ZP.delete(Z),b(`Category with id ${e} not found`),c.Y.error(a.h,`Category with id ${e} not found`),c.Y.error(a.h,t.message)}))}),[j]),(0,u.F_)((()=>{if(t){const e=y?t:(0,l.Kd)(t,["followed"]);x(e),r.ZP.set(Z,e)}}),[t]),{scCategory:p,setSCCategory:x,error:O}}},31416:(e,t,s)=>{s.d(t,{Z:()=>v});var o=s(85893),a=s(90948),n=s(94253),i=s(89587),r=s(14027),l=s(98365),c=s(69641),d=s(88078),u=s(75249);const g={root:`${u.B}-skeleton-root`,cover:`${u.B}-skeleton-cover`},j=(0,a.ZP)(n.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(){return(0,o.jsxs)(j,Object.assign({className:g.root},{children:[(0,o.jsx)(d.Z,{sx:{height:230},animation:"wave",variant:"rectangular",className:g.cover}),(0,o.jsx)(n.Z,{children:(0,o.jsx)(d.Z,{animation:"wave",sx:{height:20,maxWidth:300,width:"100%",margin:"0 auto"}})}),(0,o.jsx)(n.Z,{children:(0,o.jsx)(d.Z,{animation:"wave",sx:{height:20,maxWidth:300,width:"100%",margin:"0 auto"}})})]}))}const y="SCCategoryTemplate",Z={root:`${y}-skeleton-root`},h=(0,a.ZP)(n.Z,{name:y,slot:"SkeletonRoot"})((()=>({})));function p(){return(0,o.jsxs)(h,Object.assign({className:Z.root},{children:[(0,o.jsx)(m,{}),(0,o.jsx)(c.Z,{})]}))}var x=s(29360),O=s(94184),b=s.n(O);const N={root:`${y}-root`,feed:`${y}-feed`},f=(0,a.ZP)(n.Z,{name:y,slot:"Root"})((()=>({})));const v=function(e){const t=(0,x.Z)({props:e,name:y}),{id:s="category",className:a,category:n,categoryId:c,widgets:d,FeedObjectProps:u,FeedSidebarProps:g,CategoryFeedProps:j={}}=t,{scCategory:m}=(0,l.Z)({id:c,category:n});return m?(0,o.jsxs)(f,Object.assign({id:s,className:b()(N.root,a)},{children:[(0,o.jsx)(i.Z,{category:m}),(0,o.jsx)(r.Z,Object.assign({className:N.feed,category:m,widgets:d,FeedObjectProps:u,FeedSidebarProps:g},j))]})):(0,o.jsx)(p,{})}},69641:(e,t,s)=>{s.d(t,{Z:()=>m});var o=s(85893),a=s(67294),n=s(90948),i=s(40506),r=s(24176),l=s(24540),c=s(12805),d=s(37024),u=s(74731);const g={root:`${u.B}-skeleton-root`},j=(0,n.ZP)(i.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(){return(0,o.jsxs)(j,Object.assign({className:g.root,sidebar:(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(r.Z,{sx:{mb:2}}),(0,o.jsx)(r.Z,{sx:{mb:2}})]})},{children:[(0,o.jsx)(l.Z,{}),Array.from({length:5}).map(((e,t)=>(0,o.jsx)(c.Z,{template:d.r.DETAIL},t)))]}))}},74731:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCCategoryFeedTemplate"},14027:(e,t,s)=>{s.d(t,{Z:()=>B});var o=s(85893),a=s(67294),n=s(90948),i=s(46878),r=s(12673),l=s(81820),c=s(70050),d=s(52693),u=s(12805),g=s(37024),j=s(93132),m=s(24085),y=s(41538),Z=s(98365),h=s(97265),p=s(12132),x=s(9774),O=s(83781),b=s(69641),N=s(29360),f=s(94184),v=s.n(f),_=s(44012),C=s(20377),S=s(74731);const E={root:`${S.B}-root`},T=(0,n.ZP)(i.Z,{name:S.B,slot:"Root"})((()=>({}))),I=[{type:"widget",component:r.Z,componentProps:{},column:"right",position:0},{type:"widget",component:l.Z,componentProps:{},column:"right",position:1}];const B=function(e){const t=(0,N.Z)({props:e,name:S.B}),{id:s="category_feed",className:n,category:i,categoryId:r,widgets:l=I,FeedObjectProps:f={},FeedSidebarProps:B=null,FeedProps:L={}}=t,R=(0,y.sy)(),{enqueueSnackbar:P}=(0,C.Ds)(),F=(0,a.useRef)(),{scCategory:w}=(0,Z.Z)({id:r,category:i}),A=(0,a.useMemo)((()=>l.map((e=>w?Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{categoryId:w.id})}):e))),[l,w]);return w?(0,o.jsx)(T,Object.assign({id:s,className:v()(E.root,n),ref:F,endpoint:Object.assign(Object.assign({},m.Z.CategoryFeed),{url:()=>m.Z.CategoryFeed.url({id:w.id})}),widgets:A,ItemComponent:d.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:f,ItemSkeleton:u.Z,ItemSkeletonProps:{template:g.r.PREVIEW},FeedSidebarProps:B,HeaderComponent:(0,o.jsx)(j.Z,{onSuccess:e=>{if(-1===e.categories.findIndex((e=>e.id===w.id)))return void P((0,o.jsx)(_.Z,{id:"ui.composerIconButton.composer.success",defaultMessage:"ui.composerIconButton.composer.success"}),{action:t=>(0,o.jsx)(h.Z,Object.assign({to:R.url(p[`${e.type.toUpperCase()}_ROUTE_NAME`],c.p3(e))},{children:(0,o.jsx)(_.Z,{id:"ui.composerIconButton.composer.viewContribute",defaultMessage:"ui.composerIconButton.composer.viewContribute"})})),variant:"success",autoHideDuration:7e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};F&&F.current&&F.current.addFeedData(t,!0)},defaultValue:{categories:[w]},feedType:x.a.CATEGORY}),CustomAdvProps:{categoriesId:[w.id]},enabledCustomAdvPositions:[O.n.POSITION_FEED_SIDEBAR,O.n.POSITION_FEED,O.n.POSITION_BELOW_TOPBAR]},L)):(0,o.jsx)(b.Z,{})}},28145:(e,t,s)=>{s.d(t,{Z:()=>N});var o=s(97582),a=s(85893),n=s(67294),i=s(90948),r=s(59219),l=s(99960),c=s(62254),d=s(51206),u=s(98365),g=s(75459),j=s(96828),m=s(44012),y=s(94184),Z=s.n(y),h=s(29360),p=s(29409);const x="SCCategoryFollowButton",O={root:`${x}-root`},b=(0,i.ZP)(j.Z,{name:x,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const N=function(e){const t=(0,h.Z)({props:e,name:x}),{className:s,categoryId:i,category:j,onFollow:y}=t,N=(0,o._T)(t,["className","categoryId","category","onFollow"]),f=(0,c.RM)(),v=(0,d.LD)(),_=v.managers.categories,C=v.user?v.user.id:null,{scCategory:S,setSCCategory:E}=(0,u.Z)({id:i,category:j,cacheStrategy:C?r.n2.CACHE_FIRST:r.n2.STALE_WHILE_REVALIDATE}),[T,I]=(0,n.useState)(null);return(0,n.useEffect)((()=>{C&&I(_.isFollowed(S))}),[C,_.isFollowed]),!S||S&&T&&S.auto_follow===p.i.FORCED?null:(0,a.jsx)(b,Object.assign({size:"small",variant:"outlined",onClick:()=>{v.user?_.follow(S).then((()=>{y&&y(S,!T)})).catch((e=>{l.Y.error(g.J,e)})):f.settings.handleAnonymousAction()},loading:v.user?null===T||_.isLoading(S):null,className:Z()(O.root,s)},N,{children:T&&v.user?(0,a.jsx)(m.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):(0,a.jsx)(m.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"})}))}},75249:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCCategoryHeader"},89587:(e,t,s)=>{s.d(t,{Z:()=>k});var o=s(97582),a=s(85893),n=s(67294),i=s(90948),r=s(94253),l=s(90629),c=s(15861),d=s(28145),u=s(44012),g=s(98365),j=s(94184),m=s.n(j),y=s(29360),Z=s(25662),h=s(2734),p=s(51107),x=s(87952),O=s(78462),b=s(97212),N=s(39154),f=s(79558),v=s(50353),_=s(37089),C=s(98704),S=s(24243),E=s(24085),T=s(59107),I=s(37292),B=s(99960),L=s(75459),R=s(87620);const P="SCCategoryFollowersButton",F={root:`${P}-root`,dialogRoot:`${P}-dialog-root`,endMessage:`${P}-end-message`},w=(0,i.ZP)(Z.Z,{name:P,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({}))),A=(0,i.ZP)(N.Z,{name:P,slot:"Root",overridesResolver:(e,t)=>t.dialogRoot})((()=>({})));const M=function(e){const t=(0,y.Z)({props:e,name:P}),{className:s,categoryId:i,category:r,DialogProps:l={}}=t,d=(0,o._T)(t,["className","categoryId","category","DialogProps"]),[j,Z]=(0,n.useState)(!0),[N,M]=(0,n.useState)(null),[D,U]=(0,n.useState)(null),[$,k]=(0,n.useState)([]),[W,K]=(0,n.useState)(!1),{scCategory:X}=(0,g.Z)({id:i,category:r});(0,R.F_)((()=>{X&&(0===$.length?C.Z.getCategoryFollowers(X.id,{limit:3}).then((e=>{k([...e.results]),U(3),Z(!1)})):U(0))}),[X]),(0,n.useEffect)((()=>{W&&null!==D&&(Z(!0),C.Z.getCategoryFollowers(X.id,{offset:D,limit:20}).then((e=>{k([...0===D?[]:$,...e.results]),M(e.next),Z(!1),U(null)})))}),[W,$,D]);const H=(0,n.useMemo)((()=>()=>{N&&S.Z.request({url:N,method:E.Z.CategoryFollowers.method}).then((e=>{k([...$,...e.data.results]),M(e.data.next)})).catch((e=>B.Y.error(L.J,e))).then((()=>Z(!1)))}),[$,X,N]),z=(0,n.useMemo)((()=>()=>{K((e=>!e))}),[K]),G=(0,h.Z)(),V=(0,I.Z)(G.breakpoints.down("md"));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w,Object.assign({className:m()(F.root,s),onClick:z,disabled:j||!X||0===X.followers_counter},d,{children:j||!X?(0,a.jsx)(T.Z,Object.assign({},d)):(0,a.jsx)(p.Z,Object.assign({total:X.followers_counter},{children:$.map((e=>(0,a.jsx)(x.Z,{alt:e.username,src:e.avatar},e.id)))}))})),W&&(0,a.jsx)(A,Object.assign({className:F.dialogRoot,title:(0,a.jsx)(u.Z,{defaultMessage:"ui.categoryFollowersButton.dialogTitle",id:"ui.categoryFollowersButton.dialogTitle",values:{total:X.followers_counter}}),onClose:z,open:W},l,{children:(0,a.jsx)(f.Z,Object.assign({dataLength:$.length,next:H,hasMoreNext:null!==N||j,loaderNext:(0,a.jsx)(v.Z,{elevation:0}),height:V?"100%":400,endMessage:(0,a.jsx)(c.Z,Object.assign({className:F.endMessage},{children:(0,a.jsx)(u.Z,{id:"ui.categoryFollowersButton.noOtherFollowers",defaultMessage:"ui.categoryFollowersButton.noOtherFollowers"})}))},{children:(0,a.jsx)(O.Z,{children:$.map((e=>(0,a.jsx)(b.ZP,{children:(0,a.jsx)(_.Z,{elevation:0,user:e})},e.id)))})}))}))]})};var D=s(75249);const U={root:`${D.B}-root`,cover:`${D.B}-cover`,name:`${D.B}-name`,slogan:`${D.B}-slogan`,info:`${D.B}-info`,followedCounter:`${D.B}-followed-counter`,followed:`${D.B}-followed`,action:`${D.B}-action`},$=(0,i.ZP)(r.Z,{name:D.B,slot:"Root"})((()=>({})));const k=function(e){const t=(0,y.Z)({props:e,name:D.B}),{className:s,categoryId:i,category:j,CategoryFollowButtonProps:Z={},CategoryFollowersButtonProps:h={}}=t,p=(0,o._T)(t,["className","categoryId","category","CategoryFollowButtonProps","CategoryFollowersButtonProps"]),{scCategory:x,setSCCategory:O}=(0,g.Z)({id:i,category:j}),b=(0,n.useMemo)((()=>Object.assign({},x?{background:`url('${x.emotional_image_original}') center / cover`}:{})),[x]);return x?(0,a.jsxs)($,Object.assign({className:m()(U.root,s)},p,{children:[(0,a.jsx)(l.Z,{style:b,classes:{root:U.cover}}),(0,a.jsxs)(r.Z,Object.assign({className:U.info},{children:[(0,a.jsx)(c.Z,Object.assign({variant:"h3",className:U.name,gutterBottom:!0},{children:x.name})),x.slogan&&(0,a.jsx)(c.Z,Object.assign({variant:"h5",className:U.slogan},{children:x.slogan})),(0,a.jsxs)(r.Z,Object.assign({className:U.followed},{children:[(0,a.jsx)(c.Z,Object.assign({className:U.followedCounter,component:"div"},{children:(0,a.jsx)(u.Z,{id:"ui.categoryHeader.followedBy",defaultMessage:"ui.categoryHeader.followedBy",values:{total:x.followers_counter}})})),(0,a.jsx)(M,Object.assign({category:x,categoryId:null==x?void 0:x.id},h))]})),(0,a.jsx)(r.Z,Object.assign({className:U.action},{children:(0,a.jsx)(d.Z,Object.assign({category:x,onFollow:(e,t)=>{O(Object.assign(Object.assign({},e),{followers_counter:e.followers_counter+(t?1:-1)}))}},Z))}))]}))]})):null}},45431:(e,t,s)=>{s.d(t,{Z:()=>g});var o=s(85893),a=s(63902),n=s(78462),i=s(90948),r=s(12805),l=s(44267),c=s(89546);const d={root:`${c.B}-skeleton-root`,list:`${c.B}-list`},u=(0,i.ZP)(a.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return(0,o.jsx)(u,Object.assign({className:d.root},e,{children:(0,o.jsx)(l.Z,{children:(0,o.jsx)(n.Z,Object.assign({className:d.list},{children:[...Array(4)].map(((e,t)=>(0,o.jsx)(r.Z,{elevation:0},t)))}))})}))}},89546:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCCategoryTrendingFeedWidget"},81820:(e,t,s)=>{s.d(t,{Z:()=>H});var o=s(97582),a=s(85893),n=s(67294),i=s(90948),r=s(78462),l=s(2734),c=s(37292),d=s(44267),u=s(15861),g=s(97212),j=s(25662),m=s(63902),y=s(98704),Z=s(24243),h=s(24085),p=s(59219),x=s(99960),O=s(5840),b=s(75459),N=s(52693),f=s(12805),v=s(44012),_=s(37024),C=s(94184),S=s.n(C),E=s(39154),T=s(79558),I=s(45431),B=s(29360),L=s(54545),R=s(69721),P=s(51206),F=s(8860),w=s(41538),A=s(85472),M=s(98365),D=s(97265),U=s(12132),$=s(15927),k=s(89546);const W={root:`${k.B}-root`,title:`${k.B}-title`,noResults:`${k.B}-no-results`,showMore:`${k.B}-show-more`,dialogRoot:`${k.B}-dialog-root`,endMessage:`${k.B}-end-message`},K=(0,i.ZP)(m.Z,{name:k.B,slot:"Root"})((()=>({}))),X=(0,i.ZP)(E.Z,{name:k.B,slot:"DialogRoot"})((()=>({})));const H=function(e){const t=(0,B.Z)({props:e,name:k.B}),{className:s=null,categoryId:i=null,autoHide:m=null,limit:C=3,FeedObjectProps:E={template:_.r.SNIPPET},cacheStrategy:H=p.n2.CACHE_FIRST,onHeightChange:z,onStateChange:G,DialogProps:V={}}=t,Y=(0,o._T)(t,["className","categoryId","autoHide","limit","FeedObjectProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[q,J]=(0,n.useReducer)($.Xi,{isLoadingNext:!1,next:null,cacheKey:R.hu(R.ol,i),cacheStrategy:H,visibleItems:C},$.Mv),[Q,ee]=(0,n.useState)(!1),te=(0,P.LD)(),se=(0,F.ko)(),oe=(0,w.sy)(),ae=(0,n.useMemo)((()=>A.Ao in se.preferences&&se.preferences[A.Ao].value),[se]),ne=(0,l.Z)(),ie=(0,c.Z)(ne.breakpoints.down("md")),{scCategory:re}=(0,M.Z)({id:i}),le=re?re.id:null,ce=(0,n.useMemo)((()=>()=>{q.initialized||q.isLoadingNext||(J({type:$.dK.LOADING_NEXT}),y.Z.getCategoryTrendingFeed(le,{limit:C}).then((e=>{J({type:$.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{J({type:$.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(b.J,e)})))}),[le,q.isLoadingNext,q.initialized,C,J]);(0,n.useEffect)((()=>{var e;let t;if(void 0!==te.user&&le&&(ae||!ae&&(null===(e=te.user)||void 0===e?void 0:e.id)))return t=setTimeout(ce),()=>{t&&clearTimeout(t)}}),[le,te.user,ae]),(0,n.useEffect)((()=>{Q&&q.next&&q.results.length===C&&q.initialized&&(J({type:$.dK.LOADING_NEXT}),y.Z.getCategoryTrendingFeed(le,{offset:C,limit:10}).then((e=>{J({type:$.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{J({type:$.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),x.Y.error(b.J,e)})))}),[Q,C,q.next,q.results.length,q.initialized,le]),(0,n.useEffect)((()=>{z&&z()}),[q.results]),(0,n.useEffect)((()=>{(ae||te.user)&&(0,O.U)(le)&&H===p.n2.NETWORK_ONLY&&G&&G({cacheStrategy:p.n2.CACHE_FIRST})}),[ae,H,le,te.user]);const de=(0,n.useMemo)((()=>()=>{J({type:$.dK.LOADING_NEXT}),Z.Z.request({url:q.next,method:h.Z.CategoryTrendingFeed.method}).then((e=>{J({type:$.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[J,q.next]),ue=()=>{ee((e=>!e))};if(!ae&&!te.user||m&&!q.count&&q.initialized)return(0,a.jsx)(L.Z,{});if(!q.initialized)return(0,a.jsx)(I.Z,{});const ge=(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(u.Z,Object.assign({className:W.title,variant:"h5"},{children:(0,a.jsx)(v.Z,{id:"ui.categoryTrendingFeedWidget.title",defaultMessage:"ui.categoryTrendingFeedWidget.title"})})),q.count?(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(r.Z,{children:q.results.slice(0,q.visibleItems).map((e=>(0,a.jsx)(g.ZP,{children:(0,a.jsx)(N.Z,Object.assign({elevation:0,feedObject:e[e.type]},E))},e[e.type].id)))}),q.count>q.visibleItems&&(0,a.jsx)(j.Z,Object.assign({className:W.showMore},ie?{onClick:ue}:{component:D.Z,to:oe.url(U.CATEGORY_TRENDING_FEED_ROUTE_NAME,re)},{children:(0,a.jsx)(v.Z,{id:"ui.categoryTrendingFeedWidget.button.showAll",defaultMessage:"ui.categoryTrendingFeedWidget.button.showAll"})}))]}):(0,a.jsx)(u.Z,Object.assign({className:W.noResults,variant:"body2"},{children:(0,a.jsx)(v.Z,{id:"ui.categoryTrendingFeedWidget.noResults",defaultMessage:"ui.categoryTrendingFeedWidget.noResults"})})),Q&&(0,a.jsx)(X,Object.assign({className:W.dialogRoot,title:(0,a.jsx)(v.Z,{defaultMessage:"ui.categoryTrendingFeedWidget.title",id:"ui.categoryTrendingFeedWidget.title",values:{total:q.count}}),onClose:ue,open:Q},V,{children:(0,a.jsx)(T.Z,Object.assign({dataLength:q.results.length,next:de,hasMoreNext:Boolean(q.next),loaderNext:(0,a.jsx)(f.Z,Object.assign({elevation:0},E)),height:ie?"100%":400,endMessage:(0,a.jsx)(u.Z,Object.assign({className:W.endMessage},{children:(0,a.jsx)(v.Z,{id:"ui.categoryTrendingFeedWidget.noMoreResults",defaultMessage:"ui.categoryTrendingFeedWidget.noMoreResults"})}))},{children:(0,a.jsx)(r.Z,{children:q.results.map((e=>(0,a.jsx)(g.ZP,{children:(0,a.jsx)(N.Z,Object.assign({elevation:0,feedObject:e[e.type]},E))},e[e.type].id)))})}))}))]});return(0,a.jsx)(K,Object.assign({className:S()(W.root,s)},Y,{children:ge}))}},14459:(e,t,s)=>{s.d(t,{Z:()=>j});var o=s(85893),a=s(63902),n=s(78462),i=s(90948),r=s(50353),l=s(44267),c=s(97212),d=s(33584);const u={root:`${d.B}-skeleton-root`,list:`${d.B}-list`},g=(0,i.ZP)(a.Z,{name:d.B,slot:"SkeletonRoot"})((()=>({})));function j(e){return(0,o.jsx)(g,Object.assign({className:u.root},e,{children:(0,o.jsx)(l.Z,{children:(0,o.jsx)(n.Z,Object.assign({className:u.list},{children:[...Array(4)].map(((e,t)=>(0,o.jsx)(c.ZP,{children:(0,o.jsx)(r.Z,{elevation:0})},t)))}))})}))}},33584:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCCategoryTrendingUsersWidget"},12673:(e,t,s)=>{s.d(t,{Z:()=>k});var o=s(97582),a=s(85893),n=s(67294),i=s(90948),r=s(78462),l=s(2734),c=s(37292),d=s(44267),u=s(15861),g=s(97212),j=s(25662),m=s(63902),y=s(98704),Z=s(24243),h=s(24085),p=s(69721),x=s(51206),O=s(8860),b=s(85472),N=s(98365),f=s(44012),v=s(37089),_=s(50353),C=s(94184),S=s.n(C),E=s(39154),T=s(79558),I=s(14459),B=s(29360),L=s(54545),R=s(59219),P=s(99960),F=s(5840),w=s(15927),A=s(75459),M=s(33584);const D={root:`${M.B}-root`,title:`${M.B}-title`,noResults:`${M.B}-no-results`,showMore:`${M.B}-show-more`,dialogRoot:`${M.B}-dialog-root`,endMessage:`${M.B}-end-message`},U=(0,i.ZP)(m.Z,{name:M.B,slot:"Root"})((()=>({}))),$=(0,i.ZP)(E.Z,{name:M.B,slot:"DialogRoot"})((()=>({})));const k=function(e){const t=(0,B.Z)({props:e,name:M.B}),{className:s=null,categoryId:i=null,autoHide:m=null,limit:C=3,UserProps:E={},cacheStrategy:k=R.n2.CACHE_FIRST,onHeightChange:W,onStateChange:K,DialogProps:X={}}=t,H=(0,o._T)(t,["className","categoryId","autoHide","limit","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[z,G]=(0,n.useReducer)(w.Xi,{isLoadingNext:!1,next:null,cacheKey:p.hu(p.zj,i),cacheStrategy:k,visibleItems:C},w.Mv),[V,Y]=(0,n.useState)(!1),q=(0,x.LD)(),J=(0,O.ko)(),Q=(0,n.useMemo)((()=>b.Ao in J.preferences&&J.preferences[b.Ao].value),[J]),ee=(0,l.Z)(),te=(0,c.Z)(ee.breakpoints.down("md")),{scCategory:se}=(0,N.Z)({id:i}),oe=se?se.id:null,ae=(0,n.useMemo)((()=>()=>{z.initialized||z.isLoadingNext||(G({type:w.dK.LOADING_NEXT}),y.Z.getCategoryTrendingFollowers(oe,{limit:C}).then((e=>{G({type:w.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{G({type:w.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),P.Y.error(A.J,e)})))}),[oe,z.isLoadingNext,z.initialized,C,G]);(0,n.useEffect)((()=>{var e;let t;if(void 0!==q.user&&oe&&(Q||!Q&&(null===(e=q.user)||void 0===e?void 0:e.id)))return t=setTimeout(ae),()=>{t&&clearTimeout(t)}}),[oe,q.user,Q]),(0,n.useEffect)((()=>{V&&z.next&&z.results.length===C&&z.initialized&&(G({type:w.dK.LOADING_NEXT}),y.Z.getCategoryTrendingFollowers(oe,{offset:C,limit:10}).then((e=>{G({type:w.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{G({type:w.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),P.Y.error(A.J,e)})))}),[V,C,z.next,z.initialized,z.results.length,oe]),(0,n.useEffect)((()=>{W&&W()}),[z.results]),(0,n.useEffect)((()=>{(Q||q.user)&&(0,F.U)(oe)&&k===R.n2.NETWORK_ONLY&&K&&K({cacheStrategy:R.n2.CACHE_FIRST})}),[Q,k,oe,q.user]);const ne=(0,n.useMemo)((()=>()=>{G({type:w.dK.LOADING_NEXT}),Z.Z.request({url:z.next,method:h.Z.CategoryTrendingPeople.method}).then((e=>{G({type:w.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[G,z.next]),ie=()=>{Y((e=>!e))};if(!Q&&!q.user||m&&!z.count&&z.initialized)return(0,a.jsx)(L.Z,{});if(!z.initialized)return(0,a.jsx)(I.Z,{});const re=(0,a.jsxs)(d.Z,{children:[(0,a.jsx)(u.Z,Object.assign({className:D.title,variant:"h5"},{children:(0,a.jsx)(f.Z,{id:"ui.categoryTrendingUsersWidget.title",defaultMessage:"ui.categoryTrendingUsersWidget.title"})})),z.count?(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(r.Z,{children:z.results.slice(0,z.visibleItems).map((e=>(0,a.jsx)(g.ZP,{children:(0,a.jsx)(v.Z,Object.assign({elevation:0,user:e},E))},e.id)))}),z.count>z.visibleItems&&(0,a.jsx)(j.Z,Object.assign({className:D.showMore,onClick:ie},{children:(0,a.jsx)(f.Z,{id:"ui.categoryTrendingUsersWidget.button.showAll",defaultMessage:"ui.categoryTrendingUsersWidget.button.showAll"})}))]}):(0,a.jsx)(u.Z,Object.assign({className:D.noResults,variant:"body2"},{children:(0,a.jsx)(f.Z,{id:"ui.categoryTrendingUsersWidget.noResults",defaultMessage:"ui.categoryTrendingUsersWidget.noResults"})})),V&&(0,a.jsx)($,Object.assign({className:D.dialogRoot,title:(0,a.jsx)(f.Z,{defaultMessage:"ui.categoryTrendingUsersWidget.title",id:"ui.categoryTrendingUsersWidget.title",values:{total:z.count}}),onClose:ie,open:V},X,{children:(0,a.jsx)(T.Z,Object.assign({dataLength:z.results.length,next:ne,hasMoreNext:Boolean(z.next),loaderNext:(0,a.jsx)(_.Z,Object.assign({elevation:0},E)),height:te?"100%":400,endMessage:(0,a.jsx)(u.Z,Object.assign({className:D.endMessage},{children:(0,a.jsx)(f.Z,{id:"ui.categoryTrendingUsersWidget.noMoreResults",defaultMessage:"ui.categoryTrendingUsersWidget.noMoreResults"})}))},{children:(0,a.jsx)(r.Z,{children:z.results.map((e=>(0,a.jsx)(g.ZP,{children:(0,a.jsx)(v.Z,Object.assign({elevation:0,user:e},E))},e.id)))})}))}))]});return(0,a.jsx)(U,Object.assign({className:S()(D.root,s)},H,{children:re}))}},24540:(e,t,s)=>{s.d(t,{Z:()=>g});var o=s(85893),a=s(90948),n=s(88078),i=s(44267),r=s(94253),l=s(63902),c=s(31717);const d={root:`${c.B}-skeleton-root`,content:`${c.B}-content`,input:`${c.B}-input`,avatar:`${c.B}-avatar`},u=(0,a.ZP)(l.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function g(){return(0,o.jsx)(u,Object.assign({className:d.root},{children:(0,o.jsxs)(i.Z,Object.assign({className:d.content},{children:[(0,o.jsx)(r.Z,Object.assign({className:d.input},{children:(0,o.jsx)(n.Z,{animation:"wave",variant:"text"})})),(0,o.jsx)(r.Z,Object.assign({className:d.avatar},{children:(0,o.jsx)(n.Z,{className:d.avatar,animation:"wave",variant:"circular"})}))]}))}))}},31717:(e,t,s)=>{s.d(t,{B:()=>o});const o="SCInlineComposerWidget"},93132:(e,t,s)=>{s.d(t,{Z:()=>B});var o=s(97582),a=s(85893),n=s(67294),i=s(9774),r=s(62254),l=s(51206),c=s(41538),d=s(8860),u=s(85472),g=s(65580),j=s(97265),m=s(12132),y=s(44267),Z=s(94253),h=s(25662),p=s(87952),x=s(90948),O=s(44012),b=s(20377),N=s(63902),f=s(29360),v=s(6605),_=s(22461),C=s(70815),S=s(31717),E=s(54545);const T={root:`${S.B}-root`,content:`${S.B}-content`,input:`${S.B}-input`,avatar:`${S.B}-avatar`},I=(0,x.ZP)(N.Z,{name:S.B,slot:"Root"})((()=>({})));const B=function(e){const t=(0,f.Z)({props:e,name:S.B}),{mediaObjectTypes:s=[_.Z,C.Z],defaultValue:x,onSuccess:N=null,label:B,feedType:L=i.a.HOME}=t,R=(0,o._T)(t,["mediaObjectTypes","defaultValue","onSuccess","label","feedType"]),P=(0,r.RM)(),F=(0,l.LD)(),w=(0,c.sy)(),{enqueueSnackbar:A}=(0,b.Ds)(),M=(0,d.ko)(),D=(0,n.useMemo)((()=>M.preferences[u.Kq].value),[M.preferences]),[U,$]=(0,n.useState)(!1),k=(0,n.useCallback)((()=>{F.user?g.IT(F.user)?A((0,a.jsx)(O.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):$(!0):P.settings.handleAnonymousAction()}),[F.user,P.settings]),W=(0,n.useCallback)((()=>{$(!1)}),[]);return!g.B2(F.user)&&D?(0,a.jsx)(E.Z,{}):(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(I,Object.assign({className:T.root},R,{children:(0,a.jsxs)(y.Z,Object.assign({className:T.content},{children:[(0,a.jsx)(Z.Z,Object.assign({className:T.input},{children:(0,a.jsx)(h.Z,Object.assign({variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:k,fullWidth:!0,color:"inherit"},{children:null!=B?B:(0,a.jsx)(O.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"})}))})),(0,a.jsx)(Z.Z,Object.assign({className:T.avatar},{children:F.user?(0,a.jsx)(j.Z,Object.assign({to:w.url(m.USER_PROFILE_ROUTE_NAME,F.user)},{children:(0,a.jsx)(p.Z,{alt:F.user.username,variant:"circular",src:F.user.avatar})})):(0,a.jsx)(p.Z,{variant:"circular"})}))]}))})),(0,a.jsx)(v.Z,{open:U,mediaObjectTypes:s,defaultValue:x,fullWidth:!0,onClose:W,onSuccess:e=>{N?N(e):A((0,a.jsx)(O.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),$(!1)},feedType:L})]})}},15927:(e,t,s)=>{s.d(t,{Mv:()=>i,Xi:()=>n,dK:()=>a});var o=s(59219);const a={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function n(e,t){var s;let n=Object.assign({},e);switch(t.type){case a.LOADING_NEXT:n=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case a.LOADING_PREVIOUS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case a.LOAD_NEXT_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(s=t.payload)||void 0===s?void 0:s.initialized)||!0});break;case a.LOAD_PREVIOUS_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case a.SET_RESULTS:n=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case a.SET_VISIBLE_ITEMS:n=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case a.LOAD_NEXT_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case a.LOAD_PREVIOUS_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case a.RESET:n={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return o.ZP.set(n.cacheKey,n),n}function i(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&o.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==o.n2.NETWORK_ONLY){const e=o.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},29409:(e,t,s)=>{var o;s.d(t,{i:()=>o}),function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(o||(o={}))},5840:(e,t,s)=>{function o(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}s.d(t,{U:()=>o})}}]);