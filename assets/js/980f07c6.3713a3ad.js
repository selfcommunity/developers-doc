/*! For license information please see 980f07c6.3713a3ad.js.LICENSE.txt */
(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[77338],{92991:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s(67294),o=s(27331),a=s(5730);function i(e,t){void 0===e&&(e=""),void 0===t&&(t={});const s=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:s})}function r(){if((0,a.Z)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:o.r.user.client_id,grant_type:"refresh_token"};return i(`${o.r.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function c(){const e=(0,a.Z)(),[t,s]=(0,n.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,n.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?i(`${o.r.portal}/oauth/token/`,o.r.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{s(e)})):e&&s(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,n.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var l=s(62254),d=s(38733),u=s(19666),g=s(85893);function p(e){let{children:t}=e;const s=c(),n={portal:o.r.portal,locale:{default:"en"},session:{type:"OAuth",clientId:o.r.user.client_id,authToken:s,handleRefreshToken:r},theme:d.ZP,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,g.jsx)(u.Z,{children:()=>(0,g.jsx)(l.ZP,{conf:n,children:t})})}},27331:(e,t,s)=>{"use strict";s.d(t,{r:()=>n});const n={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://api.fashionista.community"}},92343:(e,t,s)=>{"use strict";s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var n=s(85893),o=s(11151),a=s(92991),i=s(14027);const r={sidebar_label:"Category Feed",sidebar_position:1,title:"Category Feed"},c=void 0,l={id:"sdk/community-js/react-templates/Components/CategoryFeed",title:"Category Feed",description:"The Category Feed template renders the category feed.",source:"@site/docs/sdk/community-js/react-templates/Components/CategoryFeed.mdx",sourceDirName:"sdk/community-js/react-templates/Components",slug:"/sdk/community-js/react-templates/Components/CategoryFeed",permalink:"/docs/sdk/community-js/react-templates/Components/CategoryFeed",draft:!1,unlisted:!1,editUrl:"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-templates/Components/CategoryFeed.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Category Feed",sidebar_position:1,title:"Category Feed"},sidebar:"sdkSidebar",previous:{title:"Category",permalink:"/docs/sdk/community-js/react-templates/Components/Category"},next:{title:"Explore Feed",permalink:"/docs/sdk/community-js/react-templates/Components/ExploreFeed"}},d={},u=[{value:"Usage",id:"usage",level:4}];function g(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"The Category Feed template renders the category feed."}),"\n"]}),"\n","\n","\n",(0,n.jsx)(a.Z,{children:(0,n.jsx)(i.Z,{categoryId:3})}),"\n",(0,n.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {CategoryFeed} from '@selfcommunity/react-templates';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><CategoryFeed/></SCContextProvider>\n   );\n }\n"})})]})}function p(e={}){const{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(g,{...e})}):g(e)}},98365:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s(67294),o=s(74482),a=s(24243),i=s(24085),r=s(59219),c=s(96570),l=s(99960),d=s(69721),u=s(87620),g=s(22607);function p({id:e=null,category:t=null,cacheStrategy:s=r.n2.CACHE_FIRST}){const p=t?t.id:e,m=(0,g.LD)(),y=m.user?m.user.id:null,h=(0,d.u5)(p),j=y?t:(0,c.Kd)(t,["followed"]),[x,f]=(0,n.useState)(s!==r.n2.NETWORK_ONLY?r.ZP.get(h,j):null),[b,Z]=(0,n.useState)(null),O=(0,n.useMemo)((()=>()=>a.Z.request({url:i.Z.Category.url({id:p}),method:i.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[p]);return(0,n.useEffect)((()=>{p&&(!x||x&&p!==x.id)&&O().then((e=>{const t=y?e:(0,c.Kd)(e,["followed"]);f(t),r.ZP.set(h,t)})).catch((t=>{r.ZP.delete(h),Z(`Category with id ${e} not found`),l.Y.error(o.h,`Category with id ${e} not found`),l.Y.error(o.h,t.message)}))}),[p]),(0,u.F_)((()=>{if(t){const e=y?t:(0,c.Kd)(t,["followed"]);f(e),r.ZP.set(h,e)}}),[t]),{scCategory:x,setSCCategory:f,error:b}}},69641:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s(85893),o=s(67294),a=s(90948),i=s(40506),r=s(24176),c=s(24540),l=s(12805),d=s(37024),u=s(74731);const g={root:`${u.B}-skeleton-root`},p=(0,a.ZP)(i.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(){return(0,n.jsxs)(p,Object.assign({className:g.root,sidebar:(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(r.Z,{sx:{mb:2}}),(0,n.jsx)(r.Z,{sx:{mb:2}})]})},{children:[(0,n.jsx)(c.Z,{}),Array.from({length:5}).map(((e,t)=>(0,n.jsx)(l.Z,{template:d.r.DETAIL},t)))]}))}},74731:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});const n="SCCategoryFeedTemplate"},14027:(e,t,s)=>{"use strict";s.d(t,{Z:()=>P});var n=s(85893),o=s(67294),a=s(90948),i=s(46878),r=s(12673),c=s(81820),l=s(70050),d=s(52693),u=s(12805),g=s(37024),p=s(93132),m=s(24085),y=s(41538),h=s(22607),j=s(98365),x=s(97265),f=s(12132),b=s(65580),Z=s(9774),O=s(83781),_=s(69641),v=s(29360),N=s(95321),C=s.n(N),S=s(44012),T=s(20377),E=s(74731);const I={root:`${E.B}-root`},L=(0,a.ZP)(i.Z,{name:E.B,slot:"Root"})((()=>({}))),k=[{type:"widget",component:r.Z,componentProps:{},column:"right",position:0},{type:"widget",component:c.Z,componentProps:{},column:"right",position:1}];const P=function(e){const t=(0,v.Z)({props:e,name:E.B}),{id:s="category_feed",className:a,category:i,categoryId:r,widgets:c=k,FeedObjectProps:N={},FeedSidebarProps:P=null,FeedProps:R={}}=t,A=(0,y.sy)(),F=(0,h.LD)(),{enqueueSnackbar:B}=(0,T.Ds)(),D=(0,o.useRef)(),{scCategory:M}=(0,j.Z)({id:r,category:i}),U=(0,o.useMemo)((()=>c.map((e=>M?Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{categoryId:M.id})}):e))),[c,M]);return M?(0,n.jsx)(L,Object.assign({id:s,className:C()(I.root,a),ref:D,endpoint:Object.assign(Object.assign({},m.Z.CategoryFeed),{url:()=>m.Z.CategoryFeed.url({id:M.id})}),widgets:U,ItemComponent:d.Z,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:N,ItemSkeleton:u.Z,ItemSkeletonProps:{template:g.r.PREVIEW},FeedSidebarProps:P,HeaderComponent:(0,n.jsx)(n.Fragment,{children:(M.content_only_staff&&b.B2(F.user)||!M.content_only_staff)&&(0,n.jsx)(p.Z,{onSuccess:e=>{if(-1===e.categories.findIndex((e=>e.id===M.id)))return void B((0,n.jsx)(S.Z,{id:"ui.composerIconButton.composer.success",defaultMessage:"ui.composerIconButton.composer.success"}),{action:t=>(0,n.jsx)(x.Z,Object.assign({to:A.url(f[`${e.type.toUpperCase()}_ROUTE_NAME`],l.p3(e))},{children:(0,n.jsx)(S.Z,{id:"ui.composerIconButton.composer.viewContribute",defaultMessage:"ui.composerIconButton.composer.viewContribute"})})),variant:"success",autoHideDuration:7e3});const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};D&&D.current&&D.current.addFeedData(t,!0)},defaultValue:{categories:[M]},feedType:Z.a.CATEGORY})}),CustomAdvProps:{categoriesId:[M.id]},enabledCustomAdvPositions:[O.n.POSITION_FEED_SIDEBAR,O.n.POSITION_FEED,O.n.POSITION_BELOW_TOPBAR]},R)):(0,n.jsx)(_.Z,{})}},45431:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var n=s(85893),o=s(63902),a=s(12805),i=s(90948),r=s(44267),c=s(78462),l=s(89546);const d={root:`${l.B}-skeleton-root`,list:`${l.B}-list`},u=(0,i.ZP)(o.Z,{name:l.B,slot:"SkeletonRoot"})((()=>({})));function g(e){return(0,n.jsx)(u,Object.assign({className:d.root},e,{children:(0,n.jsx)(r.Z,{children:(0,n.jsx)(c.Z,Object.assign({className:d.list},{children:[...Array(4)].map(((e,t)=>(0,n.jsx)(a.Z,{elevation:0},t)))}))})}))}},89546:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});const n="SCCategoryTrendingFeedWidget"},81820:(e,t,s)=>{"use strict";s.d(t,{Z:()=>z});var n=s(97582),o=s(85893),a=s(67294),i=s(90948),r=s(2734),c=s(37292),l=s(44267),d=s(15861),u=s(78462),g=s(97212),p=s(25662),m=s(63902),y=s(98704),h=s(24243),j=s(24085),x=s(59219),f=s(99960),b=s(5840),Z=s(75459),O=s(52693),_=s(12805),v=s(44012),N=s(37024),C=s(20819),S=s.n(C),T=s(39154),E=s(79558),I=s(45431),L=s(29360),k=s(54545),P=s(69721),R=s(22607),A=s(8860),F=s(41538),B=s(12918),D=s(98365),M=s(97265),U=s(12132),w=s(15927),K=s(89546);const W={root:`${K.B}-root`,title:`${K.B}-title`,noResults:`${K.B}-no-results`,showMore:`${K.B}-show-more`,dialogRoot:`${K.B}-dialog-root`,endMessage:`${K.B}-end-message`},$=(0,i.ZP)(m.Z,{name:K.B,slot:"Root"})((()=>({}))),X=(0,i.ZP)(T.Z,{name:K.B,slot:"DialogRoot"})((()=>({})));const z=function(e){const t=(0,L.Z)({props:e,name:K.B}),{className:s=null,categoryId:i=null,autoHide:m=null,limit:C=3,FeedObjectProps:T={template:N.r.SNIPPET},cacheStrategy:z=x.n2.CACHE_FIRST,onHeightChange:H,onStateChange:G,DialogProps:V={}}=t,Y=(0,n._T)(t,["className","categoryId","autoHide","limit","FeedObjectProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[q,J]=(0,a.useReducer)(w.Xi,{isLoadingNext:!1,next:null,cacheKey:P.hu(P.ol,i),cacheStrategy:z,visibleItems:C},w.Mv),[Q,ee]=(0,a.useState)(!1),te=(0,R.LD)(),se=(0,A.ko)(),ne=(0,F.sy)(),oe=(0,a.useMemo)((()=>B.Ao in se.preferences&&se.preferences[B.Ao].value),[se]),ae=(0,r.Z)(),ie=(0,c.Z)(ae.breakpoints.down("md")),{scCategory:re}=(0,D.Z)({id:i}),ce=re?re.id:null,le=(0,a.useMemo)((()=>()=>{q.initialized||q.isLoadingNext||(J({type:w.dK.LOADING_NEXT}),y.Z.getCategoryTrendingFeed(ce,{limit:C}).then((e=>{J({type:w.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{J({type:w.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),f.Y.error(Z.J,e)})))}),[ce,q.isLoadingNext,q.initialized,C,J]);(0,a.useEffect)((()=>{var e;let t;if(void 0!==te.user&&ce&&(oe||!oe&&(null===(e=te.user)||void 0===e?void 0:e.id)))return t=setTimeout(le),()=>{t&&clearTimeout(t)}}),[ce,te.user,oe]),(0,a.useEffect)((()=>{Q&&q.next&&q.results.length===C&&q.initialized&&(J({type:w.dK.LOADING_NEXT}),y.Z.getCategoryTrendingFeed(ce,{offset:C,limit:10}).then((e=>{J({type:w.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{J({type:w.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),f.Y.error(Z.J,e)})))}),[Q,C,q.next,q.results.length,q.initialized,ce]),(0,a.useEffect)((()=>{H&&H()}),[q.results]),(0,a.useEffect)((()=>{(oe||te.user)&&(0,b.U)(ce)&&z===x.n2.NETWORK_ONLY&&G&&G({cacheStrategy:x.n2.CACHE_FIRST})}),[oe,z,ce,te.user]);const de=(0,a.useMemo)((()=>()=>{J({type:w.dK.LOADING_NEXT}),h.Z.request({url:q.next,method:j.Z.CategoryTrendingFeed.method}).then((e=>{J({type:w.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[J,q.next]),ue=()=>{ee((e=>!e))};if(!oe&&!te.user||m&&!q.count&&q.initialized)return(0,o.jsx)(k.Z,{});if(!q.initialized)return(0,o.jsx)(I.Z,{});const ge=(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(d.Z,Object.assign({className:W.title,variant:"h5"},{children:(0,o.jsx)(v.Z,{id:"ui.categoryTrendingFeedWidget.title",defaultMessage:"ui.categoryTrendingFeedWidget.title"})})),q.count?(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(u.Z,{children:q.results.slice(0,q.visibleItems).map((e=>(0,o.jsx)(g.ZP,{children:(0,o.jsx)(O.Z,Object.assign({elevation:0,feedObject:e[e.type]},T))},e[e.type].id)))}),q.count>q.visibleItems&&(0,o.jsx)(p.Z,Object.assign({className:W.showMore},ie?{onClick:ue}:{component:M.Z,to:ne.url(U.CATEGORY_TRENDING_FEED_ROUTE_NAME,re)},{children:(0,o.jsx)(v.Z,{id:"ui.categoryTrendingFeedWidget.button.showAll",defaultMessage:"ui.categoryTrendingFeedWidget.button.showAll"})}))]}):(0,o.jsx)(d.Z,Object.assign({className:W.noResults,variant:"body2"},{children:(0,o.jsx)(v.Z,{id:"ui.categoryTrendingFeedWidget.noResults",defaultMessage:"ui.categoryTrendingFeedWidget.noResults"})})),Q&&(0,o.jsx)(X,Object.assign({className:W.dialogRoot,title:(0,o.jsx)(v.Z,{defaultMessage:"ui.categoryTrendingFeedWidget.title",id:"ui.categoryTrendingFeedWidget.title",values:{total:q.count}}),onClose:ue,open:Q},V,{children:(0,o.jsx)(E.Z,Object.assign({dataLength:q.results.length,next:de,hasMoreNext:Boolean(q.next),loaderNext:(0,o.jsx)(_.Z,Object.assign({elevation:0},T)),height:ie?"100%":400,endMessage:(0,o.jsx)(d.Z,Object.assign({className:W.endMessage},{children:(0,o.jsx)(v.Z,{id:"ui.categoryTrendingFeedWidget.noMoreResults",defaultMessage:"ui.categoryTrendingFeedWidget.noMoreResults"})}))},{children:(0,o.jsx)(u.Z,{children:q.results.map((e=>(0,o.jsx)(g.ZP,{children:(0,o.jsx)(O.Z,Object.assign({elevation:0,feedObject:e[e.type]},T))},e[e.type].id)))})}))}))]});return(0,o.jsx)($,Object.assign({className:S()(W.root,s)},Y,{children:ge}))}},14459:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s(85893),o=s(63902),a=s(50353),i=s(90948),r=s(44267),c=s(78462),l=s(97212),d=s(33584);const u={root:`${d.B}-skeleton-root`,list:`${d.B}-list`},g=(0,i.ZP)(o.Z,{name:d.B,slot:"SkeletonRoot"})((()=>({})));function p(e){return(0,n.jsx)(g,Object.assign({className:u.root},e,{children:(0,n.jsx)(r.Z,{children:(0,n.jsx)(c.Z,Object.assign({className:u.list},{children:[...Array(4)].map(((e,t)=>(0,n.jsx)(l.ZP,{children:(0,n.jsx)(a.Z,{elevation:0})},t)))}))})}))}},33584:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});const n="SCCategoryTrendingUsersWidget"},12673:(e,t,s)=>{"use strict";s.d(t,{Z:()=>K});var n=s(97582),o=s(85893),a=s(67294),i=s(90948),r=s(2734),c=s(37292),l=s(44267),d=s(15861),u=s(78462),g=s(97212),p=s(25662),m=s(63902),y=s(98704),h=s(24243),j=s(24085),x=s(69721),f=s(22607),b=s(8860),Z=s(12918),O=s(98365),_=s(44012),v=s(37089),N=s(50353),C=s(20819),S=s.n(C),T=s(39154),E=s(79558),I=s(14459),L=s(29360),k=s(54545),P=s(59219),R=s(99960),A=s(5840),F=s(15927),B=s(75459),D=s(33584);const M={root:`${D.B}-root`,title:`${D.B}-title`,noResults:`${D.B}-no-results`,showMore:`${D.B}-show-more`,dialogRoot:`${D.B}-dialog-root`,endMessage:`${D.B}-end-message`},U=(0,i.ZP)(m.Z,{name:D.B,slot:"Root"})((()=>({}))),w=(0,i.ZP)(T.Z,{name:D.B,slot:"DialogRoot"})((()=>({})));const K=function(e){const t=(0,L.Z)({props:e,name:D.B}),{className:s=null,categoryId:i=null,autoHide:m=null,limit:C=3,UserProps:T={},cacheStrategy:K=P.n2.CACHE_FIRST,onHeightChange:W,onStateChange:$,DialogProps:X={}}=t,z=(0,n._T)(t,["className","categoryId","autoHide","limit","UserProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[H,G]=(0,a.useReducer)(F.Xi,{isLoadingNext:!1,next:null,cacheKey:x.hu(x.zj,i),cacheStrategy:K,visibleItems:C},F.Mv),[V,Y]=(0,a.useState)(!1),q=(0,f.LD)(),J=(0,b.ko)(),Q=(0,a.useMemo)((()=>Z.Ao in J.preferences&&J.preferences[Z.Ao].value),[J]),ee=(0,r.Z)(),te=(0,c.Z)(ee.breakpoints.down("md")),{scCategory:se}=(0,O.Z)({id:i}),ne=se?se.id:null,oe=(0,a.useMemo)((()=>()=>{H.initialized||H.isLoadingNext||(G({type:F.dK.LOADING_NEXT}),y.Z.getCategoryTrendingFollowers(ne,{limit:C}).then((e=>{G({type:F.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{G({type:F.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),R.Y.error(B.J,e)})))}),[ne,H.isLoadingNext,H.initialized,C,G]);(0,a.useEffect)((()=>{var e;let t;if(void 0!==q.user&&ne&&(Q||!Q&&(null===(e=q.user)||void 0===e?void 0:e.id)))return t=setTimeout(oe),()=>{t&&clearTimeout(t)}}),[ne,q.user,Q]),(0,a.useEffect)((()=>{V&&H.next&&H.results.length===C&&H.initialized&&(G({type:F.dK.LOADING_NEXT}),y.Z.getCategoryTrendingFollowers(ne,{offset:C,limit:10}).then((e=>{G({type:F.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{G({type:F.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),R.Y.error(B.J,e)})))}),[V,C,H.next,H.initialized,H.results.length,ne]),(0,a.useEffect)((()=>{W&&W()}),[H.results]),(0,a.useEffect)((()=>{(Q||q.user)&&(0,A.U)(ne)&&K===P.n2.NETWORK_ONLY&&$&&$({cacheStrategy:P.n2.CACHE_FIRST})}),[Q,K,ne,q.user]);const ae=(0,a.useMemo)((()=>()=>{G({type:F.dK.LOADING_NEXT}),h.Z.request({url:H.next,method:j.Z.CategoryTrendingPeople.method}).then((e=>{G({type:F.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[G,H.next]),ie=()=>{Y((e=>!e))};if(!Q&&!q.user||m&&!H.count&&H.initialized)return(0,o.jsx)(k.Z,{});if(!H.initialized)return(0,o.jsx)(I.Z,{});const re=(0,o.jsxs)(l.Z,{children:[(0,o.jsx)(d.Z,Object.assign({className:M.title,variant:"h5"},{children:(0,o.jsx)(_.Z,{id:"ui.categoryTrendingUsersWidget.title",defaultMessage:"ui.categoryTrendingUsersWidget.title"})})),H.count?(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(u.Z,{children:H.results.slice(0,H.visibleItems).map((e=>(0,o.jsx)(g.ZP,{children:(0,o.jsx)(v.Z,Object.assign({elevation:0,user:e},T))},e.id)))}),H.count>H.visibleItems&&(0,o.jsx)(p.Z,Object.assign({className:M.showMore,onClick:ie},{children:(0,o.jsx)(_.Z,{id:"ui.categoryTrendingUsersWidget.button.showAll",defaultMessage:"ui.categoryTrendingUsersWidget.button.showAll"})}))]}):(0,o.jsx)(d.Z,Object.assign({className:M.noResults,variant:"body2"},{children:(0,o.jsx)(_.Z,{id:"ui.categoryTrendingUsersWidget.noResults",defaultMessage:"ui.categoryTrendingUsersWidget.noResults"})})),V&&(0,o.jsx)(w,Object.assign({className:M.dialogRoot,title:(0,o.jsx)(_.Z,{defaultMessage:"ui.categoryTrendingUsersWidget.title",id:"ui.categoryTrendingUsersWidget.title",values:{total:H.count}}),onClose:ie,open:V},X,{children:(0,o.jsx)(E.Z,Object.assign({dataLength:H.results.length,next:ae,hasMoreNext:Boolean(H.next),loaderNext:(0,o.jsx)(N.Z,Object.assign({elevation:0},T)),height:te?"100%":400,endMessage:(0,o.jsx)(d.Z,Object.assign({className:M.endMessage},{children:(0,o.jsx)(_.Z,{id:"ui.categoryTrendingUsersWidget.noMoreResults",defaultMessage:"ui.categoryTrendingUsersWidget.noMoreResults"})}))},{children:(0,o.jsx)(u.Z,{children:H.results.map((e=>(0,o.jsx)(g.ZP,{children:(0,o.jsx)(v.Z,Object.assign({elevation:0,user:e},T))},e.id)))})}))}))]});return(0,o.jsx)(U,Object.assign({className:S()(M.root,s)},z,{children:re}))}},24540:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var n=s(85893),o=s(90948),a=s(44267),i=s(94253),r=s(88078),c=s(63902),l=s(31717);const d={root:`${l.B}-skeleton-root`,content:`${l.B}-content`,input:`${l.B}-input`,avatar:`${l.B}-avatar`},u=(0,o.ZP)(c.Z,{name:l.B,slot:"SkeletonRoot"})((()=>({})));function g(){return(0,n.jsx)(u,Object.assign({className:d.root},{children:(0,n.jsxs)(a.Z,Object.assign({className:d.content},{children:[(0,n.jsx)(i.Z,Object.assign({className:d.input},{children:(0,n.jsx)(r.Z,{animation:"wave",variant:"text"})})),(0,n.jsx)(i.Z,Object.assign({className:d.avatar},{children:(0,n.jsx)(r.Z,{className:d.avatar,animation:"wave",variant:"circular"})}))]}))}))}},31717:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});const n="SCInlineComposerWidget"},93132:(e,t,s)=>{"use strict";s.d(t,{Z:()=>L});var n=s(97582),o=s(85893),a=s(67294),i=s(9774),r=s(62254),c=s(22607),l=s(41538),d=s(8860),u=s(12918),g=s(65580),p=s(97265),m=s(12132),y=s(90948),h=s(44267),j=s(94253),x=s(25662),f=s(87952),b=s(44012),Z=s(20377),O=s(63902),_=s(29360),v=s(4943),N=s(62887),C=s(70815),S=s(31717),T=s(54545);const E={root:`${S.B}-root`,content:`${S.B}-content`,input:`${S.B}-input`,avatar:`${S.B}-avatar`},I=(0,y.ZP)(O.Z,{name:S.B,slot:"Root"})((()=>({})));const L=function(e){const t=(0,_.Z)({props:e,name:S.B}),{mediaObjectTypes:s=[N.Z,C.Z],defaultValue:y,onSuccess:O=null,label:L,feedType:k=i.a.HOME}=t,P=(0,n._T)(t,["mediaObjectTypes","defaultValue","onSuccess","label","feedType"]),R=(0,r.RM)(),A=(0,c.LD)(),F=(0,l.sy)(),{enqueueSnackbar:B}=(0,Z.Ds)(),D=(0,d.ko)(),M=(0,a.useMemo)((()=>D.preferences[u.Kq].value),[D.preferences]),[U,w]=(0,a.useState)(!1),K=(0,a.useCallback)((()=>{A.user?g.IT(A.user)?B((0,o.jsx)(b.Z,{id:"ui.common.userBlocked",defaultMessage:"ui.common.userBlocked"}),{variant:"warning",autoHideDuration:3e3}):w(!0):R.settings.handleAnonymousAction()}),[A.user,R.settings]),W=(0,a.useCallback)((()=>{w(!1)}),[]);return!g.B2(A.user)&&M?(0,o.jsx)(T.Z,{}):(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(I,Object.assign({className:E.root},P,{children:(0,o.jsxs)(h.Z,Object.assign({className:E.content},{children:[(0,o.jsx)(j.Z,Object.assign({className:E.input},{children:(0,o.jsx)(x.Z,Object.assign({variant:"text",disableFocusRipple:!0,disableRipple:!0,disableElevation:!0,onClick:K,fullWidth:!0,color:"inherit"},{children:null!=L?L:(0,o.jsx)(b.Z,{id:"ui.inlineComposerWidget.label",defaultMessage:"ui.inlineComposerWidget.label"})}))})),(0,o.jsx)(j.Z,Object.assign({className:E.avatar},{children:A.user?(0,o.jsx)(p.Z,Object.assign({to:F.url(m.USER_PROFILE_ROUTE_NAME,A.user)},{children:(0,o.jsx)(f.Z,{alt:A.user.username,variant:"circular",src:A.user.avatar})})):(0,o.jsx)(f.Z,{variant:"circular"})}))]}))})),U&&(0,o.jsx)(v.Z,{open:U,mediaObjectTypes:s,defaultValue:y,fullWidth:!0,onClose:W,onSuccess:e=>{O?O(e):B((0,o.jsx)(b.Z,{id:"ui.inlineComposerWidget.success",defaultMessage:"ui.inlineComposerWidget.success"}),{variant:"success",autoHideDuration:3e3}),w(!1)},feedType:k})]})}},15927:(e,t,s)=>{"use strict";s.d(t,{Mv:()=>i,Xi:()=>a,dK:()=>o});var n=s(59219);const o={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",INITIALIZE:"_initialize",RESET:"_reset"};function a(e,t){var s;let a=Object.assign({},e);switch(t.type){case o.LOADING_NEXT:a=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case o.LOADING_PREVIOUS:a=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case o.LOAD_NEXT_SUCCESS:a=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(s=t.payload)||void 0===s?void 0:s.initialized)||!0});break;case o.LOAD_PREVIOUS_SUCCESS:a=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case o.SET_RESULTS:a=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case o.SET_VISIBLE_ITEMS:a=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case o.LOAD_NEXT_FAILURE:a=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case o.LOAD_PREVIOUS_FAILURE:a=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case o.RESET:a={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1};break;case o.INITIALIZE:a={cacheKey:t.payload.cacheKey?t.payload.cacheKey:null,count:t.payload.count?t.payload.count:0,results:t.payload.results?t.payload.results:[],next:t.payload.next?t.payload.next:null,previous:t.payload.previous?t.payload.previous:null,isLoadingNext:!!t.payload.isLoadingNext&&t.payload.isLoadingNext,isLoadingPrevious:!!t.payload.isLoadingPrevious&&t.payload.isLoadingPrevious,visibleItems:t.payload.visibleItems?t.payload.visibleItems:null,initialized:!1}}return n.ZP.set(a.cacheKey,a),a}function i(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&n.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==n.n2.NETWORK_ONLY){const e=n.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},5840:(e,t,s)=>{"use strict";function n(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}s.d(t,{U:()=>n})},95321:(e,t)=>{var s;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var s=arguments[t];s&&(e=i(e,a(s)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var s in e)n.call(e,s)&&e[s]&&(t=i(t,s));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(s=function(){return o}.apply(t,[]))||(e.exports=s)}()}}]);