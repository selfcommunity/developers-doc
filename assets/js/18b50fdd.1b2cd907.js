/*! For license information please see 18b50fdd.1b2cd907.js.LICENSE.txt */
(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[1237],{92991:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var n=o(67294),r=o(27331),a=o(5730);function i(e,t){void 0===e&&(e=""),void 0===t&&(t={});const o=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:o})}function s(){if((0,a.Z)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:r.r.user.client_id,grant_type:"refresh_token"};return i(`${r.r.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function l(){const e=(0,a.Z)(),[t,o]=(0,n.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,n.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?i(`${r.r.portal}/oauth/token/`,r.r.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{o(e)})):e&&o(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,n.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var c=o(53704),u=o(21367),d=o(19666),m=o(85893);function p(e){let{children:t}=e;const o=l(),n={portal:r.r.portal,locale:{default:"en"},session:{type:"OAuth",clientId:r.r.user.client_id,authToken:o,handleRefreshToken:s},theme:u.Z,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,m.jsx)(d.Z,{children:()=>(0,m.jsx)(c.ZP,{conf:n,children:t})})}},27331:(e,t,o)=>{"use strict";o.d(t,{r:()=>n});const n={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://api.fashionista.community"}},13271:(e,t,o)=>{"use strict";o.r(t),o.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>p,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var n=o(85893),r=o(11151),a=o(92991),i=o(5208);const s={sidebar_label:"Platform Widget",sidebar_position:1,title:"Platform Widget"},l=void 0,c={id:"sdk/community-js/react-ui/Components/Platform",title:"Platform Widget",description:"The Platform Widget renders a card composed of three buttons that allows admin and moderator users to manage the application content.",source:"@site/docs/sdk/community-js/react-ui/Components/Platform.mdx",sourceDirName:"sdk/community-js/react-ui/Components",slug:"/sdk/community-js/react-ui/Components/Platform",permalink:"/docs/sdk/community-js/react-ui/Components/Platform",draft:!1,unlisted:!1,editUrl:"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/Platform.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Platform Widget",sidebar_position:1,title:"Platform Widget"},sidebar:"sdkSidebar",previous:{title:"Navigation Toolbar Mobile",permalink:"/docs/sdk/community-js/react-ui/Components/NavigationToolbarMobile"},next:{title:"Poll Suggestion",permalink:"/docs/sdk/community-js/react-ui/Components/PollSuggestion"}},u={},d=[{value:"Usage",id:"usage",level:4}];function m(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"The Platform Widget renders a card composed of three buttons that allows admin and moderator users to manage the application content."}),"\n"]}),"\n","\n","\n",(0,n.jsx)(a.Z,{children:(0,n.jsx)(i.Z,{})}),"\n",(0,n.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {PlatformWidget} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><PlatformWidget /></SCContextProvider>\n   );\n }\n"})})]})}function p(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(m,{...e})}):m(e)}},66242:(e,t,o)=>{"use strict";o.d(t,{Z:()=>g});var n=o(83117),r=o(80102),a=o(67294),i=o(63961),s=o(94780),l=o(90948),c=o(71657),u=o(90629),d=o(1588),m=o(34867);function p(e){return(0,m.Z)("MuiCard",e)}(0,d.Z)("MuiCard",["root"]);var f=o(85893);const h=["className","raised"],v=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),g=a.forwardRef((function(e,t){const o=(0,c.Z)({props:e,name:"MuiCard"}),{className:a,raised:l=!1}=o,u=(0,r.Z)(o,h),d=(0,n.Z)({},o,{raised:l}),m=(e=>{const{classes:t}=e;return(0,s.Z)({root:["root"]},p,t)})(d);return(0,f.jsx)(v,(0,n.Z)({className:(0,i.Z)(m.root,a),elevation:l?8:void 0,ref:t,ownerState:d},u))}))},90629:(e,t,o)=>{"use strict";o.d(t,{Z:()=>Z});var n=o(80102),r=o(83117),a=o(67294),i=o(63961),s=o(94780),l=o(41796),c=o(90948);const u=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};var d=o(71657),m=o(1588),p=o(34867);function f(e){return(0,p.Z)("MuiPaper",e)}(0,m.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var h=o(85893);const v=["className","component","elevation","square","variant"],g=(0,c.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],!o.square&&t.rounded,"elevation"===o.variant&&t[`elevation${o.elevation}`]]}})((({theme:e,ownerState:t})=>{var o;return(0,r.Z)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${(e.vars||e).palette.divider}`},"elevation"===t.variant&&(0,r.Z)({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,l.Fq)("#fff",u(t.elevation))}, ${(0,l.Fq)("#fff",u(t.elevation))})`},e.vars&&{backgroundImage:null==(o=e.vars.overlays)?void 0:o[t.elevation]}))})),Z=a.forwardRef((function(e,t){const o=(0,d.Z)({props:e,name:"MuiPaper"}),{className:a,component:l="div",elevation:c=1,square:u=!1,variant:m="elevation"}=o,p=(0,n.Z)(o,v),Z=(0,r.Z)({},o,{component:l,elevation:c,square:u,variant:m}),y=(e=>{const{square:t,elevation:o,variant:n,classes:r}=e,a={root:["root",n,!t&&"rounded","elevation"===n&&`elevation${o}`]};return(0,s.Z)(a,f,r)})(Z);return(0,h.jsx)(g,(0,r.Z)({as:l,ownerState:Z,className:(0,i.Z)(y.root,a),ref:t},p))}))},15861:(e,t,o)=>{"use strict";o.d(t,{Z:()=>k});var n=o(80102),r=o(83117),a=o(67294),i=o(63961),s=o(39707),l=o(94780),c=o(90948),u=o(71657),d=o(98216),m=o(1588),p=o(34867);function f(e){return(0,p.Z)("MuiTypography",e)}(0,m.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var h=o(85893);const v=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.variant&&t[o.variant],"inherit"!==o.align&&t[`align${(0,d.Z)(o.align)}`],o.noWrap&&t.noWrap,o.gutterBottom&&t.gutterBottom,o.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,r.Z)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),Z={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},y={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},k=a.forwardRef((function(e,t){const o=(0,u.Z)({props:e,name:"MuiTypography"}),a=(e=>y[e]||e)(o.color),c=(0,s.Z)((0,r.Z)({},o,{color:a})),{align:m="inherit",className:p,component:k,gutterBottom:b=!1,noWrap:P=!1,paragraph:x=!1,variant:w="body1",variantMapping:C=Z}=c,j=(0,n.Z)(c,v),S=(0,r.Z)({},c,{align:m,color:a,className:p,component:k,gutterBottom:b,noWrap:P,paragraph:x,variant:w,variantMapping:C}),M=k||(x?"p":C[w]||Z[w])||"span",W=(e=>{const{align:t,gutterBottom:o,noWrap:n,paragraph:r,variant:a,classes:i}=e,s={root:["root",a,"inherit"!==e.align&&`align${(0,d.Z)(t)}`,o&&"gutterBottom",n&&"noWrap",r&&"paragraph"]};return(0,l.Z)(s,f,i)})(S);return(0,h.jsx)(g,(0,r.Z)({as:M,ref:t,ownerState:S,className:(0,i.Z)(W.root,p)},j))}))},2734:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});o(67294);var n=o(96682),r=o(90247),a=o(10606);function i(){const e=(0,n.Z)(r.Z);return e[a.Z]||e}},39707:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(83117),r=o(80102),a=o(59766),i=o(44920);const s=["sx"],l=e=>{var t,o;const n={systemProps:{},otherProps:{}},r=null!=(t=null==e||null==(o=e.theme)?void 0:o.unstable_sxConfig)?t:i.Z;return Object.keys(e).forEach((t=>{r[t]?n.systemProps[t]=e[t]:n.otherProps[t]=e[t]})),n};function c(e){const{sx:t}=e,o=(0,r.Z)(e,s),{systemProps:i,otherProps:c}=l(o);let u;return u=Array.isArray(t)?[i,...t]:"function"==typeof t?(...e)=>{const o=t(...e);return(0,a.P)(o)?(0,n.Z)({},i,o):i}:(0,n.Z)({},i,t),(0,n.Z)({},c,{sx:u})}},65580:(e,t,o)=>{"use strict";o.d(t,{B2:()=>u,GJ:()=>l,IT:()=>d,vJ:()=>c});var n=o(38146);const r="admin",a="moderator",i="editor";function s(e){if(e&&e.role){const t=e.role;if(t===r)return r;if(t===a)return a;if(t===i)return i}return null}function l(e){return s(e)===r}function c(e){return s(e)===a}function u(e){return l(e)||c(e)||function(e){return s(e)===i}(e)}function d(e){return e&&e.status&&e.status===n.m.BLOCKED}},5208:(e,t,o)=>{"use strict";o.d(t,{Z:()=>w});var n=o(97582),r=o(67294),a=o(90948),i=o(86886),s=o(15861),l=o(69417),c=o(65001),u=o(24085),d=o(68689),m=o(6237),p=o(65580),f=o(67564),h=o(44012),v=o(94184),g=o.n(v),Z=o(63902),y=o(29628),k=o(54545);const b="SCPlatformWidget",P={root:`${b}-root`,title:`${b}-title`},x=(0,a.ZP)(Z.Z,{name:b,slot:"Root"})((()=>({})));const w=function(e){var t;const o=(0,y.Z)({props:e,name:b}),{autoHide:a,className:v,onHeightChange:Z,onStateChange:w}=o,C=(0,n._T)(o,["autoHide","className","onHeightChange","onStateChange"]),j=(0,r.useContext)(d.K8),S=(0,m.yL)().locale,M=(0,r.useMemo)((()=>p.GJ(j.user)),[j.user]),W=(0,r.useMemo)((()=>p.vJ(j.user)),[j.user]);function _(e){c.Z.request({url:u.Z.Platform.url(),method:u.Z.Platform.method,params:{next:e}}).then((e=>{const t=e.data.platform_url;window.open(t,"_blank").focus()})).catch((e=>{console.log(e)}))}const N=r.createElement(i.ZP,{container:!0,spacing:M?1:3,justifyContent:"center"},r.createElement(i.ZP,{item:!0,xs:12},r.createElement(s.Z,{className:P.title,component:"h3",align:"center"},r.createElement(h.Z,{id:"ui.platformWidget.title",defaultMessage:"ui.platformWidget.title"}),r.createElement(f.Z,{fontSize:"small"},"lock"))),M&&r.createElement(i.ZP,{item:!0,xs:"auto"},r.createElement(l.Z,{variant:"outlined",size:"small",onClick:()=>_("")},r.createElement(h.Z,{id:"ui.platformWidget.adm",defaultMessage:"ui.platformWidget.adm"}))),r.createElement(i.ZP,{item:!0,xs:"auto"},r.createElement(l.Z,{variant:"outlined",size:"small",onClick:()=>_("/moderation/flags/")},M||W?r.createElement(h.Z,{id:"ui.platformWidget.mod",defaultMessage:"ui.platformWidget.mod"}):r.createElement(h.Z,{id:"ui.platformWidget.edt",defaultMessage:"ui.platformWidget.edt"}))),r.createElement(i.ZP,{item:!0,xs:"auto"},r.createElement(l.Z,{variant:"outlined",size:"small",href:`https://support.selfcommunity.com/hc/${S}`,target:"_blank"},r.createElement(h.Z,{id:"ui.platformWidget.hc",defaultMessage:"ui.platformWidget.hc"}))));return!a&&(null===(t=null==j?void 0:j.user)||void 0===t?void 0:t.role)?r.createElement(x,Object.assign({className:g()(P.root,v)},C),N):r.createElement(k.Z,null)}},63902:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var n=o(97582),r=o(67294),a=o(90948),i=o(66242),s=o(94184),l=o.n(s);const c="SCWidget",u={root:`${c}-root`},d=(0,a.ZP)(i.Z,{name:c,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),m=(0,r.forwardRef)(((e,t)=>{const{className:o,onHeightChange:a,onStateChange:i}=e,s=(0,n._T)(e,["className","onHeightChange","onStateChange"]);return r.createElement(d,Object.assign({className:l()(u.root,o)},s,{ref:t}))}))},54545:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var n=o(67294);const r=(0,o(90948).ZP)("div",{name:"SCHiddenPlaceholder",slot:"Root",overridesResolver:(e,t)=>[t.root]})((()=>({height:1,width:"100%",display:"none"})));function a(e){return n.createElement(r,Object.assign({},e))}},94184:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var i=r.apply(null,o);i&&e.push(i)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var s in o)n.call(o,s)&&o[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},44012:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var n=o(25719),r=o(67294),a=o(86896),i=o(680);function s(e){var t=(0,a.Z)(),o=t.formatMessage,n=t.textComponent,i=void 0===n?r.Fragment:n,s=e.id,l=e.description,c=e.defaultMessage,u=e.values,d=e.children,m=e.tagName,p=void 0===m?i:m,f=o({id:s,description:l,defaultMessage:c},u,{ignoreTag:e.ignoreTag});return"function"==typeof d?d(Array.isArray(f)?f:[f]):p?r.createElement(p,null,r.Children.toArray(f)):r.createElement(r.Fragment,null,f)}s.displayName="FormattedMessage";var l=r.memo(s,(function(e,t){var o=e.values,r=(0,n._T)(e,["values"]),a=t.values,s=(0,n._T)(t,["values"]);return(0,i.wU)(a,o)&&(0,i.wU)(r,s)}));l.displayName="MemoizedFormattedMessage";const c=l}}]);