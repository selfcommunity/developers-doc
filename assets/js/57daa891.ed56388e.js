/*! For license information please see 57daa891.ed56388e.js.LICENSE.txt */
(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[11811],{9063:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(74848);const o=(0,n(11848).Ay)("div",{name:"SCHiddenPlaceholder",slot:"Root",overridesResolver:(e,t)=>[t.root]})((()=>({height:1,width:"100%",display:"none"})));function s(e){return(0,r.jsx)(o,Object.assign({},e))}},19546:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=i(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=i(t,n));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},28692:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o,So:()=>r});var r;!function(e){e.CACHE_FIRST="Cache-first",e.NETWORK_ONLY="Network-only",e.STALE_WHILE_REVALIDATE="Stale-While-Revalidate"}(r||(r={}));const o=new class{constructor(e=1e4){this.values=new Map,this.maxEntries=e,this.ssr="undefined"==typeof window,this.ssr||(window.__viewSCCache=this.values)}get(e,t,n={noSsr:!0}){let r;return this.values.has(e)?(r=this.values.get(e),this.values.delete(e),this.values.set(e,r)):t&&(r=t,(!this.ssr||!n.noSsr)&&this.values.set(e,r)),r}set(e,t,n={noSsr:!0}){if(!this.ssr||!n.noSsr){if(this.values.size>=this.maxEntries){const e=this.values.keys().next().value;this.values.delete(e)}this.values.set(e,t)}}hasKey(e){return this.values.has(e)}delete(e){this.values.has(e)&&this.values.delete(e)}deleteKeys(e){e.forEach((e=>{this.values.has(e)&&this.values.delete(e)}))}deleteKeysWithPrefix(e){this.values.forEach(((t,n)=>{n.startsWith(e)&&this.values.delete(n)}))}clean(){this.values=new Map}evaluate(){console.log(this.values)}}},36175:(e,t,n)=>{"use strict";n.d(t,{F:()=>r});const r={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://internal.selfcommunity.io/mkg2zxd0"}},37180:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(96540),o=n(36175),s=n(75251);function i(e,t){void 0===e&&(e=""),void 0===t&&(t={});const n=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:n})}function c(){if((0,s.A)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:o.F.user.client_id,grant_type:"refresh_token"};return i(`${o.F.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function u(){const e=(0,s.A)(),[t,n]=(0,r.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,r.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?i(`${o.F.portal}/oauth/token/`,o.F.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{n(e)})):e&&n(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,r.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var a=n(45284),d=n(51151),l=n(73906),m=n(74848);function h(e){let{children:t}=e;const n=u(),r={portal:o.F.portal,locale:{default:"en"},session:{type:"OAuth",clientId:o.F.user.client_id,authToken:n,handleRefreshToken:c},theme:d.Ay,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,m.jsx)(l.A,{children:()=>(0,m.jsx)(a.Ay,{conf:r,children:t})})}},40936:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(96540);function o(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:"contentBoxSize"===t?e.contentRect["inlineSize"===n?"width":"height"]:void 0}function s(e){void 0===e&&(e={});var t=e.onResize,n=(0,r.useRef)(void 0);n.current=t;var s=e.round||Math.round,i=(0,r.useRef)(),c=(0,r.useState)({width:void 0,height:void 0}),u=c[0],a=c[1],d=(0,r.useRef)(!1);(0,r.useEffect)((function(){return d.current=!1,function(){d.current=!0}}),[]);var l=(0,r.useRef)({width:void 0,height:void 0}),m=function(e,t){var n=(0,r.useRef)(null),o=(0,r.useRef)(null);o.current=t;var s=(0,r.useRef)(null);(0,r.useEffect)((function(){i()}));var i=(0,r.useCallback)((function(){var t=s.current,r=o.current,i=t||(r?r instanceof Element?r:r.current:null);n.current&&n.current.element===i&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:i,subscriber:e,cleanup:i?e(i):void 0})}),[e]);return(0,r.useEffect)((function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}}),[]),(0,r.useCallback)((function(e){s.current=e,i()}),[i])}((0,r.useCallback)((function(t){return i.current&&i.current.box===e.box&&i.current.round===s||(i.current={box:e.box,round:s,instance:new ResizeObserver((function(t){var r=t[0],i="border-box"===e.box?"borderBoxSize":"device-pixel-content-box"===e.box?"devicePixelContentBoxSize":"contentBoxSize",c=o(r,i,"inlineSize"),u=o(r,i,"blockSize"),m=c?s(c):void 0,h=u?s(u):void 0;if(l.current.width!==m||l.current.height!==h){var f={width:m,height:h};l.current.width=m,l.current.height=h,n.current?n.current(f):d.current||a(f)}}))}),i.current.instance.observe(t,{box:e.box}),function(){i.current&&i.current.instance.unobserve(t)}}),[e.box,s]),e.ref);return(0,r.useMemo)((function(){return{ref:m,width:u.width,height:u.height}}),[m,u.width,u.height])}},60361:(e,t,n)=>{"use strict";n.d(t,{A:()=>S});var r=n(74848),o=n(96540),s=n(11848),i=n(71194),c=n(39840),u=n(42269),a=n(13550),d=n(29368),l=n(28692),m=n(94520),h=n(86354);var f=n(19546),p=n.n(f),_=n(79197),v=n(9063),g=n(62645),A=n(40936);const C="SCCustomAdv",x={root:`${C}-root`,wrap:`${C}-wrap`,image:`${C}-image`,embedCode:`${C}-embed-code`,prefixedHeight:`${C}-prefixed-height`},b=(0,s.Ay)(i.A,{name:C,slot:"Root"})((()=>({})));const S=function(e){const t=(0,_.A)({props:e,name:C}),{id:n="custom_adv",className:s,advId:f=null,position:S,categoriesId:y,prefixedHeight:k,onStateChange:j,onHeightChange:$}=t,w=(0,c.A)(),R=(0,o.useRef)(0),{scCustomAdv:T}=function({id:e=null,position:t=null,categoriesId:n=null,active:r=!0,cacheStrategy:s=l.So.CACHE_FIRST}){const[i,f]=(0,o.useState)(null!==e&&s===l.So.CACHE_FIRST&&l.Ay.get((0,h.SP)(e))?l.Ay.get((0,h.SP)(e)):null),[p,_]=(0,o.useState)(null),v=(0,c.A)(),g=(0,o.useMemo)((()=>e=>{e.map((e=>{l.Ay.set((0,h.SP)(e.id),e)}))}),[]),A=(0,o.useMemo)((()=>()=>null!==e?a.A.request({url:`${d.A.CustomAdv.url({id:e})}?active=${Boolean(r)}`,method:d.A.CustomAdv.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve([e.data]))):a.A.request({url:`${d.A.CustomAdvSearch.url({})}?active=${Boolean(r)}`,method:d.A.CustomAdvSearch.method,params:Object.assign(Object.assign({},t&&{position:t}),{categories:n?`[${n.toString()}]`:"[]"})}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data.results)))),[e,t,`${n}`]);return(0,o.useEffect)((()=>{i&&s===l.So.CACHE_FIRST||A().then((e=>{v.current&&f(e[Math.floor(Math.random()*e.length)]),g(e)})).catch((e=>{v.current&&_(`Custom ADV with position ${t} not found`),m.V.error(u.K,`Custom ADV with position ${t} not found`),m.V.error(u.K,e.message)}))}),[e,t,`${n}`,i]),{scCustomAdv:i,setSCCustomAdv:f,error:p}}({id:f,position:S,categoriesId:y});(0,g.ho)((()=>{T&&j&&j({advId:T.id,prefixedHeight:R.current}),$&&$()}),[T]);const{ref:E}=(0,A.A)({round:e=>e,onResize:({width:e,height:t})=>{w.current&&(R.current=t,j&&j({advId:T.id,prefixedHeight:t}))}}),N=(0,o.useRef)(null);if((0,o.useEffect)((()=>{const e=null==T?void 0:T.embed_code,t=N.current;if(t&&e){const n=document.createElement("div");n.innerHTML=e;const r=n.getElementsByTagName("script"),o=[];for(let e of r){if(e.src){const t=document.createElement("script");t.src=e.src,document.body.appendChild(t)}else o.push(e.innerHTML);e.parentNode.removeChild(e)}t.innerHTML=n.innerHTML,o.forEach((e=>{try{const t=document.createElement("script");t.appendChild(document.createTextNode(e)),document.body.appendChild(t)}catch(t){console.error("Error executing script",t)}}))}}),[T]),!T)return(0,r.jsx)(v.A,{});const I=(0,r.jsxs)(i.A,Object.assign({className:x.wrap},{children:[T.image&&(0,r.jsx)("img",{src:T.image,alt:T.title,className:p()(x.image,{[x.prefixedHeight]:Boolean(k)})}),T.embed_code&&(0,r.jsx)(i.A,{ref:N,className:p()(x.embedCode,{[x.prefixedHeight]:Boolean(k)}),dangerouslySetInnerHTML:{__html:T.embed_code}})]}));return(0,r.jsx)(b,Object.assign({id:n,className:p()(x.root,s),ref:E,style:Object.assign({},k?{paddingBottom:k}:{width:"100%"})},{children:T.link?(0,r.jsx)("a",Object.assign({href:T.link,title:T.title,target:"_blank"},{children:I})):I}))}},71194:(e,t,n)=>{"use strict";n.d(t,{A:()=>A});var r=n(59703),o=n(85486),s=n(96540),i=n(54533),c=n(11659),u=n(13168),a=n(99918),d=n(75131),l=n(74848);const m=["className","component"];var h=n(79071),f=n(21789),p=n(58312);const _=(0,n(38413).A)("MuiBox",["root"]),v=(0,f.A)(),g=function(e={}){const{themeId:t,defaultTheme:n,defaultClassName:h="MuiBox-root",generateClassName:f}=e,p=(0,c.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(u.A);return s.forwardRef((function(e,s){const c=(0,d.A)(n),u=(0,a.A)(e),{className:_,component:v="div"}=u,g=(0,o.A)(u,m);return(0,l.jsx)(p,(0,r.A)({as:v,ref:s,className:(0,i.A)(_,f?f(h):h),theme:t&&c[t]||c},g))}))}({themeId:p.A,defaultTheme:v,defaultClassName:_.root,generateClassName:h.A.generate}),A=g},75131:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(37953),o=n(97494);const s=(0,r.A)();const i=function(e=s){return(0,o.A)(e)}},86354:(e,t,n)=>{"use strict";n.d(t,{$M:()=>J,$l:()=>i,B4:()=>M,E3:()=>$,Gb:()=>R,I$:()=>f,Jl:()=>b,MI:()=>c,Mt:()=>k,N$:()=>V,N7:()=>B,NH:()=>j,OO:()=>_,OQ:()=>g,QO:()=>C,SB:()=>N,SP:()=>y,T4:()=>h,Vm:()=>I,WG:()=>d,X_:()=>w,ar:()=>o,cn:()=>m,fL:()=>a,fq:()=>l,g8:()=>K,gN:()=>A,hI:()=>u,hl:()=>H,ih:()=>z,io:()=>O,iu:()=>W,j$:()=>S,j3:()=>U,lG:()=>r,lV:()=>F,n7:()=>x,oF:()=>P,ss:()=>T,v$:()=>p,vJ:()=>L,zM:()=>q,zp:()=>E});const r=(e,t)=>`_fo_${t}_${e}`,o=e=>`_co_${e}`,s="_cos_",i=(e,t,n)=>`${s}${t}_${e}_${n}`,c=(e,t)=>`${s}${t}_${e}`,u=()=>"_cas_",a=e=>`_ca_${e}`,d=e=>`_crs_${e}`,l=e=>`_evt_${e}`,m=()=>"_evts_",h=e=>`_liveStream_${e}`,f=e=>`_grp_${e}`,p=()=>"_grps_",_=e=>`_inc_${e}`,v="_contr_",g=(e,t,n)=>`${v}${t}_${e}_${n}`,A=()=>"_bcms_",C=(e,t)=>`_feed_${e}_${t}`,x=e=>`_feed_st_${e}`,b=e=>`_virtualized_scroll_st_${e}`,S=e=>`_feed_spos_${e}`,y=e=>`_adv_${e}`,k=()=>"_pmss_",j=e=>`_pms_${e}`,$=e=>`_ppo_${e}`,w=e=>`_pord_${e}`,R="_cFolWidget_",T="_cSugWidget_",E="_cPopWidget_",N="_uFolWidget_",I="_uFoldWidget_",O="_uCreCoursesWidget_",W="_uUserLives_",P="_uConWidget_",M="_uConReqWidget_",F="_uConReqSentWidget_",H="_fTrendWidget_",B="_rFeedWidget_",z="_pTrendWidget_",L="_pSugWidget_",q="_iListWidget_",J="_iSugWidget_",V="_pSugWidget_",K="_gSubWidget_",U=(e,t=void 0)=>`${e}${void 0!==t?t:""}`},90078:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>u,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"sdk/community-js/react-ui/Components/CustomAdv","title":"Custom Adv","description":"The Custom Adv component renders custom adv banners.","source":"@site/docs/sdk/community-js/react-ui/Components/CustomAdv.mdx","sourceDirName":"sdk/community-js/react-ui/Components","slug":"/sdk/community-js/react-ui/Components/CustomAdv","permalink":"/docs/sdk/community-js/react-ui/Components/CustomAdv","draft":false,"unlisted":false,"editUrl":"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/CustomAdv.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Custom Adv","sidebar_position":1,"title":"Custom Adv"},"sidebar":"sdkSidebar","previous":{"title":"Comments Feed Object","permalink":"/docs/sdk/community-js/react-ui/Components/CommentsFeedObject"},"next":{"title":"Editor","permalink":"/docs/sdk/community-js/react-ui/Components/Editor"}}');var o=n(74848),s=n(28453),i=n(37180),c=n(60361);const u={sidebar_label:"Custom Adv",sidebar_position:1,title:"Custom Adv"},a=void 0,d={},l=[{value:"Usage",id:"usage",level:4}];function m(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"The Custom Adv component renders custom adv banners."}),"\n"]}),"\n","\n",(0,o.jsx)(i.A,{children:(0,o.jsx)(c.A,{})}),"\n",(0,o.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {CustomAdv} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><CustomAdv /></SCContextProvider>\n   );\n }\n"})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(m,{...e})}):m(e)}}}]);