(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[93090],{1935:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(74705).A},9063:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var o=s(74848);const a=(0,s(11848).Ay)("div",{name:"SCHiddenPlaceholder",slot:"Root",overridesResolver:(e,t)=>[t.root]})((()=>({height:1,width:"100%",display:"none"})));function n(e){return(0,o.jsx)(a,Object.assign({},e))}},21810:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var o=s(74848),a=s(44806),n=s(86857),i=s(11848),r=s(25292),l=s(28820),c=s(36870),d=s(29440);const u={root:`${d.H}-skeleton-root`,list:`${d.H}-list`},g=(0,i.Ay)(n.A,{name:d.H,slot:"SkeletonRoot"})((()=>({})));function p(e){return(0,o.jsx)(g,Object.assign({className:u.root},e,{children:(0,o.jsx)(r.A,{children:(0,o.jsx)(l.A,Object.assign({className:u.list},{children:[...Array(4)].map(((e,t)=>(0,o.jsx)(c.Ay,{children:(0,o.jsx)(a.A,{elevation:0})},t)))}))})}))}},23237:()=>{},25028:(e,t,s)=>{"use strict";s.d(t,{H:()=>o});const o="SCCategory"},25879:(e,t,s)=>{"use strict";s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>u});const o=JSON.parse('{"id":"sdk/community-js/react-ui/Components/CategoriesPopular","title":"Categories Popular Widget","description":"The Categories Popular Widget renders a list of popular categories.","source":"@site/docs/sdk/community-js/react-ui/Components/CategoriesPopular.mdx","sourceDirName":"sdk/community-js/react-ui/Components","slug":"/sdk/community-js/react-ui/Components/CategoriesPopular","permalink":"/docs/sdk/community-js/react-ui/Components/CategoriesPopular","draft":false,"unlisted":false,"editUrl":"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/CategoriesPopular.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"Categories Popular Widget","sidebar_position":1,"title":"Categories Popular Widget"},"sidebar":"sdkSidebar","previous":{"title":"Categories","permalink":"/docs/sdk/community-js/react-ui/Components/Categories"},"next":{"title":"Categories Suggestion Widget","permalink":"/docs/sdk/community-js/react-ui/Components/CategoriesSuggestion"}}');var a=s(74848),n=s(28453),i=s(37180),r=s(91959);const l={sidebar_label:"Categories Popular Widget",sidebar_position:1,title:"Categories Popular Widget"},c=void 0,d={},u=[{value:"Usage",id:"usage",level:4}];function g(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.blockquote,{children:["\n",(0,a.jsxs)(t.p,{children:["The Categories Popular Widget renders a list of popular categories.",(0,a.jsx)("br",{}),"\nThis list is composed of items containing category's image, title, info and a follow button, that allows users to follow/unfollow a category.",(0,a.jsx)("br",{}),'\nThe categories are shown in an orderly manner: few items are shown in the main card while the others can be displayed in a modal card by clicking on the "show all" button.']}),"\n"]}),"\n","\n",(0,a.jsx)(i.A,{children:(0,a.jsx)(r.A,{})}),"\n",(0,a.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {CategoriesPopularWidget} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><CategoriesPopularWidget /></SCContextProvider>\n   );\n }\n"})})]})}function p(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(g,{...e})}):g(e)}},28820:(e,t,s)=>{"use strict";s.d(t,{A:()=>A});var o=s(85486),a=s(59703),n=s(96540),i=s(54533),r=s(75659),l=s(11848),c=s(25669),d=s(32850),u=s(38413),g=s(31609);function p(e){return(0,g.Ay)("MuiList",e)}(0,u.A)("MuiList",["root","padding","dense","subheader"]);var m=s(74848);const y=["children","className","component","dense","disablePadding","subheader"],h=(0,l.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,!s.disablePadding&&t.padding,s.dense&&t.dense,s.subheader&&t.subheader]}})((({ownerState:e})=>(0,a.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0}))),A=n.forwardRef((function(e,t){const s=(0,c.b)({props:e,name:"MuiList"}),{children:l,className:u,component:g="ul",dense:A=!1,disablePadding:b=!1,subheader:j}=s,x=(0,o.A)(s,y),f=n.useMemo((()=>({dense:A})),[A]),_=(0,a.A)({},s,{component:g,dense:A,disablePadding:b}),E=(e=>{const{classes:t,disablePadding:s,dense:o,subheader:a}=e,n={root:["root",!s&&"padding",o&&"dense",a&&"subheader"]};return(0,r.A)(n,p,t)})(_);return(0,m.jsx)(d.A.Provider,{value:f,children:(0,m.jsxs)(h,(0,a.A)({as:g,className:(0,i.A)(E.root,u),ref:t,ownerState:_},x,{children:[j,l]}))})}))},29440:(e,t,s)=>{"use strict";s.d(t,{H:()=>o});const o="SCCategoriesSuggestionWidget"},31815:()=>{},36175:(e,t,s)=>{"use strict";s.d(t,{F:()=>o});const o={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://internal.selfcommunity.io/mkg2zxd0"}},37180:(e,t,s)=>{"use strict";s.d(t,{A:()=>p});var o=s(96540),a=s(36175),n=s(75251);function i(e,t){void 0===e&&(e=""),void 0===t&&(t={});const s=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:s})}function r(){if((0,n.A)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:a.F.user.client_id,grant_type:"refresh_token"};return i(`${a.F.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function l(){const e=(0,n.A)(),[t,s]=(0,o.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,o.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?i(`${a.F.portal}/oauth/token/`,a.F.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{s(e)})):e&&s(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,o.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var c=s(45284),d=s(51151),u=s(73906),g=s(74848);function p(e){let{children:t}=e;const s=l(),o={portal:a.F.portal,locale:{default:"en"},session:{type:"OAuth",clientId:a.F.user.client_id,authToken:s,handleRefreshToken:r},theme:d.Ay,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,g.jsx)(u.A,{children:()=>(0,g.jsx)(c.Ay,{conf:o,children:t})})}},41992:(e,t,s)=>{"use strict";s.d(t,{A:()=>h});var o=s(31635),a=s(74848),n=s(11848),i=s(49433),r=s(71194),l=s(47859),c=s(19546),d=s.n(c),u=s(86857),g=s(79197);const p="SCBaseItemButton",m={root:`${p}-root`,withActions:`${p}-with-actions`,content:`${p}-content`,image:`${p}-image`,text:`${p}-text`,primary:`${p}-primary`,secondary:`${p}-secondary`,actions:`${p}-actions`},y=(0,n.Ay)(u.A,{name:p,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const h=function(e){const t=(0,g.A)({props:e,name:p}),{id:s=null,className:n=null,ButtonBaseProps:c={},image:u=null,disableTypography:h=!1,primary:A=null,primaryTypographyProps:b={component:"span",variant:"body1"},secondary:j=null,secondaryTypographyProps:x={component:"p",variant:"body2"},actions:f=null}=t,_=(0,o.__rest)(t,["id","className","ButtonBaseProps","image","disableTypography","primary","primaryTypographyProps","secondary","secondaryTypographyProps","actions"]);return(0,a.jsxs)(y,Object.assign({id:s},_,{className:d()(m.root,n,{[m.withActions]:Boolean(f)})},{children:[(0,a.jsxs)(i.A,Object.assign({className:m.content},c,{children:[u&&(0,a.jsx)(r.A,Object.assign({className:m.image},{children:u})),(0,a.jsxs)(r.A,Object.assign({className:m.text},{children:[A&&(h?A:(0,a.jsx)(l.A,Object.assign({className:m.primary},b,{children:A}))),j&&(h?j:(0,a.jsx)(l.A,Object.assign({className:m.secondary},x,{children:j})))]}))]})),f&&(0,a.jsx)(r.A,Object.assign({className:m.actions},{children:f}))]}))}},44806:(e,t,s)=>{"use strict";s.d(t,{A:()=>g});var o=s(74848),a=s(11848),n=s(44675),i=s(73785),r=s(42942),l=s(52959),c=s(25028);const d={root:`${c.H}-skeleton-root`,image:`${c.H}-image`,primary:`${c.H}-primary`,secondary:`${c.H}-secondary`,button:`${c.H}-button`,action:`${c.H}-action`},u=(0,a.Ay)(l.A,{name:c.H,slot:"SkeletonRoot"})((()=>({})));function g(e){const t=(0,n.A)();return(0,o.jsx)(u,Object.assign({className:d.root},e,{image:(0,o.jsx)(i.A,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:d.image}),primary:(0,o.jsx)(i.A,{animation:"wave",height:10,width:120,className:d.primary}),secondary:(0,o.jsx)(i.A,{animation:"wave",height:10,width:70,className:d.secondary}),actions:void 0!==e.actions?e.actions:(0,o.jsx)(r.A,Object.assign({size:"small",variant:"outlined",disabled:!0,className:d.button},{children:(0,o.jsx)(i.A,{animation:"wave",height:10,width:50,className:d.action})}))}))}},45949:(e,t,s)=>{"use strict";s.d(t,{Ox:()=>i,Qd:()=>a,r6:()=>n});var o=s(28692);const a={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",INITIALIZE:"_initialize",RESET:"_reset"};function n(e,t){var s;let n=Object.assign({},e);switch(t.type){case a.LOADING_NEXT:n=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case a.LOADING_PREVIOUS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case a.LOAD_NEXT_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(s=t.payload)||void 0===s?void 0:s.initialized)||!0});break;case a.LOAD_PREVIOUS_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case a.SET_RESULTS:n=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case a.SET_VISIBLE_ITEMS:n=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case a.LOAD_NEXT_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case a.LOAD_PREVIOUS_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case a.RESET:n={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1};break;case a.INITIALIZE:n={cacheKey:t.payload.cacheKey?t.payload.cacheKey:null,count:t.payload.count?t.payload.count:0,results:t.payload.results?t.payload.results:[],next:t.payload.next?t.payload.next:null,previous:t.payload.previous?t.payload.previous:null,isLoadingNext:!!t.payload.isLoadingNext&&t.payload.isLoadingNext,isLoadingPrevious:!!t.payload.isLoadingPrevious&&t.payload.isLoadingPrevious,visibleItems:t.payload.visibleItems?t.payload.visibleItems:null,initialized:!1}}return o.Ay.set(n.cacheKey,n),n}function i(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&o.Ay.hasKey(t.cacheKey)&&e.cacheStrategy!==o.So.NETWORK_ONLY){const e=o.Ay.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}},54374:(e,t,s)=>{"use strict";s.d(t,{A:()=>C});var o=s(31635),a=s(74848),n=s(96540),i=s(11848),r=s(27365),l=s(18653),c=s(47859),d=s(20411),u=s(65846),g=s(3341),p=s(88352),m=s(22373),y=s(3338),h=s(90420),A=s(44806),b=s(67115),j=s(27885),x=s(6442),f=s(19546),_=s.n(f),E=s(79197),v=s(41992),O=s(25028);const N=(0,j.YK)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),S={root:`${O.H}-root`,categoryImage:`${O.H}-category-image`,primary:`${O.H}-primary`,secondary:`${O.H}-secondary`,title:`${O.H}-title`,followed:`${O.H}-followed`,autoFollowed:`${O.H}-auto-followed`,actions:`${O.H}-actions`},w=(0,i.Ay)(v.A,{name:O.H,slot:"Root"})((()=>({})));const C=function(e){const t=(0,E.A)({props:e,name:O.H}),{categoryId:s=null,category:i=null,className:j=null,elevation:f,variant:v,autoHide:C=!1,categoryFollowButtonProps:T={},showFollowers:P=!0,showTooltip:I=!1,ButtonBaseProps:L=null,cacheStrategy:R}=t,k=(0,o.__rest)(t,["categoryId","category","className","elevation","variant","autoHide","categoryFollowButtonProps","showFollowers","showTooltip","ButtonBaseProps","cacheStrategy"]),M=(0,d.I$)(),{scCategory:$}=(0,u.A)(Object.assign({id:s,category:i},R&&{cacheStrategy:R})),D=(0,n.useMemo)((()=>L||{component:g.A,to:$?M.url(p.CATEGORY_ROUTE_NAME,$):""}),[L,M,$]),F=(0,x.A)(),B=(0,m.__)(y.DE);return $?C?null:(0,a.jsx)(w,Object.assign({disableTypography:I,elevation:f},v&&{variant:v},{className:_()(S.root,j,{[S.followed]:$.followed},{[S.autoFollowed]:$.auto_follow===h.f.FORCED}),ButtonBaseProps:D,image:(0,a.jsx)(r.A,{alt:$.name,src:$.image_medium,variant:"square",className:S.categoryImage}),primary:(0,a.jsx)(a.Fragment,{children:I?(0,a.jsx)(l.A,Object.assign({title:$.name},{children:(0,a.jsx)(c.A,Object.assign({className:S.primary,component:"span",variant:"body1"},{children:$.name}))})):$.name}),secondary:(0,a.jsx)(a.Fragment,{children:I?(0,a.jsx)(c.A,Object.assign({className:S.secondary,component:"p",variant:"body2"},{children:P&&B?`${F.formatMessage(N.categoryFollowers,{total:$.followers_counter})}`:$.slogan})):(0,a.jsx)(a.Fragment,{children:P&&B?`${F.formatMessage(N.categoryFollowers,{total:$.followers_counter})}`:$.slogan})}),actions:(0,a.jsx)(b.A,Object.assign({category:$},T))},k)):(0,a.jsx)(A.A,Object.assign({elevation:f},v&&{variant:v}))}},66671:()=>{},74705:(e,t,s)=>{"use strict";function o(e,t=166){let s;function o(...o){clearTimeout(s),s=setTimeout((()=>{e.apply(this,o)}),t)}return o.clear=()=>{clearTimeout(s)},o}s.d(t,{A:()=>o})},82787:()=>{},88454:(e,t,s)=>{"use strict";var o,a,n,i;s.d(t,{Gl:()=>a,wW:()=>n,xq:()=>i,yt:()=>o}),function(e){e.COURSE="course",e.GROUP="group",e.EVENT="event",e.CATEGORY="category"}(o||(o={})),function(e){e.CREATE="create",e.EDIT="edit",e.DELETE="delete",e.UPDATE="update",e.MEMBERS="members",e.ADD_MEMBER="members.add_member",e.INVITE_MEMBER="members.invite_member",e.REMOVE_MEMBER="members.remove_member"}(a||(a={})),function(e){e.CREATE="create",e.EDIT="edit",e.DELETE="delete",e.ADD_MEMBER="members.add_member",e.INVITE_MEMBER="members.invite_member",e.REMOVE_MEMBER="members.remove_member",e.REJECT_MEMBER="members.reject_member"}(n||(n={})),function(e){e.EDIT="edit"}(i||(i={}))},91959:(e,t,s)=>{"use strict";s.d(t,{A:()=>V});var o=s(31635),a=s(74848),n=s(96540),i=s(11848),r=s(44675),l=s(90508),c=s(25292),d=s(47859),u=s(28820),g=s(36870),p=s(42942),m=s(27202),y=s(13550),h=s(29368),A=s(28692),b=s(94520),j=s(21810);const x="SCCategoriesPopularWidget",f={root:`${x}-skeleton-root`},_=(0,i.Ay)(j.A,{name:x,slot:"SkeletonRoot"})((()=>({})));function E(e){return(0,a.jsx)(_,Object.assign({className:f.root},e))}var v=s(15906),O=s(58065),N=s(54374),S=s(44806),w=s(19546),C=s.n(w),T=s(29251),P=s(43749),I=s(86857),L=s(79197),R=s(9063),k=s(2877),M=s(75753),$=s(3338),D=s(86354),F=s(45949),B=s(23224),U=s.n(B),H=s(88454);const W={root:`${x}-root`,title:`${x}-title`,noResults:`${x}-no-results`,showMore:`${x}-show-more`,dialogRoot:`${x}-dialog-root`,endMessage:`${x}-end-message`},z=(0,i.Ay)(I.A,{name:x,slot:"Root"})((()=>({}))),K=(0,i.Ay)(T.A,{name:x,slot:"DialogRoot"})((()=>({})));const V=function(e){const t=(0,L.A)({props:e,name:x}),{autoHide:s=!0,limit:i=3,className:j,CategoryProps:f={},cacheStrategy:_=A.So.CACHE_FIRST,onHeightChange:w,onStateChange:T,DialogProps:I={},categoryId:B}=t,V=(0,o.__rest)(t,["autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","categoryId"]),X=(0,n.useContext)(k.T6),G=(0,n.useContext)(M.ql),Q=(0,n.useMemo)((()=>$.g4 in G.preferences&&G.preferences[$.g4].value),[G]),[q,J]=(0,n.useReducer)(F.r6,{isLoadingNext:!1,next:null,cacheKey:D.j3(D.zp),cacheStrategy:_,visibleItems:i},F.Ox),[Y,Z]=(0,n.useState)(!1),ee=(0,r.A)(),te=(0,l.A)(ee.breakpoints.down("md")),se=(0,n.useRef)(null),oe=(0,n.useMemo)((()=>()=>{q.initialized||q.isLoadingNext||(J({type:F.Qd.LOADING_NEXT}),m.A.getPopularCategories({limit:i}).then((e=>{J({type:F.Qd.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{J({type:F.Qd.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),b.V.error(v.d,e)})))}),[q.isLoadingNext,q.initialized,i,J]),ae=(0,n.useCallback)(((e,t)=>{const s=[...q.results].map((e=>e.id===t.id?Object.assign(Object.assign({},e),t):e));J({type:F.Qd.SET_RESULTS,payload:{results:s}})}),[J,q.results]);(0,n.useEffect)((()=>(se.current=U().subscribe(`${H.yt.CATEGORY}.${H.xq.EDIT}`,ae),()=>{se.current&&U().unsubscribe(se.current)})),[ae]),(0,n.useEffect)((()=>{var e;let t;if(void 0!==X.user&&(Q||!Q&&(null===(e=X.user)||void 0===e?void 0:e.id)))return t=setTimeout(oe),()=>{t&&clearTimeout(t)}}),[X.user,Q]),(0,n.useEffect)((()=>{Y&&q.next&&q.initialized&&q.results.length===i&&m.A.getPopularCategories({offset:i,limit:10}).then((e=>{J({type:F.Qd.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{J({type:F.Qd.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),b.V.error(v.d,e)}))}),[Y,i,q.next,q.initialized,q.results.length]),(0,n.useEffect)((()=>{w&&w()}),[q.results]),(0,n.useEffect)((()=>{(Q||X.user)&&_===A.So.NETWORK_ONLY&&T&&T({cacheStrategy:A.So.CACHE_FIRST})}),[Q,_,X.user]);const ne=(0,n.useMemo)((()=>()=>{J({type:F.Qd.LOADING_NEXT}),y.A.request({url:q.next,method:h.A.PopularCategories.method}).then((e=>{J({type:F.Qd.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[J,q.next,q.isLoadingNext,q.initialized]),ie=e=>{const t=[...q.results],s=t.findIndex((t=>t.id===e.id));-1!==s&&(e.followed?(t[s].followers_counter=e.followers_counter-1,t[s].followed=!e.followed):(t[s].followers_counter=e.followers_counter+1,t[s].followed=!e.followed),J({type:F.Qd.SET_RESULTS,payload:{results:t}}))},re=()=>{Z((e=>!e))};if(!Q&&!X.user||q.initialized&&s&&!q.count)return(0,a.jsx)(R.A,{});if(!q.initialized)return(0,a.jsx)(E,{});const le=(0,a.jsxs)(c.A,{children:[(0,a.jsx)(d.A,Object.assign({className:W.title,variant:"h5"},{children:(0,a.jsx)(O.A,{id:"ui.categoriesPopularWidget.title",defaultMessage:"ui.categoriesPopularWidget.title"})})),q.count?(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(u.A,{children:q.results.slice(0,q.visibleItems).map((e=>(0,a.jsx)(g.Ay,{children:(0,a.jsx)(N.A,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:ie}},f))},e.id)))}),q.count>q.visibleItems&&(0,a.jsx)(p.A,Object.assign({className:W.showMore,onClick:re},{children:(0,a.jsx)(O.A,{id:"ui.categoriesPopularWidget.button.showAll",defaultMessage:"ui.categoriesPopularWidget.button.showAll"})}))]}):(0,a.jsx)(d.A,Object.assign({className:W.noResults,variant:"body2"},{children:(0,a.jsx)(O.A,{id:"ui.categoriesPopularWidget.noResults",defaultMessage:"ui.categoriesPopularWidget.noResults"})})),Y&&(0,a.jsx)(K,Object.assign({className:W.dialogRoot,title:(0,a.jsx)(O.A,{defaultMessage:"ui.categoriesPopularWidget.title",id:"ui.categoriesPopularWidget.title"}),onClose:re,open:Y},I,{children:(0,a.jsx)(P.A,Object.assign({dataLength:q.results.length,next:ne,hasMoreNext:Boolean(q.next),loaderNext:(0,a.jsx)(S.A,Object.assign({elevation:0},f)),height:te?"100%":400,endMessage:(0,a.jsx)(d.A,Object.assign({className:W.endMessage},{children:(0,a.jsx)(O.A,{id:"ui.categoriesPopularWidget.noMoreResults",defaultMessage:"ui.categoriesPopularWidget.noMoreResults"})}))},{children:(0,a.jsx)(u.A,{children:q.results.map((e=>(0,a.jsx)(g.Ay,{children:(0,a.jsx)(N.A,Object.assign({elevation:0,category:e},f,{categoryFollowButtonProps:{onFollow:ie}}))},e.id)))})}))}))]});return(0,a.jsx)(z,Object.assign({className:C()(W.root,j)},V,{children:le}))}},93749:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(44877).A},96248:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});const o=s(32325).A},97492:()=>{}}]);