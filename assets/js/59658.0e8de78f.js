"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[59658],{59658:(e,t,o)=>{o.d(t,{WD:()=>D,Yo:()=>_,S5:()=>C,Rc:()=>H,UF:()=>lt,YD:()=>ee,YK:()=>re,pz:()=>Pe,Iw:()=>Ie});var n=o(67294),a=o(87357),s=o(90948),r=o(63966);const l="SCCategoryFeedTemplateSkeleton",i={root:`${l}-root`},c=(0,s.ZP)(r.pMb,{name:l,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function m(){return n.createElement(c,{className:i.root,sidebar:n.createElement(n.Fragment,null,n.createElement(r.AUD,{sx:{mb:2}}),n.createElement(r.AUD,{sx:{mb:2}}))},n.createElement(r.HOW,null),Array.from({length:5}).map(((e,t)=>n.createElement(r.t7P,{key:t,template:r.r4R.DETAIL}))))}const p="SCCategoryTemplateSkeleton",d={root:`${p}-root`},u=(0,s.ZP)(a.Z,{name:p,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function g(){return n.createElement(u,{className:d.root},n.createElement(r.vPe,null),n.createElement(m,null))}var P=o(2897),y=o(71544),E=o(79625),b=o(29628),f=o(94184),Z=o.n(f);const O="SCCategoryFeedTemplate",v={root:`${O}-root`},h=(0,s.ZP)(r.fRU,{name:O,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),S=[{type:"widget",component:r.XwR,componentProps:{},column:"right",position:0},{type:"widget",component:r.YBK,componentProps:{},column:"right",position:1}];const _=function(e){const t=(0,b.Z)({props:e,name:O}),{id:o="category_feed",className:a,category:s,categoryId:l,widgets:i=S,FeedObjectProps:c={},FeedSidebarProps:p=null,FeedProps:d={}}=t,u=(0,n.useRef)(),{scCategory:g}=(0,y._l)({id:l,category:s}),f=(0,n.useMemo)((()=>i.map((e=>g?Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{categoryId:g.id})}):e))),[i,g]);return g?n.createElement(h,Object.assign({id:o,className:Z()(v.root,a),ref:u,endpoint:Object.assign(Object.assign({},P.AN.CategoryFeed),{url:()=>P.AN.CategoryFeed.url({id:g.id})}),widgets:f,ItemComponent:r.hi,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:c,ItemSkeleton:r.t7P,ItemSkeletonProps:{template:r.r4R.PREVIEW},FeedSidebarProps:p,HeaderComponent:n.createElement(r.kC$,{onSuccess:e=>{if(-1===e.categories.findIndex((e=>e.id===g.id)))return;const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};u&&u.current&&u.current.addFeedData(t,!0)},defaultValue:{categories:[g]}}),CustomAdvProps:{position:E.nG.POSITION_FEED,categoriesId:[g.id]},enabledCustomAdvPositions:[E.nG.POSITION_FEED_SIDEBAR,E.nG.POSITION_FEED,E.nG.POSITION_BELOW_TOPBAR]},d)):n.createElement(m,null)},N="SCCategoryTemplate",j={root:`${N}-root`,feed:`${N}-feed`},w=(0,s.ZP)(a.Z,{name:N,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({[`& .${j.feed}`]:{marginTop:e.spacing(2)}})));const D=function(e){const t=(0,b.Z)({props:e,name:N}),{id:o="category",className:a,category:s,categoryId:l,widgets:i,FeedObjectProps:c,FeedSidebarProps:m,CategoryFeedProps:p={}}=t,{scCategory:d}=(0,y._l)({id:l,category:s});return d?n.createElement(w,{id:o,className:Z()(j.root,a)},n.createElement(r.Wtp,{category:d}),n.createElement(_,Object.assign({className:j.feed,category:d,widgets:i,FeedObjectProps:c,FeedSidebarProps:m},p))):n.createElement(g,null)},R="SCExploreFeedTemplateSkeleton";(0,s.ZP)(r.pMb,{name:R,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));const I="SCExploreFeedTemplate",F={root:`${I}-root`},T=(0,s.ZP)(r.fRU,{name:I,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),k=[{type:"widget",component:r.KRP,componentProps:{},column:"right",position:0},{type:"widget",component:r.YYz,componentProps:{},column:"right",position:1},{type:"widget",component:r.kCI,componentProps:{},column:"right",position:2},{type:"widget",component:r.coA,componentProps:{},column:"right",position:3}];const C=function(e){const t=(0,b.Z)({props:e,name:I}),{id:o="explore_feed",className:a,widgets:s=k,FeedObjectProps:l={},FeedSidebarProps:i=null,FeedProps:c={}}=t,m=(0,n.useRef)(),p=(0,n.useMemo)((()=>s.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign({},e.componentProps)})))),[s]);return n.createElement(T,Object.assign({id:o,className:Z()(F.root,a),ref:m,endpoint:P.AN.ExploreFeed,widgets:p,ItemComponent:r.hi,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:l,ItemSkeleton:r.t7P,ItemSkeletonProps:{template:r.r4R.PREVIEW},HeaderComponent:n.createElement(r.kC$,{onSuccess:e=>{const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};m&&m.current&&m.current.addFeedData(t,!0)}}),FeedSidebarProps:i,enabledCustomAdvPositions:[E.nG.POSITION_FEED_SIDEBAR,E.nG.POSITION_FEED,E.nG.POSITION_BELOW_TOPBAR]},c))};var $=o(86886);const M="SCFeedObjectDetailTemplateSkeleton",A={root:`${M}-root`},x=(0,s.ZP)(a.Z,{name:M,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function Y(e){const{FeedObjectSkeletonProps:t={},CommentsFeedObjectSkeletonProps:o={},RelatedFeedObjectsSkeletonProps:a={}}=e;return n.createElement(x,{className:A.root},n.createElement($.ZP,{container:!0,spacing:2},n.createElement($.ZP,{item:!0,xs:12,md:7},n.createElement(r.t7P,Object.assign({template:r.r4R.DETAIL},t)),n.createElement(r.NyH,Object.assign({count:4},o))),n.createElement($.ZP,{item:!0,xs:12,md:5},n.createElement(r.uFT,Object.assign({},a)))))}var z=o(50456),U=o(70885),G=o(44012);const L="SCFeedObjectDetailTemplate",B={root:`${L}-root`},W=(0,s.ZP)(a.Z,{name:L,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),q=[y.Y_.Rl,y.Y_.OM];const H=function(e){const t=(0,b.Z)({props:e,name:L}),{id:o="feed_object_page",className:s,feedObjectId:l,feedObject:i,feedObjectType:c,FeedObjectProps:m={},FeedSidebarProps:p={},CommentsFeedObjectProps:d={},RelatedFeedObjectProps:u={autoHide:!1}}=t,g=(0,y.LD)(),P=(0,y.ko)(),{obj:f,setObj:O,error:v}=(0,y.MF)({id:l,feedObject:i,feedObjectType:c}),[h,S]=(0,n.useState)([]),_=(0,n.useMemo)((()=>{const e={};return q.map((t=>e[t]=t in P.preferences?P.preferences[t].value:null)),e}),[P.preferences]);return v?n.createElement(a.Z,null,n.createElement(G.Z,{id:"templates.feedObjectDetail.contributionNotFound",defaultMessage:"templates.feedObjectDetail.contributionNotFound"})):f?n.createElement(W,{id:o,className:Z()(B.root,s)},n.createElement($.ZP,{container:!0,spacing:2},n.createElement($.ZP,{item:!0,xs:12,md:7},n.createElement(r.hi,Object.assign({},m,{feedObject:f,template:r.r4R.DETAIL,onReply:function(e){S([...h,e]),setTimeout((()=>{const t=document.getElementById(`comment_object_${e.id}`);t&&(0,U.z)(t,{behavior:"smooth",block:"center",inline:"center"})}),300)}})),_[y.Y_.Rl]&&(_[y.Y_.OM]&&null===g.user||!_[y.Y_.OM])?n.createElement(r.Vtw,Object.assign({position:E.nG.POSITION_BELOW_FEED_OBJECT},f.categories.length&&{categoriesId:f.categories.map((e=>e.id))})):null,n.createElement(r.P4T,Object.assign({key:`comments_${f.id}`,showTitle:!0,feedObject:f,comments:h},d))),n.createElement($.ZP,{item:!0,xs:12,md:5},n.createElement(z.Z,{mdDown:!0},n.createElement(r.a$5,Object.assign({},p),n.createElement(r.uwL,Object.assign({key:`related_${f.id}`,feedObject:f},u))))))):n.createElement(Y,null)},V="SCMainFeedTemplateSkeleton";(0,s.ZP)(r.pMb,{name:V,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));const K="SCMainFeedTemplate",X={root:`${K}-root`},J=(0,s.ZP)(r.fRU,{name:K,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),Q=[{type:"widget",component:r.KRP,componentProps:{},column:"right",position:0},{type:"widget",component:r.YYz,componentProps:{},column:"right",position:1},{type:"widget",component:r.Aqb,componentProps:{},column:"right",position:2},{type:"widget",component:r.coA,componentProps:{},column:"right",position:3}];const ee=function(e){const t=(0,b.Z)({props:e,name:K}),{id:o="main_feed",className:a,widgets:s=Q,FeedObjectProps:l={},FeedSidebarProps:i=null,FeedProps:c={}}=t,m=(0,n.useContext)(y.K8),p=(0,n.useRef)();return m.user?n.createElement(J,Object.assign({id:o,className:Z()(X.root,a),ref:p,endpoint:P.AN.MainFeed,widgets:s,ItemComponent:r.hi,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null,markRead:e?!t.seen_by_id.includes(e.id):null}),itemIdGenerator:e=>e[e.type].id,ItemProps:l,ItemSkeleton:r.t7P,ItemSkeletonProps:{template:r.r4R.PREVIEW},FeedSidebarProps:i,HeaderComponent:n.createElement(r.kC$,{onSuccess:e=>{const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};p&&p.current&&p.current.addFeedData(t,!0)}}),requireAuthentication:!0,disablePaginationLinks:!0,enabledCustomAdvPositions:[E.nG.POSITION_FEED_SIDEBAR,E.nG.POSITION_FEED,E.nG.POSITION_BELOW_TOPBAR]},c)):null},te="SCNotificationFeedTemplateSkeleton";(0,s.ZP)(r.pMb,{name:te,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));const oe="SCNotificationFeedTemplate",ne={root:`${oe}-root`},ae=(0,s.ZP)(r.fRU,{name:oe,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),se=[{type:"widget",component:r.VfZ,componentProps:{subscriptionChannel:E.Ed.INTERACTION,publicationChannel:"notifications_feed"},column:"left",position:0,publishEvents:!0},{type:"widget",component:r.oYJ,componentProps:{subscriptionChannel:"notification_feed"},column:"left",position:0},{type:"widget",component:r.KRP,componentProps:{},column:"right",position:0},{type:"widget",component:r.YYz,componentProps:{},column:"right",position:1},{type:"widget",component:r.Aqb,componentProps:{},column:"right",position:2},{type:"widget",component:r.coA,componentProps:{},column:"right",position:3}];const re=function(e){const t=(0,b.Z)({props:e,name:oe}),{id:o="notification_feed",className:a,widgets:s=se,NotificationProps:l={},FeedSidebarProps:i=null,FeedProps:c={}}=t,m=(0,n.useContext)(y.K8);if(!m.user)return null;const p=(e,t,o,n)=>{let a=(0,r.CIx)(n);a>0&&m.setUnseenInteractionsCounter(m.user.unseen_interactions_counter-a)};return n.createElement(ae,Object.assign({id:o,className:Z()(ne.root,a),endpoint:P.AN.UserNotificationList,widgets:s,ItemComponent:r.P_k,itemPropsGenerator:(e,t)=>({notificationObject:t}),itemIdGenerator:e=>e.sid,ItemProps:l,ItemSkeleton:r.i_P,ItemSkeletonProps:{template:r.r4R.PREVIEW},FeedSidebarProps:i,requireAuthentication:!0,disablePaginationLinks:!0,onNextData:p,onPreviousData:p},c))},le="SCUserFeedTemplateSkeleton",ie={root:`${le}-root`},ce=(0,s.ZP)(r.pMb,{name:le,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function me(){return n.createElement(ce,{className:ie.root,sidebar:n.createElement(n.Fragment,null,n.createElement(r.AUD,{sx:{mb:2}}),n.createElement(r.AUD,{sx:{mb:2}}))},n.createElement(r.HOW,null),Array.from({length:5}).map(((e,t)=>n.createElement(r.t7P,{key:t,template:r.r4R.DETAIL}))))}const pe="SCUserFeedTemplate",de={root:`${pe}-root`},ue=(0,s.ZP)(r.fRU,{name:pe,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),ge=[{type:"widget",component:r.Fsf,componentProps:{},column:"right",position:0},{type:"widget",component:r.cmm,componentProps:{},column:"right",position:1},{type:"widget",component:r.Tyi,componentProps:{},column:"right",position:2}];const Pe=function(e){const t=(0,b.Z)({props:e,name:pe}),{id:o="user_feed",className:a,userId:s,user:l,widgets:i=ge,FeedObjectProps:c={},FeedSidebarProps:m=null,FeedProps:p={}}=t,d=(0,y.LD)(),{scUser:u}=(0,y.z3)({id:s,user:l}),g=(0,n.useRef)(),E=(0,n.useMemo)((()=>i.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:u?u.id:s})})))),[u,i]);return null===u?n.createElement(me,null):n.createElement(ue,Object.assign({id:o,className:Z()(de.root,a),ref:g,endpoint:Object.assign(Object.assign({},P.AN.UserFeed),{url:()=>P.AN.UserFeed.url({id:u.id})}),widgets:E,ItemComponent:r.hi,itemPropsGenerator:(e,t)=>({feedObject:t[t.type],feedObjectType:t.type,feedObjectActivities:t.activities?t.activities:null}),itemIdGenerator:e=>e[e.type].id,ItemProps:c,ItemSkeleton:r.t7P,ItemSkeletonProps:{template:r.r4R.PREVIEW}},d.user?{HeaderComponent:n.createElement(r.kC$,{onSuccess:e=>{const t={type:e.type,[e.type]:e,seen_by_id:[],has_boost:!1};g&&g.current&&g.current.addFeedData(t,!0)}})}:{},{FeedSidebarProps:m},p))},ye="SCUserProfileTemplateSkeleton",Ee={root:`${ye}-root`},be=(0,s.ZP)(a.Z,{name:ye,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({marginTop:e.spacing(2)})));function fe(){return n.createElement(be,{className:Ee.root},n.createElement(r.O4Y,null),n.createElement(me,null))}var Ze=o(31536),Oe=o(83321),ve=o(15861),he=o(67564),Se=o(86896);const _e="SCUserProfileTemplate",Ne={root:`${_e}-root`,counters:`${_e}-counters`,tags:`${_e}-tags`,info:`${_e}-info`,feed:`${_e}-feed`,actions:`${_e}-actions`},je=(0,s.ZP)(a.Z,{name:_e,slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({}))),we=[{type:"widget",component:r.Fsf,componentProps:{},column:"right",position:0},{type:"widget",component:r.cmm,componentProps:{},column:"right",position:1},{type:"widget",component:r.Tyi,componentProps:{},column:"right",position:2}],De=[{type:"widget",component:r.Fsf,componentProps:{},column:"right",position:0},{type:"widget",component:r.HwY,componentProps:{},column:"right",position:1}],Re=[{type:"widget",component:r.w8v,componentProps:{autoHide:!0},column:"right",position:2},{type:"widget",component:r.DBX,componentProps:{autoHide:!0},column:"right",position:3}];const Ie=function(e){const t=(0,b.Z)({props:e,name:_e}),{id:o="user_profile",className:a,user:s,userId:l,widgets:i=null,FeedObjectProps:c,FeedSidebarProps:m,UserProfileHeaderProps:p={},onEditClick:d=null,UserFeedProps:u={}}=t,g=(0,y.LD)(),P=(0,y.ko)(),f=(0,y.sy)(),{features:O}=(0,y.ko)(),{scUser:v}=(0,y.z3)({id:l,user:s}),{blockedBy:h,loading:S}=(0,y.CI)({user:v}),_=(0,Se.Z)(),N=(0,n.useMemo)((()=>O.includes(E.$n.TAGGING)),[O]),j=(0,n.useMemo)((()=>g.user&&(null==v?void 0:v.id)===g.user.id),[g.user,v]),w=(0,n.useMemo)((()=>y.Y_.$0 in P.preferences&&P.preferences[y.Y_.$0].value),[P.preferences]),D=(0,n.useMemo)((()=>O.includes(E.$n.PRIVATE_MESSAGING)),[O]),R=(0,n.useMemo)((()=>!(j||!g.user||!s)&&(w?g.managers.followers.isFollower(s):"connected"===g.managers.connections.status(s))),[w,j,s,g.user,g.managers]),I=(0,n.useMemo)((()=>s&&s.community_badge),[s]);if(!v||void 0===g.user||void 0!==g.user&&(S&&null===h||g.managers.blockedUsers.isLoading()))return n.createElement(fe,null);let F=i;null===F&&(F=(()=>{var e;let t=[];return t=w?[...we]:w||(null===(e=null==g?void 0:g.user)||void 0===e?void 0:e.id)!==v.id?[...De]:[...De,...Re],t.map((e=>Object.assign(Object.assign({},e),{componentProps:Object.assign(Object.assign({},e.componentProps),{userId:v.id})})))})()),j||(u.FeedProps=Object.assign({HeaderComponent:null},u.FeedProps));let T=[];return D&&(R||g.user&&null!==g.user.role||I)&&(T=[{label:n.createElement(G.Z,{defaultMessage:"templates.userProfile.send.pm",id:"templates.userProfile.send.pm"}),to:f.url(y.f0.USER_PRIVATE_MESSAGES_ROUTE_NAME,v)}]),n.createElement(je,{id:o,className:Z()(Ne.root,a)},n.createElement(r.FZ_,Object.assign({user:v},p)),S||g.user&&g.managers.blockedUsers.loading?null:n.createElement(n.Fragment,null,!j&&v&&Boolean(g.user&&g.managers.blockedUsers.isBlocked(v)||h)?n.createElement(r.$m3,{user:v,blockedByUser:h}):n.createElement(n.Fragment,null,n.createElement(Ze.Z,{key:`actions_${v.id}`,direction:"row",spacing:2,className:Ne.actions},j?n.createElement(Oe.Z,{variant:"contained",color:"secondary",onClick:()=>{d&&d(v)}},n.createElement(G.Z,{defaultMessage:"templates.userProfile.edit",id:"templates.userProfile.edit"})):n.createElement(n.Fragment,null,n.createElement(r.WOV,{user:v}),n.createElement(r.$ZK,{user:v,items:T}))),n.createElement(r.XX1,{className:Ne.counters,userId:l,user:v}),v.date_joined&&n.createElement(ve.Z,{className:Ne.info},n.createElement(G.Z,{id:"templates.userProfile.dateJoined",defaultMessage:"templates.userProfile.dateJoined",values:{date:_.formatDate(v.date_joined,{year:"numeric",month:"long"})}})),v.location&&n.createElement(ve.Z,{className:Ne.info},n.createElement(he.Z,null,"add_location_alt")," ",v.location),N&&n.createElement(Ze.Z,{key:`tags_${v.id}`,direction:"row",spacing:2,className:Ne.tags},v.tags.filter((e=>e.visible)).map((e=>n.createElement(r.CsO,{key:e.id,tag:e,clickable:!1,disposable:!1})))),n.createElement(Pe,Object.assign({key:`feed_${v.id}`,className:Ne.feed,user:v,widgets:F,FeedObjectProps:c,FeedSidebarProps:m},u)))))};var Fe=o(2734),Te=o(98396),ke=o(66242),Ce=o(83965),$e=o(44267),Me=o(62023),Ae=o(87918),xe=o(88078);const Ye="SCPrizeItemSkeleton",ze={root:`${Ye}-root`,content:`${Ye}-content`,actions:`${Ye}-actions`},Ue=(0,s.ZP)(r.$LY,{name:Ye,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));function Ge(){return n.createElement(Ue,{className:ze.root},n.createElement(Ce.Z,null,n.createElement(xe.Z,{animation:"wave",variant:"rectangular",width:"100%",height:137})),n.createElement($e.Z,null,n.createElement(ve.Z,{className:ze.content},n.createElement(xe.Z,{animation:"wave",height:20,width:"80%",variant:"text"}),n.createElement(xe.Z,{animation:"wave",height:10,width:"70%",variant:"text",style:{marginTop:8}}))),n.createElement(Me.Z,{className:ze.actions},n.createElement(Oe.Z,{disabled:!0,variant:"outlined",size:"small"},n.createElement(xe.Z,{animation:"wave",height:10,width:50,variant:"text"})),n.createElement(Oe.Z,{disabled:!0,variant:"text",size:"small"},n.createElement(xe.Z,{animation:"wave",height:20,width:70,variant:"text"}))))}const Le="SCLoyaltyProgramDetailTemplateSkeleton",Be={root:`${Le}-root`,title:`${Le}-title`,sectionTitle:`${Le}-section-title`,subTitle:`${Le}-sub-title`,pointsList:`${Le}-points-list`,chip:`${Le}-chip`},We=(0,s.ZP)(a.Z,{name:Le,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));function qe(){const e=(0,Fe.Z)(),t=(0,Te.Z)(e.breakpoints.down("md"));return n.createElement(We,{className:Be.root},n.createElement(ve.Z,{className:Be.title,component:"div"},!t&&n.createElement(xe.Z,{animation:"wave",height:30,width:140,variant:"text"}),n.createElement(xe.Z,{animation:"wave",variant:"circular",width:172,height:30,className:Be.chip})),n.createElement(ve.Z,{className:Be.sectionTitle},n.createElement(xe.Z,{animation:"wave",height:20,width:"50%",variant:"text"}),n.createElement(xe.Z,{animation:"wave",height:17,width:"80%",variant:"text",className:Be.subTitle})),n.createElement(ve.Z,{className:Be.sectionTitle},n.createElement(xe.Z,{animation:"wave",height:20,width:146})),n.createElement($.ZP,{container:!0,spacing:2,className:Be.pointsList},[...Array(8)].map(((e,t)=>n.createElement($.ZP,{item:!0,xs:12,sm:12,md:6,key:t},n.createElement(xe.Z,{animation:"wave",height:15,width:"100%"}))))),n.createElement(ve.Z,{className:Be.sectionTitle},n.createElement(xe.Z,{animation:"wave",height:20,width:140,variant:"text"})),n.createElement($.ZP,{container:!0,spacing:t?3:6},[...Array(6)].map(((e,t)=>n.createElement($.ZP,{item:!0,xs:12,sm:12,md:6,lg:4,key:t},n.createElement(Ge,null))))))}var He=o(67720),Ve=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o};const Ke=[y.Y_.Zr,y.Y_.um,y.Y_.Wc,y.Y_.ud,y.Y_.L0,y.Y_.Xq,y.Y_.xb,y.Y_.T_],Xe="SCLoyaltyProgramDetailPointsList",Je={root:`${Xe}-root`,element:`${Xe}-element`};function Qe({message:e,points:t}){return n.createElement($.ZP,{item:!0,xs:12,sm:12,md:6},n.createElement(ve.Z,{component:"div",className:Je.element},n.createElement(ve.Z,null,e),n.createElement(ve.Z,null,"+",n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points",defaultMessage:"templates.loyaltyProgramDetail.points",values:{total:t}}))),n.createElement(He.Z,null))}const et=(0,s.ZP)($.ZP,{name:Xe,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));function tt(e){const t=(0,b.Z)({props:e,name:Xe}),{className:o}=t,a=Ve(t,["className"]),s=(0,y.ko)(),r=(0,n.useMemo)((()=>{const e={};return Ke.map((t=>e[t]=t in s.preferences?s.preferences[t].value:null)),e}),[s.preferences]);return n.createElement(et,Object.assign({className:Z()(Je.root,o),container:!0,spacing:2},a),n.createElement(Qe,{message:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points.post",defaultMessage:"templates.loyaltyProgramDetail.points.post"}),points:r[y.Y_.um]}),n.createElement(Qe,{message:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points.discussion",defaultMessage:"templates.loyaltyProgramDetail.points.discussion"}),points:r[y.Y_.Zr]}),n.createElement(Qe,{message:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points.comment",defaultMessage:"templates.loyaltyProgramDetail.points.comment"}),points:r[y.Y_.Wc]}),n.createElement(Qe,{message:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points.appreciation",defaultMessage:"templates.loyaltyProgramDetail.points.appreciation"}),points:r[y.Y_.ud]}),n.createElement(Qe,{message:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points.follower",defaultMessage:"templates.loyaltyProgramDetail.points.follower"}),points:r[y.Y_.L0]}),n.createElement(Qe,{message:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points.share",defaultMessage:"templates.loyaltyProgramDetail.points.share"}),points:r[y.Y_.Xq]}),n.createElement(Qe,{message:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points.app",defaultMessage:"templates.loyaltyProgramDetail.points.app"}),points:r[y.Y_.xb]}),n.createElement(Qe,{message:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.points.visit",defaultMessage:"templates.loyaltyProgramDetail.points.visit"}),points:r[y.Y_.T_]}))}var ot=o(20377),nt=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(o[n[a]]=e[n[a]])}return o};const at="SCLoyaltyProgramDetailTemplate",st={root:`${at}-root`,userPoints:`${at}-user-points`,title:`${at}-title`,sectionTitle:`${at}-section-title`,sectionInfo:`${at}-section-info`,pointsSection:`${at}-points-section`,prizeSection:`${at}-prize-section`,card:`${at}-card`,cardTitle:`${at}-card-title`,cardContent:`${at}-card-content`,prizePoints:`${at}-prize-points`,actionButton:`${at}-card-action-button`,notRequestable:`${at}-not-requestable`,endMessage:`${at}-end-message`},rt=(0,s.ZP)(a.Z,{name:at,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const lt=function(e){const t=(0,b.Z)({props:e,name:at}),{className:o}=t,s=nt(t,["className"]),l=(0,Fe.Z)(),i=(0,Te.Z)(l.breakpoints.down("md")),[c,m]=(0,n.useState)(!0),[p,d]=(0,n.useState)(null),[u,g]=(0,n.useState)([]),[E,f]=(0,n.useState)(0),[O,v]=(0,n.useState)(!1),[h,S]=(0,n.useState)(null),{enqueueSnackbar:_,closeSnackbar:N}=(0,ot.Ds)(),j=(0,n.useContext)(y.K8),w=j.user?j.user.id:null,D=(0,n.useMemo)((()=>()=>{if(p)return P.dJ.request({url:p,method:P.AN.GetPrizes.method}).then((e=>{g([...u,...e.data.results]),d(e.data.next)})).catch((e=>console.log(e))).then((()=>m(!1)))}),[p]);return(0,n.useEffect)((()=>{w&&(P.KD.getUserLoyaltyPoints(w).then((e=>{f(e.points)})).catch((e=>{console.log(e)})),P.Wl.getPrizes({limit:8}).then((e=>{g(e.results),d(e.next),m(!1)})))}),[w]),w?c?n.createElement(qe,null):n.createElement(rt,Object.assign({className:Z()(st.root,o)},s),0!==E&&n.createElement(ve.Z,{className:st.title,variant:"h5"},!i&&n.createElement(G.Z,{id:"ui.loyaltyProgramWidget.title",defaultMessage:"ui.loyaltyProgramWidget.title"}),n.createElement(Ae.Z,{className:st.userPoints,component:"span",label:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.userPoints",defaultMessage:"templates.loyaltyProgramDetail.userPoints",values:{total:E}})})),n.createElement(ve.Z,{className:st.sectionTitle},n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.community",defaultMessage:"templates.loyaltyProgramDetail.community"})),n.createElement(ve.Z,{className:st.sectionInfo},n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.description",defaultMessage:"templates.loyaltyProgramDetail.description"})),n.createElement(ve.Z,{className:st.sectionTitle},n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.listTitle",defaultMessage:"templates.loyaltyProgramDetail.listTitle"})),n.createElement(tt,{className:st.pointsSection}),n.createElement(ve.Z,{className:st.sectionTitle},n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.prizes",defaultMessage:"templates.loyaltyProgramDetail.prizes"})),n.createElement(r.v_Y,{dataLength:u.length,next:D,hasMoreNext:Boolean(p),loaderNext:n.createElement(Ge,null),endMessage:n.createElement(ve.Z,{className:st.endMessage},n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.content.end.message",defaultMessage:"templates.loyaltyProgramDetail.content.end.message"}),n.createElement(Oe.Z,{color:"secondary",onClick:()=>{window.scrollTo({left:0,top:0,behavior:"smooth"})}},n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.content.end.button",defaultMessage:"templates.loyaltyProgramDetail.content.end.button"})))},n.createElement($.ZP,{container:!0,spacing:i?0:3,direction:i?"column":"row",className:st.prizeSection},u.map((e=>n.createElement($.ZP,{item:!0,xs:12,sm:12,md:6,lg:4,xl:3,key:e.id},n.createElement(ke.Z,{className:st.card},n.createElement(Ce.Z,{component:"img",image:e.image}),n.createElement(a.Z,{className:st.prizePoints},n.createElement(Ae.Z,{className:E<=e.points?st.notRequestable:null,label:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.prize.points",defaultMessage:"templates.loyaltyProgramDetail.prize.points",values:{total:e.points}})})),n.createElement($e.Z,null,n.createElement(ve.Z,{variant:"body1",className:st.cardTitle},e.title),n.createElement(ve.Z,{variant:"body2",className:st.cardContent},e.description)),n.createElement(Me.Z,null,e.link&&n.createElement(Oe.Z,{size:"medium",color:"secondary",href:e.link,target:"_blank",className:st.actionButton},n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.button.more",defaultMessage:"templates.loyaltyProgramDetail.button.more"})),(!e.link&&e.active&&E>=e.points||e.active&&E>=e.points)&&n.createElement(Oe.Z,{size:"small",variant:"outlined",className:st.actionButton,disabled:E<e.points,onClick:()=>{return t=e.id,S(t),void v(!0);var t}},n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.button.request",defaultMessage:"templates.loyaltyProgramDetail.button.request"}))))))))),O&&n.createElement(r.QHy,{open:O,title:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.dialog.msg",defaultMessage:"templates.loyaltyProgramDetail.dialog.msg"}),btnConfirm:n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.dialog.confirm",defaultMessage:"templates.loyaltyProgramDetail.dialog.confirm"}),onConfirm:()=>{return e=h,P.Wl.createPrizeRequest(e).then((e=>{f((t=>t-e.prize_points)),v(!1);let t=_(n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.prize.request.success",defaultMessage:"templates.loyaltyProgramDetail.prize.request.success"}),{variant:"success",autoHideDuration:3e3,SnackbarProps:{onClick:()=>{N(t)}}})})).catch((e=>{v(!1);let t=_(n.createElement(G.Z,{id:"templates.loyaltyProgramDetail.prize.request.error",defaultMessage:"templates.loyaltyProgramDetail.prize.request.error"}),{variant:"error",autoHideDuration:3e3,SnackbarProps:{onClick:()=>{N(t)}}})}));var e},onClose:()=>v(!1)})):null}}}]);