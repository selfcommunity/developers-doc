"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[82848],{82848:(e,t,s)=>{s.d(t,{Z:()=>D});var n=s(85893),i=s(67294),o=s(90948),c=s(94253),r=s(86886),d=s(50456),a=s(44854),l=s(52693),u=s(37024),j=s(14022),b=s(64434),O=s(44470),m=s(12805),g=s(52532),h=s(6073);const f={root:`${h.B}-skeleton-root`},p=(0,o.ZP)(g.Z,{name:h.B,slot:"SkeletonRoot"})((()=>({})));function F(e){return(0,n.jsx)(p,Object.assign({className:f.root},e))}var Z=s(4105);const S="SCFeedObjectDetailTemplate",v={root:`${S}-skeleton-root`},N=(0,o.ZP)(c.Z,{name:S,slot:"SkeletonRoot"})((()=>({})));function x(e){const{FeedObjectSkeletonProps:t={},CommentsFeedObjectSkeletonProps:s={},RelatedFeedObjectsSkeletonProps:i={}}=e;return(0,n.jsx)(N,Object.assign({className:v.root},{children:(0,n.jsxs)(r.ZP,Object.assign({container:!0,spacing:2},{children:[(0,n.jsxs)(r.ZP,Object.assign({item:!0,xs:12,md:7},{children:[(0,n.jsx)(m.Z,Object.assign({template:u.r.DETAIL},t)),(0,n.jsx)(F,Object.assign({count:4},s))]})),(0,n.jsx)(r.ZP,Object.assign({item:!0,xs:12,md:5},{children:(0,n.jsx)(Z.Z,Object.assign({},i))}))]}))}))}var L=s(29360),y=s(94184),_=s.n(y),C=s(44012),P=s(83781),E=s(85472),T=s(51206),I=s(8860),R=s(31498);const A={root:`${S}-root`},B=(0,o.ZP)(c.Z,{name:S,slot:"Root"})((()=>({}))),$=[E.Rl,E.OM];const D=function(e){const t=(0,L.Z)({props:e,name:S}),{id:s="feed_object_page",className:o,feedObjectId:m,feedObject:g,feedObjectType:h,FeedObjectProps:f={},FeedSidebarProps:p={},CommentsFeedObjectProps:F={},RelatedFeedObjectProps:Z={autoHide:!1}}=t,v=(0,T.LD)(),N=(0,I.ko)(),{obj:y,setObj:D,error:k}=(0,R.Z)({id:m,feedObject:g,feedObjectType:h}),[U,M]=(0,i.useState)([]),G=(0,i.useMemo)((()=>{const e={};return $.map((t=>e[t]=t in N.preferences?N.preferences[t].value:null)),e}),[N.preferences]);return k?(0,n.jsx)(c.Z,{children:(0,n.jsx)(C.Z,{id:"templates.feedObjectDetail.contributionNotFound",defaultMessage:"templates.feedObjectDetail.contributionNotFound"})}):y?(0,n.jsx)(B,Object.assign({id:s,className:_()(A.root,o)},{children:(0,n.jsxs)(r.ZP,Object.assign({container:!0,spacing:2},{children:[(0,n.jsxs)(r.ZP,Object.assign({item:!0,xs:12,md:7},{children:[(0,n.jsx)(l.Z,Object.assign({},f,{feedObject:y,template:u.r.DETAIL,onReply:function(e){M([...U,e]),setTimeout((()=>{const t=document.getElementById(`comment_object_${e.id}`);t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),300)}})),G[E.Rl]&&(G[E.OM]&&null===v.user||!G[E.OM])?(0,n.jsx)(a.Z,Object.assign({position:P.n.POSITION_BELOW_FEED_OBJECT},y.categories.length&&{categoriesId:y.categories.map((e=>e.id))})):null,(0,n.jsx)(j.Z,Object.assign({showTitle:!0,feedObject:y,comments:U},F),`comments_${y.id}`)]})),(0,n.jsx)(r.ZP,Object.assign({item:!0,xs:12,md:5},{children:(0,n.jsx)(d.Z,Object.assign({mdDown:!0},{children:(0,n.jsx)(b.Z,Object.assign({},p,{children:(0,n.jsx)(O.Z,Object.assign({feedObject:y},Z),`related_${y.id}`)}))}))}))]}))})):(0,n.jsx)(x,{})}},45431:(e,t,s)=>{s.d(t,{Z:()=>j});var n=s(85893),i=s(63902),o=s(78462),c=s(90948),r=s(12805),d=s(44267),a=s(89546);const l={root:`${a.B}-skeleton-root`,list:`${a.B}-list`},u=(0,c.ZP)(i.Z,{name:a.B,slot:"SkeletonRoot"})((()=>({})));function j(e){return(0,n.jsx)(u,Object.assign({className:l.root},e,{children:(0,n.jsx)(d.Z,{children:(0,n.jsx)(o.Z,Object.assign({className:l.list},{children:[...Array(4)].map(((e,t)=>(0,n.jsx)(r.Z,{elevation:0},t)))}))})}))}},89546:(e,t,s)=>{s.d(t,{B:()=>n});const n="SCCategoryTrendingFeedWidget"},6073:(e,t,s)=>{s.d(t,{B:()=>n});const n="SCCommentsFeedObject"},14022:(e,t,s)=>{s.d(t,{Z:()=>C});var n=s(97582),i=s(85893),o=s(67294),c=s(90948),r=s(44012),d=s(87459),a=s(94253),l=s(20166),u=s(94184),j=s.n(u),b=s(29360),O=s(80317),m=s(75459),g=s(15861),h=s(70050),f=s(24243),p=s(24085),F=s(59219),Z=s(99960),S=s(47189),v=s(51294),N=s(49794),x=s(72871),L=s(6073);const y={root:`${L.B}-root`,noComments:`${L.B}-no-comments`,commentNotFound:`${L.B}-comment-not-found`},_=(0,c.ZP)(a.Z,{name:L.B,slot:"Root"})((()=>({})));const C=function(e){const t=(0,b.Z)({props:e,name:L.B}),{id:s=`comments_object_${t.feedObjectType?t.feedObjectType:t.feedObject?t.feedObject.type:""}_${t.feedObjectId?t.feedObjectId:t.feedObject?t.feedObject.id:""}`,className:c,feedObjectId:u,feedObject:C,feedObjectType:P=N.q.POST,commentObjectId:E,commentObject:T,CommentComponent:I=d.Z,CommentComponentProps:R={variant:"outlined",linkableCommentDateTime:!1},CommentObjectSkeletonProps:A={elevation:0,WidgetProps:{variant:"outlined"}},renderNoComments:B,renderCommentNotFound:$,page:D=1,commentsPageCount:k=x.ig,commentsOrderBy:U=l.p.ADDED_AT_ASC,showTitle:M=!1,infiniteScrolling:G=!0,onChangePage:w,comments:V=[],cacheStrategy:K=F.n2.NETWORK_ONLY}=t,W=(0,n._T)(t,["id","className","feedObjectId","feedObject","feedObjectType","commentObjectId","commentObject","CommentComponent","CommentComponentProps","CommentObjectSkeletonProps","renderNoComments","renderCommentNotFound","page","commentsPageCount","commentsOrderBy","showTitle","infiniteScrolling","onChangePage","comments","cacheStrategy"]),X=(0,S.Z)({id:u,feedObject:C,feedObjectType:P,offset:(D-1)*k,pageSize:k,orderBy:U,onChangePage:w,cacheStrategy:K}),[H,z]=(0,o.useState)(!1),[Y,q]=(0,o.useState)(null),{obj:J,error:Q}=(0,v.Z)({id:E,commentObject:T,cacheStrategy:K}),[ee,te]=(0,o.useState)(null),se=X.feedObject?X.feedObject.id:null,ne=J?J.id:null,ie=(0,o.useRef)(),oe=X.total+V.length,ce=(0,o.useMemo)((()=>()=>M?(0,i.jsx)(g.Z,Object.assign({variant:"h6",gutterBottom:!0,color:"inherit"},{children:(0,i.jsx)(r.Z,{id:"ui.commentsObject.title",defaultMessage:"ui.commentsObject.title",values:{total:oe}})})):null),[oe,H]),re=(0,o.useMemo)((()=>e=>f.Z.request({url:p.Z.Comment.url({id:e}),method:p.Z.Comment.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[X.feedObject,E,J]);function de(e){setTimeout((()=>{const t=ie.current?ie.current.querySelector(`#comment_object_${e.id}`):null;t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),300)}(0,o.useEffect)((()=>{null===se||H||(E||J?J?J.parent?(z(!0),re(J.parent).then((e=>{const t=Object.assign({},e);t.latest_comments=[J],(0,h.P$)(e).id===X.feedObject.id?(q(t),de(J)):te(!0),z(!1)})).catch((e=>{z(!1),Z.Y.error(m.J,e)}))):((0,h.P$)(J).id===X.feedObject.id?(q(J),de(J)):te(!0),z(!1)):Q&&z(!1):H||X.getNextPage())}),[se,ne]);let ae=(0,i.jsx)(i.Fragment,{});return ae=!X.componentLoaded||oe||X.isLoadingNext||H?(0,i.jsxs)(i.Fragment,{children:[Boolean((ee||Q)&&!H&&!oe)&&(0,i.jsx)(i.Fragment,{children:$?$():(0,i.jsx)(a.Z,Object.assign({className:y.commentNotFound},{children:(0,i.jsx)(r.Z,{id:"ui.commentsObject.commentNotFound",defaultMessage:"ui.commentsObject.commentNotFound"})}))}),(0,i.jsx)(O.Z,{feedObject:X.feedObject,comments:X.comments,endComments:[...Y?[Y]:[],...U===l.p.ADDED_AT_ASC?V:[]],startComments:[...U===l.p.ADDED_AT_ASC?[]:V],previous:X.previous,handlePrevious:X.getPreviousPage,isLoadingPrevious:X.isLoadingPrevious,next:X.next,isLoadingNext:X.isLoadingNext,handleNext:X.getNextPage,page:X.page,previousPage:X.previousPage,nextPage:X.nextPage,infiniteScrolling:G&&X.total>0&&!Y&&!V.length,CommentComponent:I,CommentComponentProps:R,CommentObjectSkeletonProps:A})]}):(0,i.jsx)(i.Fragment,{children:B?B():(0,i.jsx)(a.Z,Object.assign({className:y.noComments},{children:(0,i.jsx)(r.Z,{id:"ui.commentsObject.noComments",defaultMessage:"ui.commentsObject.noComments"})}))}),(0,i.jsxs)(_,Object.assign({id:s,className:j()(y.root,c)},W,{ref:ie},{children:[ce(),ae]}))}},4105:(e,t,s)=>{s.d(t,{Z:()=>a});var n=s(85893),i=s(45431),o=s(90948),c=s(31713);const r={root:`${c.B}-skeleton-root`},d=(0,o.ZP)(i.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function a(){return(0,n.jsx)(d,{className:r.root})}},31713:(e,t,s)=>{s.d(t,{B:()=>n});const n="SCRelatedFeedObjectsWidget"},44470:(e,t,s)=>{s.d(t,{Z:()=>H});var n=s(97582),i=s(85893),o=s(67294),c=s(90948),r=s(78462),d=s(2734),a=s(37292),l=s(97212),u=s(44267),j=s(15861),b=s(25662),O=s(75459),m=s(85472),g=s(69721),h=s(51206),f=s(8860),p=s(31498),F=s(52693),Z=s(12805),S=s(44012),v=s(37024),N=s(44854),x=s(94184),L=s.n(x),y=s(39154),_=s(79558),C=s(63902),P=s(29360),E=s(91705),T=s(24085),I=s(66821);class R{static getAllFeedObjects(e,t,s){const n=(0,I.B)(t);return(0,E.N)(Object.assign(Object.assign({},s),{url:`${T.Z.FeedObjectList.url({type:e})}?${n.toString()}`,method:T.Z.FeedObjectList.method}))}static getUncommentedFeedObjects(e,t,s){const n=(0,I.B)(t);return(0,E.N)(Object.assign(Object.assign({},s),{url:`${T.Z.FeedObjectsUncommented.url({type:e})}?${n.toString()}`,method:T.Z.FeedObjectsUncommented.method}))}static searchFeedObject(e,t,s){const n=(0,I.B)(t);return(0,E.N)(Object.assign(Object.assign({},s),{url:`${T.Z.SearchFeedObject.url({type:e})}?${n.toString()}`,method:T.Z.SearchFeedObject.method}))}static createFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.CreateFeedObject.url({type:e}),method:T.Z.CreateFeedObject.method,data:t}))}static getSpecificFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.FeedObject.url({type:e,id:t}),method:T.Z.FeedObject.method}))}static updateFeedObject(e,t,s,n){return(0,E.N)(Object.assign(Object.assign({},n),{url:T.Z.UpdateFeedObject.url({id:t,type:e}),method:T.Z.UpdateFeedObject.method,data:s}))}static deleteFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.DeleteFeedObject.url({type:e,id:t}),method:T.Z.DeleteFeedObject.method}))}static feedObjectContributorsList(e,t,s,n){const i=(0,I.B)(s);return(0,E.N)(Object.assign(Object.assign({},n),{url:`${T.Z.FeedObjectContributorsList.url({type:e,id:t})}?${i.toString()}`,method:T.Z.FeedObjectContributorsList.method}))}static feedObjectSharesList(e,t,s,n){const i=(0,I.B)(s);return(0,E.N)(Object.assign(Object.assign({},n),{url:`${T.Z.FeedObjectSharesList.url({type:e,id:t})}?${i.toString()}`,method:T.Z.FeedObjectSharesList.method}))}static feedObjectUserSharesList(e,t,s,n){const i=(0,I.B)(s);return(0,E.N)(Object.assign(Object.assign({},n),{url:`${T.Z.FeedObjectUserSharesList.url({type:e,id:t})}?${i.toString()}`,method:T.Z.FeedObjectUserSharesList.method}))}static restoreFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.RestoreFeedObject.url({type:e,id:t}),method:T.Z.RestoreFeedObject.method}))}static relatedFeedObjects(e,t,s,n){const i=(0,I.B)(s);return(0,E.N)(Object.assign(Object.assign({},n),{url:`${T.Z.RelatedFeedObjects.url({type:e,id:t})}?${i.toString()}`,method:T.Z.RelatedFeedObjects.method}))}static voteFeedObject(e,t,s,n){const i=(0,I.B)(Object.assign({},s&&{reaction:s}));return(0,E.N)(Object.assign(Object.assign({},n),{url:`${T.Z.Vote.url({type:e,id:t})}?${i.toString()}`,method:T.Z.Vote.method}))}static feedObjectVotes(e,t,s,n){const i=(0,I.B)(s);return(0,E.N)(Object.assign(Object.assign({},n),{url:`${T.Z.VotesList.url({type:e,id:t})}?${i.toString()}`,method:T.Z.VotesList.method}))}static feedObjectPollVote(e,t,s,n){return(0,E.N)(Object.assign(Object.assign({},n),{url:T.Z.PollVote.url({type:e,id:t}),method:T.Z.PollVote.method,data:{choice:s}}))}static feedObjectPollVotesList(e,t,s,n){const i=(0,I.B)(s);return(0,E.N)(Object.assign(Object.assign({},n),{url:`${T.Z.PollVotesList.url({type:e,id:t})}?${i.toString()}`,method:T.Z.PollVotesList.method}))}static followFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.FollowContribution.url({id:t}),method:T.Z.FollowContribution.method}))}static feedObjectFollowingList(e,t,s){const n=(0,I.B)(t);return(0,E.N)(Object.assign(Object.assign({},s),{url:`${T.Z.FeedObjectFollowingList.url({type:e})}?${n.toString()}`,method:T.Z.FeedObjectFollowingList.method}))}static checkIfFollowingFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.CheckIfFollowingFeedObject.url({type:e,id:t}),method:T.Z.CheckIfFollowingFeedObject.method}))}static suspendFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.UserSuspendContributionNotification.url({type:e,id:t}),method:T.Z.UserSuspendContributionNotification.method}))}static checkIfSuspendedFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.UserCheckContributionNotificationSuspended.url({type:e,id:t}),method:T.Z.UserCheckContributionNotificationSuspended.method}))}static feedObjectSuspendedList(e,t,s){const n=(0,I.B)(t);return(0,E.N)(Object.assign(Object.assign({},s),{url:`${T.Z.UserListContributionNotificationSuspended.url({type:e})}?${n.toString()}`,method:T.Z.UserListContributionNotificationSuspended.method}))}static flagFeedObject(e,t,s,n){return(0,E.N)(Object.assign(Object.assign({},n),{url:T.Z.Flag.url({type:e,id:t}),method:T.Z.Flag.method,data:s}))}static feedObjectFlagStatus(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.FlagStatus.url({type:e,id:t}),method:T.Z.FlagStatus.method}))}static feedObjectFlagList(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.FeedObjectFlagList.url({type:e,id:t}),method:T.Z.FeedObjectFlagList.method}))}static hideFeedObject(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.HideFeedObject.url({type:e,id:t}),method:T.Z.HideFeedObject.method}))}static feedObjectHideStatus(e,t,s){return(0,E.N)(Object.assign(Object.assign({},s),{url:T.Z.FeedObjectHideStatus.url({type:e,id:t}),method:T.Z.FeedObjectHideStatus.method}))}}class A{static getAllFeedObjects(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.getAllFeedObjects(e,t,s)}))}static getUncommentedFeedObjects(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.getUncommentedFeedObjects(e,t,s)}))}static searchFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.searchFeedObject(e,t,s)}))}static createFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.createFeedObject(e,t,s)}))}static getSpecificFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.getSpecificFeedObject(e,t,s)}))}static updateFeedObject(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.updateFeedObject(e,t,s,i)}))}static deleteFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.deleteFeedObject(e,t,s)}))}static feedObjectContributorsList(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectContributorsList(e,t,s,i)}))}static feedObjectSharesList(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectSharesList(e,t,s,i)}))}static feedObjectUserSharesList(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectUserSharesList(e,t,s)}))}static restoreFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.restoreFeedObject(e,t,s)}))}static relatedFeedObjects(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.relatedFeedObjects(e,t,s,i)}))}static voteFeedObject(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.voteFeedObject(e,t,s,i)}))}static feedObjectVotes(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectVotes(e,t,s,i)}))}static feedObjectPollVote(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectPollVote(e,t,s,i)}))}static feedObjectPollVotesList(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectPollVotesList(e,t,s,i)}))}static followFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.followFeedObject(e,t,s)}))}static feedObjectFollowingList(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectFollowingList(e,t,s)}))}static checkIfFollowingFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.checkIfFollowingFeedObject(e,t,s)}))}static suspendFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.suspendFeedObject(e,t,s)}))}static checkIfSuspendedFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.checkIfSuspendedFeedObject(e,t,s)}))}static feedObjectSuspendedList(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectSuspendedList(e,t,s)}))}static flagFeedObject(e,t,s,i){return(0,n.mG)(this,void 0,void 0,(function*(){return R.flagFeedObject(e,t,s,i)}))}static feedObjectFlagList(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectFlagList(e,t,s)}))}static feedObjectFlagStatus(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectFlagStatus(e,t,s)}))}static hideFeedObject(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.hideFeedObject(e,t,s)}))}static feedObjectHideStatus(e,t,s){return(0,n.mG)(this,void 0,void 0,(function*(){return R.feedObjectHideStatus(e,t,s)}))}}var B=s(24243),$=s(59219),D=s(99960),k=s(83781),U=s(54545),M=s(15927),G=s(4105),w=s(31713);const V={root:`${w.B}-root`,title:`${w.B}-title`,noResults:`${w.B}-no-results`,showMore:`${w.B}-show-more`,dialogRoot:`${w.B}-dialog-root`,endMessage:`${w.B}-end-message`},K=(0,c.ZP)(C.Z,{name:w.B,slot:"Root"})((()=>({}))),W=(0,c.ZP)(y.Z,{name:w.B,slot:"DialogRoot"})((()=>({}))),X=[m.Rl,m.OM,m.Ao];const H=function(e){const t=(0,P.Z)({props:e,name:w.B}),{feedObject:s,feedObjectId:c,feedObjectType:x,template:y=v.r.SNIPPET,className:C=null,autoHide:E=null,limit:I=5,FeedObjectProps:R={template:v.r.SNIPPET},cacheStrategy:H=$.n2.CACHE_FIRST,onHeightChange:z,onStateChange:Y,DialogProps:q={}}=t,J=(0,n._T)(t,["feedObject","feedObjectId","feedObjectType","template","className","autoHide","limit","FeedObjectProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),[Q,ee]=(0,o.useReducer)(M.Xi,{isLoadingNext:!1,next:null,cacheKey:g.hu(g.Tb,c),cacheStrategy:H,visibleItems:I},M.Mv),[te,se]=(0,o.useState)(!1),ne=(0,h.LD)(),ie=(0,f.ko)(),{obj:oe}=(0,p.Z)({id:c,feedObject:s,feedObjectType:x}),ce=(0,d.Z)(),re=(0,a.Z)(ce.breakpoints.down("md")),de=oe?oe.id:null,ae=(0,o.useMemo)((()=>{const e={};return X.map((t=>e[t]=t in ie.preferences?ie.preferences[t].value:null)),e}),[ie.preferences]),le=(0,o.useMemo)((()=>()=>{Q.initialized||Q.isLoadingNext||(ee({type:M.dK.LOADING_NEXT}),A.relatedFeedObjects(oe.type,oe.id,{limit:I}).then((e=>{ee({type:M.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{ee({type:M.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),D.Y.error(O.J,e)})))}),[de,Q.initialized,Q.isLoadingNext,I,ee]);(0,o.useEffect)((()=>{var e;let t;if(void 0!==ne.user&&de&&ae&&(ae[m.Ao]||!ae[m.Ao]&&(null===(e=ne.user)||void 0===e?void 0:e.id)))return t=setTimeout(le),()=>{t&&clearTimeout(t)}}),[de,ne.user,ae]),(0,o.useEffect)((()=>{te&&Q.next&&Q.results.length===I&&Q.initialized&&(ee({type:M.dK.LOADING_NEXT}),A.relatedFeedObjects(oe.type,oe.id,{offset:I,limit:10}).then((e=>{ee({type:M.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{ee({type:M.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),D.Y.error(O.J,e)})))}),[te,I,Q.next,Q.initialized,Q.results.length,oe]),(0,o.useEffect)((()=>{z&&z()}),[Q.results]),(0,o.useEffect)((()=>{(ae[m.Ao]||ne.user)&&null!==(null==oe?void 0:oe.id)&&H===$.n2.NETWORK_ONLY&&Y&&Y({cacheStrategy:$.n2.CACHE_FIRST})}),[null==oe?void 0:oe.id,ae,H,ne.user]);const ue=(0,o.useMemo)((()=>()=>{ee({type:M.dK.LOADING_NEXT}),B.Z.request({url:Q.next,method:T.Z.RelatedFeedObjects.method}).then((e=>{ee({type:M.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[ee,Q.next]),je=()=>{se((e=>!e))};if(!ae[m.Ao]&&!ne.user||E&&!Q.count&&Q.initialized)return(0,i.jsx)(U.Z,{});if(!Q.initialized)return(0,i.jsx)(G.Z,{});const be=()=>ae[m.Rl]&&(ae[m.OM]&&null===ne.user||!ae[m.OM])?(0,i.jsx)(l.ZP,{children:(0,i.jsx)(N.Z,Object.assign({position:k.n.POSITION_RELATED_POSTS_COLUMN},oe.categories.length&&{categoriesId:oe.categories.map((e=>e.id))}))}):null,Oe=Math.floor(Math.random()*(Math.min(Q.count,5)-1+1)+1),me=(0,i.jsxs)(u.Z,{children:[(0,i.jsx)(j.Z,Object.assign({className:V.title,variant:"h5"},{children:(0,i.jsx)(S.Z,{id:"ui.relatedFeedObjectsWidget.title",defaultMessage:"ui.relatedFeedObjectsWidget.title"})})),Q.count?(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(r.Z,{children:Q.results.slice(0,Q.visibleItems).map(((e,t)=>(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(l.ZP,{children:(0,i.jsx)(F.Z,Object.assign({elevation:0,feedObject:e,template:y},R))},e.id),Oe===t&&be()]},t)))}),Q.count>Q.visibleItems&&(0,i.jsx)(b.Z,Object.assign({className:V.showMore,onClick:je},{children:(0,i.jsx)(S.Z,{id:"ui.categoryTrendingFeedWidget.button.showAll",defaultMessage:"ui.categoryTrendingFeedWidget.button.showAll"})}))]}):(0,i.jsx)(j.Z,Object.assign({className:V.noResults,variant:"body2"},{children:(0,i.jsx)(S.Z,{id:"ui.relatedFeedObjectsWidget.noResults",defaultMessage:"ui.relatedFeedObjectsWidget.noResults"})})),te&&(0,i.jsx)(W,Object.assign({className:V.dialogRoot,title:(0,i.jsx)(S.Z,{defaultMessage:"ui.categoryTrendingFeedWidget.title",id:"ui.categoryTrendingFeedWidget.title",values:{total:Q.count}}),onClose:je,open:te},q,{children:(0,i.jsx)(_.Z,Object.assign({dataLength:Q.results.length,next:ue,hasMoreNext:Boolean(Q.next),loaderNext:(0,i.jsx)(Z.Z,Object.assign({elevation:0},R)),height:re?"100%":400,endMessage:(0,i.jsx)(j.Z,Object.assign({className:V.endMessage},{children:(0,i.jsx)(S.Z,{id:"ui.categoryTrendingFeedWidget.noMoreResults",defaultMessage:"ui.categoryTrendingFeedWidget.noMoreResults"})}))},{children:(0,i.jsx)(r.Z,{children:Q.results.map((e=>(0,i.jsx)(l.ZP,{children:(0,i.jsx)(F.Z,Object.assign({elevation:0,feedObject:e},R))},e.id)))})}))}))]});return(0,i.jsx)(K,Object.assign({className:L()(V.root,C)},J,{children:me}))}},15927:(e,t,s)=>{s.d(t,{Mv:()=>c,Xi:()=>o,dK:()=>i});var n=s(59219);const i={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function o(e,t){var s;let o=Object.assign({},e);switch(t.type){case i.LOADING_NEXT:o=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case i.LOADING_PREVIOUS:o=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case i.LOAD_NEXT_SUCCESS:o=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(s=t.payload)||void 0===s?void 0:s.initialized)||!0});break;case i.LOAD_PREVIOUS_SUCCESS:o=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case i.SET_RESULTS:o=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case i.SET_VISIBLE_ITEMS:o=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case i.LOAD_NEXT_FAILURE:o=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case i.LOAD_PREVIOUS_FAILURE:o=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case i.RESET:o={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return n.ZP.set(o.cacheKey,o),o}function c(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&n.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==n.n2.NETWORK_ONLY){const e=n.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}}}]);