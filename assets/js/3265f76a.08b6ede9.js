"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[11341],{6025:(e,t,o)=>{o.d(t,{A:()=>h});var s=o(59703),n=o(85486),r=o(31523),i=o(2879),a=o(56677),l=o(3369);const d=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],c=["component","slots","slotProps"],u=["component"];function h(e,t){const{className:o,elementType:h,ownerState:m,externalForwardedProps:g,getSlotOwnerState:p,internalForwardedProps:f}=t,_=(0,n.A)(t,d),{component:w,slots:A={[e]:void 0},slotProps:v={[e]:void 0}}=g,C=(0,n.A)(g,c),j=A[e]||h,x=(0,a.A)(v[e],m),y=(0,l.A)((0,s.A)({className:o},_,{externalForwardedProps:"root"===e?C:void 0,externalSlotProps:x})),{props:{component:S},internalRef:b}=y,k=(0,n.A)(y.props,u),N=(0,r.A)(b,null==x?void 0:x.ref,t.ref),F=p?p(k):{},W=(0,s.A)({},m,F),R="root"===e?S||w:S,$=(0,i.A)(j,(0,s.A)({},"root"===e&&!w&&!A[e]&&f,"root"!==e&&!A[e]&&f,k,R&&{as:R},{ref:N}),W);return Object.keys(F).forEach((e=>{delete $[e]})),[j,$]}},9063:(e,t,o)=>{o.d(t,{A:()=>r});var s=o(74848);const n=(0,o(11848).Ay)("div",{name:"SCHiddenPlaceholder",slot:"Root",overridesResolver:(e,t)=>[t.root]})((()=>({height:1,width:"100%",display:"none"})));function r(e){return(0,s.jsx)(n,Object.assign({},e))}},25292:(e,t,o)=>{o.d(t,{A:()=>f});var s=o(59703),n=o(85486),r=o(96540),i=o(54533),a=o(75659),l=o(11848),d=o(25669),c=o(38413),u=o(31609);function h(e){return(0,u.Ay)("MuiCardContent",e)}(0,c.A)("MuiCardContent",["root"]);var m=o(74848);const g=["className","component"],p=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),f=r.forwardRef((function(e,t){const o=(0,d.b)({props:e,name:"MuiCardContent"}),{className:r,component:l="div"}=o,c=(0,n.A)(o,g),u=(0,s.A)({},o,{component:l}),f=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},h,t)})(u);return(0,m.jsx)(p,(0,s.A)({as:l,className:(0,i.A)(f.root,r),ownerState:u,ref:t},c))}))},28692:(e,t,o)=>{o.d(t,{Ay:()=>n,So:()=>s});var s;!function(e){e.CACHE_FIRST="Cache-first",e.NETWORK_ONLY="Network-only",e.STALE_WHILE_REVALIDATE="Stale-While-Revalidate"}(s||(s={}));const n=new class{constructor(e=1e4){this.values=new Map,this.maxEntries=e,this.ssr="undefined"==typeof window,this.ssr||(window.__viewSCCache=this.values)}get(e,t,o={noSsr:!0}){let s;return this.values.has(e)?(s=this.values.get(e),this.values.delete(e),this.values.set(e,s)):t&&(s=t,(!this.ssr||!o.noSsr)&&this.values.set(e,s)),s}set(e,t,o={noSsr:!0}){if(!this.ssr||!o.noSsr){if(this.values.size>=this.maxEntries){const e=this.values.keys().next().value;this.values.delete(e)}this.values.set(e,t)}}hasKey(e){return this.values.has(e)}delete(e){this.values.has(e)&&this.values.delete(e)}deleteKeys(e){e.forEach((e=>{this.values.has(e)&&this.values.delete(e)}))}deleteKeysWithPrefix(e){this.values.forEach(((t,o)=>{o.startsWith(e)&&this.values.delete(o)}))}clean(){this.values=new Map}evaluate(){console.log(this.values)}}},29251:(e,t,o)=>{o.d(t,{A:()=>j});var s=o(31635),n=o(74848),r=o(19546),i=o.n(r),a=o(11848),l=o(46831),d=o(44675),c=o(90508),u=o(4671),h=o(40059),m=o(77037),g=o(28968),p=o(15993),f=o(5448);const _="SCBaseDialog",w={root:`${_}-root`,titleRoot:`${_}-title-root`},A=(0,a.Ay)(l.A,{name:_,slot:"Root",overridesResolver:(e,t)=>t.titleRoot})((({theme:e})=>({}))),v=({children:e=null,onClose:t=null})=>{const o=(0,d.A)(),s=(0,c.A)(o.breakpoints.down("md"),{noSsr:(0,f.Nh)()});return(0,n.jsxs)(A,Object.assign({className:w.titleRoot},{children:[(0,n.jsx)("span",{children:e}),t?(0,n.jsx)(u.A,Object.assign({"aria-label":"close",onClick:t},{children:(0,n.jsx)(h.A,{children:s?"arrow_back":"close"})})):null]}))},C=(0,a.Ay)(m.A,{name:_,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const j=function(e){const t=(0,d.A)(),o=(0,c.A)(t.breakpoints.down("md"),{noSsr:(0,f.Nh)()}),r=o,{className:a="",title:l="",subtitle:u=null,DialogContentProps:h={dividers:!o},open:m=!1,onClose:_=null,actions:A=null,children:j,maxWidth:x="sm",scroll:y="body"}=e,S=(0,s.__rest)(e,["className","title","subtitle","DialogContentProps","open","onClose","actions","children","maxWidth","scroll"]);return(0,n.jsxs)(C,Object.assign({className:i()(w.root,a),fullScreen:r,fullWidth:!0,open:m,onClose:_,maxWidth:x,scroll:y},S,{children:[(0,n.jsx)(v,Object.assign({onClose:_},{children:l})),u&&u,(0,n.jsx)(g.A,Object.assign({},h,{children:j})),A&&(0,n.jsx)(p.A,{children:A})]}))}},36175:(e,t,o)=>{o.d(t,{F:()=>s});const s={user:{username:"beatrice",password:"Password!!Beatrice2021",client_id:"XJjPE54IBBjhibs0Rf0wZ969cZNPq6WjC02FrkaM",grant_type:"password"},portal:"https://internal.selfcommunity.io/mkg2zxd0"}},37180:(e,t,o)=>{o.d(t,{A:()=>m});var s=o(96540),n=o(36175),r=o(75251);function i(e,t){void 0===e&&(e=""),void 0===t&&(t={});const o=Object.keys(t).map((e=>encodeURIComponent(e)+"="+encodeURIComponent(t[e]))).join("&");return fetch(e,{method:"POST",headers:{accept:"application/json","content-type":"application/x-www-form-urlencoded"},body:o})}function a(){if((0,r.A)()){const e={refresh_token:JSON.parse(window.localStorage.getItem("token")).refresh_token,client_id:n.F.user.client_id,grant_type:"refresh_token"};return i(`${n.F.portal}/oauth/token/`,e).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>Promise.reject(e)))}}function l(){const e=(0,r.A)(),[t,o]=(0,s.useState)(e?JSON.parse(window.localStorage.getItem("token")):"");return(0,s.useEffect)((()=>{e&&(!t||1e3*t.expiresIn<Date.now()?i(`${n.F.portal}/oauth/token/`,n.F.user).then((e=>e.json())).then((e=>({accessToken:e.access_token,refreshToken:e.refresh_token,tokenType:e.token_type,expiresIn:e.expires_in}))).catch((e=>e)).then((e=>{o(e)})):e&&o(JSON.parse(window.localStorage.getItem("token"))))}),[e]),(0,s.useEffect)((()=>{e&&window.localStorage.setItem("token",JSON.stringify(t))}),[e,t]),t}var d=o(45284),c=o(28554),u=o(73906),h=o(74848);function m(e){let{children:t}=e;const o=l(),s={portal:n.F.portal,locale:{default:"en"},session:{type:"OAuth",clientId:n.F.user.client_id,authToken:o,handleRefreshToken:a},theme:c.Ay,handleAnonymousAction:()=>{alert("Anonymous action")}};return(0,h.jsx)(u.A,{children:()=>(0,h.jsx)(d.Ay,{conf:s,children:t})})}},55157:(e,t,o)=>{function s(e){return!isNaN(e)&&parseInt(String(Number(e)))==e&&!isNaN(parseInt(String(e),10))}o.d(t,{F:()=>s})},68899:(e,t,o)=>{o.d(t,{A:()=>n});var s=o(47379);function n(e){const{theme:t,name:o,props:n}=e;return t&&t.components&&t.components[o]&&t.components[o].defaultProps?(0,s.A)(t.components[o].defaultProps,n):n}},71135:(e,t,o)=>{o.d(t,{A:()=>L});var s=o(31635),n=o(74848),r=o(96540),i=o(11848),a=o(25292),l=o(47859),d=o(28820),c=o(36870),u=o(42942),h=o(72081),m=o(28692),g=o(94520),p=o(55157),f=o(2877),_=o(75753),w=o(3338),A=o(86354),v=o(45949),C=o(54374),j=o(44806),x=o(15906),y=o(58065),S=o(21810);const b="SCUserFollowedCategoriesWidgetSkeleton",k={root:`${b}-skeleton-root`},N=(0,i.Ay)(S.A,{name:b,slot:"SkeletonRoot"})((()=>({})));function F(e){return(0,n.jsx)(N,Object.assign({className:k.root},e))}var W=o(19546),R=o.n(W),$=o(29251),O=o(86857),M=o(79197),T=o(9063);const P="SCUserCategoriesFollowedWidget",U={root:`${P}-root`,title:`${P}-title`,noResults:`${P}-no-results`,showMore:`${P}-show-more`,dialogRoot:`${P}-dialog-root`,endMessage:`${P}-end-message`},E=(0,i.Ay)(O.A,{name:P,slot:"Root"})((()=>({}))),I=(0,i.Ay)($.A,{name:P,slot:"DialogRoot"})((()=>({})));const L=function(e){const t=(0,M.A)({props:e,name:P}),{userId:o,autoHide:i,limit:S=3,className:b,CategoryProps:k={},cacheStrategy:N=m.So.NETWORK_ONLY,onHeightChange:W,onStateChange:$,DialogProps:O={}}=t,L=(0,s.__rest)(t,["userId","autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps"]),B=(0,f.X1)(),D=(0,r.useMemo)((()=>B.user&&o===B.user.id),[B.user,o]),H=(0,r.useContext)(_.ql),z=(0,r.useMemo)((()=>w.g4 in H.preferences&&H.preferences[w.g4].value),[H]),[q,J]=(0,r.useReducer)(v.r6,{isLoadingNext:!1,next:null,cacheKey:A.j3(A.Gb,o),cacheStrategy:N},v.Ox),[K,Q]=(0,r.useState)(!1),G=(0,r.useMemo)((()=>()=>{q.initialized||q.isLoadingNext||h.A.getUserFollowedCategories(o,null).then((e=>{J({type:v.Qd.LOAD_NEXT_SUCCESS,payload:{count:e.length,results:e,initialized:!0}})})).catch((e=>{J({type:v.Qd.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),g.V.error(x.d,e)}))}),[q.isLoadingNext,q.initialized,o,J]);(0,r.useEffect)((()=>{var e;let t;if((z||!z&&(null===(e=B.user)||void 0===e?void 0:e.id))&&(0,p.F)(o)&&void 0!==B.user)return t=setTimeout(G),()=>{t&&clearTimeout(t)}}),[B.user,z,o]),(0,r.useEffect)((()=>{W&&W()}),[q.results.length]),(0,r.useEffect)((()=>{(z||B.user)&&(0,p.F)(o)&&N===m.So.NETWORK_ONLY&&$&&$({cacheStrategy:m.So.CACHE_FIRST})}),[z,N,B.user,o]);const V=e=>{if(D){const t=[...q.results],o=t.findIndex((t=>t.id===e.id));-1!==o&&(e.followed?(t[o].followers_counter=e.followers_counter-1,t[o].followed=!e.followed):(t[o].followers_counter=e.followers_counter+1,t[o].followed=!e.followed),J({type:v.Qd.SET_RESULTS,payload:{results:t}}))}},X=()=>{Q((e=>!e))};if(i&&!q.count&&q.initialized||!o)return(0,n.jsx)(T.A,{});if(!q.initialized)return(0,n.jsx)(F,{});const Y=(0,n.jsxs)(a.A,{children:[(0,n.jsx)(l.A,Object.assign({className:U.title,variant:"h5"},{children:(0,n.jsx)(y.A,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:D?q.results.filter((e=>e.followed)).length:q.count}})})),q.count?(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(d.A,{children:q.results.slice(0,S).map((e=>(0,n.jsx)(c.Ay,{children:(0,n.jsx)(C.A,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:V}},k))},e.id)))}),S<q.count&&(0,n.jsx)(u.A,Object.assign({className:U.showMore,onClick:X},{children:(0,n.jsx)(y.A,{id:"ui.userFollowedCategoriesWidget.button.showAll",defaultMessage:"ui.userFollowedCategoriesWidget.button.showAll"})})),K&&(0,n.jsxs)(I,Object.assign({className:U.dialogRoot,title:(0,n.jsx)(y.A,{id:"ui.userFollowedCategoriesWidget.title",defaultMessage:"ui.userFollowedCategoriesWidget.title",values:{total:q.count}}),onClose:X,open:K,scroll:"paper"},O,{children:[(0,n.jsxs)(d.A,{children:[q.results.map((e=>(0,n.jsx)(c.Ay,{children:(0,n.jsx)(C.A,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:V}},k))},e.id))),q.isLoadingNext&&(0,n.jsx)(c.Ay,{children:(0,n.jsx)(j.A,Object.assign({elevation:0},k))})]}),(0,n.jsx)(l.A,Object.assign({className:U.endMessage},{children:(0,n.jsx)(y.A,{id:"ui.userFollowedCategoriesWidget.noMoreResults",defaultMessage:"ui.userFollowedCategoriesWidget.noMoreResults"})}))]}))]}):(0,n.jsx)(l.A,Object.assign({className:U.noResults,variant:"body2"},{children:(0,n.jsx)(y.A,{id:"ui.userFollowedCategoriesWidget.subtitle.noResults",defaultMessage:"ui.userFollowedCategoriesWidget.subtitle.noResults"})}))]});return(0,n.jsx)(E,Object.assign({className:R()(U.root,b)},L,{children:Y}))}},71194:(e,t,o)=>{o.d(t,{A:()=>A});var s=o(59703),n=o(85486),r=o(96540),i=o(54533),a=o(11659),l=o(13168),d=o(99918),c=o(75131),u=o(74848);const h=["className","component"];var m=o(79071),g=o(58964),p=o(58312);const f=(0,o(38413).A)("MuiBox",["root"]),_=(0,g.A)(),w=function(e={}){const{themeId:t,defaultTheme:o,defaultClassName:m="MuiBox-root",generateClassName:g}=e,p=(0,a.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.A);return r.forwardRef((function(e,r){const a=(0,c.A)(o),l=(0,d.A)(e),{className:f,component:_="div"}=l,w=(0,n.A)(l,h);return(0,u.jsx)(p,(0,s.A)({as:_,ref:r,className:(0,i.A)(f,g?g(m):m),theme:t&&a[t]||a},w))}))}({themeId:p.A,defaultTheme:_,defaultClassName:f.root,generateClassName:m.A.generate}),A=w},86354:(e,t,o)=>{o.d(t,{$M:()=>D,$l:()=>i,B4:()=>T,Gb:()=>k,I$:()=>g,Jl:()=>j,MI:()=>a,Mt:()=>S,N$:()=>H,N7:()=>E,NH:()=>b,OO:()=>f,OQ:()=>w,QO:()=>v,SB:()=>W,SP:()=>y,T4:()=>m,Vm:()=>R,WG:()=>c,ar:()=>n,cn:()=>h,fL:()=>d,fq:()=>u,g8:()=>z,gN:()=>A,hI:()=>l,hl:()=>U,ih:()=>I,io:()=>$,iu:()=>O,j$:()=>x,j3:()=>q,lG:()=>s,lV:()=>P,n7:()=>C,oF:()=>M,ss:()=>N,v$:()=>p,vJ:()=>L,zM:()=>B,zp:()=>F});const s=(e,t)=>`_fo_${t}_${e}`,n=e=>`_co_${e}`,r="_cos_",i=(e,t,o)=>`${r}${t}_${e}_${o}`,a=(e,t)=>`${r}${t}_${e}`,l=()=>"_cas_",d=e=>`_ca_${e}`,c=e=>`_crs_${e}`,u=e=>`_evt_${e}`,h=()=>"_evts_",m=e=>`_liveStream_${e}`,g=e=>`_grp_${e}`,p=()=>"_grps_",f=e=>`_inc_${e}`,_="_contr_",w=(e,t,o)=>`${_}${t}_${e}_${o}`,A=()=>"_bcms_",v=(e,t)=>`_feed_${e}_${t}`,C=e=>`_feed_st_${e}`,j=e=>`_virtualized_scroll_st_${e}`,x=e=>`_feed_spos_${e}`,y=e=>`_adv_${e}`,S=()=>"_pmss_",b=e=>`_pms_${e}`,k="_cFolWidget_",N="_cSugWidget_",F="_cPopWidget_",W="_uFolWidget_",R="_uFoldWidget_",$="_uCreCoursesWidget_",O="_uUserLives_",M="_uConWidget_",T="_uConReqWidget_",P="_uConReqSentWidget_",U="_fTrendWidget_",E="_rFeedWidget_",I="_pTrendWidget_",L="_pSugWidget_",B="_iListWidget_",D="_iSugWidget_",H="_pSugWidget_",z="_gSubWidget_",q=(e,t=void 0)=>`${e}${void 0!==t?t:""}`},86857:(e,t,o)=>{o.d(t,{A:()=>m});var s=o(31635),n=o(74848),r=o(96540),i=o(11848),a=o(57156),l=o(19546),d=o.n(l);const c="SCWidget",u={root:`${c}-root`},h=(0,i.Ay)(a.A,{name:c,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),m=(0,r.forwardRef)(((e,t)=>{const{className:o,onHeightChange:r,onStateChange:i}=e,a=(0,s.__rest)(e,["className","onHeightChange","onStateChange"]);return(0,n.jsx)(h,Object.assign({className:d()(u.root,o)},a,{ref:t}))}))},90508:(e,t,o)=>{var s;o.d(t,{A:()=>u});var n=o(96540),r=o(43910),i=o(68899),a=o(97494);function l(e,t,o,s,i){const[a,l]=n.useState((()=>i&&o?o(e).matches:s?s(e).matches:t));return(0,r.A)((()=>{let t=!0;if(!o)return;const s=o(e),n=()=>{t&&l(s.matches)};return n(),s.addListener(n),()=>{t=!1,s.removeListener(n)}}),[e,o]),a}const d=(s||(s=o.t(n,2))).useSyncExternalStore;function c(e,t,o,s,r){const i=n.useCallback((()=>t),[t]),a=n.useMemo((()=>{if(r&&o)return()=>o(e).matches;if(null!==s){const{matches:t}=s(e);return()=>t}return i}),[i,e,s,r,o]),[l,c]=n.useMemo((()=>{if(null===o)return[i,()=>()=>{}];const t=o(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[i,o,e]);return d(c,l,a)}function u(e,t={}){const o=(0,a.A)(),s="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:n=!1,matchMedia:r=(s?window.matchMedia:null),ssrMatchMedia:u=null,noSsr:h=!1}=(0,i.A)({name:"MuiUseMediaQuery",props:t,theme:o});let m="function"==typeof e?e(o):e;m=m.replace(/^@media( ?)/m,"");return(void 0!==d?c:l)(m,n,r,u,h)}},95099:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>m,frontMatter:()=>l,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"sdk/community-js/react-ui/Components/UserFollowedCategories","title":"User Followed Categories Widget","description":"The User Followed Categories Widget renders the list of categories followed by the user.","source":"@site/docs/sdk/community-js/react-ui/Components/UserFollowedCategories.mdx","sourceDirName":"sdk/community-js/react-ui/Components","slug":"/sdk/community-js/react-ui/Components/UserFollowedCategories","permalink":"/docs/sdk/community-js/react-ui/Components/UserFollowedCategories","draft":false,"unlisted":false,"editUrl":"https://github.com/selfcommunity/developers-doc/tree/main/docs/sdk/community-js/react-ui/Components/UserFollowedCategories.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_label":"User Followed Categories Widget","sidebar_position":1,"title":"User Followed Categories Widget"},"sidebar":"sdkSidebar","previous":{"title":"User","permalink":"/docs/sdk/community-js/react-ui/Components/User"},"next":{"title":"User Followers Widget","permalink":"/docs/sdk/community-js/react-ui/Components/UserFollowers"}}');var n=o(74848),r=o(28453),i=o(37180),a=o(71135);const l={sidebar_label:"User Followed Categories Widget",sidebar_position:1,title:"User Followed Categories Widget"},d=void 0,c={},u=[{value:"Usage",id:"usage",level:4}];function h(e){const t={blockquote:"blockquote",code:"code",h4:"h4",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:["The User Followed Categories Widget renders the list of categories followed by the user.",(0,n.jsx)("br",{}),"\nThis list is composed of items containing category's image, title, info and a follow button, that allows users to follow/unfollow a category.",(0,n.jsx)("br",{}),'\nThe categories are shown in an orderly manner: few items are shown in the main card while the others can be displayed in a modal card by clicking on the "show all" button.']}),"\n"]}),"\n","\n",(0,n.jsx)(i.A,{children:(0,n.jsx)(a.A,{userId:7})}),"\n",(0,n.jsx)(t.h4,{id:"usage",children:"Usage"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:" import React from 'react';\n import {SCContextProvider} from '@selfcommunity/react-core';\n import {UserFollowedCategoriesWidget} from '@selfcommunity/react-ui';\n\n function App() {\n   const conf = {\n     portal: '<community-path>',\n     session: {\n       type: 'OAuth',\n       token: '<community-token>',\n       refreshToken: '<community-refresh-token>',\n       refreshTokenEndpoint: '<community-refresh-endpoint>',\n     },\n   };\n   return (\n     <SCContextProvider conf={conf}><UserFollowedCategoriesWidget /></SCContextProvider>\n   );\n }\n"})})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);