"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[30642],{31924:(e,t,o)=>{o.d(t,{Z:()=>l});var s=o(97582),a=o(91705),n=o(24085),i=o(66821);class r{static getCategorySuggestion(e,t){return(0,a.N)(Object.assign(Object.assign({},t),{url:n.Z.CategoriesSuggestion.url({}),method:n.Z.CategoriesSuggestion.method,params:e}))}static getIncubatorSuggestion(e,t){return(0,a.N)(Object.assign(Object.assign({},t),{url:n.Z.GetIncubatorSuggestion.url({}),method:n.Z.GetIncubatorSuggestion.method,params:e}))}static getPollSuggestion(e,t){return(0,a.N)(Object.assign(Object.assign({},t),{url:n.Z.PollSuggestion.url({}),method:n.Z.PollSuggestion.method,params:e}))}static getUserSuggestion(e,t){return(0,a.N)(Object.assign(Object.assign({},t),{url:n.Z.UserSuggestion.url({}),method:n.Z.UserSuggestion.method,params:e}))}static getSearchSuggestion(e,t,o){const s=(0,i.B)({search:e});return(0,a.N)(Object.assign(Object.assign({},o),{url:`${n.Z.SearchSuggestion.url({})}?${s.toString()}`,method:n.Z.UserSuggestion.method,params:t}))}}class l{static getCategorySuggestion(e,t){return(0,s.mG)(this,void 0,void 0,(function*(){return r.getCategorySuggestion(e,t)}))}static getIncubatorSuggestion(e,t){return(0,s.mG)(this,void 0,void 0,(function*(){return r.getIncubatorSuggestion(e,t)}))}static getPollSuggestion(e,t){return(0,s.mG)(this,void 0,void 0,(function*(){return r.getPollSuggestion(e,t)}))}static getUserSuggestion(e,t){return(0,s.mG)(this,void 0,void 0,(function*(){return r.getUserSuggestion(e,t)}))}static getSearchSuggestion(e,t,o){return(0,s.mG)(this,void 0,void 0,(function*(){return r.getSearchSuggestion(e,t,o)}))}}},98365:(e,t,o)=>{o.d(t,{Z:()=>m});var s=o(67294),a=o(74482),n=o(24243),i=o(24085),r=o(59219),l=o(96570),c=o(99960),u=o(69721),g=o(87620),d=o(68787);function m({id:e=null,category:t=null,cacheStrategy:o=r.n2.CACHE_FIRST}){const m=t?t.id:e,y=(0,d.LD)(),E=y.user?y.user.id:null,S=(0,u.u5)(m),h=E?t:(0,l.Kd)(t,["followed"]),[Z,_]=(0,s.useState)(o!==r.n2.NETWORK_ONLY?r.ZP.get(S,h):null),[N,O]=(0,s.useState)(null),p=(0,s.useMemo)((()=>()=>n.Z.request({url:i.Z.Category.url({id:m}),method:i.Z.Category.method}).then((e=>e.status>=300?Promise.reject(e):Promise.resolve(e.data)))),[m]);return(0,s.useEffect)((()=>{m&&(!Z||Z&&m!==Z.id)&&p().then((e=>{const t=E?e:(0,l.Kd)(e,["followed"]);_(t),r.ZP.set(S,t)})).catch((t=>{r.ZP.delete(S),O(`Category with id ${e} not found`),c.Y.error(a.h,`Category with id ${e} not found`),c.Y.error(a.h,t.message)}))}),[m]),(0,g.F_)((()=>{if(t){const e=E?t:(0,l.Kd)(t,["followed"]);_(e),r.ZP.set(S,e)}}),[t]),{scCategory:Z,setSCCategory:_,error:N}}},95475:(e,t,o)=>{o.d(t,{Z:()=>m});var s=o(67294),a=o(78462),n=o(90948),i=o(74808),r=o(63902),l=o(44267),c=o(97212),u=o(3928);const g={root:`${u.B}-skeleton-root`,list:`${u.B}-list`},d=(0,n.ZP)(r.Z,{name:u.B,slot:"SkeletonRoot"})((()=>({})));function m(e){return s.createElement(d,Object.assign({className:g.root},e),s.createElement(l.Z,null,s.createElement(a.Z,{className:g.list},[...Array(4)].map(((e,t)=>s.createElement(c.ZP,{key:t},s.createElement(i.Z,{elevation:0})))))))}},3928:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCCategoriesSuggestionWidget"},30642:(e,t,o)=>{o.d(t,{Z:()=>F});var s=o(97582),a=o(67294),n=o(90948),i=o(2734),r=o(61730),l=o(44267),c=o(15861),u=o(78462),g=o(97212),d=o(25662),m=o(31924),y=o(24243),E=o(24085),S=o(68787),h=o(69721),Z=o(95475),_=o(42623),N=o(74808),O=o(44012),p=o(94184),b=o.n(p),v=o(63902),f=o(29628),L=o(54545),C=o(59219),w=o(99960),I=o(15927),P=o(39154),B=o(75459),R=o(79558),j=o(3928);const T={root:`${j.B}-root`,title:`${j.B}-title`,noResults:`${j.B}-no-results`,showMore:`${j.B}-show-more`,dialogRoot:`${j.B}-dialog-root`,endMessage:`${j.B}-end-message`},A=(0,n.ZP)(v.Z,{name:j.B,slot:"Root"})((()=>({}))),x=(0,n.ZP)(P.Z,{name:j.B,slot:"DialogRoot"})((()=>({})));const F=function(e){const t=(0,f.Z)({props:e,name:j.B}),{autoHide:o=!0,limit:n=3,className:p,CategoryProps:v={},cacheStrategy:P=C.n2.NETWORK_ONLY,onHeightChange:F,onStateChange:D,DialogProps:U={},categoryId:M}=t,K=(0,s._T)(t,["autoHide","limit","className","CategoryProps","cacheStrategy","onHeightChange","onStateChange","DialogProps","categoryId"]),$=(0,S.LD)(),[k,z]=(0,a.useReducer)(I.Xi,{isLoadingNext:!1,next:null,cacheKey:h.hu(h.DC),cacheStrategy:P,visibleItems:n},I.Mv),[W,X]=(0,a.useState)(!1),G=(0,i.Z)(),H=(0,r.Z)(G.breakpoints.down("md")),Y=(0,a.useMemo)((()=>()=>{k.initialized||k.isLoadingNext||(z({type:I.dK.LOADING_NEXT}),m.Z.getCategorySuggestion({limit:n}).then((e=>{z({type:I.dK.LOAD_NEXT_SUCCESS,payload:Object.assign(Object.assign({},e),{initialized:!0})})})).catch((e=>{z({type:I.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),w.Y.error(B.J,e)})))}),[k.isLoadingNext,k.initialized,n,z]);(0,a.useEffect)((()=>{let e;if($.user)return e=setTimeout(Y),()=>{e&&clearTimeout(e)}}),[$.user]),(0,a.useEffect)((()=>{W&&k.next&&k.results.length<=n&&k.initialized&&(z({type:I.dK.LOADING_NEXT}),m.Z.getCategorySuggestion({offset:n,limit:10}).then((e=>{z({type:I.dK.LOAD_NEXT_SUCCESS,payload:e})})).catch((e=>{z({type:I.dK.LOAD_NEXT_FAILURE,payload:{errorLoadNext:e}}),w.Y.error(B.J,e)})))}),[W,k.next,k.results.length,k.initialized,n]),(0,a.useEffect)((()=>{F&&F()}),[k.results]),(0,a.useEffect)((()=>{$.user&&P===C.n2.NETWORK_ONLY&&D&&D({cacheStrategy:C.n2.CACHE_FIRST})}),[$.user]);const V=(0,a.useMemo)((()=>e=>{const t=[...k.results],o=t.findIndex((t=>t.id===e.id));-1!==o&&(e.followed?(t[o].followers_counter=e.followers_counter-1,t[o].followed=!e.followed):(t[o].followers_counter=e.followers_counter+1,t[o].followed=!e.followed),z({type:I.dK.SET_RESULTS,payload:{results:t}}))}),[z,k.count,k.results]),q=(0,a.useMemo)((()=>()=>{z({type:I.dK.LOADING_NEXT}),y.Z.request({url:k.next,method:E.Z.CategoriesSuggestion.method}).then((e=>{z({type:I.dK.LOAD_NEXT_SUCCESS,payload:e.data})}))}),[z,k.next,k.isLoadingNext,k.initialized]),J=()=>{X((e=>!e))};if(o&&!k.count&&k.initialized||!$.user)return a.createElement(L.Z,null);if(!k.initialized)return a.createElement(Z.Z,null);const Q=a.createElement(l.Z,null,a.createElement(c.Z,{className:T.title,variant:"h5"},a.createElement(O.Z,{id:"ui.categoriesSuggestionWidget.title",defaultMessage:"ui.categoriesSuggestionWidget.title"})),k.count?a.createElement(a.Fragment,null,a.createElement(u.Z,null,k.results.slice(0,k.visibleItems).map((e=>a.createElement(g.ZP,{key:e.id},a.createElement(_.Z,Object.assign({elevation:0,category:e,categoryFollowButtonProps:{onFollow:V}},v)))))),k.count>k.visibleItems&&a.createElement(d.Z,{className:T.showMore,onClick:J},a.createElement(O.Z,{id:"ui.categoriesSuggestionWidget.button.showAll",defaultMessage:"ui.categoriesSuggestionWidget.button.showAll"}))):a.createElement(c.Z,{className:T.noResults,variant:"body2"},a.createElement(O.Z,{id:"ui.categoriesSuggestionWidget.noResults",defaultMessage:"ui.categoriesSuggestionWidget.noResults"})),W&&a.createElement(x,Object.assign({className:T.dialogRoot,title:a.createElement(O.Z,{defaultMessage:"ui.categoriesSuggestionWidget.title",id:"ui.categoriesSuggestionWidget.title"}),onClose:J,open:W},U),a.createElement(R.Z,{dataLength:k.results.length,next:q,hasMoreNext:Boolean(k.next),loaderNext:a.createElement(N.Z,Object.assign({elevation:0},v)),height:H?"100%":400,endMessage:a.createElement(c.Z,{className:T.endMessage},a.createElement(O.Z,{id:"ui.categoriesSuggestionWidget.noMoreResults",defaultMessage:"ui.categoriesSuggestionWidget.noMoreResults"}))},a.createElement(u.Z,null,k.results.map((e=>a.createElement(g.ZP,{key:e.id},a.createElement(_.Z,Object.assign({elevation:0,category:e},v,{categoryFollowButtonProps:{onFollow:V}})))))))));return a.createElement(A,Object.assign({className:b()(T.root,p)},K),Q)}},74808:(e,t,o)=>{o.d(t,{Z:()=>d});var s=o(67294),a=o(90948),n=o(88078),i=o(2734),r=o(25662),l=o(115),c=o(40092);const u={root:`${c.B}-skeleton-root`,image:`${c.B}-image`,primary:`${c.B}-primary`,secondary:`${c.B}-secondary`,button:`${c.B}-button`,action:`${c.B}-action`},g=(0,a.ZP)(l.Z,{name:c.B,slot:"SkeletonRoot"})((()=>({})));function d(e){const t=(0,i.Z)();return s.createElement(g,Object.assign({className:u.root},e,{image:s.createElement(n.Z,{animation:"wave",variant:"rectangular",width:t.selfcommunity.category.icon.sizeMedium,height:t.selfcommunity.category.icon.sizeMedium,className:u.image}),primary:s.createElement(n.Z,{animation:"wave",height:10,width:120,className:u.primary}),secondary:s.createElement(n.Z,{animation:"wave",height:10,width:70,className:u.secondary}),actions:s.createElement(r.Z,{size:"small",variant:"outlined",disabled:!0,className:u.button},s.createElement(n.Z,{animation:"wave",height:10,width:50,className:u.action}))}))}},40092:(e,t,o)=>{o.d(t,{B:()=>s});const s="SCCategory"},42623:(e,t,o)=>{o.d(t,{Z:()=>b});var s=o(97582),a=o(67294),n=o(90948),i=o(87952),r=o(41538),l=o(98365),c=o(97265),u=o(12132),g=o(74808),d=o(75802),m=o(54490),y=o(86896),E=o(94184),S=o.n(E),h=o(29628),Z=o(75427),_=o(40092);const N=(0,m.vU)({categoryFollowers:{id:"ui.category.categoryFollowers",defaultMessage:"ui.category.categoryFollowers"}}),O={root:`${_.B}-root`,categoryImage:`${_.B}-category-image`,title:`${_.B}-title`,actions:`${_.B}-actions`},p=(0,n.ZP)(Z.Z,{name:_.B,slot:"Root"})((()=>({})));const b=function(e){const t=(0,h.Z)({props:e,name:_.B}),{categoryId:o=null,category:n=null,className:m=null,elevation:E,autoHide:Z=!1,categoryFollowButtonProps:b={},showFollowers:v=!0,ButtonBaseProps:f=null}=t,L=(0,s._T)(t,["categoryId","category","className","elevation","autoHide","categoryFollowButtonProps","showFollowers","ButtonBaseProps"]),C=(0,r.sy)(),{scCategory:w,setSCCategory:I}=(0,l.Z)({id:o,category:n}),P=(0,a.useMemo)((()=>f||{component:c.Z,to:C.url(u.CATEGORY_ROUTE_NAME,w)}),[f,C,w]),B=(0,y.Z)();return w?Z?null:a.createElement(p,Object.assign({elevation:E,className:S()(O.root,m),ButtonBaseProps:P,image:a.createElement(i.Z,{alt:w.name,src:w.image_medium,variant:"square",className:O.categoryImage}),primary:w.name,secondary:v?`${B.formatMessage(N.categoryFollowers,{total:w.followers_counter})}`:w.slogan,actions:a.createElement(d.Z,Object.assign({category:w},b))},L)):a.createElement(g.Z,{elevation:E})}},75802:(e,t,o)=>{o.d(t,{Z:()=>O});var s,a=o(97582),n=o(67294),i=o(90948),r=o(59219),l=o(99960),c=o(53704),u=o(68787),g=o(98365),d=o(75459),m=o(31812),y=o(44012),E=o(94184),S=o.n(E),h=o(29628);!function(e){e.NONE="none",e.DEFAULT="default",e.FORCED="forced"}(s||(s={}));const Z="SCCategoryFollowButton",_={root:`${Z}-root`},N=(0,i.ZP)(m.Z,{name:Z,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({})));const O=function(e){const t=(0,h.Z)({props:e,name:Z}),{className:o,categoryId:i,category:m,onFollow:E}=t,O=(0,a._T)(t,["className","categoryId","category","onFollow"]),p=(0,c.RM)(),b=(0,u.LD)(),v=b.managers.categories,f=b.user?b.user.id:null,{scCategory:L,setSCCategory:C}=(0,g.Z)({id:i,category:m,cacheStrategy:f?r.n2.CACHE_FIRST:r.n2.STALE_WHILE_REVALIDATE}),[w,I]=(0,n.useState)(null);return(0,n.useEffect)((()=>{f&&I(v.isFollowed(L))}),[f,v.isFollowed]),!L||L&&w&&L.auto_follow===s.FORCED?null:n.createElement(N,Object.assign({size:"small",variant:"outlined",onClick:()=>{b.user?v.follow(L).then((()=>{E&&E(L,!w)})).catch((e=>{l.Y.error(d.J,e)})):p.settings.handleAnonymousAction()},loading:b.user?null===w||v.isLoading(L):null,className:S()(_.root,o)},O),w&&b.user?n.createElement(y.Z,{defaultMessage:"ui.categoryFollowButton.unfollow",id:"ui.categoryFollowButton.unfollow"}):n.createElement(y.Z,{defaultMessage:"ui.categoryFollowButton.follow",id:"ui.categoryFollowButton.follow"}))}},15927:(e,t,o)=>{o.d(t,{Mv:()=>i,Xi:()=>n,dK:()=>a});var s=o(59219);const a={LOADING_NEXT:"_loading_next",LOADING_PREVIOUS:"_loading_previous",LOAD_NEXT_SUCCESS:"_load_next_success",LOAD_PREVIOUS_SUCCESS:"_load_previous_success",LOAD_NEXT_FAILURE:"_load_next_failure",LOAD_PREVIOUS_FAILURE:"_load_previous_failure",SET_RESULTS:"_set_results",SET_VISIBLE_ITEMS:"_set_visible_items",RESET:"_reset"};function n(e,t){var o;let n=Object.assign({},e);switch(t.type){case a.LOADING_NEXT:n=Object.assign(Object.assign({},e),{isLoadingNext:!0,errorLoadNext:null});break;case a.LOADING_PREVIOUS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!0,errorLoadPrevious:null});break;case a.LOAD_NEXT_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,count:t.payload.count,next:t.payload.next?t.payload.next:null,results:[...e.results,...t.payload.results],errorLoadNext:null,initialized:(null===(o=t.payload)||void 0===o?void 0:o.initialized)||!0});break;case a.LOAD_PREVIOUS_SUCCESS:n=Object.assign(Object.assign({},e),{isLoadingPrevious:!1,count:t.payload.count,previous:t.payload.previous?t.payload.previous:null,results:[...t.payload.results,...e.results],errorPreviousNext:null});break;case a.SET_RESULTS:n=Object.assign(Object.assign(Object.assign({},e),{results:[...t.payload.results]}),t.payload.count?{count:t.payload.count}:{});break;case a.SET_VISIBLE_ITEMS:n=Object.assign(Object.assign({},e),{visibleItems:t.payload.visibleItems});break;case a.LOAD_NEXT_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadNext:t.payload.error});break;case a.LOAD_PREVIOUS_FAILURE:n=Object.assign(Object.assign({},e),{isLoadingNext:!1,errorLoadPrevious:t.payload.error});break;case a.RESET:n={isLoadingNext:!1,next:null,results:[],count:0,errorLoadNext:null,initialized:!1}}return s.ZP.set(n.cacheKey,n),n}function i(e){let t={cacheKey:e.cacheKey?e.cacheKey:null,count:e.count?e.count:0,results:e.results?e.results:[],next:e.next?e.next:null,previous:e.previous?e.previous:null,isLoadingNext:!!e.isLoadingNext&&e.isLoadingNext,isLoadingPrevious:!!e.isLoadingPrevious&&e.isLoadingPrevious,visibleItems:e.visibleItems?e.visibleItems:null,initialized:!1};if(t.cacheKey&&s.ZP.hasKey(t.cacheKey)&&e.cacheStrategy!==s.n2.NETWORK_ONLY){const e=s.ZP.get(t.cacheKey);return Object.assign(Object.assign({},t),e)}return t}}}]);