"use strict";(self.webpackChunkdevelopers_doc=self.webpackChunkdevelopers_doc||[]).push([[43286],{121:(e,t,r)=>{r.d(t,{A:()=>y});var n=r(85486),o=r(59703),s=r(96540),a=r(54533),i=r(75659),l=r(25669),c=r(11848),d=r(38413),u=r(31609);function p(e){return(0,u.Ay)("MuiCardMedia",e)}(0,d.A)("MuiCardMedia",["root","media","img"]);var h=r(74848);const m=["children","className","component","image","src","style"],f=(0,c.Ay)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{isMediaComponent:n,isImageComponent:o}=r;return[t.root,n&&t.media,o&&t.img]}})((({ownerState:e})=>(0,o.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},e.isMediaComponent&&{width:"100%"},e.isImageComponent&&{objectFit:"cover"}))),v=["video","audio","picture","iframe","img"],g=["picture","img"],y=s.forwardRef((function(e,t){const r=(0,l.b)({props:e,name:"MuiCardMedia"}),{children:s,className:c,component:d="div",image:u,src:y,style:b}=r,A=(0,n.A)(r,m),x=-1!==v.indexOf(d),_=!x&&u?(0,o.A)({backgroundImage:`url("${u}")`},b):b,w=(0,o.A)({},r,{component:d,isMediaComponent:x,isImageComponent:-1!==g.indexOf(d)}),j=(e=>{const{classes:t,isMediaComponent:r,isImageComponent:n}=e,o={root:["root",r&&"media",n&&"img"]};return(0,i.A)(o,p,t)})(w);return(0,h.jsx)(f,(0,o.A)({className:(0,a.A)(j.root,c),as:d,role:!x&&u?"img":void 0,ref:t,style:_,ownerState:w,src:x?u||y:void 0},A,{children:s}))}))},2783:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(74848),o=r(96540),s=r(13550),a=r(98669);const i=[-100,-100];var l=r(40094);const c=e=>{const{endpoint:t,params:r={},callback:a,data:i=null}=e,{ref:c,inView:d}=(0,l.Wx)({threshold:.1}),u=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{d?u.current=!0:u.current&&t&&!d&&s.A.request({url:t.url(r),method:t.method,data:i}).then((e=>{a&&a(e)})).catch((()=>null))}),[d]),(0,n.jsx)("div",{ref:c})},d=e=>(0,n.jsx)(a.Ay,Object.assign({once:!0,offset:i},{children:(0,n.jsx)(c,Object.assign({},e))}))},3246:(e,t,r)=>{r.d(t,{A:()=>N});var n=r(85486),o=r(59703),s=r(96540),a=r(54533),i=r(75659),l=r(17437),c=r(28466),d=r(25669),u=r(11848),p=r(38413),h=r(31609);function m(e){return(0,h.Ay)("MuiCircularProgress",e)}(0,p.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var f=r(74848);const v=["className","color","disableShrink","size","style","thickness","value","variant"];let g,y,b,A,x=e=>e;const _=44,w=(0,l.i7)(g||(g=x`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),j=(0,l.i7)(y||(y=x`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),S=(0,u.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`color${(0,c.A)(r.color)}`]]}})((({ownerState:e,theme:t})=>(0,o.A)({display:"inline-block"},"determinate"===e.variant&&{transition:t.transitions.create("transform")},"inherit"!==e.color&&{color:(t.vars||t).palette[e.color].main})),(({ownerState:e})=>"indeterminate"===e.variant&&(0,l.AH)(b||(b=x`
      animation: ${0} 1.4s linear infinite;
    `),w))),M=(0,u.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),C=(0,u.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t[`circle${(0,c.A)(r.variant)}`],r.disableShrink&&t.circleDisableShrink]}})((({ownerState:e,theme:t})=>(0,o.A)({stroke:"currentColor"},"determinate"===e.variant&&{transition:t.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})),(({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.AH)(A||(A=x`
      animation: ${0} 1.4s ease-in-out infinite;
    `),j))),N=s.forwardRef((function(e,t){const r=(0,d.b)({props:e,name:"MuiCircularProgress"}),{className:s,color:l="primary",disableShrink:u=!1,size:p=40,style:h,thickness:g=3.6,value:y=0,variant:b="indeterminate"}=r,A=(0,n.A)(r,v),x=(0,o.A)({},r,{color:l,disableShrink:u,size:p,thickness:g,value:y,variant:b}),w=(e=>{const{classes:t,variant:r,color:n,disableShrink:o}=e,s={root:["root",r,`color${(0,c.A)(n)}`],svg:["svg"],circle:["circle",`circle${(0,c.A)(r)}`,o&&"circleDisableShrink"]};return(0,i.A)(s,m,t)})(x),j={},N={},k={};if("determinate"===b){const e=2*Math.PI*((_-g)/2);j.strokeDasharray=e.toFixed(3),k["aria-valuenow"]=Math.round(y),j.strokeDashoffset=`${((100-y)/100*e).toFixed(3)}px`,N.transform="rotate(-90deg)"}return(0,f.jsx)(S,(0,o.A)({className:(0,a.A)(w.root,s),style:(0,o.A)({width:p,height:p},N,h),ownerState:x,ref:t,role:"progressbar"},k,A,{children:(0,f.jsx)(M,{className:w.svg,ownerState:x,viewBox:"22 22 44 44",children:(0,f.jsx)(C,{className:w.circle,style:j,ownerState:x,cx:_,cy:_,r:(_-g)/2,fill:"none",strokeWidth:g})})}))}))},3341:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(31635),o=r(74848),s=r(96540),a=r(20411);const i=s.forwardRef(((e,t)=>{var{children:r}=e,i=(0,n.__rest)(e,["children"]);const l=(0,s.useContext)(a.y9);if(l.routerLink){const e=l.routerLink;return(0,o.jsx)(e,Object.assign({},i,{ref:t},{children:r}))}const{to:c}=i,d=(0,n.__rest)(i,["to"]);return(0,o.jsx)("a",Object.assign({href:c},d,{ref:t},{children:r}))}))},15906:(e,t,r)=>{r.d(t,{d:()=>n});const n="@selfcommunity/react-ui"},20973:(e,t,r)=>{r.d(t,{A:()=>m});var n=r(59703),o=r(85486),s=r(96540),a=r(65670),i=r(57223),l=r(44675),c=r(35186),d=r(96852),u=r(74848);const p=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],h={entering:{opacity:1},entered:{opacity:1}},m=s.forwardRef((function(e,t){const r=(0,l.A)(),m={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:f,appear:v=!0,children:g,easing:y,in:b,onEnter:A,onEntered:x,onEntering:_,onExit:w,onExited:j,onExiting:S,style:M,timeout:C=m,TransitionComponent:N=a.Ay}=e,k=(0,o.A)(e,p),R=s.useRef(null),E=(0,d.A)(R,(0,i.A)(g),t),O=e=>t=>{if(e){const r=R.current;void 0===t?e(r):e(r,t)}},I=O(_),T=O(((e,t)=>{(0,c.q)(e);const n=(0,c.c)({style:M,timeout:C,easing:y},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),A&&A(e,t)})),$=O(x),L=O(S),P=O((e=>{const t=(0,c.c)({style:M,timeout:C,easing:y},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),w&&w(e)})),W=O(j);return(0,u.jsx)(N,(0,n.A)({appear:v,in:b,nodeRef:R,onEnter:T,onEntered:$,onEntering:I,onExit:P,onExited:W,onExiting:L,addEndListener:e=>{f&&f(R.current,e)},timeout:C},k,{children:(e,t)=>s.cloneElement(g,(0,n.A)({style:(0,n.A)({opacity:0,visibility:"exited"!==e||b?void 0:"hidden"},h[e],M,g.props.style),ref:E},t))}))}))},25292:(e,t,r)=>{r.d(t,{A:()=>v});var n=r(59703),o=r(85486),s=r(96540),a=r(54533),i=r(75659),l=r(11848),c=r(25669),d=r(38413),u=r(31609);function p(e){return(0,u.Ay)("MuiCardContent",e)}(0,d.A)("MuiCardContent",["root"]);var h=r(74848);const m=["className","component"],f=(0,l.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),v=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCardContent"}),{className:s,component:l="div"}=r,d=(0,o.A)(r,m),u=(0,n.A)({},r,{component:l}),v=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"]},p,t)})(u);return(0,h.jsx)(f,(0,n.A)({as:l,className:(0,a.A)(v.root,s),ownerState:u,ref:t},d))}))},27365:(e,t,r)=>{r.d(t,{A:()=>b});var n=r(85486),o=r(59703),s=r(96540),a=r(54533),i=r(75659),l=r(11848),c=r(25669),d=r(30332),u=r(74848);const p=(0,d.A)((0,u.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var h=r(33779),m=r(6025);const f=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],v=(0,l.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,o.A)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:(0,o.A)({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]}))),g=(0,l.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y=(0,l.Ay)(p,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const b=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiAvatar"}),{alt:l,children:d,className:p,component:b="div",slots:A={},slotProps:x={},imgProps:_,sizes:w,src:j,srcSet:S,variant:M="circular"}=r,C=(0,n.A)(r,f);let N=null;const k=function({crossOrigin:e,referrerPolicy:t,src:r,srcSet:n}){const[o,a]=s.useState(!1);return s.useEffect((()=>{if(!r&&!n)return;a(!1);let o=!0;const s=new Image;return s.onload=()=>{o&&a("loaded")},s.onerror=()=>{o&&a("error")},s.crossOrigin=e,s.referrerPolicy=t,s.src=r,n&&(s.srcset=n),()=>{o=!1}}),[e,t,r,n]),o}((0,o.A)({},_,{src:j,srcSet:S})),R=j||S,E=R&&"error"!==k,O=(0,o.A)({},r,{colorDefault:!E,component:b,variant:M}),I=(e=>{const{classes:t,variant:r,colorDefault:n}=e,o={root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,i.A)(o,h.k,t)})(O),[T,$]=(0,m.A)("img",{className:I.img,elementType:g,externalForwardedProps:{slots:A,slotProps:{img:(0,o.A)({},_,x.img)}},additionalProps:{alt:l,src:j,srcSet:S,sizes:w},ownerState:O});return N=E?(0,u.jsx)(T,(0,o.A)({},$)):d||0===d?d:R&&l?l[0]:(0,u.jsx)(y,{ownerState:O,className:I.fallback}),(0,u.jsx)(v,(0,o.A)({as:b,ownerState:O,className:(0,a.A)(I.root,p),ref:t},C,{children:N}))}))},28692:(e,t,r)=>{r.d(t,{Ay:()=>o,So:()=>n});var n;!function(e){e.CACHE_FIRST="Cache-first",e.NETWORK_ONLY="Network-only",e.STALE_WHILE_REVALIDATE="Stale-While-Revalidate"}(n||(n={}));const o=new class{constructor(e=1e4){this.values=new Map,this.maxEntries=e,this.ssr="undefined"==typeof window,this.ssr||(window.__viewSCCache=this.values)}get(e,t,r={noSsr:!0}){let n;return this.values.has(e)?(n=this.values.get(e),this.values.delete(e),this.values.set(e,n)):t&&(n=t,(!this.ssr||!r.noSsr)&&this.values.set(e,n)),n}set(e,t,r={noSsr:!0}){if(!this.ssr||!r.noSsr){if(this.values.size>=this.maxEntries){const e=this.values.keys().next().value;this.values.delete(e)}this.values.set(e,t)}}hasKey(e){return this.values.has(e)}delete(e){this.values.has(e)&&this.values.delete(e)}deleteKeys(e){e.forEach((e=>{this.values.has(e)&&this.values.delete(e)}))}deleteKeysWithPrefix(e){this.values.forEach(((t,r)=>{r.startsWith(e)&&this.values.delete(r)}))}clean(){this.values=new Map}evaluate(){console.log(this.values)}}},33779:(e,t,r)=>{r.d(t,{A:()=>a,k:()=>s});var n=r(38413),o=r(31609);function s(e){return(0,o.Ay)("MuiAvatar",e)}const a=(0,n.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"])},34069:(e,t,r)=>{r.d(t,{A:()=>x});var n=r(85486),o=r(59703),s=r(96540),a=r(54533),i=r(75659),l=r(47859),c=r(25669),d=r(11848),u=r(38413),p=r(31609);function h(e){return(0,p.Ay)("MuiCardHeader",e)}const m=(0,u.A)("MuiCardHeader",["root","avatar","action","content","title","subheader"]);var f=r(74848);const v=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],g=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,o.A)({[`& .${m.title}`]:t.title,[`& .${m.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),y=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),b=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),A=(0,d.Ay)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),x=s.forwardRef((function(e,t){const r=(0,c.b)({props:e,name:"MuiCardHeader"}),{action:s,avatar:d,className:u,component:p="div",disableTypography:m=!1,subheader:x,subheaderTypographyProps:_,title:w,titleTypographyProps:j}=r,S=(0,n.A)(r,v),M=(0,o.A)({},r,{component:p,disableTypography:m}),C=(e=>{const{classes:t}=e;return(0,i.A)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},h,t)})(M);let N=w;null==N||N.type===l.A||m||(N=(0,f.jsx)(l.A,(0,o.A)({variant:d?"body2":"h5",className:C.title,component:"span",display:"block"},j,{children:N})));let k=x;return null==k||k.type===l.A||m||(k=(0,f.jsx)(l.A,(0,o.A)({variant:d?"body2":"body1",className:C.subheader,color:"text.secondary",component:"span",display:"block"},_,{children:k}))),(0,f.jsxs)(g,(0,o.A)({className:(0,a.A)(C.root,u),as:p,ref:t,ownerState:M},S,{children:[d&&(0,f.jsx)(y,{className:C.avatar,ownerState:M,children:d}),(0,f.jsxs)(A,{className:C.content,ownerState:M,children:[N,k]}),s&&(0,f.jsx)(b,{className:C.action,ownerState:M,children:s})]}))}))},40094:(e,t,r)=>{r.d(t,{Wx:()=>m,pL:()=>h});var n=r(96540);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}const s=new Map,a=new WeakMap;let i,l=0;function c(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(r=e.root,r?(a.has(r)||(l+=1,a.set(r,l.toString())),a.get(r)):"0"):e[t]}`;var r})).toString()}function d(e,t,r={},n=i){if(void 0===window.IntersectionObserver&&void 0!==n){const o=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:a,elements:l}=function(e){let t=c(e),r=s.get(t);if(!r){const n=new Map;let o;const a=new IntersectionObserver((t=>{t.forEach((t=>{var r;const s=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=s),null==(r=n.get(t.target))||r.forEach((e=>{e(s,t)}))}))}),e);o=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:a,elements:n},s.set(t,r)}return r}(r);let d=l.get(e)||[];return l.has(e)||l.set(e,d),d.push(t),a.observe(e),function(){d.splice(d.indexOf(t),1),0===d.length&&(l.delete(e),a.unobserve(e)),0===l.size&&(a.disconnect(),s.delete(o))}}const u=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function p(e){return"function"!=typeof e.children}class h extends n.Component{constructor(e){super(e),this.node=null,this._unobserveCb=null,this.handleNode=e=>{this.node&&(this.unobserve(),e||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()},this.handleChange=(e,t)=>{e&&this.props.triggerOnce&&this.unobserve(),p(this.props)||this.setState({inView:e,entry:t}),this.props.onChange&&this.props.onChange(e,t)},this.state={inView:!!e.initialInView,entry:void 0}}componentDidUpdate(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve(),this.node=null}observeNode(){if(!this.node||this.props.skip)return;const{threshold:e,root:t,rootMargin:r,trackVisibility:n,delay:o,fallbackInView:s}=this.props;this._unobserveCb=d(this.node,this.handleChange,{threshold:e,root:t,rootMargin:r,trackVisibility:n,delay:o},s)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){if(!p(this.props)){const{inView:e,entry:t}=this.state;return this.props.children({inView:e,entry:t,ref:this.handleNode})}const e=this.props,{children:t,as:r}=e,s=function(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,u);return n.createElement(r||"div",o({ref:this.handleNode},s),t)}}function m({threshold:e,delay:t,trackVisibility:r,rootMargin:o,root:s,triggerOnce:a,skip:i,initialInView:l,fallbackInView:c,onChange:u}={}){var p;const[h,m]=n.useState(null),f=n.useRef(),[v,g]=n.useState({inView:!!l,entry:void 0});f.current=u,n.useEffect((()=>{if(i||!h)return;let n;return n=d(h,((e,t)=>{g({inView:e,entry:t}),f.current&&f.current(e,t),t.isIntersecting&&a&&n&&(n(),n=void 0)}),{root:s,rootMargin:o,threshold:e,trackVisibility:r,delay:t},c),()=>{n&&n()}}),[Array.isArray(e)?e.toString():e,h,s,o,a,i,r,c,t]);const y=null==(p=v.entry)?void 0:p.target,b=n.useRef();h||!y||a||i||b.current===y||(b.current=y,g({inView:!!l,entry:void 0}));const A=[m,v.inView,v.entry];return A.ref=A[0],A.inView=A[1],A.entry=A[2],A}},43286:(e,t,r)=>{r.d(t,{A:()=>le});var n=r(31635),o=r(74848),s=r(96540),a=r(11848),i=r(67733),l=r(25292),c=r(42942),d=r(27365),u=r(23224),p=r.n(u),h=r(66848),m=r(67227),f=r(28692),v=r(3338),g=r(2877),y=r(75753),b=r(29368),A=r(13550),x=r(94520),_=r(86354),w=r(42269);const j=`${b.A.BroadcastMessagesList.url()}?limit=3`,S=(0,_.gN)(),M={results:[],next:j,previous:null,count:0},C=e=>{const{cacheStrategy:t=f.So.CACHE_FIRST}=e||{},r=t!==f.So.NETWORK_ONLY?f.Ay.get(S,null):null,[o,a]=(0,s.useState)(null!==r?r:M),[i,l]=(0,s.useState)(!r&&null),c=e=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const t=(yield A.A.request({url:e,method:b.A.BroadcastMessagesList.method})).data;if(t.next&&!t.results[t.results.length-1].viewed_at){const e=yield c(t.next);return{results:t.results.concat(e.results),next:e.next,previous:null,count:e.count}}return t}));return{data:o,loading:i,fetchMessages:(e=!1)=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){return l(!0),c(e?j:o.next).then((t=>{const r=e?t:{results:[...o.results,...t.results],next:t.next,count:t.count,previous:t.previous};return a(r),l(!1),f.Ay.set(S,r),Promise.resolve(t)})).catch((e=>(x.V.error(w.K,e),Promise.reject())))})),setMessages:e=>{let t={results:[...e],next:o.next,count:Math.max(o.count-(o.results.length-e.length),0),previous:o.previous};return a(t),f.Ay.set(S,t),t}}};var N,k=r(47859),R=r(121),E=r(20973),O=r(34069),I=r(4671),T=r(3246),$=r(40059),L=r(44744),P=r(36870),W=r(59223),B=r(82241),V=r(58065),D=r(15906),z=r(2783),H=r(86857);!function(e){e.SNIPPET="snippet",e.DETAIL="detail",e.TOAST="toast"}(N||(N={}));var F=r(19546),q=r.n(F),U=r(20411),K=r(3341),G=r(88352);const J="SCBroadcastMessages",Y={root:`${J}-message-root`,header:`${J}-header`,title:`${J}-title`,media:`${J}-media`,content:`${J}-content`,listItemSnippet:`${J}-list-item-snippet`,listItemSnippetNew:`${J}-list-item-snippet-new`,messageIconWrap:`${J}-flag-icon-wrap`,messageIconSnippet:`${J}-flag-icon-snippet`},Q=(0,a.Ay)(H.A,{name:J,slot:"MessageRoot"})((()=>({}))),X=[v.Ej,v.pL];function Z(e){const{id:t=`message_${e.message.id}`,className:r,message:a,disableMarkRead:c=!1,onClose:u=null,onRead:p=null,template:h=N.DETAIL}=e,m=(0,n.__rest)(e,["id","className","message","disableMarkRead","onClose","onRead","template"]),[f,g]=(0,s.useState)(null===a.disposed_at),[_,w]=(0,s.useState)(!1),j=(0,s.useContext)(y.ql),S=(0,U.I$)(),M=(0,s.useMemo)((()=>{const e={};return X.map((t=>e[t]=t in j.preferences?j.preferences[t].value:null)),e}),[j.preferences]),C=()=>{w(!0),A.A.request({url:b.A.BroadcastMessagesDispose.url(),method:b.A.BroadcastMessagesDispose.method,data:{banner_ids:[a.id]}}).then((()=>{g(!1),w(!1),u&&u(a)})).catch((e=>{x.V.error(D.d,e)}))},H=e=>{e.status<300&&p&&p(a)};(0,s.useEffect)((()=>{g(null===a.disposed_at)}),[a]);const F=e=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.A,Object.assign({className:Y.title},{children:(0,o.jsx)(k.A,Object.assign({variant:"h6"},{children:e.title}))})),e.image&&(0,o.jsx)(R.A,{className:Y.media,component:"img",image:e.image,alt:e.title}),(e.body_text||e.link_text)&&(0,o.jsxs)(l.A,Object.assign({className:Y.content},{children:[e.body_text&&(0,o.jsx)(k.A,Object.assign({variant:"body1",color:"text.secondary"},{children:e.body_text})),e.link_text&&(0,o.jsx)(k.A,Object.assign({variant:"body1",color:"text.secondary"},{children:(0,o.jsx)("a",Object.assign({href:e.link,target:e.open_in_new_tab?"_blank":"_self"},{children:e.link_text}))}))]}))]}),{banner:J}=a;return h===N.DETAIL||N.TOAST?(0,o.jsx)(Q,Object.assign({id:t,className:q()(Y.root,r)},m,{children:(0,o.jsx)(E.A,Object.assign({in:f,unmountOnExit:!0},{children:(0,o.jsxs)(i.A,{children:[null===a.viewed_at&&!c&&(0,o.jsx)(z.A,{endpoint:b.A.BroadcastMessagesMarkRead,data:{banner_ids:[a.id]},callback:H}),(0,o.jsx)(O.A,{className:Y.header,avatar:(0,o.jsx)(d.A,{alt:M[v.pL],src:M[v.Ej]}),action:h===N.DETAIL&&(0,o.jsx)(I.A,Object.assign({"aria-label":"close",onClick:C,disabled:_},{children:_?(0,o.jsx)(T.A,{size:20}):(0,o.jsx)($.A,{children:"close"})})),title:(0,o.jsx)(L.A,{color:"secondary",size:"small",label:(0,o.jsx)(V.A,{id:"ui.broadcastMessages.message.chip",defaultMessage:"ui.broadcastMessages.message.chip"})})}),F(J)]})}))})):(0,o.jsx)(Q,Object.assign({id:t,className:r},m,{children:(0,o.jsxs)(P.Ay,Object.assign({alignItems:"center",component:"div",classes:{root:q()(Y.listItemSnippet,Y.listItemSnippetNew)}},{children:[(0,o.jsx)(W.A,Object.assign({classes:{root:Y.messageIconWrap}},{children:(0,o.jsx)(d.A,Object.assign({variant:"circular",classes:{root:Y.messageIconSnippet}},{children:(0,o.jsx)($.A,{children:"info"})}))})),(0,o.jsx)(B.A,{disableTypography:!0,primary:(0,o.jsx)(K.A,Object.assign({to:S.url(G.USER_NOTIFICATIONS_ROUTE_NAME,{})},{children:(0,o.jsx)(k.A,Object.assign({component:"span",color:"inherit"},{children:J.title}))}))})]}))}))}var ee=r(44675),te=r(73785);const re={root:`${J}-message-skeleton-root`,header:`${J}-header`,title:`${J}-title`,media:`${J}-media`,content:`${J}-content`},ne=(0,a.Ay)(H.A,{name:J,slot:"MessageSkeletonRoot"})((()=>({})));function oe(e){const t=(0,ee.A)();return(0,o.jsxs)(ne,Object.assign({className:re.root},{children:[(0,o.jsx)(O.A,{className:re.header,avatar:(0,o.jsx)(te.A,{animation:"wave",variant:"circular",width:t.selfcommunity.user.avatar.sizeMedium,height:t.selfcommunity.user.avatar.sizeMedium}),title:(0,o.jsx)(te.A,{animation:"wave",variant:"rectangular",width:60,height:20})}),(0,o.jsx)(l.A,Object.assign({className:re.title},{children:(0,o.jsx)(s.Fragment,{children:(0,o.jsx)(te.A,{animation:"wave",height:10,width:"80%"})})})),(0,o.jsx)(i.A,Object.assign({className:re.media},{children:(0,o.jsx)(te.A,{height:190,animation:"wave",variant:"rectangular"})})),(0,o.jsx)(l.A,Object.assign({className:re.content},{children:(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(te.A,{animation:"wave",height:10,width:"80%"}),(0,o.jsx)(te.A,{animation:"wave",height:10,width:60})]})}))]}))}(0,a.Ay)(i.A,{name:J,slot:"SkeletonRoot"})((()=>({})));const se={root:`${J}-root`,boxLoadMore:`${J}-box-load-more`,avatarLoadMore:`${J}-avatar-load-more`,buttonLoadMore:`${J}-button-load-more`},ae=(0,a.Ay)(i.A,{name:J,slot:"Root"})((()=>({}))),ie=[v.Ej,v.pL];const le=function(e){const t=(0,h.A)({props:e,name:J}),{id:r="broadcast_messages",className:a=null,MessageProps:u={},subscriptionChannel:b=`${m.f.INTERACTION}.${m.x.NOTIFICATION_BANNER}`,disableLoader:A=!1,viewAllMessages:x=!1,cacheStrategy:_=f.So.NETWORK_ONLY,onStateChange:w,onHeightChange:j}=t,S=(0,n.__rest)(t,["id","className","MessageProps","subscriptionChannel","disableLoader","viewAllMessages","cacheStrategy","onStateChange","onHeightChange"]),M=(0,g.X1)(),N=(0,y.Sw)(),k=(0,s.useMemo)((()=>{const e={};return ie.map((t=>e[t]=t in N.preferences?N.preferences[t].value:null)),e}),[N.preferences]),R=(0,s.useRef)(null),[E,O]=(0,s.useState)(x),{data:I,loading:T,fetchMessages:$,setMessages:L}=C({cacheStrategy:_}),P=M.user?M.user.id:null,W=I.results.filter((e=>!e.viewed_at)),B=I.count-W.length+1,D=e=>{L(I.results.filter((t=>t.id!=e.id))).results.length<=1&&$(!0)},z=e=>{const t=[...I.results];I.results.map(((r,n)=>{r.id===e.id&&(t[n]=Object.assign(Object.assign({},r),{viewed_at:new Date}))})),M.setUnseenNotificationBannersCounter(M.user.unseen_notification_banners_counter-1),L(t)},F=(0,s.useMemo)((()=>()=>{O(!0),(I.next&&E||I.next&&!E&&B<=2)&&$()}),[O,E,B,I.next,$]);(0,s.useEffect)((()=>{let e;if(null!==P&&_!==f.So.CACHE_FIRST)return e=setTimeout($),()=>{e&&clearTimeout(e)}}),[P]);const U=(e,t)=>{$(!0),O(!1)};(0,s.useEffect)((()=>(R.current=p().subscribe(b,U),()=>{p().unsubscribe(R.current)})),[]),(0,s.useEffect)((()=>{w&&w({viewAllMessages:E,cacheStrategy:f.So.CACHE_FIRST,disableLoader:!0}),j&&j()}),[I.results.length,T,E,_]);const K=[...W,...I.results.slice(W.length,E?B:1)];return(0,o.jsxs)(ae,Object.assign({id:r,className:q()(se.root,a)},S,{children:[K.map(((e,t)=>(0,o.jsx)(i.A,{children:(0,o.jsx)(Z,Object.assign({message:e},u,{onClose:D,onRead:z}))},t))),T&&!A&&(0,o.jsx)(oe,{}),null!==T&&!T&&(I.next||I.count>1&&B>0&&!E)&&(0,o.jsx)(H.A,Object.assign({className:se.boxLoadMore},{children:(0,o.jsx)(l.A,{children:(0,o.jsxs)(c.A,Object.assign({variant:"text",onClick:F,disabled:T,color:"inherit",classes:{root:se.buttonLoadMore}},{children:[(0,o.jsx)(d.A,{component:"span",className:se.avatarLoadMore,alt:k[v.pL],src:k[v.Ej]}),(0,o.jsx)(V.A,{id:"ui.broadcastMessages.loadMore",defaultMessage:"ui.broadcastMessages.loadMore"})]}))})}))]}))}},47859:(e,t,r)=>{r.d(t,{A:()=>A});var n=r(85486),o=r(59703),s=r(96540),a=r(54533),i=r(39599),l=r(75659),c=r(11848),d=r(25669),u=r(28466),p=r(38413),h=r(31609);function m(e){return(0,h.Ay)("MuiTypography",e)}(0,p.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var f=r(74848);const v=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=(0,c.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t[`align${(0,u.A)(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,o.A)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),y={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},A=s.forwardRef((function(e,t){const r=(0,d.b)({props:e,name:"MuiTypography"}),s=(e=>b[e]||e)(r.color),c=(0,i.A)((0,o.A)({},r,{color:s})),{align:p="inherit",className:h,component:A,gutterBottom:x=!1,noWrap:_=!1,paragraph:w=!1,variant:j="body1",variantMapping:S=y}=c,M=(0,n.A)(c,v),C=(0,o.A)({},c,{align:p,color:s,className:h,component:A,gutterBottom:x,noWrap:_,paragraph:w,variant:j,variantMapping:S}),N=A||(w?"p":S[j]||y[j])||"span",k=(e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:o,variant:s,classes:a}=e,i={root:["root",s,"inherit"!==e.align&&`align${(0,u.A)(t)}`,r&&"gutterBottom",n&&"noWrap",o&&"paragraph"]};return(0,l.A)(i,m,a)})(C);return(0,f.jsx)(g,(0,o.A)({as:N,ref:t,ownerState:C,className:(0,a.A)(k.root,h)},M))}))},59223:(e,t,r)=>{r.d(t,{A:()=>g});var n=r(85486),o=r(59703),s=r(96540),a=r(54533),i=r(75659),l=r(32850),c=r(11848),d=r(25669),u=r(38413),p=r(31609);function h(e){return(0,p.Ay)("MuiListItemAvatar",e)}(0,u.A)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var m=r(74848);const f=["className"],v=(0,c.Ay)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})((({ownerState:e})=>(0,o.A)({minWidth:56,flexShrink:0},"flex-start"===e.alignItems&&{marginTop:8}))),g=s.forwardRef((function(e,t){const r=(0,d.b)({props:e,name:"MuiListItemAvatar"}),{className:c}=r,u=(0,n.A)(r,f),p=s.useContext(l.A),g=(0,o.A)({},r,{alignItems:p.alignItems}),y=(e=>{const{alignItems:t,classes:r}=e,n={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,i.A)(n,h,r)})(g);return(0,m.jsx)(v,(0,o.A)({className:(0,a.A)(y.root,c),ownerState:g,ref:t},u))}))},67733:(e,t,r)=>{r.d(t,{A:()=>b});var n=r(78739),o=r(96554),s=r(96540),a=r(37273),i=r(79343),l=r(33571),c=r(39599),d=r(82858),u=r(74848);const p=["className","component"];var h=r(79071),m=r(21789),f=r(58312);const v=(0,r(38413).A)("MuiBox",["root"]),g=(0,m.A)(),y=function(e={}){const{themeId:t,defaultTheme:r,defaultClassName:h="MuiBox-root",generateClassName:m}=e,f=(0,i.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.A);return s.forwardRef((function(e,s){const i=(0,d.A)(r),l=(0,c.A)(e),{className:v,component:g="div"}=l,y=(0,o.A)(l,p);return(0,u.jsx)(f,(0,n.A)({as:g,ref:s,className:(0,a.A)(v,m?m(h):h),theme:t&&i[t]||i},y))}))}({themeId:f.A,defaultTheme:g,defaultClassName:v.root,generateClassName:h.A.generate}),b=y},68081:(e,t,r)=>{r.d(t,{A:()=>a,b:()=>s});var n=r(38413),o=r(31609);function s(e){return(0,o.Ay)("MuiListItemText",e)}const a=(0,n.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},77334:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,r=/(scroll|auto)/,n=e;n;){if(!n.parentNode)return e.ownerDocument||document.documentElement;var o=window.getComputedStyle(n),s=o.position,a=o.overflow,i=o["overflow-x"],l=o["overflow-y"];if("static"===s&&t)n=n.parentNode;else{if(r.test(a)&&r.test(i)&&r.test(l))return n;n=n.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},82241:(e,t,r)=>{r.d(t,{A:()=>v});var n=r(85486),o=r(59703),s=r(96540),a=r(54533),i=r(75659),l=r(47859),c=r(32850),d=r(25669),u=r(11848),p=r(68081),h=r(74848);const m=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],f=(0,u.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${p.A.primary}`]:t.primary},{[`& .${p.A.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})((({ownerState:e})=>(0,o.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56}))),v=s.forwardRef((function(e,t){const r=(0,d.b)({props:e,name:"MuiListItemText"}),{children:u,className:v,disableTypography:g=!1,inset:y=!1,primary:b,primaryTypographyProps:A,secondary:x,secondaryTypographyProps:_}=r,w=(0,n.A)(r,m),{dense:j}=s.useContext(c.A);let S=null!=b?b:u,M=x;const C=(0,o.A)({},r,{disableTypography:g,inset:y,primary:!!S,secondary:!!M,dense:j}),N=(e=>{const{classes:t,inset:r,primary:n,secondary:o,dense:s}=e,a={root:["root",r&&"inset",s&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,i.A)(a,p.b,t)})(C);return null==S||S.type===l.A||g||(S=(0,h.jsx)(l.A,(0,o.A)({variant:j?"body2":"body1",className:N.primary,component:null!=A&&A.variant?void 0:"span",display:"block"},A,{children:S}))),null==M||M.type===l.A||g||(M=(0,h.jsx)(l.A,(0,o.A)({variant:"body2",className:N.secondary,color:"text.secondary",display:"block"},_,{children:M}))),(0,h.jsxs)(f,(0,o.A)({className:(0,a.A)(N.root,v),ownerState:C,ref:t},w,{children:[S,M]}))}))},84567:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n,o;return t||(t=250),function(){var s=r||this,a=+new Date,i=arguments;n&&a<n+t?(clearTimeout(o),o=setTimeout((function(){n=a,e.apply(s,i)}),t)):(n=a,e.apply(s,i))}}},86354:(e,t,r)=>{r.d(t,{$M:()=>F,$l:()=>a,B4:()=>P,E3:()=>C,Gb:()=>k,I$:()=>m,Jl:()=>_,MI:()=>i,Mt:()=>S,N$:()=>q,N7:()=>V,NH:()=>M,OO:()=>v,OQ:()=>y,QO:()=>A,SB:()=>O,SP:()=>j,T4:()=>h,Vm:()=>I,WG:()=>d,X_:()=>N,ar:()=>o,cn:()=>p,fL:()=>c,fq:()=>u,g8:()=>U,gN:()=>b,hI:()=>l,hl:()=>B,ih:()=>D,io:()=>T,iu:()=>$,j$:()=>w,j3:()=>K,lG:()=>n,lV:()=>W,n7:()=>x,oF:()=>L,ss:()=>R,v$:()=>f,vJ:()=>z,zM:()=>H,zp:()=>E});const n=(e,t)=>`_fo_${t}_${e}`,o=e=>`_co_${e}`,s="_cos_",a=(e,t,r)=>`${s}${t}_${e}_${r}`,i=(e,t)=>`${s}${t}_${e}`,l=()=>"_cas_",c=e=>`_ca_${e}`,d=e=>`_crs_${e}`,u=e=>`_evt_${e}`,p=()=>"_evts_",h=e=>`_liveStream_${e}`,m=e=>`_grp_${e}`,f=()=>"_grps_",v=e=>`_inc_${e}`,g="_contr_",y=(e,t,r)=>`${g}${t}_${e}_${r}`,b=()=>"_bcms_",A=(e,t)=>`_feed_${e}_${t}`,x=e=>`_feed_st_${e}`,_=e=>`_virtualized_scroll_st_${e}`,w=e=>`_feed_spos_${e}`,j=e=>`_adv_${e}`,S=()=>"_pmss_",M=e=>`_pms_${e}`,C=e=>`_ppo_${e}`,N=e=>`_pord_${e}`,k="_cFolWidget_",R="_cSugWidget_",E="_cPopWidget_",O="_uFolWidget_",I="_uFoldWidget_",T="_uCreCoursesWidget_",$="_uUserLives_",L="_uConWidget_",P="_uConReqWidget_",W="_uConReqSentWidget_",B="_fTrendWidget_",V="_rFeedWidget_",D="_pTrendWidget_",z="_pSugWidget_",H="_iListWidget_",F="_iSugWidget_",q="_pSugWidget_",U="_gSubWidget_",K=(e,t=void 0)=>`${e}${void 0!==t?t:""}`},86857:(e,t,r)=>{r.d(t,{A:()=>h});var n=r(31635),o=r(74848),s=r(96540),a=r(11848),i=r(57156),l=r(19546),c=r.n(l);const d="SCWidget",u={root:`${d}-root`},p=(0,a.Ay)(i.A,{name:d,slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({}))),h=(0,s.forwardRef)(((e,t)=>{const{className:r,onHeightChange:s,onStateChange:a}=e,i=(0,n.__rest)(e,["className","onHeightChange","onStateChange"]);return(0,o.jsx)(p,Object.assign({className:c()(u.root,r)},i,{ref:t}))}))},88579:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,r,n){n=n||!1,e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on"+t,(function(t){r.call(e,t||window.event)}))},t.off=function(e,t,r,n){n=n||!1,e.removeEventListener?e.removeEventListener(t,r,n):e.detachEvent&&e.detachEvent("on"+t,r)}},93428:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=void 0,o=void 0,s=void 0,a=void 0,i=void 0,l=function l(){var c=+new Date-a;c<t&&c>=0?n=setTimeout(l,t-c):(n=null,r||(i=e.apply(s,o),n||(s=null,o=null)))};return function(){s=this,o=arguments,a=+new Date;var c=r&&!n;return n||(n=setTimeout(l,t)),c&&(i=e.apply(s,o),s=null,o=null),i}}},98669:(e,t,r)=>{var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(96540),s=u(o),a=u(r(5556)),i=r(88579),l=u(r(77334)),c=u(r(93428)),d=u(r(84567));function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=0,v=0,g=0,y=0,b="data-lazyload-listened",A=[],x=[],_=!1;try{var w=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,w)}catch(E){}var j=!!_&&{capture:!1,passive:!0},S=function(e){var t=e.ref;if(t instanceof HTMLElement){var r=(0,l.default)(t),n=e.props.overflow&&r!==t.ownerDocument&&r!==document&&r!==document.documentElement?function(e,t){var r=e.ref,n=void 0,o=void 0,s=void 0,a=void 0;try{var i=t.getBoundingClientRect();n=i.top,o=i.left,s=i.height,a=i.width}catch(E){n=f,o=v,s=y,a=g}var l=window.innerHeight||document.documentElement.clientHeight,c=window.innerWidth||document.documentElement.clientWidth,d=Math.max(n,0),u=Math.max(o,0),p=Math.min(l,n+s)-d,h=Math.min(c,o+a)-u,m=void 0,b=void 0,A=void 0,x=void 0;try{var _=r.getBoundingClientRect();m=_.top,b=_.left,A=_.height,x=_.width}catch(E){m=f,b=v,A=y,x=g}var w=m-d,j=b-u,S=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return w-S[0]<=p&&w+A+S[1]>=0&&j-S[0]<=h&&j+x+S[1]>=0}(e,r):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var r=void 0,n=void 0;try{var o=t.getBoundingClientRect();r=o.top,n=o.height}catch(E){r=f,n=y}var s=window.innerHeight||document.documentElement.clientHeight,a=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return r-a[0]<=s&&r+n+a[1]>=0}(e);n?e.visible||(e.props.once&&x.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},M=function(){x.forEach((function(e){var t=A.indexOf(e);-1!==t&&A.splice(t,1)})),x=[]},C=function(){for(var e=0;e<A.length;++e){var t=A[e];S(t)}M()},N=void 0,k=null,R=function(e){function t(e){p(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.visible=!1,r.setRef=r.setRef.bind(r),r}return m(t,e),n(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"==typeof t&&(e=e.document.querySelector(t));var r=void 0!==this.props.debounce&&"throttle"===N||"debounce"===N&&void 0===this.props.debounce;if(r&&((0,i.off)(e,"scroll",k,j),(0,i.off)(window,"resize",k,j),k=null),k||(void 0!==this.props.debounce?(k=(0,c.default)(C,"number"==typeof this.props.debounce?this.props.debounce:300),N="debounce"):void 0!==this.props.throttle?(k=(0,d.default)(C,"number"==typeof this.props.throttle?this.props.throttle:300),N="throttle"):k=C),this.props.overflow){var n=(0,l.default)(this.ref);if(n&&"function"==typeof n.getAttribute){var o=+n.getAttribute(b)+1;1===o&&n.addEventListener("scroll",k,j),n.setAttribute(b,o)}}else if(0===A.length||r){var s=this.props,a=s.scroll,u=s.resize;a&&(0,i.on)(e,"scroll",k,j),u&&(0,i.on)(window,"resize",k,j)}A.push(this),S(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,l.default)(this.ref);if(e&&"function"==typeof e.getAttribute){var t=+e.getAttribute(b)-1;0===t?(e.removeEventListener("scroll",k,j),e.removeAttribute(b)):e.setAttribute(b,t)}}var r=A.indexOf(this);-1!==r&&A.splice(r,1),0===A.length&&"undefined"!=typeof window&&((0,i.off)(window,"resize",k,j),(0,i.off)(window,"scroll",k,j))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,r=e.children,n=e.placeholder,o=e.className,a=e.classNamePrefix,i=e.style;return s.default.createElement("div",{className:a+"-wrapper "+o,ref:this.setRef,style:i},this.visible?r:n||s.default.createElement("div",{style:{height:t},className:a+"-placeholder"}))}}]),t}(o.Component);R.propTypes={className:a.default.string,classNamePrefix:a.default.string,once:a.default.bool,height:a.default.oneOfType([a.default.number,a.default.string]),offset:a.default.oneOfType([a.default.number,a.default.arrayOf(a.default.number)]),overflow:a.default.bool,resize:a.default.bool,scroll:a.default.bool,children:a.default.node,throttle:a.default.oneOfType([a.default.number,a.default.bool]),debounce:a.default.oneOfType([a.default.number,a.default.bool]),placeholder:a.default.node,scrollContainer:a.default.oneOfType([a.default.string,a.default.object]),unmountIfInvisible:a.default.bool,style:a.default.object},R.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};t.Ay=R}}]);